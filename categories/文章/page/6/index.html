<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 3.9.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>åˆ†ç±»: æ–‡ç«  - Time</title>


    <meta name="description" content="blog">
<meta name="keywords" content="hsutimes">
<meta property="og:type" content="website">
<meta property="og:title" content="Time">
<meta property="og:url" content="https://blog.hsutimes.com/categories/æ–‡ç« /page/6/index.html">
<meta property="og:site_name" content="Time">
<meta property="og:description" content="blog">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://blog.hsutimes.com/images/og_image.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Time">
<meta name="twitter:description" content="blog">
<meta name="twitter:image" content="https://blog.hsutimes.com/images/og_image.png">
<meta name="twitter:site" content="https://twitter.com/times26740863">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134224598-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134224598-1');
</script>

    
    
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    <script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="Time" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/categories">Categories</a>
                
                <a class="navbar-item"
                href="/tags">Tags</a>
                
                <a class="navbar-item"
                href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/hsutimes/hsutimes.github.io">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="æœç´¢" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main"><div class="card">
    <div class="card-content">
        <nav class="breadcrumb" aria-label="breadcrumbs">
        <ul>
            <li><a href="/categories">åˆ†ç±»</a></li>
            
            <li class="is-active"><a href="#" aria-current="page">æ–‡ç« </a></li>
        </ul>
        </nav>
    </div>
</div>

    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-12T13:15:04.000Z">2019-09-12</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/æ–‡ç« /">æ–‡ç« </a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 652 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/12/nohup-åœ¨linuxåå°è¿è¡Œç¨‹åº/">nohup:åœ¨linuxåå°è¿è¡Œç¨‹åº</a>
            
        </h1>
        <div class="content">
            <p><img src="/images/2019/09/12/0188c220-d55f-11e9-b847-b9c45ddd4bb9.png" alt="image.png"></p>
<h1 id="nohup-åœ¨linuxåå°è¿è¡Œç¨‹åº"><a href="#nohup-åœ¨linuxåå°è¿è¡Œç¨‹åº" class="headerlink" title="nohup:åœ¨linuxåå°è¿è¡Œç¨‹åº"></a>nohup:åœ¨linuxåå°è¿è¡Œç¨‹åº</h1><p>ä»Šå¤©åœ¨å·¥ä½œä¸­ï¼Œlzè¦åœ¨Linuxç³»ç»Ÿä¸Šè¿è¡Œä¸€ä¸ªjavaç¨‹åºï¼Œè¿™ä¸ªç¨‹åºè¦åœ¨ç³»ç»Ÿä¸­æŒç»­è¿è¡Œã€‚éšålzæ— æ„å°†sshçª—å£å…³æ‰äº†ï¼Œå‘ç°javaç¨‹åºåœæ­¢äº†ã€‚åŸæ¥ï¼Œå½“ä½¿ç”¨sshè¿æ¥åˆ°ç³»ç»Ÿè¿è¡Œç¨‹åºçš„æ—¶å€™ï¼Œè¯¥ç¨‹åºå·²ç»å’Œä½ çš„sshè¿æ¥ç»‘å®šäº†ã€‚å¦‚æœä½ å…³é—­è¿æ¥ï¼Œè¯¥ç¨‹åºå°±ä¼šåœæ­¢ã€‚è¿˜æœ‰ä¸€ä¸ªæƒ…æ™¯ï¼šå¦‚æœè¦åœ¨åå°è¿è¡Œå¤šä¸ªjavaç¨‹åºçš„æ—¶å€™ï¼Œå°±éœ€è¦å¯åŠ¨å¤šä¸ªsshçª—å£ï¼Œè¿™æ ·å¾ˆéº»çƒ¦ã€‚æœ‰æ²¡æœ‰æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚</p>
<p>1.ä½¿ç”¨nohupæ¥æ‰§è¡Œå‘½ä»¤ï¼Œå®ƒä¼šæŠŠå‘½ä»¤è‡ªåŠ¨è°ƒåˆ°linuxåå°è¿è¡Œï¼Œä¸é”å®šå½“å‰sshçª—å£ï¼Œä¹Ÿä¸ä¼šè¢«ctrl + cï¼Œalt + F4ä¹‹ç±»æ‰“æ–­ç¨‹åºçš„åŠ¨è¡Œã€‚</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup java -jar test.jar &amp;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œå®Œè¯¥å‘½ä»¤åï¼Œç»ˆç«¯ä¼šæ˜¾ç¤ºå¦‚ä¸‹ä¿¡æ¯ï¼š</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[1] 27945</span><br><span class="line">nohup: å¿½ç•¥è¾“å…¥å¹¶æŠŠè¾“å‡ºè¿½åŠ åˆ°&quot;nohup.out&quot;</span><br></pre></td></tr></table></figure>

<p>[1]ï¼šè¯¥åå°ä»»åŠ¡çš„jobid<br>27945ï¼šæ˜¯è¯¥è¿›ç¨‹çš„pid<br>nohup.outï¼šæ˜¯è¯¥ä»»åŠ¡çš„è¾“å‡ºä½ç½®</p>
<p>2.è¦æŒ‡å®šé‡å®šå‘çš„æ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup java -jar test.jar &gt; test.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>

<p>3.å¦‚æœä¸€ä¸ªä»»åŠ¡å·²ç»åœ¨å‰å°æ‰§è¡Œï¼Œé‚£å°±ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•æ¥å°†ä»»åŠ¡è°ƒæ•´åˆ°åå°ï¼š</p>
<p>ï¼ˆ1ï¼‰é¦–å…ˆï¼Œåœ¨æ­£åœ¨æ‰§è¡Œä»»åŠ¡çš„ç»ˆç«¯ä½¿ç”¨ctrl+z</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1]+  å·²åœæ­¢               java -jar test.jar</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰ä½¿ç”¨bgå‘½ä»¤å°†è¯¥ä»»åŠ¡è°ƒæ•´è‡³åå°ï¼ˆfgä¸ä¹‹ç›¸åï¼Œå°†åå°ä»»åŠ¡è°ƒæ•´è‡³å‰å°ï¼‰</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bg %1(1æ˜¯jobid)</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸çŸ¥é“jobidï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨jobså‘½ä»¤æ¥æŸ¥è¯¢ã€‚</p>
<p>ä½†æ˜¯ä»»åŠ¡çš„è¾“å‡ºè¿˜æ˜¯ä¼šæ‰“å°åˆ°ç»ˆç«¯ä¸Šçš„ï¼ˆå…·ä½“æ€ä¹ˆå°†è¾“å‡ºé‡å®šå‘åˆ°åˆ«çš„åœ°æ–¹ï¼Œlzä¹Ÿä¸é€ ï¼‰ã€‚è€Œä¸”ï¼Œè¿™æ—¶è¯¥ä»»åŠ¡è¿˜æ˜¯ä¸å½“å‰ç»ˆç«¯ç›¸å…³è”çš„ï¼Œå…³é—­ç»ˆç«¯è¿˜æ˜¯ä¼šæ–­æ‰è¯¥ä»»åŠ¡çš„ã€‚ä½¿ç”¨ä¸‹é¢å‘½ä»¤æ¥è§£å†³ï¼š</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">disown -h %1</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å†ä¹Ÿä¸ç”¨æ‹…å¿ƒå…³æ‰ç»ˆç«¯ä¼šåœæ­¢æ‰ä»»åŠ¡å–½ï¼ï¼ï¼</p>
<p>PSï¼šå†æ¥è¯´è¯´nohupå§ã€‚nohupçš„æ„æ€æ˜¯no hang upï¼Œå°±æ˜¯è¯´å…³æ‰ç»ˆç«¯æ˜¯ä¸ä¼šæŒ‚æ‰ç¨‹åºçš„ã€‚å¦‚æœå¼€å§‹æ‰§è¡Œå‘½ä»¤æ—¶åªä½¿ç”¨&amp;ï¼š</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar test.jar &amp;</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆè¯¥ä»»åŠ¡ä¹Ÿä¼šåœ¨åå°æ‰§è¡Œï¼Œä½†æ˜¯ä¸€æ—¦å…³æ‰ç»ˆç«¯è¯¥ä»»åŠ¡è¿˜æ˜¯ä¼šæŒ‚æ‰ï¼Œæ‰€ä»¥è¿™å°±æ˜¯nohupçš„ç”¨å¤„äº†ã€‚</p>
<p><a href="http://ee-dreamer.com/?p=327" target="_blank" rel="noopener">åŸæ–‡é“¾æ¥</a></p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-10T13:45:18.000Z">2019-09-10</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/æ–‡ç« /">æ–‡ç« </a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 968 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/10/Git-Rebase-é»„é‡‘æ³•åˆ™é—®é¢˜/">Git Rebase é»„é‡‘æ³•åˆ™é—®é¢˜</a>
            
        </h1>
        <div class="content">
            <h1 id="Git-Rebase-é»„é‡‘æ³•åˆ™é—®é¢˜"><a href="#Git-Rebase-é»„é‡‘æ³•åˆ™é—®é¢˜" class="headerlink" title="Git Rebase é»„é‡‘æ³•åˆ™é—®é¢˜"></a>Git Rebase é»„é‡‘æ³•åˆ™é—®é¢˜</h1><p>git æ•´åˆæ¥è‡ªä¸åŒåˆ†æ”¯çš„ä¿®æ”¹ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•ï¼šmerge æ“ä½œå’Œrebaseæ“ä½œï¼Œ<br>mergeåˆå­¦è€…å¯èƒ½å¾ˆç†Ÿæ‚‰ã€‚æˆ‘ä»¬ä»Šå¤©æ¥ä¸»è¦è¯´ä¸€ä¸‹ rebase æ“ä½œï¼Œæ–‡ç« ç»“å°¾ä¼šç®€å•è¯´ä¸€ä¸‹ merge æ“ä½œçš„ â€“no-ff å‚æ•°é—®é¢˜ã€‚</p>
<p>rebaseçš„ç®€å•å®šä¹‰ï¼šä½ å¯ä»¥æŠŠæŸä¸€åˆ†æ”¯çš„æ‰€æœ‰ä¿®æ”¹éƒ½ç§»è‡³å¦å¤–ä¸€ä¸ªåˆ†æ”¯å°±åƒé‡æ–°æ’­æ”¾ä¸€æ ·ã€‚<br>æœ‰ç‚¹å„¿åƒé‡‘åº¸æ­¦ä¾ å°è¯´é‡Œé¢çš„ä¹¾å¤å¤§æŒªç§»ã€‚<br>ä¸¾ä¸ªğŸŒ°<br>å‡è®¾æˆ‘ä»¬æœ¬åœ°åº“çš„ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤º</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">      A---B---C  remotes/origin/master</span><br><span class="line">     /</span><br><span class="line">D---E---F---G  master</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ­¤æ—¶æˆ‘ä»¬æ‰§è¡Œ git pull æ“ä½œï¼Œå°±ä¼šå˜æˆä¸‹é¢çš„æ ·å­ï¼Œå› ä¸º pull é»˜è®¤æ‰§è¡Œçš„æ˜¯ merge æ“ä½œï¼Œå¤šå‡ºæ¥Hè¿™æ¬¡æ²¡å¿…è¦çš„æäº¤ã€‚å¦‚ä¸‹æ‰€ç¤º</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">     A---B---C  remotes/origin/master</span><br><span class="line">     /         \</span><br><span class="line">D---E---F---G---H master</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬æ‰§è¡Œ git pull â€“rebase æ“ä½œï¼Œå°†ä¼šå˜æˆä¸‹é¢çš„æ ·å­ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨rebaseä»£æ›¿äº†é»˜è®¤çš„mergeæ“ä½œ</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">            remotes/origin</span><br><span class="line">                |</span><br><span class="line">D---E---A---B---C---F---G</span><br><span class="line">                        |</span><br><span class="line">                        master</span><br></pre></td></tr></table></figure>

<p>rebase ä½œç”¨å°±æ˜¯å˜æˆçº¿æ€§äº†ï¼Œè¿™åœ¨å¤šäººåä½œçš„æƒ…å†µå˜å¾—éå¸¸å…³é”®ã€‚å› ä¸ºå¤šäººåˆä½œæ˜¯ä¸å…è®¸éšæ„åˆ¶é€ åˆ†å‰çš„ã€‚å¤§å®¶å¯ä»¥å‚è€ƒæˆ‘è¿™ç¯‡æ–‡ç« ã€‚</p>
<p>è¿™å°±å¼•å‡ºäº†è¿™ç¯‡åšæ–‡è¦ä¸»è¦é˜è¿°çš„é—®é¢˜ï¼Œrebase golden rule é—®é¢˜ã€‚</p>
<blockquote>
<p>Rebase golden rule<br>â€œNo one shall rebase a shared branchâ€ â€” Everyone about rebase</p>
</blockquote>
<p>ç®€å•æ¥è¯´å°±æ˜¯ä¸è¦åœ¨ä½ çš„å…¬å…±åˆ†æ”¯ä¸Šåšä»»ä½•rebaseæ“ä½œã€‚<br>å†ä¸¾ä¸€ä¸ªğŸŒ°ã€‚</p>
<p>å›¾ä¸€æ˜¯æˆ‘ä»¬åšrebaseæ“ä½œå‰çš„æ ·å­</p>
<p><img src="/images/2019/09/10/75e5c990-d3d1-11e9-903f-858fa70b7712.png" alt="image.png"></p>
<p>å›¾äºŒæ˜¯æˆ‘ä»¬æ­£ç¡®rebaseçš„ç»“æœï¼Œå³åœ¨featureåˆ†æ”¯æ‰§è¡Œrebase developå‘½ä»¤</p>
<p><img src="/images/2019/09/10/7a0f9d20-d3d1-11e9-903f-858fa70b7712.png" alt="image.png"></p>
<p>å›¾ä¸‰æ˜¯æˆ‘ä»¬é”™è¯¯rebaseçš„ç»“æœï¼Œå³è¿åé»„é‡‘æ³•åˆ™çš„ç»“æœï¼Œæˆ‘ä»¬åœ¨developåˆ†æ”¯ä¸Šæ‰§è¡Œäº†rebase featureæ“ä½œ</p>
<p><img src="/images/2019/09/10/7ce48f10-d3d1-11e9-903f-858fa70b7712.png" alt="image.png"></p>
<p>å½“æˆ‘ä»¬åœ¨å›¾ä¸‰è¿™ç§æƒ…å†µä¸‹å¯¹developåˆ†æ”¯è¿›è¡Œæäº¤çš„è¯ï¼Œä¼šå‘ç°å’Œè¿œç¨‹åˆ†æ”¯å†²çªï¼Œç„¶åæˆ‘ä»¬æ‰‹åŠ¨æˆ–è‡ªåŠ¨è§£å†³å†²çªï¼Œç»§ç»­æäº¤ä¸Šå»ä¹‹åå‘ç°ï¼Œæˆ‘ä»¬ä¿®æ”¹çš„åŠŸèƒ½ä»£ç å·²ç»æäº¤ä¸Šå»äº†ï¼Œä½†æ˜¯å½“æˆ‘ä»¬çœ‹æˆ‘ä»¬æäº¤å†å²çš„è®°å½•çš„æ—¶å€™ä¼šå‘ç°æœ‰ä¸€éƒ¨åˆ†é‡å¤çš„æäº¤logã€‚<br>è¿™å°±æ˜¯é—®é¢˜æ‰€åœ¨ï¼Œä½ çš„é¡¹ç›®ç»„é•¿æ˜¯ç»å¯¹ä¸å…è®¸åœ¨ä»–çš„é¡¹ç›®é‡Œå‡ºç°è¿™ç§æƒ…å†µï¼Œå› ä¸ºä¼šå½±å“åç»­çš„ä»£ç è¿½æŸ¥ï¼Œcode reviewç­‰é—®é¢˜ã€‚<br>è¯´å®Œäº†è¿™ä¸ªé—®é¢˜ï¼Œè¿™ç¯‡åšæ–‡çš„ä¸»è¦ä»»åŠ¡åŸºæœ¬å®Œæˆäº†ï¼Œæœ€ååœ¨ç®€å•è¯´ä¸€ä¸‹ merge çš„ â€“no-ff å‚æ•°ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨åˆ†æ”¯åˆå¹¶çš„æ—¶å€™ç»å¸¸é‡åˆ°çš„é—®é¢˜ã€‚<br>â€“no-ff çš„æ„æ€å°±æ˜¯å…³é—­ merge çš„ fast-forwardedï¼Œmerge æ“ä½œé»˜è®¤æ‰§è¡Œçš„æ˜¯ fast-forwardedã€‚<br>fast-forwarded çš„æ„æ€å°±æ˜¯åœ¨åˆå¹¶åˆ†æ”¯çš„æ—¶å€™ï¼Œå¦‚æœä¸æ¶‰åŠä¸‰æ–¹åˆå¹¶ï¼Œgit åªä¼šç®€å•çš„ç§»åŠ¨æŒ‡é’ˆã€‚<br>å†å†ä¸¾ä¸€ä¸ªğŸŒ°</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">        dev</span><br><span class="line">        |</span><br><span class="line">A---B---C</span><br><span class="line">         \</span><br><span class="line">          D---E</span><br><span class="line">              |</span><br><span class="line">              feature</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶æˆ‘ä»¬æ‰§è¡Œ merge â€“no-ff æ“ä½œï¼Œå°†ä¼šå¾—åˆ°å¦‚ä¸‹å›¾</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">                dev</span><br><span class="line">                |</span><br><span class="line">A---B---C--------F</span><br><span class="line">         \      /</span><br><span class="line">          D---E</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œ merge ä¹‹åå¾—åˆ°çš„ç»“æœå¦‚ä¸‹</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">               dev</span><br><span class="line">                |</span><br><span class="line">A---B---C---D---E</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Šgit å°†æŒ‡é’ˆä»Cç§»åˆ°äº†Eã€‚</p>
<p>ç®€å•æ¥è¯´å°±æ˜¯ â€“no-ff çš„ä½œç”¨å°±æ˜¯ä¿æŒåˆ†æ”¯çš„éçº¿æ€§ã€‚æ–¹ä¾¿æˆ‘ä»¬çœ‹åˆ°åˆ†æ”¯çš„å˜åŒ–ã€‚</p>
<blockquote>
<p>æœ¬æ–‡ä½œè€…ï¼š Frank<br>æœ¬æ–‡é“¾æ¥ï¼š <a href="http://hellofrank.github.io/2018/04/27/Git-Rebase-é»„é‡‘æ³•åˆ™é—®é¢˜/" target="_blank" rel="noopener">http://hellofrank.github.io/2018/04/27/Git-Rebase-é»„é‡‘æ³•åˆ™é—®é¢˜/</a><br>ç‰ˆæƒå£°æ˜ï¼š æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-NC-SA 4.0 è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>
</blockquote>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-09T00:39:17.000Z">2019-09-09</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/æ–‡ç« /">æ–‡ç« </a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    28 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 4164 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/09/Flutter-Httpè¯·æ±‚å¼€æºåº“-dio/">Flutter Httpè¯·æ±‚å¼€æºåº“-dio</a>
            
        </h1>
        <div class="content">
            <p>æ–‡æ¡£è¯­è¨€: <a href="README.md">English</a> | <a href="README-ZH.md">ä¸­æ–‡ç®€ä½“</a></p>
<h1 id="dio"><a href="#dio" class="headerlink" title="dio"></a>dio</h1><p><img src="/images/2019/09/09/3ed7aff0-d29a-11e9-a25e-85ff34c3f186.png" alt="image.png"></p>
<p>dioæ˜¯ä¸€ä¸ªå¼ºå¤§çš„Dart Httpè¯·æ±‚åº“ï¼Œæ”¯æŒRestful APIã€FormDataã€æ‹¦æˆªå™¨ã€è¯·æ±‚å–æ¶ˆã€Cookieç®¡ç†ã€æ–‡ä»¶ä¸Šä¼ /ä¸‹è½½ã€è¶…æ—¶ç­‰â€¦</p>
<h3 id="æ·»åŠ ä¾èµ–"><a href="#æ·»åŠ ä¾èµ–" class="headerlink" title="æ·»åŠ ä¾èµ–"></a>æ·»åŠ ä¾èµ–</h3><figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">dependencies:</span></span><br><span class="line"><span class="hljs-attr">  dio:</span> <span class="hljs-string">^x.x.x</span>  <span class="hljs-string">//</span> <span class="hljs-string">è¯·ä½¿ç”¨pubä¸Šçš„æœ€æ–°ç‰ˆæœ¬</span></span><br></pre></td></tr></table></figure>

<h2 id="ä¸€ä¸ªæç®€çš„ç¤ºä¾‹"><a href="#ä¸€ä¸ªæç®€çš„ç¤ºä¾‹" class="headerlink" title="ä¸€ä¸ªæç®€çš„ç¤ºä¾‹"></a>ä¸€ä¸ªæç®€çš„ç¤ºä¾‹</h2><figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:dio/dio.dart'</span>;</span><br><span class="line"><span class="hljs-keyword">void</span> getHttp() <span class="hljs-keyword">async</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">    Response response;</span><br><span class="line">    response = <span class="hljs-keyword">await</span> Dio().<span class="hljs-keyword">get</span>(<span class="hljs-string">"http://www.baidu.com"</span>);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-built_in">print</span>(response);</span><br><span class="line">  &#125; <span class="hljs-keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-built_in">print</span>(e);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å†…å®¹åˆ—è¡¨"><a href="#å†…å®¹åˆ—è¡¨" class="headerlink" title="å†…å®¹åˆ—è¡¨"></a>å†…å®¹åˆ—è¡¨</h2><ul>
<li><a href="#ç¤ºä¾‹">ç¤ºä¾‹</a></li>
<li><a href="#dio-apis">Dio APIs</a></li>
<li><a href="#è¯·æ±‚é…ç½®">è¯·æ±‚é…ç½®</a></li>
<li><a href="#å“åº”æ•°æ®">å“åº”æ•°æ®</a></li>
<li><a href="#æ‹¦æˆªå™¨">æ‹¦æˆªå™¨</a></li>
<li><a href="#é”™è¯¯å¤„ç†">é”™è¯¯å¤„ç†</a></li>
<li><a href="#ä½¿ç”¨applicationx-www-form-urlencodedç¼–ç ">ä½¿ç”¨application/x-www-form-urlencodedç¼–ç </a></li>
<li><a href="#formdata">FormData</a></li>
<li><a href="#è½¬æ¢å™¨">è½¬æ¢å™¨</a></li>
<li><a href="#è®¾ç½®Httpä»£ç†">è®¾ç½®Httpä»£ç†</a></li>
<li><a href="#Httpsè¯ä¹¦æ ¡éªŒ">Httpsè¯ä¹¦æ ¡éªŒ</a></li>
<li><a href="#è¯·æ±‚å–æ¶ˆ">è¯·æ±‚å–æ¶ˆ</a></li>
<li><a href="#cookieç®¡ç†">Cookieç®¡ç†</a></li>
<li><a href="#features-and-bugs">Features and bugs</a></li>
</ul>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><p>å‘èµ·ä¸€ä¸ª <code>GET</code> è¯·æ±‚ :</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  Response response;</span><br><span class="line">  Dio dio = <span class="hljs-keyword">new</span> Dio();</span><br><span class="line">  response = <span class="hljs-keyword">await</span> dio.<span class="hljs-keyword">get</span>(<span class="hljs-string">"/test?id=12&amp;name=wendu"</span>)</span><br><span class="line">  <span class="hljs-built_in">print</span>(response.data.toString());</span><br><span class="line"><span class="hljs-comment">// è¯·æ±‚å‚æ•°ä¹Ÿå¯ä»¥é€šè¿‡å¯¹è±¡ä¼ é€’ï¼Œä¸Šé¢çš„ä»£ç ç­‰åŒäºï¼š</span></span><br><span class="line">  response = <span class="hljs-keyword">await</span> dio.<span class="hljs-keyword">get</span>(<span class="hljs-string">"/test"</span>, data: &#123;<span class="hljs-string">"id"</span>: <span class="hljs-number">12</span>, <span class="hljs-string">"name"</span>: <span class="hljs-string">"wendu"</span>&#125;);</span><br><span class="line">  <span class="hljs-built_in">print</span>(response.data.toString());</span><br></pre></td></tr></table></figure>

<p>å‘èµ·ä¸€ä¸ª <code>POST</code> è¯·æ±‚:</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response = <span class="hljs-keyword">await</span> dio.post(<span class="hljs-string">"/test"</span>, data: &#123;<span class="hljs-string">"id"</span>: <span class="hljs-number">12</span>, <span class="hljs-string">"name"</span>: <span class="hljs-string">"wendu"</span>&#125;);</span><br></pre></td></tr></table></figure>

<p>å‘èµ·å¤šä¸ªå¹¶å‘è¯·æ±‚:</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response = <span class="hljs-keyword">await</span> Future.wait([dio.post(<span class="hljs-string">"/info"</span>), dio.<span class="hljs-keyword">get</span>(<span class="hljs-string">"/token"</span>)]);</span><br></pre></td></tr></table></figure>

<p>ä¸‹è½½æ–‡ä»¶:</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response = <span class="hljs-keyword">await</span> dio.download(<span class="hljs-string">"https://www.google.com/"</span>, <span class="hljs-string">"./xx.html"</span>);</span><br></pre></td></tr></table></figure>

<p>å‘é€ FormData:</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">FormData formData = <span class="hljs-keyword">new</span> FormData.from(&#123;</span><br><span class="line">    <span class="hljs-string">"name"</span>: <span class="hljs-string">"wendux"</span>,</span><br><span class="line">    <span class="hljs-string">"age"</span>: <span class="hljs-number">25</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">  response = <span class="hljs-keyword">await</span> dio.post(<span class="hljs-string">"/info"</span>, data: formData);</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡FormDataä¸Šä¼ å¤šä¸ªæ–‡ä»¶:</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">FormData formData = <span class="hljs-keyword">new</span> FormData.from(&#123;</span><br><span class="line">  <span class="hljs-string">"name"</span>: <span class="hljs-string">"wendux"</span>,</span><br><span class="line">  <span class="hljs-string">"age"</span>: <span class="hljs-number">25</span>,</span><br><span class="line">  <span class="hljs-string">"file1"</span>: <span class="hljs-keyword">new</span> UploadFileInfo(<span class="hljs-keyword">new</span> File(<span class="hljs-string">"./upload.txt"</span>), <span class="hljs-string">"upload1.txt"</span>),</span><br><span class="line">  <span class="hljs-comment">//æ”¯æŒç›´æ¥ä¸Šä¼ å­—èŠ‚æ•°ç»„ (List&lt;int&gt;) ï¼Œæ–¹ä¾¿ç›´æ¥ä¸Šä¼ å†…å­˜ä¸­çš„å†…å®¹</span></span><br><span class="line">  <span class="hljs-string">"file2"</span>: <span class="hljs-keyword">new</span> UploadFileInfo.fromBytes(</span><br><span class="line">      utf8.encode(<span class="hljs-string">"hello world"</span>), <span class="hljs-string">"word.txt"</span>),</span><br><span class="line">  <span class="hljs-comment">// æ”¯æŒæ–‡ä»¶æ•°ç»„ä¸Šä¼ </span></span><br><span class="line">  <span class="hljs-string">"files"</span>: [</span><br><span class="line">    <span class="hljs-keyword">new</span> UploadFileInfo(<span class="hljs-keyword">new</span> File(<span class="hljs-string">"./example/upload.txt"</span>), <span class="hljs-string">"upload.txt"</span>),</span><br><span class="line">    <span class="hljs-keyword">new</span> UploadFileInfo(<span class="hljs-keyword">new</span> File(<span class="hljs-string">"./example/upload.txt"</span>), <span class="hljs-string">"upload.txt"</span>)</span><br><span class="line">  ]</span><br><span class="line">&#125;);</span><br><span class="line">response = <span class="hljs-keyword">await</span> dio.post(<span class="hljs-string">"/info"</span>, data: formData);</span><br></pre></td></tr></table></figure>

<p>ç›‘å¬å‘é€(ä¸Šä¼ )æ•°æ®è¿›åº¦:</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">response = <span class="hljs-keyword">await</span> dio.post(</span><br><span class="line">  <span class="hljs-string">"http://www.dtworkroom.com/doris/1/2.0.0/test"</span>,</span><br><span class="line">  data: &#123;<span class="hljs-string">"aa"</span>: <span class="hljs-string">"bb"</span> * <span class="hljs-number">22</span>&#125;,</span><br><span class="line">  onUploadProgress: (<span class="hljs-built_in">int</span> sent, <span class="hljs-built_in">int</span> total) &#123;</span><br><span class="line">    <span class="hljs-built_in">print</span>(<span class="hljs-string">"<span class="hljs-subst">$sent</span> <span class="hljs-subst">$total</span>"</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>â€¦ä½ å¯ä»¥åœ¨è¿™é‡Œè·å–æ‰€æœ‰<a href="https://github.com/flutterchina/dio/tree/flutter/example" target="_blank" rel="noopener">ç¤ºä¾‹ä»£ç </a>.</p>
<h2 id="Dio-APIs"><a href="#Dio-APIs" class="headerlink" title="Dio APIs"></a>Dio APIs</h2><h3 id="åˆ›å»ºä¸€ä¸ªDioå®ä¾‹ï¼Œå¹¶é…ç½®å®ƒ"><a href="#åˆ›å»ºä¸€ä¸ªDioå®ä¾‹ï¼Œå¹¶é…ç½®å®ƒ" class="headerlink" title="åˆ›å»ºä¸€ä¸ªDioå®ä¾‹ï¼Œå¹¶é…ç½®å®ƒ"></a>åˆ›å»ºä¸€ä¸ªDioå®ä¾‹ï¼Œå¹¶é…ç½®å®ƒ</h3><p>ä½ å¯ä»¥ä½¿ç”¨é»˜è®¤é…ç½®æˆ–ä¼ é€’ä¸€ä¸ªå¯é€‰ <code>Options</code>å‚æ•°æ¥åˆ›å»ºä¸€ä¸ªDioå®ä¾‹ :</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Dio dio = <span class="hljs-keyword">new</span> Dio; <span class="hljs-comment">// ä½¿ç”¨é»˜è®¤é…ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// é…ç½®dioå®ä¾‹</span></span><br><span class="line">  dio.options.baseUrl = <span class="hljs-string">"https://www.xx.com/api"</span>;</span><br><span class="line">  dio.options.connectTimeout = <span class="hljs-number">5000</span>; <span class="hljs-comment">//5s</span></span><br><span class="line">  dio.options.receiveTimeout = <span class="hljs-number">3000</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// æˆ–è€…é€šè¿‡ä¼ é€’ä¸€ä¸ª `options`æ¥åˆ›å»ºdioå®ä¾‹</span></span><br><span class="line">  Options options = <span class="hljs-keyword">new</span> Options(</span><br><span class="line">      baseUrl: <span class="hljs-string">"https://www.xx.com/api"</span>,</span><br><span class="line">      connectTimeout: <span class="hljs-number">5000</span>,</span><br><span class="line">      receiveTimeout: <span class="hljs-number">3000</span>);</span><br><span class="line">  Dio dio = <span class="hljs-keyword">new</span> Dio(options);</span><br></pre></td></tr></table></figure>

<p>Dioå®ä¾‹çš„æ ¸å¿ƒAPIæ˜¯ :</p>
<p><strong>Future<response> request(String path, {data, Options options,CancelToken cancelToken})</response></strong></p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">response = <span class="hljs-keyword">await</span> request(</span><br><span class="line">    <span class="hljs-string">"/test"</span>, data: &#123;<span class="hljs-string">"id"</span>: <span class="hljs-number">12</span>, <span class="hljs-string">"name"</span>: <span class="hljs-string">"xx"</span>&#125;, <span class="hljs-keyword">new</span> Options(method: <span class="hljs-string">"GET"</span>));</span><br></pre></td></tr></table></figure>

<h3 id="è¯·æ±‚æ–¹æ³•åˆ«å"><a href="#è¯·æ±‚æ–¹æ³•åˆ«å" class="headerlink" title="è¯·æ±‚æ–¹æ³•åˆ«å"></a>è¯·æ±‚æ–¹æ³•åˆ«å</h3><p>ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼ŒDioæä¾›äº†ä¸€äº›å…¶å®ƒçš„Restful API, è¿™äº›APIéƒ½æ˜¯<code>request</code>çš„åˆ«åã€‚</p>
<p><strong>Future<response> get(path, {data, Options options,CancelToken cancelToken})</response></strong></p>
<p><strong>Future<response> post(path, {data, Options options,CancelToken cancelToken})</response></strong></p>
<p><strong>Future<response> put(path, {data, Options options,CancelToken cancelToken})</response></strong></p>
<p><strong>Future<response> delete(path, {data, Options options,CancelToken cancelToken})</response></strong></p>
<p><strong>Future<response> head(path, {data, Options options,CancelToken cancelToken})</response></strong></p>
<p><strong>Future<response> put(path, {data, Options options,CancelToken cancelToken})</response></strong></p>
<p><strong>Future<response> path(path, {data, Options options,CancelToken cancelToken})</response></strong></p>
<p><strong>Future<response> download(String urlPath, savePath,</response></strong><br>â€‹    <strong>{OnDownloadProgress onProgress, data, bool flush: false, Options options,CancelToken cancelToken})</strong></p>
<h2 id="è¯·æ±‚é…ç½®"><a href="#è¯·æ±‚é…ç½®" class="headerlink" title="è¯·æ±‚é…ç½®"></a>è¯·æ±‚é…ç½®</h2><p>ä¸‹é¢æ˜¯æ‰€æœ‰çš„è¯·æ±‚é…ç½®é€‰é¡¹ã€‚ å¦‚æœè¯·æ±‚<code>method</code>æ²¡æœ‰æŒ‡å®šï¼Œåˆ™é»˜è®¤ä¸º<code>GET</code> :</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="hljs-comment">/// Http method.</span></span><br><span class="line">  <span class="hljs-built_in">String</span> method;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/// è¯·æ±‚åŸºåœ°å€,å¯ä»¥åŒ…å«å­è·¯å¾„ï¼Œå¦‚: "https://www.google.com/api/".</span></span><br><span class="line">  <span class="hljs-built_in">String</span> baseUrl;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/// Httpè¯·æ±‚å¤´.</span></span><br><span class="line">  <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-keyword">dynamic</span>&gt; headers;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/// è¿æ¥æœåŠ¡å™¨è¶…æ—¶æ—¶é—´ï¼Œå•ä½æ˜¯æ¯«ç§’.</span></span><br><span class="line">  <span class="hljs-built_in">int</span> connectTimeout;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">///  å“åº”æµä¸Šå‰åä¸¤æ¬¡æ¥å—åˆ°æ•°æ®çš„é—´éš”ï¼Œå•ä½ä¸ºæ¯«ç§’ã€‚å¦‚æœä¸¤æ¬¡é—´éš”è¶…è¿‡[receiveTimeout]ï¼Œ</span></span><br><span class="line">  <span class="hljs-comment">///  [Dio] å°†ä¼šæŠ›å‡ºä¸€ä¸ª[DioErrorType.RECEIVE_TIMEOUT]çš„å¼‚å¸¸.</span></span><br><span class="line">  <span class="hljs-comment">///  æ³¨æ„: è¿™å¹¶ä¸æ˜¯æ¥æ”¶æ•°æ®çš„æ€»æ—¶é™.</span></span><br><span class="line">  <span class="hljs-built_in">int</span> receiveTimeout;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/// è¯·æ±‚æ•°æ®,å¯ä»¥æ˜¯ä»»æ„ç±»å‹.</span></span><br><span class="line">  <span class="hljs-keyword">var</span> data;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/// è¯·æ±‚è·¯å¾„ï¼Œå¦‚æœ `path` ä»¥ "http(s)"å¼€å§‹, åˆ™ `baseURL` ä¼šè¢«å¿½ç•¥ï¼› å¦åˆ™,</span></span><br><span class="line">  <span class="hljs-comment">/// å°†ä¼šå’ŒbaseUrlæ‹¼æ¥å‡ºå®Œæ•´çš„çš„url.</span></span><br><span class="line">  <span class="hljs-built_in">String</span> path = <span class="hljs-string">""</span>;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/// è¯·æ±‚çš„Content-Typeï¼Œé»˜è®¤å€¼æ˜¯[ContentType.JSON].</span></span><br><span class="line">  <span class="hljs-comment">/// å¦‚æœæ‚¨æƒ³ä»¥"application/x-www-form-urlencoded"æ ¼å¼ç¼–ç è¯·æ±‚æ•°æ®,</span></span><br><span class="line">  <span class="hljs-comment">/// å¯ä»¥è®¾ç½®æ­¤é€‰é¡¹ä¸º `ContentType.parse("application/x-www-form-urlencoded")`,  è¿™æ ·[Dio]</span></span><br><span class="line">  <span class="hljs-comment">/// å°±ä¼šè‡ªåŠ¨ç¼–ç è¯·æ±‚ä½“.</span></span><br><span class="line">  ContentType contentType;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/// [responseType] è¡¨ç¤ºæœŸæœ›ä»¥é‚£ç§æ ¼å¼(æ–¹å¼)æ¥å—å“åº”æ•°æ®ã€‚</span></span><br><span class="line">  <span class="hljs-comment">/// ç›®å‰ [ResponseType] æ¥å—ä¸‰ç§ç±»å‹ `JSON`, `STREAM`, `PLAIN`.</span></span><br><span class="line">  <span class="hljs-comment">///</span></span><br><span class="line">  <span class="hljs-comment">/// é»˜è®¤å€¼æ˜¯ `JSON`, å½“å“åº”å¤´ä¸­content-typeä¸º"application/json"æ—¶ï¼Œdio ä¼šè‡ªåŠ¨å°†å“åº”å†…å®¹è½¬åŒ–ä¸ºjsonå¯¹è±¡ã€‚</span></span><br><span class="line">  <span class="hljs-comment">/// å¦‚æœæƒ³ä»¥äºŒè¿›åˆ¶æ–¹å¼æ¥å—å“åº”æ•°æ®ï¼Œå¦‚ä¸‹è½½ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ `STREAM`.</span></span><br><span class="line">  <span class="hljs-comment">///</span></span><br><span class="line">  <span class="hljs-comment">/// å¦‚æœæƒ³ä»¥æ–‡æœ¬(å­—ç¬¦ä¸²)æ ¼å¼æ¥æ”¶å“åº”æ•°æ®ï¼Œè¯·ä½¿ç”¨ `PLAIN`.</span></span><br><span class="line">  ResponseType responseType;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/// `validateStatus` å†³å®šhttpå“åº”çŠ¶æ€ç æ˜¯å¦è¢«dioè§†ä¸ºè¯·æ±‚æˆåŠŸï¼Œ è¿”å›`validateStatus`</span></span><br><span class="line">  <span class="hljs-comment">///  è¿”å›`true` , è¯·æ±‚ç»“æœå°±ä¼šæŒ‰æˆåŠŸå¤„ç†ï¼Œå¦åˆ™ä¼šæŒ‰å¤±è´¥å¤„ç†.</span></span><br><span class="line">  ValidateStatus validateStatus;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/// ç”¨æˆ·è‡ªå®šä¹‰å­—æ®µï¼Œå¯ä»¥åœ¨ [Interceptor]ã€[Transformer] å’Œ [Response] ä¸­å–åˆ°.</span></span><br><span class="line">  <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-keyword">dynamic</span>&gt; extra;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæœ‰ä¸€ä¸ªå®Œæˆçš„<a href="https://github.com/flutterchina/dio/blob/flutter/example/options.dart" target="_blank" rel="noopener">ç¤ºä¾‹</a>.</p>
<h2 id="å“åº”æ•°æ®"><a href="#å“åº”æ•°æ®" class="headerlink" title="å“åº”æ•°æ®"></a>å“åº”æ•°æ®</h2><p>å½“è¯·æ±‚æˆåŠŸæ—¶ä¼šè¿”å›ä¸€ä¸ªResponseå¯¹è±¡ï¼Œå®ƒåŒ…å«å¦‚ä¸‹å­—æ®µï¼š</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="hljs-comment">/// å“åº”æ•°æ®ï¼Œå¯èƒ½å·²ç»è¢«è½¬æ¢äº†ç±»å‹, è¯¦æƒ…è¯·å‚è€ƒOptionsä¸­çš„[ResponseType].</span></span><br><span class="line">  <span class="hljs-keyword">var</span> data;</span><br><span class="line">  <span class="hljs-comment">/// å“åº”å¤´</span></span><br><span class="line">  HttpHeaders headers;</span><br><span class="line">  <span class="hljs-comment">/// æœ¬æ¬¡è¯·æ±‚ä¿¡æ¯</span></span><br><span class="line">  Options request;</span><br><span class="line">  <span class="hljs-comment">/// Http status code.</span></span><br><span class="line">  <span class="hljs-built_in">int</span> statusCode;</span><br><span class="line">  <span class="hljs-comment">/// å“åº”å¯¹è±¡çš„è‡ªå®šä¹‰å­—æ®µï¼ˆå¯ä»¥åœ¨æ‹¦æˆªå™¨ä¸­è®¾ç½®å®ƒï¼‰ï¼Œè°ƒç”¨æ–¹å¯ä»¥åœ¨`then`ä¸­è·å–.</span></span><br><span class="line">  <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-keyword">dynamic</span>&gt; extra;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹å¦‚ä¸‹:</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Response response = <span class="hljs-keyword">await</span> dio.<span class="hljs-keyword">get</span>(<span class="hljs-string">"https://www.google.com"</span>);</span><br><span class="line"><span class="hljs-built_in">print</span>(response.data);</span><br><span class="line"><span class="hljs-built_in">print</span>(response.headers);</span><br><span class="line"><span class="hljs-built_in">print</span>(response.request);</span><br><span class="line"><span class="hljs-built_in">print</span>(response.statusCode);</span><br></pre></td></tr></table></figure>

<h2 id="æ‹¦æˆªå™¨"><a href="#æ‹¦æˆªå™¨" class="headerlink" title="æ‹¦æˆªå™¨"></a>æ‹¦æˆªå™¨</h2><p>æ¯ä¸€ä¸ª Dio å®ä¾‹éƒ½æœ‰ä¸€ä¸ªè¯·æ±‚æ‹¦æˆªå™¨  <code>RequestInterceptor</code> å’Œä¸€ä¸ªå“åº”æ‹¦æˆªå™¨ <code>ResponseInterceptor</code>, é€šè¿‡æ‹¦æˆªå™¨ä½ å¯ä»¥åœ¨è¯·æ±‚ä¹‹å‰æˆ–å“åº”ä¹‹å(ä½†è¿˜æ²¡æœ‰è¢« <code>then</code> æˆ– <code>catchError</code>å¤„ç†)åšä¸€äº›ç»Ÿä¸€çš„é¢„å¤„ç†æ“ä½œã€‚</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">dio.interceptor.request.onSend = (Options options)&#123;</span><br><span class="line">    <span class="hljs-comment">// åœ¨è¯·æ±‚è¢«å‘é€ä¹‹å‰åšä¸€äº›äº‹æƒ…</span></span><br><span class="line">    <span class="hljs-keyword">return</span> options; <span class="hljs-comment">//continue</span></span><br><span class="line">    <span class="hljs-comment">// å¦‚æœä½ æƒ³å®Œæˆè¯·æ±‚å¹¶è¿”å›ä¸€äº›è‡ªå®šä¹‰æ•°æ®ï¼Œå¯ä»¥è¿”å›ä¸€ä¸ª`Response`å¯¹è±¡æˆ–è¿”å›`dio.resolve(data)`ã€‚</span></span><br><span class="line">    <span class="hljs-comment">// è¿™æ ·è¯·æ±‚å°†ä¼šè¢«ç»ˆæ­¢ï¼Œä¸Šå±‚thenä¼šè¢«è°ƒç”¨ï¼Œthenä¸­è¿”å›çš„æ•°æ®å°†æ˜¯ä½ çš„è‡ªå®šä¹‰æ•°æ®data.</span></span><br><span class="line">    <span class="hljs-comment">//</span></span><br><span class="line">    <span class="hljs-comment">// å¦‚æœä½ æƒ³ç»ˆæ­¢è¯·æ±‚å¹¶è§¦å‘ä¸€ä¸ªé”™è¯¯,ä½ å¯ä»¥è¿”å›ä¸€ä¸ª`DioError`å¯¹è±¡ï¼Œæˆ–è¿”å›`dio.reject(errMsg)`ï¼Œ</span></span><br><span class="line">    <span class="hljs-comment">// è¿™æ ·è¯·æ±‚å°†è¢«ä¸­æ­¢å¹¶è§¦å‘å¼‚å¸¸ï¼Œä¸Šå±‚catchErrorä¼šè¢«è°ƒç”¨ã€‚</span></span><br><span class="line">&#125;</span><br><span class="line">dio.interceptor.response.onSuccess = (Response response) &#123;</span><br><span class="line">    <span class="hljs-comment">// åœ¨è¿”å›å“åº”æ•°æ®ä¹‹å‰åšä¸€äº›é¢„å¤„ç†</span></span><br><span class="line">    <span class="hljs-keyword">return</span> response; <span class="hljs-comment">// continue</span></span><br><span class="line">&#125;;</span><br><span class="line">dio.interceptor.response.onError = (DioError e)&#123;</span><br><span class="line">    <span class="hljs-comment">// å½“è¯·æ±‚å¤±è´¥æ—¶åšä¸€äº›é¢„å¤„ç†</span></span><br><span class="line">    <span class="hljs-keyword">return</span> e;<span class="hljs-comment">//continue</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ æƒ³ç§»é™¤æ‹¦æˆªå™¨ï¼Œä½ å¯ä»¥å°†å®ƒä»¬ç½®ä¸ºnull:</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dio.interceptor.request.onSend = <span class="hljs-keyword">null</span>;</span><br><span class="line">dio.interceptor.response.onSuccess = <span class="hljs-keyword">null</span>;</span><br><span class="line">dio.interceptor.response.onError = <span class="hljs-keyword">null</span>;</span><br></pre></td></tr></table></figure>

<h3 id="å®Œæˆå’Œç»ˆæ­¢è¯·æ±‚-å“åº”"><a href="#å®Œæˆå’Œç»ˆæ­¢è¯·æ±‚-å“åº”" class="headerlink" title="å®Œæˆå’Œç»ˆæ­¢è¯·æ±‚/å“åº”"></a>å®Œæˆå’Œç»ˆæ­¢è¯·æ±‚/å“åº”</h3><p>åœ¨æ‰€æœ‰æ‹¦æˆªå™¨ä¸­ï¼Œä½ éƒ½å¯ä»¥æ”¹å˜è¯·æ±‚æ‰§è¡Œæµï¼Œ å¦‚æœä½ æƒ³å®Œæˆè¯·æ±‚/å“åº”å¹¶è¿”å›è‡ªå®šä¹‰æ•°æ®ï¼Œä½ å¯ä»¥è¿”å›ä¸€ä¸ª <code>Response</code> å¯¹è±¡æˆ–è¿”å› <code>dio.resolve(data)</code>çš„ç»“æœã€‚ å¦‚æœä½ æƒ³ç»ˆæ­¢(è§¦å‘ä¸€ä¸ªé”™è¯¯ï¼Œä¸Šå±‚<code>catchError</code>ä¼šè¢«è°ƒç”¨)ä¸€ä¸ªè¯·æ±‚/å“åº”ï¼Œé‚£ä¹ˆå¯ä»¥è¿”å›ä¸€ä¸ª<code>DioError</code> å¯¹è±¡æˆ–è¿”å› <code>dio.reject(errMsg)</code> çš„ç»“æœ.</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dio.interceptor.request.onSend = (Options options) &#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> dio.resolve(<span class="hljs-string">"fake data"</span>)</span><br><span class="line">&#125;</span><br><span class="line">Response response = <span class="hljs-keyword">await</span> dio.<span class="hljs-keyword">get</span>(<span class="hljs-string">"/test"</span>);</span><br><span class="line"><span class="hljs-built_in">print</span>(response.data); <span class="hljs-comment">//"fake data"</span></span><br></pre></td></tr></table></figure>

<h3 id="æ‹¦æˆªå™¨ä¸­æ”¯æŒå¼‚æ­¥ä»»åŠ¡"><a href="#æ‹¦æˆªå™¨ä¸­æ”¯æŒå¼‚æ­¥ä»»åŠ¡" class="headerlink" title="æ‹¦æˆªå™¨ä¸­æ”¯æŒå¼‚æ­¥ä»»åŠ¡"></a>æ‹¦æˆªå™¨ä¸­æ”¯æŒå¼‚æ­¥ä»»åŠ¡</h3><p>æ‹¦æˆªå™¨ä¸­ä¸ä»…æ”¯æŒåŒæ­¥ä»»åŠ¡ï¼Œè€Œä¸”ä¹Ÿæ”¯æŒå¼‚æ­¥ä»»åŠ¡, ä¸‹é¢æ˜¯åœ¨è¯·æ±‚æ‹¦æˆªå™¨ä¸­å‘èµ·å¼‚æ­¥ä»»åŠ¡çš„ä¸€ä¸ªå®ä¾‹:</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> dio.interceptor.request.onSend = (Options options) <span class="hljs-keyword">async</span> &#123;</span><br><span class="line">    <span class="hljs-comment">//...If no token, request token firstly.</span></span><br><span class="line">    Response response = <span class="hljs-keyword">await</span> dio.<span class="hljs-keyword">get</span>(<span class="hljs-string">"/token"</span>);</span><br><span class="line">    <span class="hljs-comment">//Set the token to headers</span></span><br><span class="line">    options.headers[<span class="hljs-string">"token"</span>] = response.data[<span class="hljs-string">"data"</span>][<span class="hljs-string">"token"</span>];</span><br><span class="line">    <span class="hljs-keyword">return</span> options; <span class="hljs-comment">//continue</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Lock-unlock-æ‹¦æˆªå™¨"><a href="#Lock-unlock-æ‹¦æˆªå™¨" class="headerlink" title="Lock/unlock æ‹¦æˆªå™¨"></a>Lock/unlock æ‹¦æˆªå™¨</h3><p>ä½ å¯ä»¥é€šè¿‡è°ƒç”¨æ‹¦æˆªå™¨çš„ <code>lock()</code>/<code>unlock</code> æ–¹æ³•æ¥é”å®š/è§£é”æ‹¦æˆªå™¨ã€‚ä¸€æ—¦è¯·æ±‚/å“åº”æ‹¦æˆªå™¨è¢«é”å®šï¼Œæ¥ä¸‹æ¥çš„è¯·æ±‚/å“åº”å°†ä¼šåœ¨è¿›å…¥è¯·æ±‚/å“åº”æ‹¦æˆªå™¨ä¹‹å‰æ’é˜Ÿç­‰å¾…ï¼Œç›´åˆ°è§£é”åï¼Œè¿™äº›å…¥é˜Ÿçš„è¯·æ±‚æ‰ä¼šç»§ç»­æ‰§è¡Œ(è¿›å…¥æ‹¦æˆªå™¨)ã€‚è¿™åœ¨ä¸€äº›éœ€è¦ä¸²è¡ŒåŒ–è¯·æ±‚/å“åº”çš„åœºæ™¯ä¸­éå¸¸å®ç”¨ï¼Œåé¢æˆ‘ä»¬å°†ç»™å‡ºä¸€ä¸ªç¤ºä¾‹ã€‚</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">tokenDio = <span class="hljs-keyword">new</span> Dio(); <span class="hljs-comment">//Create a new instance to request the token.</span></span><br><span class="line">tokenDio.options = dio;</span><br><span class="line">dio.interceptor.request.onSend = (Options options) <span class="hljs-keyword">async</span> &#123;</span><br><span class="line">  <span class="hljs-comment">// If no token, request token firstly and lock this interceptor</span></span><br><span class="line">  <span class="hljs-comment">// to prevent other request enter this interceptor.</span></span><br><span class="line">  dio.interceptor.request.lock();</span><br><span class="line">  <span class="hljs-comment">// We use a new Dio(to avoid dead lock) instance to request token.</span></span><br><span class="line">  Response response = <span class="hljs-keyword">await</span> tokenDio.<span class="hljs-keyword">get</span>(<span class="hljs-string">"/token"</span>);</span><br><span class="line">  <span class="hljs-comment">//Set the token to headers</span></span><br><span class="line">  options.headers[<span class="hljs-string">"token"</span>] = response.data[<span class="hljs-string">"data"</span>][<span class="hljs-string">"token"</span>];</span><br><span class="line">  dio.interceptor.request.unlock();</span><br><span class="line">  <span class="hljs-keyword">return</span> options; <span class="hljs-comment">//continue</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Clear()</strong></p>
<p>ä½ ä¹Ÿå¯ä»¥è°ƒç”¨æ‹¦æˆªå™¨çš„<code>clear()</code>æ–¹æ³•æ¥æ¸…ç©ºç­‰å¾…é˜Ÿåˆ—ã€‚</p>
<h3 id="åˆ«å"><a href="#åˆ«å" class="headerlink" title="åˆ«å"></a>åˆ«å</h3><p>å½“<strong>è¯·æ±‚</strong>æ‹¦æˆªå™¨è¢«é”å®šæ—¶ï¼Œæ¥ä¸‹æ¥çš„è¯·æ±‚å°†ä¼šæš‚åœï¼Œè¿™ç­‰ä»·äºé”ä½äº†dioå®ä¾‹ï¼Œå› æ­¤ï¼ŒDioç¤ºä¾‹ä¸Šæä¾›äº†<strong>è¯·æ±‚</strong>æ‹¦æˆªå™¨<code>lock/unlock</code>çš„åˆ«åæ–¹æ³•ï¼š</p>
<p><strong>dio.lock() ==  dio.interceptor.request.lock()</strong></p>
<p><strong>dio.unlock() ==  dio.interceptor.request.unlock()</strong></p>
<p><strong>dio.clear() ==  dio.interceptor.request.clear()</strong></p>
<h3 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>å‡è®¾è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ï¼šå‡ºäºå®‰å…¨åŸå› ï¼Œæˆ‘ä»¬éœ€è¦ç»™æ‰€æœ‰çš„è¯·æ±‚å¤´ä¸­æ·»åŠ ä¸€ä¸ªcsrfTokenï¼Œå¦‚æœcsrfTokenä¸å­˜åœ¨ï¼Œæˆ‘ä»¬å…ˆå»è¯·æ±‚csrfTokenï¼Œè·å–åˆ°csrfTokenåï¼Œå†å‘èµ·åç»­è¯·æ±‚ã€‚ ç”±äºè¯·æ±‚csrfTokençš„è¿‡ç¨‹æ˜¯å¼‚æ­¥çš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è¯·æ±‚è¿‡ç¨‹ä¸­é”å®šåç»­è¯·æ±‚ï¼ˆå› ä¸ºå®ƒä»¬éœ€è¦csrfToken), ç›´åˆ°csrfTokenè¯·æ±‚æˆåŠŸåï¼Œå†è§£é”ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">dio.interceptor.request.onSend = (Options options) &#123;</span><br><span class="line">    <span class="hljs-built_in">print</span>(<span class="hljs-string">'send requestï¼špath:<span class="hljs-subst">$&#123;options.path&#125;</span>ï¼ŒbaseURL:<span class="hljs-subst">$&#123;options.baseUrl&#125;</span>'</span>);</span><br><span class="line">    <span class="hljs-keyword">if</span> (csrfToken == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">      <span class="hljs-built_in">print</span>(<span class="hljs-string">"no tokenï¼Œrequest token firstly..."</span>);</span><br><span class="line">      <span class="hljs-comment">//lock the dio.</span></span><br><span class="line">      dio.lock();</span><br><span class="line">      <span class="hljs-keyword">return</span> tokenDio.<span class="hljs-keyword">get</span>(<span class="hljs-string">"/token"</span>).then((d) &#123;</span><br><span class="line">        options.headers[<span class="hljs-string">"csrfToken"</span>] = csrfToken = d.data[<span class="hljs-string">'data'</span>][<span class="hljs-string">'token'</span>];</span><br><span class="line">        <span class="hljs-built_in">print</span>(<span class="hljs-string">"request token succeed, value: "</span> + d.data[<span class="hljs-string">'data'</span>][<span class="hljs-string">'token'</span>]);</span><br><span class="line">        <span class="hljs-built_in">print</span>(<span class="hljs-string">'continue to perform requestï¼špath:<span class="hljs-subst">$&#123;options.path&#125;</span>ï¼ŒbaseURL:<span class="hljs-subst">$&#123;options.path&#125;</span>'</span>);</span><br><span class="line">        <span class="hljs-keyword">return</span> options;</span><br><span class="line">      &#125;).whenComplete(() =&gt; dio.unlock()); <span class="hljs-comment">// unlock the dio</span></span><br><span class="line">    &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">      options.headers[<span class="hljs-string">"csrfToken"</span>] = csrfToken;</span><br><span class="line">      <span class="hljs-keyword">return</span> options;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure>

<p>å®Œæ•´çš„ç¤ºä¾‹ä»£ç è¯·ç‚¹å‡» <a href="https://github.com/flutterchina/dio/blob/flutter/example/interceptorLock.dart" target="_blank" rel="noopener">è¿™é‡Œ</a>.</p>
<h2 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h2><p>å½“è¯·æ±‚è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯æ—¶, Dio ä¼šåŒ…è£… <code>Error/Exception</code> ä¸ºä¸€ä¸ª <code>DioError</code>:</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">try</span> &#123;</span><br><span class="line">  <span class="hljs-comment">//404</span></span><br><span class="line">  <span class="hljs-keyword">await</span> dio.<span class="hljs-keyword">get</span>(<span class="hljs-string">"https://wendux.github.io/xsddddd"</span>);</span><br><span class="line">&#125; on DioError <span class="hljs-keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="hljs-comment">// The request was made and the server responded with a status code</span></span><br><span class="line">  <span class="hljs-comment">// that falls out of the range of 2xx and is also not 304.</span></span><br><span class="line">  <span class="hljs-keyword">if</span> (e.response) &#123;</span><br><span class="line">    <span class="hljs-built_in">print</span>(e.response.data);</span><br><span class="line">    <span class="hljs-built_in">print</span>(e.response.headers);</span><br><span class="line">    <span class="hljs-built_in">print</span>(e.response.request);</span><br><span class="line">  &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">    <span class="hljs-comment">// Something happened in setting up or sending the request that triggered an Error</span></span><br><span class="line">    <span class="hljs-built_in">print</span>(e.request);</span><br><span class="line">    <span class="hljs-built_in">print</span>(e.message);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="DioError-å­—æ®µ"><a href="#DioError-å­—æ®µ" class="headerlink" title="DioError å­—æ®µ"></a>DioError å­—æ®µ</h3><figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">  <span class="hljs-comment">/// å“åº”ä¿¡æ¯, å¦‚æœé”™è¯¯å‘ç”Ÿåœ¨åœ¨æœåŠ¡å™¨è¿”å›æ•°æ®ä¹‹å‰ï¼Œå®ƒä¸º `null`</span></span><br><span class="line">  Response response;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/// é”™è¯¯æè¿°.</span></span><br><span class="line">  <span class="hljs-built_in">String</span> message;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/// é”™è¯¯ç±»å‹ï¼Œè§ä¸‹æ–‡</span></span><br><span class="line">  DioErrorType type;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/// é”™è¯¯æ ˆä¿¡æ¯ï¼Œå¯èƒ½ä¸ºnull</span></span><br><span class="line">  StackTrace stackTrace;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="DioErrorType"><a href="#DioErrorType" class="headerlink" title="DioErrorType"></a>DioErrorType</h3><figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">enum</span> DioErrorType &#123;</span><br><span class="line">  <span class="hljs-comment">/// Default error type, usually occurs before connecting the server.</span></span><br><span class="line">  DEFAULT,</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/// When opening  url timeout, it occurs.</span></span><br><span class="line">  CONNECT_TIMEOUT,</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">///  Whenever more than [receiveTimeout] (in milliseconds) passes between two events from response stream,</span></span><br><span class="line">  <span class="hljs-comment">///  [Dio] will throw the [DioError] with [DioErrorType.RECEIVE_TIMEOUT].</span></span><br><span class="line">  <span class="hljs-comment">///</span></span><br><span class="line">  <span class="hljs-comment">///  Note: This is not the receiving time limitation.</span></span><br><span class="line">  RECEIVE_TIMEOUT,</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/// When the server response, but with a incorrect status, such as 404, 503...</span></span><br><span class="line">  RESPONSE,</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/// When the request is cancelled, dio will throw a error with this type.</span></span><br><span class="line">  CANCEL</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨application-x-www-form-urlencodedç¼–ç "><a href="#ä½¿ç”¨application-x-www-form-urlencodedç¼–ç " class="headerlink" title="ä½¿ç”¨application/x-www-form-urlencodedç¼–ç "></a>ä½¿ç”¨application/x-www-form-urlencodedç¼–ç </h2><p>é»˜è®¤æƒ…å†µä¸‹, Dio ä¼šå°†è¯·æ±‚æ•°æ®(é™¤è¿‡Stringç±»å‹)åºåˆ—åŒ–ä¸º <code>JSON</code>. å¦‚æœæƒ³è¦ä»¥ <code>application/x-www-form-urlencoded</code>æ ¼å¼ç¼–ç , ä½ å¯ä»¥æ˜¾å¼è®¾ç½®<code>contentType</code> :</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//Instance level</span></span><br><span class="line">dio.options.contentType=ContentType.parse(<span class="hljs-string">"application/x-www-form-urlencoded"</span>);</span><br><span class="line"><span class="hljs-comment">//or works once</span></span><br><span class="line">dio.post(<span class="hljs-string">"/info"</span>,data:&#123;<span class="hljs-string">"id"</span>:<span class="hljs-number">5</span>&#125;, options: <span class="hljs-keyword">new</span> Options(contentType:ContentType.parse(<span class="hljs-string">"application/x-www-form-urlencoded"</span>)));</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæœ‰ä¸€ä¸ª<a href="https://github.com/flutterchina/dio/blob/flutter/example/options.dart" target="_blank" rel="noopener">ç¤ºä¾‹</a>.</p>
<h2 id="FormData"><a href="#FormData" class="headerlink" title="FormData"></a>FormData</h2><p>Dioæ”¯æŒå‘é€ FormData, è¯·æ±‚æ•°æ®å°†ä¼šä»¥ <code>multipart/form-data</code>æ–¹å¼ç¼–ç , FormDataä¸­å¯ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªåŒ…å«æ–‡ä»¶ .</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">FormData formData = <span class="hljs-keyword">new</span> FormData.from(&#123;</span><br><span class="line">    <span class="hljs-string">"name"</span>: <span class="hljs-string">"wendux"</span>,</span><br><span class="line">    <span class="hljs-string">"age"</span>: <span class="hljs-number">25</span>,</span><br><span class="line">    <span class="hljs-string">"file"</span>: <span class="hljs-keyword">new</span> UploadFileInfo(<span class="hljs-keyword">new</span> File(<span class="hljs-string">"./example/upload.txt"</span>), <span class="hljs-string">"upload.txt"</span>)</span><br><span class="line">&#125;);</span><br><span class="line">response = <span class="hljs-keyword">await</span> dio.post(<span class="hljs-string">"/info"</span>, data: formData);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„: åªæœ‰ post æ–¹æ³•æ”¯æŒå‘é€ FormData.</p>
</blockquote>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªå®Œæ•´çš„<a href="https://github.com/flutterchina/dio/blob/flutter/example/formdata.dart" target="_blank" rel="noopener">ç¤ºä¾‹</a>.</p>
<h2 id="è½¬æ¢å™¨"><a href="#è½¬æ¢å™¨" class="headerlink" title="è½¬æ¢å™¨"></a>è½¬æ¢å™¨</h2><p>è½¬æ¢å™¨<code>Transformer</code> ç”¨äºå¯¹è¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ®è¿›è¡Œç¼–è§£ç å¤„ç†ã€‚Dioå®ç°äº†ä¸€ä¸ªé»˜è®¤è½¬æ¢å™¨<code>DefaultTransformer</code>ä½œä¸ºé»˜è®¤çš„ <code>Transformer</code>. å¦‚æœä½ æƒ³å¯¹è¯·æ±‚/å“åº”æ•°æ®è¿›è¡Œè‡ªå®šä¹‰ç¼–è§£ç å¤„ç†ï¼Œå¯ä»¥æä¾›è‡ªå®šä¹‰è½¬æ¢å™¨ï¼Œé€šè¿‡ <code>dio.transformer</code>è®¾ç½®ã€‚</p>
<blockquote>
<p>è¯·æ±‚è½¬æ¢å™¨  <code>Transformer.transformRequest(...)</code>   åªä¼šè¢«ç”¨äº â€˜PUTâ€™ã€ â€˜POSTâ€™ã€ â€˜PATCHâ€™æ–¹æ³•ï¼Œå› ä¸ºåªæœ‰è¿™äº›æ–¹æ³•æ‰å¯ä»¥æºå¸¦è¯·æ±‚ä½“(request body)ã€‚ä½†æ˜¯å“åº”è½¬æ¢å™¨ <code>Transformer.transformResponse()</code> ä¼šè¢«ç”¨äºæ‰€æœ‰è¯·æ±‚æ–¹æ³•çš„è¿”å›æ•°æ®ã€‚</p>
</blockquote>
<h3 id="æ‰§è¡Œæµ"><a href="#æ‰§è¡Œæµ" class="headerlink" title="æ‰§è¡Œæµ"></a>æ‰§è¡Œæµ</h3><p>è™½ç„¶åœ¨æ‹¦æˆªå™¨ä¸­ä¹Ÿå¯ä»¥å¯¹æ•°æ®è¿›è¡Œé¢„å¤„ç†ï¼Œä½†æ˜¯è½¬æ¢å™¨ä¸»è¦èŒè´£æ˜¯å¯¹è¯·æ±‚/å“åº”æ•°æ®è¿›è¡Œç¼–è§£ç ï¼Œä¹‹æ‰€ä»¥å°†è½¬åŒ–å™¨å•ç‹¬åˆ†ç¦»ï¼Œä¸€æ˜¯ä¸ºäº†å’Œæ‹¦æˆªå™¨è§£è€¦ï¼ŒäºŒæ˜¯ä¸ºäº†ä¸ä¿®æ”¹åŸå§‹è¯·æ±‚æ•°æ®(å¦‚æœä½ åœ¨æ‹¦æˆªå™¨ä¸­ä¿®æ”¹è¯·æ±‚æ•°æ®(options.data)ï¼Œä¼šè¦†ç›–åŸå§‹è¯·æ±‚æ•°æ®ï¼Œè€Œåœ¨æŸäº›æ—¶å€™æ‚¨å¯èƒ½éœ€è¦åŸå§‹è¯·æ±‚æ•°æ®). Dioçš„è¯·æ±‚æµæ˜¯ï¼š</p>
<p><em>è¯·æ±‚æ‹¦æˆªå™¨</em> &gt;&gt; <em>è¯·æ±‚è½¬æ¢å™¨</em> &gt;&gt; <em>å‘èµ·è¯·æ±‚</em>  &gt;&gt; <em>å“åº”è½¬æ¢å™¨</em>  &gt;&gt; <em>å“åº”æ‹¦æˆªå™¨</em>  &gt;&gt; <em>æœ€ç»ˆç»“æœ</em>ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰è½¬æ¢å™¨çš„<a href="https://github.com/wendux/dio/blob/flutter/example/Transformer.dart" target="_blank" rel="noopener">ç¤ºä¾‹</a>.</p>
<h2 id="è®¾ç½®Httpä»£ç†"><a href="#è®¾ç½®Httpä»£ç†" class="headerlink" title="è®¾ç½®Httpä»£ç†"></a>è®¾ç½®Httpä»£ç†</h2><p>Dio æ˜¯ä½¿ç”¨ HttpClientå‘èµ·çš„httpè¯·æ±‚ï¼Œæ‰€ä»¥ä½ å¯ä»¥é€šè¿‡é…ç½® <code>httpClient</code>æ¥æ”¯æŒä»£ç†ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">dio.onHttpClientCreate = (HttpClient client) &#123;</span><br><span class="line">  client.findProxy = (uri) &#123;</span><br><span class="line">    <span class="hljs-comment">//proxy all request to localhost:8888</span></span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-string">"PROXY localhost:8888"</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="hljs-comment">// ä½ ä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»ºä¸€ä¸ªæ–°çš„HttpClientå®ä¾‹è¿”å›ã€‚</span></span><br><span class="line">  <span class="hljs-comment">// return new HttpClient(SecurityContext);</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>å®Œæ•´çš„ç¤ºä¾‹è¯·æŸ¥çœ‹<a href="https://github.com/wendux/dio/tree/flutter/example/proxy.dart" target="_blank" rel="noopener">è¿™é‡Œ</a>.</p>
<h2 id="Httpsè¯ä¹¦æ ¡éªŒ"><a href="#Httpsè¯ä¹¦æ ¡éªŒ" class="headerlink" title="Httpsè¯ä¹¦æ ¡éªŒ"></a>Httpsè¯ä¹¦æ ¡éªŒ</h2><p>æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥æ ¡éªŒhttpsè¯ä¹¦ï¼Œå‡è®¾æˆ‘ä»¬çš„åå°æœåŠ¡ä½¿ç”¨çš„æ˜¯è‡ªç­¾åè¯ä¹¦ï¼Œè¯ä¹¦æ ¼å¼æ˜¯PEMæ ¼å¼ï¼Œæˆ‘ä»¬å°†è¯ä¹¦çš„å†…å®¹ä¿å­˜åœ¨æœ¬åœ°å­—ç¬¦ä¸²ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ ¡éªŒé€»è¾‘å¦‚ä¸‹ï¼š</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">String</span> PEM=<span class="hljs-string">"XXXXX"</span>; <span class="hljs-comment">//è¯ä¹¦å†…å®¹</span></span><br><span class="line">dio.onHttpClientCreate = (HttpClient client) &#123;</span><br><span class="line">  client.badCertificateCallback=(X509Certificate cert, <span class="hljs-built_in">String</span> host, <span class="hljs-built_in">int</span> port)&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span>(cert.pem==PEM)&#123; <span class="hljs-comment">// è¯ä¹¦ä¸€è‡´ï¼Œåˆ™æ”¾è¡Œ</span></span><br><span class="line">      <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>X509Certificate</code>æ˜¯è¯ä¹¦çš„æ ‡å‡†æ ¼å¼ï¼ŒåŒ…å«äº†è¯ä¹¦é™¤ç§é’¥å¤–æ‰€æœ‰ä¿¡æ¯ï¼Œè¯»è€…å¯ä»¥è‡ªè¡ŒæŸ¥é˜…æ–‡æ¡£ã€‚å¦å¤–ï¼Œä¸Šé¢çš„ç¤ºä¾‹æ²¡æœ‰æ ¡éªŒhostï¼Œæ˜¯å› ä¸ºåªè¦æœåŠ¡å™¨è¿”å›çš„è¯ä¹¦å†…å®¹å’Œæœ¬åœ°çš„ä¿å­˜ä¸€è‡´å°±å·²ç»èƒ½è¯æ˜æ˜¯æˆ‘ä»¬çš„æœåŠ¡å™¨äº†ï¼ˆè€Œä¸æ˜¯ä¸­é—´äººï¼‰ï¼ŒhostéªŒè¯é€šå¸¸æ˜¯ä¸ºäº†é˜²æ­¢è¯ä¹¦å’ŒåŸŸåä¸åŒ¹é…ã€‚</p>
<p>å¯¹äºè‡ªç­¾åçš„è¯ä¹¦ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†å…¶æ·»åŠ åˆ°æœ¬åœ°è¯ä¹¦ä¿¡ä»»é“¾ä¸­ï¼Œè¿™æ ·è¯ä¹¦éªŒè¯æ—¶å°±ä¼šè‡ªåŠ¨é€šè¿‡ï¼Œè€Œä¸ä¼šå†èµ°åˆ°<code>badCertificateCallback</code>å›è°ƒä¸­ï¼š</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dio.onHttpClientCreate = (HttpClient client) &#123;</span><br><span class="line">  SecurityContext sc = <span class="hljs-keyword">new</span> SecurityContext();</span><br><span class="line">  <span class="hljs-comment">//fileä¸ºè¯ä¹¦è·¯å¾„</span></span><br><span class="line">  sc.setTrustedCertificates(file);</span><br><span class="line">  HttpClient httpClient = <span class="hljs-keyword">new</span> HttpClient(context: sc);</span><br><span class="line">  <span class="hljs-keyword">return</span> httpClient;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œé€šè¿‡<code>setTrustedCertificates()</code>è®¾ç½®çš„è¯ä¹¦æ ¼å¼å¿…é¡»ä¸ºPEMæˆ–PKCS12ï¼Œå¦‚æœè¯ä¹¦æ ¼å¼ä¸ºPKCS12ï¼Œåˆ™éœ€å°†è¯ä¹¦å¯†ç ä¼ å…¥ï¼Œè¿™æ ·åˆ™ä¼šåœ¨ä»£ç ä¸­æš´éœ²è¯ä¹¦å¯†ç ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯è¯ä¹¦æ ¡éªŒä¸å»ºè®®ä½¿ç”¨PKCS12æ ¼å¼çš„è¯ä¹¦ã€‚</p>
<h2 id="è¯·æ±‚å–æ¶ˆ"><a href="#è¯·æ±‚å–æ¶ˆ" class="headerlink" title="è¯·æ±‚å–æ¶ˆ"></a>è¯·æ±‚å–æ¶ˆ</h2><p>ä½ å¯ä»¥é€šè¿‡ <em>cancel token</em> æ¥å–æ¶ˆå‘èµ·çš„è¯·æ±‚ï¼š</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">CancelToken token = <span class="hljs-keyword">new</span> CancelToken();</span><br><span class="line">dio.<span class="hljs-keyword">get</span>(url, cancelToken: token)</span><br><span class="line">    .catchError((DioError err)&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (CancelToken.isCancel(err)) &#123;</span><br><span class="line">            <span class="hljs-built_in">print</span>(<span class="hljs-string">'Request canceled! '</span>+ err.message)</span><br><span class="line">        &#125;<span class="hljs-keyword">else</span>&#123;</span><br><span class="line">            <span class="hljs-comment">// handle error.</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"><span class="hljs-comment">// cancel the requests with "cancelled" message.</span></span><br><span class="line">token.cancel(<span class="hljs-string">"cancelled"</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„: åŒä¸€ä¸ªcancel token å¯ä»¥ç”¨äºå¤šä¸ªè¯·æ±‚ï¼Œå½“ä¸€ä¸ªcancel tokenå–æ¶ˆæ—¶ï¼Œæ‰€æœ‰ä½¿ç”¨è¯¥cancel tokençš„è¯·æ±‚éƒ½ä¼šè¢«å–æ¶ˆã€‚</p>
</blockquote>
<p>å®Œæ•´çš„ç¤ºä¾‹è¯·å‚è€ƒ<a href="https://github.com/flutterchina/dio/blob/flutter/example/cancelRequest.dart" target="_blank" rel="noopener">å–æ¶ˆç¤ºä¾‹</a>.</p>
<h2 id="Cookieç®¡ç†"><a href="#Cookieç®¡ç†" class="headerlink" title="Cookieç®¡ç†"></a>Cookieç®¡ç†</h2><p>ä½ å¯ä»¥é€šè¿‡ <code>cookieJar</code> æ¥è‡ªåŠ¨ç®¡ç†è¯·æ±‚/å“åº”cookie.</p>
<blockquote>
<p> dio cookie ç®¡ç† API æ˜¯åŸºäºå¼€æºåº“ <a href="https://github.com/flutterchina/cookie_jar" target="_blank" rel="noopener">cookie_jar</a>.</p>
</blockquote>
<p>ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª<code>CookieJar</code> æˆ– <code>PersistCookieJar</code> æ¥å¸®æ‚¨è‡ªåŠ¨ç®¡ç†cookie,  dio é»˜è®¤ä½¿ç”¨  <code>CookieJar</code> , å®ƒä¼šå°†cookieä¿å­˜åœ¨å†…å­˜ä¸­ã€‚ å¦‚æœæ‚¨æƒ³å¯¹cookieè¿›è¡ŒæŒä¹…åŒ–,  è¯·ä½¿ç”¨ <code>PersistCookieJar</code> ,  ç¤ºä¾‹ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> dio = <span class="hljs-keyword">new</span> Dio();</span><br><span class="line">dio.cookieJar = <span class="hljs-keyword">new</span> PersistCookieJar(<span class="hljs-string">"./cookies"</span>);</span><br></pre></td></tr></table></figure>

<p><code>PersistCookieJar</code> å®ç°äº†RFCä¸­æ ‡å‡†çš„cookieç­–ç•¥.  <code>PersistCookieJar</code> ä¼šå°†cookieä¿å­˜åœ¨æ–‡ä»¶ä¸­ï¼Œæ‰€ä»¥ cookies ä¼šä¸€ç›´å­˜åœ¨é™¤éæ˜¾å¼è°ƒç”¨ <code>delete</code> åˆ é™¤.</p>
<p>æ›´å¤šå…³äº <a href="https://github.com/flutterchina/" target="_blank" rel="noopener">cookie_jar</a>  è¯·å‚è€ƒ : <a href="https://github.com/flutterchina/cookie_jar" target="_blank" rel="noopener">https://github.com/flutterchina/cookie_jar</a> .</p>
<h2 id="Copyright-amp-License"><a href="#Copyright-amp-License" class="headerlink" title="Copyright &amp; License"></a>Copyright &amp; License</h2><p>æ­¤å¼€æºé¡¹ç›®ä¸ºFlutterä¸­æ–‡ç½‘(<a href="https://flutterchina.club" target="_blank" rel="noopener">https://flutterchina.club</a>) æˆæƒ ï¼Œlicense æ˜¯ MIT.   å¦‚æœæ‚¨å–œæ¬¢ï¼Œæ¬¢è¿star.</p>
<p><strong>Flutterä¸­æ–‡ç½‘å¼€æºé¡¹ç›®è®¡åˆ’</strong></p>
<p>å¼€å‘ä¸€ç³»åˆ—Flutter SDKä¹‹å¤–å¸¸ç”¨(å®ç”¨)çš„Packageã€æ’ä»¶ï¼Œä¸°å¯ŒFlutterç¬¬ä¸‰æ–¹åº“ï¼Œä¸ºFlutterç”Ÿæ€è´¡çŒ®æ¥è‡ªä¸­å›½å¼€å‘è€…çš„åŠ›é‡ã€‚æ‰€æœ‰é¡¹ç›®å°†å‘å¸ƒåœ¨ <a href="https://github.com/flutterchina/" target="_blank" rel="noopener">Github Flutterä¸­æ–‡ç½‘ Organization</a> ï¼Œæ‰€æœ‰æºç è´¡çŒ®è€…å°†åŠ å…¥åˆ°æˆ‘ä»¬çš„Organizationï¼Œæˆä¸ºæˆå‘˜. ç›®å‰ç¤¾åŒºå·²æœ‰å‡ ä¸ªå¼€æºé¡¹ç›®å¼€å§‹å…¬æµ‹ï¼Œæ¬¢è¿æ‚¨åŠ å…¥å¼€å‘æˆ–æµ‹è¯•ï¼Œè¯¦æƒ…è¯·æŸ¥çœ‹: <a href="https://flutterchina.club/opensource.html" target="_blank" rel="noopener">Flutterä¸­æ–‡ç½‘å¼€æºé¡¹ç›®</a>ã€‚ å¦‚æœæ‚¨æƒ³åŠ å…¥åˆ°â€œå¼€æºé¡¹ç›®è®¡åˆ’â€ï¼Œ è¯·å‘é‚®ä»¶åˆ°<a href="mailto:824783146@qq.com" target="_blank" rel="noopener">824783146@qq.com</a>ï¼Œ å¹¶é™„ä¸Šè‡ªæˆ‘ä»‹ç»(ä¸ªäººåŸºæœ¬ä¿¡æ¯+æ“…é•¿/å…³æ³¨æŠ€æœ¯)ã€‚</p>
<h2 id="Features-and-bugs"><a href="#Features-and-bugs" class="headerlink" title="Features and bugs"></a>Features and bugs</h2><p>Please file feature requests and bugs at the <a href="https://github.com/flutterchina/dio" target="_blank" rel="noopener">issue tracker</a>.</p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-08T23:56:41.000Z">2019-09-09</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/æ–‡ç« /">æ–‡ç« </a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 845 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/09/Githubçš„webhooksç½‘ç«™è‡ªåŠ¨åŒ–éƒ¨ç½²/">Githubçš„webhooksç½‘ç«™è‡ªåŠ¨åŒ–éƒ¨ç½²</a>
            
        </h1>
        <div class="content">
            <h1 id="Githubçš„webhooksè¿›è¡Œç½‘ç«™è‡ªåŠ¨åŒ–éƒ¨ç½²"><a href="#Githubçš„webhooksè¿›è¡Œç½‘ç«™è‡ªåŠ¨åŒ–éƒ¨ç½²" class="headerlink" title="Githubçš„webhooksè¿›è¡Œç½‘ç«™è‡ªåŠ¨åŒ–éƒ¨ç½²"></a>Githubçš„webhooksè¿›è¡Œç½‘ç«™è‡ªåŠ¨åŒ–éƒ¨ç½²</h1><p><img src="/images/2019/09/09/bb535690-d292-11e9-9a4a-2f1c09bb03b0.png" alt="image.png"></p>
<p>ç›¸ä¿¡å¾ˆå¤šç å†œéƒ½ç©è¿‡äº†Gitï¼Œå¦‚æœå¯¹Gitåªæ˜¯ä¸€çŸ¥åŠè§£ï¼Œå¯ä»¥ç§»æ­¥LVå†™çš„ GITå¸¸ç”¨æ“ä½œæ€»ç»“ï¼Œä¸‹é¢ä»‹ç»åˆ°çš„ä¸€äº›å…³äº Git çš„æ¦‚å¿µå°±ä¸å†èµ˜è¿°ã€‚</p>
<p>ä¸ºå•¥æƒ³å†™è¿™ç¯‡æ–‡ç« ï¼Ÿä¸»è¦æ˜¯å› ä¸ºéƒ¨é—¨æœåŠ¡å™¨å› ä¸ºå®‰å…¨æ€§åŸå› ä¸å…è®¸SCPä¸Šä¼ æ–‡ä»¶è¿›è¡Œåº”ç”¨éƒ¨ç½²ï¼Œç„¶åæœ‰ä¸€äº›åº”ç”¨æ˜¯æ”¾åœ¨Githubä¸Šçš„ï¼Œç„¶åéƒ¨ç½²åº”ç”¨çš„æ­¥éª¤å°±å˜æˆï¼š</p>
<p>1.git clone githubé¡¹ç›® æœ¬åœ°ç›®å½•<br>2.é…ç½®ä¸€ä¸‹åº”ç”¨çš„pm2.jsonå¹¶reload<br>3.Nginxé…ç½®ä¸€ä¸‹åå‘ä»£ç†å¹¶restart</p>
<p>å½“ç„¶å¦‚æœåªæ˜¯ä¸€æ¬¡æ€§éƒ¨ç½²ä¸Šå»å°±ä¸å†ä¿®æ”¹çš„è¯å¹¶æ²¡å•¥é—®é¢˜ï¼Œä½†æ˜¯è¦æ˜¯é¡¹ç›®æŒç»­æ€§ä¿®æ”¹è¿­ä»£çš„è¯ï¼Œå°±æ¯”è¾ƒéº»çƒ¦äº†ï¼Œæˆ‘ä»¬å°±åœ¨ä¸æ–­çš„é‡å¤ç€ä¸Šé¢çš„æ­¥éª¤ã€‚ä½œä¸ºä¸€ä¸ªç å†œï¼Œæ€ä¹ˆå…è®¸ä¸æ–­çš„é‡å¤åŒæ ·çš„å·¥ä½œï¼Œäºæ˜¯Github webhooksé—ªäº®ç™»åœºã€‚</p>
<h1 id="å…³äºGithub-webhooks"><a href="#å…³äºGithub-webhooks" class="headerlink" title="å…³äºGithub webhooks"></a>å…³äºGithub webhooks</h1><ul>
<li>å¿…é¡»æ˜¯Githubä¸Šé¢çš„é¡¹ç›®</li>
<li>è®¢é˜…äº†ç¡®å®šçš„äº‹ä»¶ï¼ˆåŒ…æ‹¬push/pullç­‰å‘½ä»¤ï¼‰</li>
<li>è‡ªåŠ¨è§¦å‘</li>
</ul>
<p>åˆšå¥½ç¬¦åˆäº†è¿™å‡ ä¸ªæ¡ä»¶ï¼Œé‚£æ¥ä¸‹æ¥å°±çœ‹çœ‹å¦‚ä½•è¿›è¡Œç½‘ç«™è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œä¸»è¦ä¼šä»ä¸‹é¢å‡ ç‚¹æ¥è®²è§£ï¼š</p>
<ol>
<li>è‡ªåŠ¨åŒ–shellè„šæœ¬</li>
<li>æœåŠ¡ç«¯å®ç°</li>
<li>é…ç½®github webhooks</li>
</ol>
<h1 id="è‡ªåŠ¨åŒ–è„šæœ¬"><a href="#è‡ªåŠ¨åŒ–è„šæœ¬" class="headerlink" title="è‡ªåŠ¨åŒ–è„šæœ¬"></a>è‡ªåŠ¨åŒ–è„šæœ¬</h1><p><code>auto_build.sh</code></p>
<figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span>! /bin/bash</span><br><span class="line">SITE_PATH='/root/nginx/www'</span><br><span class="line">cd $SITE_PATH</span><br><span class="line">git reset --hard origin/master</span><br><span class="line">git clean -f</span><br><span class="line">git pull</span><br><span class="line">git checkout master</span><br></pre></td></tr></table></figure>

<p>Note: åœ¨æ‰§è¡Œä¸Šé¢shellè„šæœ¬ä¹‹å‰æˆ‘ä»¬å¿…é¡»ç¬¬ä¸€æ¬¡æ‰‹åŠ¨git cloneé¡¹ç›®è¿›å»</p>
<h1 id="æœåŠ¡ç«¯å®ç°"><a href="#æœåŠ¡ç«¯å®ç°" class="headerlink" title="æœåŠ¡ç«¯å®ç°"></a>æœåŠ¡ç«¯å®ç°</h1><p>Github webhookséœ€è¦è·Ÿæˆ‘ä»¬çš„æœåŠ¡å™¨è¿›è¡Œé€šä¿¡ï¼Œç¡®ä¿æ˜¯å¯ä»¥æ¨é€åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨ï¼Œæ‰€ä»¥ä¼šå‘é€ä¸€ä¸ªå¸¦æœ‰X-Hub-Signatureçš„POSTè¯·æ±‚ï¼Œä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬ç›´æ¥ç”¨ç¬¬ä¸‰æ–¹çš„åº“github-webhook-handleræ¥æ¥æ”¶å‚æ•°å¹¶ä¸”åšç›‘å¬äº‹ä»¶çš„å¤„ç†ç­‰å·¥ä½œã€‚</p>
<figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i github-webhook-handler -S</span><br></pre></td></tr></table></figure>

<p><code>index.js</code></p>
<figure class="highlight js hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>);</span><br><span class="line"><span class="hljs-keyword">var</span> spawn = <span class="hljs-built_in">require</span>(<span class="hljs-string">'child_process'</span>).spawn;</span><br><span class="line"><span class="hljs-keyword">var</span> createHandler = <span class="hljs-built_in">require</span>(<span class="hljs-string">'github-webhook-handler'</span>);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ä¸‹é¢å¡«å†™çš„myscrectè·Ÿgithub webhooksé…ç½®ä¸€æ ·ï¼Œä¸‹ä¸€æ­¥ä¼šè¯´ï¼›pathæ˜¯æˆ‘ä»¬è®¿é—®çš„è·¯å¾„</span></span><br><span class="line"><span class="hljs-keyword">var</span> handler = createHandler(&#123; <span class="hljs-attr">path</span>: <span class="hljs-string">'/auto_build'</span>, <span class="hljs-attr">secret</span>: <span class="hljs-string">''</span> &#125;);</span><br><span class="line"></span><br><span class="line">http.createServer(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">req, res</span>) </span>&#123;</span><br><span class="line">  handler(req, res, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>&#123;</span><br><span class="line">    res.statusCode = <span class="hljs-number">404</span>;</span><br><span class="line">    res.end(<span class="hljs-string">'no such location'</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;).listen(<span class="hljs-number">6666</span>);</span><br><span class="line"></span><br><span class="line">handler.on(<span class="hljs-string">'error'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'Error:'</span>, err.message)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ç›‘å¬åˆ°pushäº‹ä»¶çš„æ—¶å€™æ‰§è¡Œæˆ‘ä»¬çš„è‡ªåŠ¨åŒ–è„šæœ¬</span></span><br><span class="line">handler.on(<span class="hljs-string">'push'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Received a push event for %s to %s'</span>,</span><br><span class="line">    event.payload.repository.name,</span><br><span class="line">    event.payload.ref);</span><br><span class="line"></span><br><span class="line">  runCommand(<span class="hljs-string">'sh'</span>, [<span class="hljs-string">'auto_build.sh'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> txt </span>)</span>&#123;</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(txt);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">runCommand</span>(<span class="hljs-params"> cmd, args, callback </span>)</span>&#123;</span><br><span class="line">    <span class="hljs-keyword">var</span> child = spawn( cmd, args );</span><br><span class="line">    <span class="hljs-keyword">var</span> response = <span class="hljs-string">''</span>;</span><br><span class="line">    child.stdout.on(<span class="hljs-string">'data'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> buffer </span>)</span>&#123; resp += buffer.toString(); &#125;);</span><br><span class="line">    child.stdout.on(<span class="hljs-string">'end'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123; callback( resp ) &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ç”±äºæˆ‘ä»¬ä¸éœ€è¦ç›‘å¬issuesï¼Œæ‰€ä»¥ä¸‹é¢ä»£ç æ³¨é‡Šæ‰</span></span><br><span class="line"><span class="hljs-comment">//  handler.on('issues', function (event) &#123;</span></span><br><span class="line"><span class="hljs-comment">//    console.log('Received an issue event for %s action=%s: #%d %s',</span></span><br><span class="line"><span class="hljs-comment">//      event.payload.repository.name,</span></span><br><span class="line"><span class="hljs-comment">//      event.payload.action,</span></span><br><span class="line"><span class="hljs-comment">//      event.payload.issue.number,</span></span><br><span class="line"><span class="hljs-comment">//      event.payload.issue.title)</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h1 id="é…ç½®github-webhooks"><a href="#é…ç½®github-webhooks" class="headerlink" title="é…ç½®github webhooks"></a>é…ç½®github webhooks</h1><p><img src="/images/2019/09/09/3f507120-d294-11e9-9a4a-2f1c09bb03b0.png" alt="image.png"></p>
<h1 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h1><p>ä¸Šé¢å°±æ˜¯åˆ©ç”¨Github webhooksè¿›è¡Œç½‘ç«™è‡ªåŠ¨åŒ–éƒ¨ç½²çš„å…¨éƒ¨å†…å®¹äº†ï¼Œä¸éš¾å‘ç°å…¶å®è¿™é¡¹æŠ€æœ¯è¿˜æ˜¯æœ‰å±€é™æ€§çš„ï¼Œé‚£å°±æ˜¯ä¾èµ–äºgithubï¼Œä¸€èˆ¬æˆ‘ä»¬é€‰æ‹©çš„éƒ½æ˜¯å…è´¹githubè´¦å·ï¼Œæ‰€æœ‰é¡¹ç›®éƒ½å¯¹å¤–ï¼Œä¸€äº›æ•æ„Ÿé¡¹ç›®æ˜¯ä¸é€‚åˆæ”¾ç½®ä¸Šå»çš„ã€‚</p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-08T23:20:36.000Z">2019-09-09</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/æ–‡ç« /">æ–‡ç« </a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 379 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/09/ç­éœ¸è„šæœ¬/">ç­éœ¸è„šæœ¬</a>
            
        </h1>
        <div class="content">
            <h1 id="Thanos-sh"><a href="#Thanos-sh" class="headerlink" title="Thanos.sh"></a>Thanos.sh</h1><p>This command could <del>delete</del> list half your files randomly.</p>
<p>donâ€™t use it at home and other places. this is a real gun, use it wiselyâ€¦ </p>
<p>feel free to post your story on <figure class="highlight plain hljs"><figcaption><span>waiting.</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># ç­éœ¸è„šæœ¬</span><br><span class="line">è¿™ä¸ªå‘½ä»¤ä¼šéšæœºâ€œåˆ æ‰â€æ‚¨ä¸€åŠçš„æ–‡ä»¶ã€‚ã€‚</span><br><span class="line"></span><br><span class="line">è¯·ä¸è¦åœ¨å®¶é‡Œæˆ–å…¶ä»–åœ°æ–¹ä½¿ç”¨ã€‚è¿™æ˜¯çœŸå®¶ä¼™ï¼Œè¦å°å¿ƒâ€¦</span><br><span class="line"></span><br><span class="line">ä½ å¯ä»¥åœ¨```Story.md```æ–‡ä»¶é‡Œå‘å¸ƒä½ çš„æ•…äº‹ï¼ŒæœŸå¾…ä¸­â€¦</span><br><span class="line"> </span><br><span class="line"> ## ç‰¹åˆ«è¯´æ˜</span><br><span class="line"> &gt; 1. æ”¯æŒmacç³»ç»Ÿï¼Œä½†æ˜¯éœ€è¦ä½¿ç”¨åˆ°```gshuf```å‘½ä»¤ï¼Œéœ€è¦é€šè¿‡```brew```å®‰è£…,å®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</span><br><span class="line">```shell</span><br><span class="line">    #å®‰è£…brew</span><br><span class="line">    /usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</span><br><span class="line">    #å®‰è£…gshuf</span><br><span class="line">    brew install coreutils</span><br><span class="line">`</span><br></pre></td></tr></table></figure></p>
<blockquote>
<ol start="2">
<li>æ­¤è„šæœ¬åªä¼šåˆ—å‡ºå½“å‰ç›®å½•ä¸€åŠçš„æ–‡ä»¶ã€‚å¹¶ä¸”ã€‚ã€‚ã€‚æ€»ä¹‹å°å¿ƒç‚¹ã€‚ã€‚ã€‚  </li>
</ol>
</blockquote>
<h2 id="Invoke-Thanos-ps1"><a href="#Invoke-Thanos-ps1" class="headerlink" title="Invoke-Thanos.ps1"></a>Invoke-Thanos.ps1</h2><p>Invokes Thanos to remove each object with probability 1/2. It works with files, registry, environment variables, functions, variables, aliases and certificates.</p>
<p>For help, use <code>Get-Help .\Invoke-Thanos.ps1</code>. Be sure to not actually invoke it!</p>
<figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">!/bin/sh</span></span><br><span class="line">let "i=`find . -type f | wc -l`/2";</span><br><span class="line">if [[ uname=="Darwin" ]]; then</span><br><span class="line">    find . -not -name "Thanos.sh" -type f -print0 | gshuf -z -n $i | xargs -0  -- cat;</span><br><span class="line">else</span><br><span class="line">    find . -not -name "Thanos.sh" -type f -print0 | shuf -z -n $i | xargs -0  -- cat;</span><br><span class="line">fi</span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> Explaination</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment"># Step 1: Get the count of files in current path divided by two.</span></span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment"># Step 2: Get all the files in current path and print in one line.</span></span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment"># Step 3: Turn half of the second step output into standard input randomly.</span></span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment"># Step 4: Show half of the files in terminal.</span></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> Key Point</span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"><span class="hljs-comment"># If you want to make delete, what you need to do is turn 'cat' into 'rm'.</span></span></span><br></pre></td></tr></table></figure>

<p>æœ¬äººåœ¨çº¿ä¸ŠæœåŠ¡å™¨ä¸Šè¿è¡Œäº†ä¸€æ¬¡ï¼Œâ€¦</p>
<p><img src="/images/2019/09/09/e0b9df90-d282-11e9-8020-8926e04ad9bb.png" alt="image.png"></p>
<p><img src="/images/2019/09/09/5aa65630-d283-11e9-937d-fb9e8ca7078f.png" alt="image.png"></p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-08T13:35:18.000Z">2019-09-08</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/æ–‡ç« /">æ–‡ç« </a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    15 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 2279 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/08/æ•°æ®åº“å¤‡ä»½æ¢å¤å®¹å™¨åŒ–é¡¹ç›®å®è·µç»éªŒæ€»ç»“/">æ•°æ®åº“å¤‡ä»½æ¢å¤å®¹å™¨åŒ–é¡¹ç›®å®è·µç»éªŒæ€»ç»“</a>
            
        </h1>
        <div class="content">
            <h1 id="æ•°æ®åº“å¤‡ä»½æ¢å¤å®¹å™¨åŒ–é¡¹ç›®å®è·µç»éªŒæ€»ç»“"><a href="#æ•°æ®åº“å¤‡ä»½æ¢å¤å®¹å™¨åŒ–é¡¹ç›®å®è·µç»éªŒæ€»ç»“" class="headerlink" title="æ•°æ®åº“å¤‡ä»½æ¢å¤å®¹å™¨åŒ–é¡¹ç›®å®è·µç»éªŒæ€»ç»“"></a>æ•°æ®åº“å¤‡ä»½æ¢å¤å®¹å™¨åŒ–é¡¹ç›®å®è·µç»éªŒæ€»ç»“</h1><blockquote>
<p>æœ¬æ–‡åˆ†äº«äº†å”¯å“ä¼šæ•°æ®åº“Dockerçš„å¼‚åœ°å®¹ç¾é¡¹ç›®å®è·µç»éªŒï¼Œé¡¹ç›®ä¸­é’ˆå¯¹ç”¨æˆ·æ•°æ®åº“çš„å¼‚åœ°æ¢å¤åœºæ™¯çš„éœ€æ±‚è¿›è¡Œå¼€å‘å’Œæµ‹è¯•ï¼Œæ•´åˆäº†ç½‘ç»œï¼Œå­˜å‚¨ã€è°ƒåº¦ã€ç›‘æ§ï¼Œé•œåƒç­‰å¤šä¸ªæ¨¡å—ã€‚åœ¨å®æ–½å®Œæˆåï¼Œä»æŠ€æœ¯ä¸Šæ€»ç»“å…³äºé€‰å‹ã€å¼€å‘ã€è¸©å‘ã€æµ‹è¯•ç­‰æ–¹é¢çš„ç»éªŒã€‚</p>
</blockquote>
<h1 id="é¡¹ç›®èƒŒæ™¯"><a href="#é¡¹ç›®èƒŒæ™¯" class="headerlink" title="é¡¹ç›®èƒŒæ™¯"></a>é¡¹ç›®èƒŒæ™¯</h1><p>æ•°æ®åº“Dockerçš„å¼‚åœ°å¤‡ä»½æ¢å¤å®¹ç¾é¡¹ç›®ï¼Œé’ˆå¯¹ç”¨æˆ·æ•°æ®åº“çš„å¼‚åœ°å¤‡ä»½æ¢å¤åœºæ™¯çš„éœ€æ±‚è¿›è¡Œå¼€å‘å’Œæµ‹è¯•ï¼Œæ•´åˆäº†å®¹å™¨ç½‘ç»œã€å­˜å‚¨ã€è°ƒåº¦ã€ç›‘æ§ã€é•œåƒç­‰å¤šä¸ªæ¨¡å—ã€‚åŒæ—¶é’ˆå¯¹æ•°æ®åº“çš„æ—¥å¸¸è¿ç»´å·¥ä½œå¼€å‘äº†ç›‘æ§ã€èµ„æºè°ƒåº¦ã€æ—¥å¿—ã€Puppetè‡ªåŠ¨æ¨é€ç­‰å·¥å…·ã€‚</p>
<p>é€šè¿‡Dockerå¤©ç”Ÿéš”ç¦»æ€§å’Œå¿«é€Ÿéƒ¨ç½²ç­‰ç‰¹ç‚¹ï¼Œå®ç°åœ¨å•å°ç‰©ç†æœºä¸Šè¿è¡Œå¤šä¸ªæ•°æ®åº“å¤‡ä»½/æ¢å¤å®ä¾‹ï¼Œå¤§å¤§æé«˜æœåŠ¡å™¨ä½¿ç”¨ç‡ï¼ŒèŠ‚çœå¤§é‡æˆæœ¬ã€‚é€šè¿‡å¯¹Dockeræœ¬èº«å’Œç›¸å…³ç»„ä»¶çš„ç ”ç©¶å’Œæ”¹é€ ï¼Œä»æ™®é€šå¼€æºäº§å“è½åœ°åˆ°å…¬å¸å†…éƒ¨ç”Ÿäº§ç¯å¢ƒï¼Œç§¯ç´¯å®è´µçš„å¼€å‘ç»éªŒã€‚é€šè¿‡å¯¹Dockerå·²ç»åœ¨å…¶ä¸Šå±‚è¿è¡Œçš„æ•°æ®åº“æ—¥å¸¸è¿ç»´å’Œç›‘æ§ï¼Œä¹Ÿç§¯ç´¯å®è´µçš„Dockerè¿ç»´ç»éªŒï¼Œä¸ºæ›´å¤§è§„æ¨¡æ¨å¹¿å®¹å™¨æä¾›åŸºç¡€ã€‚</p>
<p><img src="/images/2019/09/08/9adb4490-d23d-11e9-ad11-3306f19b341f.png" alt="image.png"></p>
<h1 id="å…³äºå®¹å™¨æŠ€æœ¯"><a href="#å…³äºå®¹å™¨æŠ€æœ¯" class="headerlink" title="å…³äºå®¹å™¨æŠ€æœ¯"></a>å…³äºå®¹å™¨æŠ€æœ¯</h1><p>é€šè¿‡å®è·µï¼Œè¯æ˜å®¹å™¨æŠ€æœ¯åœ¨æ˜“ç”¨æ€§ï¼Œå¯ç®¡ç†æ€§ï¼Œå¿«é€Ÿéƒ¨ç½²å…·å¤‡å¤©ç„¶çš„ä¼˜åŠ¿ã€‚åœ¨èµ„æºåˆ©ç”¨ç‡æ–¹é¢ï¼Œå®¹å™¨éƒ¨ç½²åœ¨ä¸Šç™¾ä¸ªç‰©ç†èŠ‚ç‚¹ä¸Šï¼Œæä¾›çº¦500å¤šä¸ªæ•°æ®åº“ç¾å¤‡å®ä¾‹ï¼Œæå‡äº†ç¡¬ä»¶èµ„æºçš„åˆ©ç”¨ç‡ï¼ŒèŠ‚çº¦äº†çº¦400å°ç‰©ç†æœºçš„é‡‡è´­æˆæœ¬ã€‚è¿™äº›æ˜¯å®¹å™¨æŠ€æœ¯å¸¦æ¥çš„å®å®åœ¨åœ¨æ”¶ç›Šã€‚åœ¨èµ„æºåˆ†é…ä¸éš”ç¦»æ–¹é¢ï¼Œåˆä¸è¾“äºè™šæ‹Ÿæœºã€‚CPUã€å†…å­˜ã€ç£ç›˜IOã€ç½‘ç»œIOé™æµç­‰æŠ€æœ¯çš„åº”ç”¨ï¼Œä¿è¯äº†èµ„æºçš„åˆç†ä½¿ç”¨ï¼Œä»æœºåˆ¶ä¸Šé˜»æ­¢äº†å•ä¸€å®ä¾‹çš„èµ„æºè¿‡åˆ†æ¶ˆè€—çš„é—®é¢˜ã€‚</p>
<p>ç¨³å®šæ€§æ˜¯ä½¿ç”¨å®¹å™¨æŠ€æœ¯éå¸¸å…³æ³¨çš„ä¸€ä¸ªç‚¹ï¼Œä¹Ÿæ˜¯åŸºçŸ³ã€‚MySQLå¤‡ä»½/æ¢å¤å±äºCPUå¯†é›† + ç£ç›˜IOå¯†é›† + ç½‘ç»œIOå¯†é›†å‹ä¸šåŠ¡ï¼Œå¯¹äºDocker daemonæ˜¯ä¸ªè¾ƒå¤§çš„è€ƒéªŒã€‚å°±ç›®å‰æ¥çœ‹ï¼Œé™åˆ¶æ¯å°å®¿ä¸»æœºçš„å®¹å™¨æ•°é‡ï¼ˆ5ä¸ªå·¦å³ï¼‰çš„æƒ…å†µä¸‹ï¼Œé›†ç¾¤è·‘äº†ä¸‰ä¸ªå¤šæœˆæ²¡æœ‰å‡ºç°å› ä¸ºå®¹å™¨è´Ÿè½½è¿‡å¤§å¯¼è‡´çš„crashç°è±¡ï¼Œè¿˜æ˜¯å€¼å¾—ä¿¡èµ–çš„ã€‚é‡åˆ°çš„å”¯ä¸€ç›¸å…³é—®é¢˜æ˜¯Docker daemonæŒ‚æ­»ï¼Œå…·ä½“ç°è±¡æ˜¯docker infoã€docker psæ²¡æœ‰å“åº”ï¼Œdocker volumeã€docker images æ­£å¸¸ï¼Œä¸‹é¢çš„å®¹å™¨è¿è¡Œæ­£å¸¸ã€‚è¿™æ˜¯å¶å‘äº‹ä»¶ï¼Œæ— æ³•é‡ç°ï¼Œä»¥åéœ€è¦ç»§ç»­è§‚å¯Ÿã€‚</p>
<p>ç”±äºå®¹å™¨ä»¥è¿›ç¨‹æ–¹å¼å­˜åœ¨ï¼Œä½“ç°å‡ºå‡ ä¹ä¸ç‰©ç†æœºä¸Šç›¸å½“çš„æ€§èƒ½ï¼ŒOverheadsæä½ï¼ˆä½äº10%ï¼‰ã€‚ä»æ•°æ®æŠ½å–ä»»åŠ¡çš„ç»“æœæ¥çœ‹ï¼Œä¸ç‰©ç†æœºç›¸æ¯”ï¼Œä½¿ç”¨å®¹å™¨å¯¹æˆåŠŸç‡æ²¡æœ‰å½±å“ï¼Œæ•ˆç‡ä¹Ÿå·®ä¸å¤šã€‚è¿™ä¹Ÿå¾ˆç¬¦åˆæœ€åˆé¢„æƒ³ï¼Œä¸ç®¡è·‘å®¹å™¨è¿˜æ˜¯å¤–éƒ¨æœåŠ¡ä»ç‰©ç†æœºè§’åº¦æ¥è¯´å®ƒä»¬ä¹‹é—´æ˜¯æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«çš„ï¼Œéƒ½æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œå”¯ä¸€ä¸åŒæ˜¯çˆ¶è¿›ç¨‹ä¸ä¸€æ ·è€Œå·²ã€‚</p>
<p>ä»¥ä¸Šæ˜¯å®¹å™¨â€œRUNâ€å¸¦æ¥çš„å¥½å¤„ï¼Œé€šè¿‡ç»Ÿä¸€å¼€å‘æµç¨‹ï¼Œåº”ç”¨å¾®æœåŠ¡åŒ–ï¼ŒCI/CDç­‰æ–¹é¢çš„æ”¹è¿›ï¼Œèƒ½å¤Ÿè¿›ä¸€æ­¥åˆ©ç”¨å®¹å™¨â€œBUILDâ€ã€â€œSHIPâ€ ä¼˜åŠ¿ï¼Œå®¹å™¨æŠ€æœ¯è¿˜æ¥çš„æ½œåŠ›æ˜¯å·¨å¤§çš„ã€‚è¦è¯´å®¹å™¨æŠ€æœ¯çš„ç¼ºç‚¹ï¼Œè¿˜çœŸçš„ä¸æ˜æ˜¾ã€‚ç¡¬è¦æçš„è¯ä¸€ä¸ªæ˜¯éœ€è¦ä¸€å®šçš„å­¦ä¹ æˆæœ¬ï¼Œæ”¹å˜å¼€å‘æµç¨‹ä¸æ–¹å¼ï¼Œä¸€ä¸ªæ˜¯å¼€å‘äººå‘˜å¯¹å®¹å™¨æŠ€æœ¯çš„æ¥å—ç¨‹åº¦ã€‚è¿™ä¸ªé¡¹ç›®ä»…ç”¨äº†ä¸åˆ°äºŒç™¾äºº/å¤©ï¼Œå¯¹äºä¸€ä¸ªé‡‡ç”¨æ–°æŠ€æœ¯çš„é¡¹ç›®æ¥è¯´ï¼ŒçœŸçš„æ˜¯å¾ˆä½çš„äº†ã€‚ä¸€å¼€å§‹æˆ‘ä»¬ä¹Ÿæ‹…å¿ƒå› ä¸ºé‡‡ç”¨æ–°æŠ€æœ¯å¯¼è‡´å¼€å‘æ¨å¹¿æœ‰å›°éš¾ï¼Œåæ¥å®é™…èƒ½é€šè¿‡æŠ€æœ¯ä¸Šè§£å†³é—®é¢˜ï¼Œæ‰“æ¶ˆäº†å¤§éƒ¨åˆ†ç”¨æˆ·å¯¹ä½¿ç”¨Dockerçš„ç–‘è™‘ï¼Œåè€Œæœ‰åŠ©äºè¯¥æŠ€æœ¯çš„æ™®éåº”ç”¨ã€‚</p>
<p>å…³äºDocker daemonç‰ˆæœ¬çš„é€‰æ‹©ï¼Œæˆ‘ä»¬ä¹‹å‰æ˜¯æœ‰è¿‡ä¸€äº›è®¨è®ºçš„ã€‚ç°åœ¨Dockerç¤¾åŒºéå¸¸æ´»è·ƒï¼Œå½“æ—¶æˆ‘ä»¬ç”¨1.10.3ï¼Œ åˆ°ç°åœ¨å·²ç»å‡ºäº†ä¸¤ä¸ªæ–°ç‰ˆæœ¬äº†ã€‚åœ¨åŠŸèƒ½æ»¡è¶³çš„å‰æä¸‹ï¼Œç¨³å®šæ€§æ˜¯ç¬¬ä¸€è€ƒé‡ã€‚Dockerè‡ª1.9.0å¼•å…¥CNMç½‘ç»œæ¨¡å‹ï¼Œ1.10ç®—æ˜¯æ¯”è¾ƒæˆç†Ÿã€‚CNMæ˜¯æˆ‘ä»¬å¸Œæœ›åœ¨è¿™ä¸ªé¡¹ç›®å°è¯•çš„ä¸€éƒ¨åˆ†ã€‚ç½‘ç»œä¸Volumeæ’ä»¶åŠŸèƒ½ä¸ç¨³å®šæ€§çš„æå‡ï¼Œå¼€å§‹æ”¯æŒç£ç›˜IOè¯»å†™é™é€Ÿï¼ŒDevice Mapperçš„æ”¯æŒï¼Œç­‰ç­‰ï¼Œéƒ½æ˜¯é€‰æ‹©äº†è¿™ä¸ªç‰ˆæœ¬çš„åŸå› ã€‚å¦å¤–ï¼ŒDockeræ’ä»¶çš„å¼•å…¥ï¼Œå¾ˆå¥½åœ°è§£è€¦äº†Dockerä¸åº•å±‚æ¨¡å—çš„å…³ç³»ï¼Œä½¿æˆ‘ä»¬å¯ä»¥ä¸“æ³¨äºåº•å±‚ï¼ˆç½‘ç»œã€å­˜å‚¨ï¼‰å®ç°è€Œä¸éœ€è¦ä¿®æ”¹Docker daemonæœ¬èº«ï¼ŒåŒæ—¶é¿å…äº§ç”Ÿå‡çº§ä¾èµ–ã€‚</p>
<h1 id="å…³äºå®¹å™¨å­˜å‚¨"><a href="#å…³äºå®¹å™¨å­˜å‚¨" class="headerlink" title="å…³äºå®¹å™¨å­˜å‚¨"></a>å…³äºå®¹å™¨å­˜å‚¨</h1><p>å®¹å™¨å¤–éƒ¨å·ä½¿ç”¨Convoyï¼Œä»¥æ’ä»¶çš„å½¢å¼æ”¯æŒå®¹å™¨æŒä¹…åŒ–æ•°æ®ã€‚å®¹å™¨æœ¬èº«ä¸å¤–éƒ¨å·å‡ä½¿ç”¨Device Mapperä½œä¸ºåº•å±‚ã€‚æ²¡æœ‰é€‰æ‹©åˆ†å¸ƒå¼å­˜å‚¨åŸå› ï¼Œä¸»è¦æ˜¯ä¸ºäº†ç®€åŒ–å®ç°ï¼Œæ›´ç¨³å®šã€‚é€šè¿‡é™åˆ¶æ¯ä¸ªå®¹å™¨çš„BlkioDeviceReadBpsã€BlkioDeviceWriteBpsã€BlkioDeviceReadIOpsã€BlkioDeviceWriteIOpsï¼Œä½¿ç£ç›˜IOç¨³å®šåœ°è¾¾åˆ°ç›¸å½“äº95%ç‰©ç†æœºæ€§èƒ½ã€‚</p>
<p><img src="/images/2019/09/08/b8684530-d23d-11e9-ad11-3306f19b341f.png" alt="image.png"></p>
<p>å¯¹äºDevice Mapperï¼Œå› ä¸ºæ˜¯çº¢å¸½æ¨èçš„ï¼Œè€ŒOSåˆæ˜¯ç”¨çš„CentOS7.2, æ‰€ä»¥å°±ç”¨äº†å®ƒã€‚æµ‹è¯•è¿‡ç¨‹ä¸­å‘ç°Device Mapperå¥å£®æ€§ä¸æ˜¯å¾ˆå¥½ï¼Œä»…ä»…åœ¨ä½å¹¶å‘ä¸‹ï¼Œä¹Ÿä¼šå‡ºç°å®¹å™¨åˆ é™¤å¤±è´¥çš„æƒ…å†µï¼Œå®¹å™¨å¹¶å‘å¯åœå¶å°”å‡ºç°æ‰¾ä¸åˆ°è®¾å¤‡çš„æƒ…å†µã€‚è¿™ç§ä½¿ç”¨æ˜ å°„å…³ç³»çš„è®¾å¤‡ï¼ŒåŠŸèƒ½æ˜¯ä¸°å¯Œï¼Œå®ç°ä¸Šè¿‡äºå¤æ‚ï¼Œæ¯æ¬¡å¯¹è®¾å¤‡çš„ä¿®æ”¹éƒ½éœ€è¦é¢å¤–å»æ›´æ–°Metadataï¼Œå¹¶å‘åœºæ™¯å‡ºé”™çš„æœºä¼šå°±å¤§äº†ã€‚è®©æˆ‘å†é€‰çš„è¯æˆ‘ä¼šè€ƒè™‘Overlayè¿™ç§æ›´ç®€å•çš„driverã€‚</p>
<p>å¯¹äºConvoyï¼Œæ˜¯æ¥è‡ªRancherçš„äº§å“ï¼ŒGoè¯­è¨€ï¼Œä»ç„¶å¤„äºæœªæˆç†Ÿé˜¶æ®µï¼Œç‰ˆæœ¬å·0.5, å¹¶æ²¡æœ‰å®Œå…¨å®ç°Volume Pluginæ¥å£ã€‚ç›¸æ¯”å…¶å®ƒæ¨¡å—å®ƒçš„é—®é¢˜ä¹Ÿæ˜¯æœ€å¤šçš„ï¼Œä¾‹å¦‚Volumeåˆ›å»ºå¤±è´¥ï¼Œæ— æ³•åˆ é™¤ï¼ŒUNIX Socketæ³„æ¼ï¼Œé‡åå†²çªï¼Œå¼‚å¸¸è‡ªåŠ¨é€€å‡ºç­‰ã€‚å±äºèƒ½ç”¨ï¼Œä½†æœªå®Œå–„çš„çŠ¶æ€ï¼Œä½ è‡ªå·±å¾—æœ‰ä¸€å®šå¼€å‘è°ƒè¯•èƒ½åŠ›å»è§£å†³å‘ç°çš„é—®é¢˜ã€‚å…¶å®ƒå‡ ä¸ªå­˜å‚¨æ’ä»¶æƒ…å†µä¹Ÿå·®ä¸å¤šï¼ŒFlockerã€Blockbridgeã€Horcruxç­‰ç­‰ï¼Œæœ‰çš„è¿ç¬¬ä¸€ä¸ªæ­£å¼å‘å¸ƒç‰ˆéƒ½è¿˜æ²¡æœ‰ï¼ŒConvoyåè€Œç›¸å¯¹å¥½ç‚¹ï¼Œæœ‰ç‚¹çƒ‚æŸ¿å­å †é‡ŒæŒ‘çš„æ„Ÿè§‰ã€‚</p>
<h1 id="å…³äºå®¹å™¨ç›‘æ§"><a href="#å…³äºå®¹å™¨ç›‘æ§" class="headerlink" title="å…³äºå®¹å™¨ç›‘æ§"></a>å…³äºå®¹å™¨ç›‘æ§</h1><p>å®¹å™¨ç›‘æ§åœ¨è¿™ä¸ªé¡¹ç›®é‡Œè¿˜å¯ä»¥æœ‰å¾ˆå¤§çš„ç©ºé—´å¯ä»¥æ”¹è¿›ã€‚é¡¹ç›®é‡Œç”¨çš„æ˜¯cAdvisorï¼Œå®¹å™¨å†…topã€freeã€iostatå‘½ä»¤åŠ«æŒï¼ŒåŸºäºå·²æœ‰çš„Zabbixä½“ç³»ä½œæ•°æ®æ”¶é›†ä¸å±•ç¤ºã€‚ç»“è®ºæ˜¯Zabbixå®Œå…¨ä¸åˆé€‚åšå®¹å™¨ç›‘æ§ï¼Œæ•°æ®æ”¶é›†å¯†åº¦ï¼Œå±•ç¤ºè´¨é‡ï¼Œçµæ´»åº¦éƒ½æ²¡èƒ½æ»¡è¶³éœ€æ±‚ã€‚</p>
<p>åæ¥åœ¨æµ‹è¯•ä¸­å°è¯•ä½¿ç”¨Telegraf + InfluxDB + Grafanaã€‚ åªéœ€è¦Grafanaç®€å•çš„é…ç½®ï¼Œèƒ½å¤Ÿå¸®å¿™æˆ‘ä»¬æ¸…æ™°åœ°å±•ç¤ºå®¹å™¨åŠæœåŠ¡è¿›ç¨‹CPUã€å†…å­˜ã€ç½‘ç»œã€ç£ç›˜ç­‰æƒ…å†µã€‚Grafanaä¸ŠSQLæŸ¥è¯¢è¯­å¥çš„è°ƒè¯•ä¸å¼€å‘ï¼Œç¡®å®éœ€è¦ä¸å°‘çš„æ—¶é—´ï¼Œä½†è¿™ä¸ªå·¥ä½œé‡æ˜¯ä¸€æ¬¡æ€§çš„ã€‚å› ä¸ºæ˜¯Goå†™çš„ï¼ŒTelegraf CPUå ç”¨å±äºæ¯”è¾ƒä½çš„æ°´å¹³ï¼ˆ0.4 â€“ 5%ï¼‰ã€‚åŠŸèƒ½ä¸Šæ¯”è¾ƒä¸°å¯Œï¼ŒåŒæ—¶æ”¯æŒå¤–éƒ¨è¿›ç¨‹ä¸å®¹å™¨çš„æ•°æ®æ”¶é›†ï¼Œå¤šè¾¾55ç§æ•°æ®æºæ’ä»¶ï¼Œæœ‰å®ƒå°±ä¸éœ€è¦å¸ƒcAdvisoräº†ï¼Œä¸ªäººæ¯”è¾ƒæ¨èã€‚éœ€è¦å‘Šè­¦çš„åŒå­¦ï¼Œå¯ä»¥è€ƒè™‘æŠŠinfluxDBæ”¹æˆPrometheusã€‚å®ƒåŒ…å«Alertmanagerå®ç°Emailã€PagerDutyç­‰æ¶ˆæ¯é€šçŸ¥ã€‚æ•°æ®Backendå¯ä»¥é€‰æ‹©è‡ªå¸¦çš„DBï¼Œä¹Ÿå¯ä»¥å¤–æ¥influxDBã€Graphiteã€OpenTSDBç­‰æµè¡Œæ–¹æ¡ˆã€‚</p>
<p><img src="/images/2019/09/08/cd4a2fe0-d23d-11e9-ad11-3306f19b341f.png" alt="image.png"></p>
<p>ç›‘æ§é¢†åŸŸä¸šç•Œå·²ç»æœ‰å¾ˆå¤šå¼€æºæ–¹æ¡ˆå¯ä»¥å‚è€ƒï¼Œä»¥ä¸‹æ˜¯è¦è¡¡é‡çš„æ ‡å‡†ï¼šæ˜“æ‰©å±•ã€å¼€é”€ä½ã€å…¥ä¾µå°ã€å¤§é›†ä¸­ã€æ˜“éƒ¨ç½²ã€å®æ—¶æ€§ã€å±•ç°æ¸…æ™°çµæ´»ã€‚è¿™æ–¹é¢å¸Œæœ›ä¸å„ä½æœ‰æ›´å¤šçš„äº¤æµã€‚</p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-08T03:09:19.000Z">2019-09-08</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/æ–‡ç« /">æ–‡ç« </a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 753 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/08/Electron-vue/">Electron-vue</a>
            
        </h1>
        <div class="content">
            <p><img src="/images/2019/09/08/2c017600-d1e5-11e9-98b8-15e58d7acd49.png" alt="image.png"></p>
<h1 id="Electron-vue"><a href="#Electron-vue" class="headerlink" title="Electron-vue"></a>Electron-vue</h1><blockquote>
<p>åŸºäº vue (åŸºæœ¬ä¸Šæ˜¯å®ƒå¬èµ·æ¥çš„æ ·å­) æ¥æ„é€  electron åº”ç”¨ç¨‹åºçš„æ ·æ¿ä»£ç ã€‚</p>
</blockquote>
<p>ä»€ä¹ˆæ˜¯electron?</p>
<p><img src="/images/2019/09/08/87493a70-d1e5-11e9-98b8-15e58d7acd49.png" alt="image.png"></p>
<p>electronç”±Node.js+Chromium+Native APIsæ„æˆã€‚ä½ å¯ä»¥ç†è§£æˆï¼Œå®ƒæ˜¯ä¸€ä¸ªå¾—åˆ°äº†Node.jså’ŒåŸºäºä¸åŒå¹³å°çš„Native APIsåŠ å¼ºçš„Chromiumæµè§ˆå™¨ï¼Œå¯ä»¥ç”¨æ¥å¼€å‘è·¨å¹³å°çš„æ¡Œé¢çº§åº”ç”¨ã€‚</p>
<p>å®ƒçš„å¼€å‘ä¸»è¦æ¶‰åŠåˆ°ä¸¤ä¸ªè¿›ç¨‹çš„åä½œâ€”â€”Mainï¼ˆä¸»ï¼‰è¿›ç¨‹å’ŒRendererï¼ˆæ¸²æŸ“ï¼‰è¿›ç¨‹ã€‚ç®€å•çš„ç†è§£ä¸¤ä¸ªè¿›ç¨‹çš„ä½œç”¨ï¼š</p>
<ol>
<li>Mainè¿›ç¨‹ä¸»è¦é€šè¿‡Node.jsã€Chromiumå’ŒNative APIsæ¥å®ç°ä¸€äº›ç³»ç»Ÿä»¥åŠåº•å±‚çš„æ“ä½œï¼Œæ¯”å¦‚åˆ›å»ºç³»ç»Ÿçº§åˆ«çš„èœå•ï¼Œæ“ä½œå‰ªè´´æ¿ï¼Œåˆ›å»ºAPPçš„çª—å£ç­‰ã€‚</li>
<li>Rendererè¿›ç¨‹ä¸»è¦é€šè¿‡Chromiumæ¥å®ç°APPçš„å›¾å½¢ç•Œé¢â€”â€”å°±æ˜¯å¹³æ—¶æˆ‘ä»¬ç†Ÿæ‚‰çš„å‰ç«¯å¼€å‘çš„éƒ¨åˆ†ï¼Œä¸è¿‡å¾—åˆ°äº†electronç»™äºˆçš„åŠ å¼ºï¼Œä¸€äº›Nodeçš„æ¨¡å—ï¼ˆæ¯”å¦‚fsï¼‰å’Œä¸€äº›åœ¨3. Mainè¿›ç¨‹é‡Œèƒ½ç”¨çš„ä¸œè¥¿ï¼ˆæ¯”å¦‚Clipboardï¼‰ä¹Ÿèƒ½åœ¨Renderè¿›ç¨‹é‡Œä½¿ç”¨ã€‚<br>Mainè¿›ç¨‹å’ŒRendererè¿›ç¨‹é€šè¿‡<code>ipcMain</code>å’Œ<code>ipcRenderer</code>æ¥è¿›è¡Œé€šä¿¡ã€‚é€šè¿‡äº‹ä»¶ç›‘å¬å’Œäº‹ä»¶æ´¾å‘æ¥å®ç°ä¸¤ä¸ªè¿›ç¨‹é€šä¿¡ï¼Œä»è€Œå®ç°Mainæˆ–è€…Rendererè¿›ç¨‹é‡Œä¸èƒ½å®ç°çš„æŸäº›åŠŸèƒ½ã€‚</li>
</ol>
<h1 id="èµ·æ­¥"><a href="#èµ·æ­¥" class="headerlink" title="èµ·æ­¥"></a>èµ·æ­¥</h1><p>è¯¥æ ·æ¿ä»£ç è¢«æ„å»ºä¸º vue-cli çš„ä¸€ä¸ªæ¨¡æ¿ï¼Œå¹¶ä¸”åŒ…å«å¤šä¸ªé€‰é¡¹ï¼Œå¯ä»¥è‡ªå®šä¹‰ä½ æœ€ç»ˆçš„è„šæ‰‹æ¶ç¨‹åºã€‚æœ¬é¡¹ç›®éœ€è¦ä½¿ç”¨ node@^7 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚electron-vue å®˜æ–¹æ¨è yarn ä½œä¸ºè½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œå› ä¸ºå®ƒå¯ä»¥æ›´å¥½åœ°å¤„ç†ä¾èµ–å…³ç³»ï¼Œå¹¶å¯ä»¥ä½¿ç”¨ yarn clean å¸®åŠ©å‡å°‘æœ€åæ„å»ºæ–‡ä»¶çš„å¤§å°ã€‚</p>
<figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span> å®‰è£… vue-cli å’Œ è„šæ‰‹æ¶æ ·æ¿ä»£ç </span><br><span class="line">npm install -g vue-cli</span><br><span class="line">vue init simulatedgreg/electron-vue my-project</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#</span> å®‰è£…ä¾èµ–å¹¶è¿è¡Œä½ çš„ç¨‹åº</span><br><span class="line">cd my-project</span><br><span class="line">yarn # æˆ–è€… npm install</span><br><span class="line">yarn run dev # æˆ–è€… npm run dev</span><br></pre></td></tr></table></figure>

<h1 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h1><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">my-project</span><br><span class="line">â”œâ”€ .electron-vue</span><br><span class="line">â”‚  â””â”€ &lt;build/development&gt;.js files</span><br><span class="line">â”œâ”€ build</span><br><span class="line">â”‚  â””â”€ icons/</span><br><span class="line">â”œâ”€ dist</span><br><span class="line">â”‚  â”œâ”€ electron/</span><br><span class="line">â”‚  â””â”€ web/</span><br><span class="line">â”œâ”€ node_modules/</span><br><span class="line">â”œâ”€ src</span><br><span class="line">â”‚  â”œâ”€ main</span><br><span class="line">â”‚  â”‚  â”œâ”€ index.dev.js</span><br><span class="line">â”‚  â”‚  â””â”€ index.js</span><br><span class="line">â”‚  â”œâ”€ renderer</span><br><span class="line">â”‚  â”‚  â”œâ”€ components/</span><br><span class="line">â”‚  â”‚  â”œâ”€ router/</span><br><span class="line">â”‚  â”‚  â”œâ”€ store/</span><br><span class="line">â”‚  â”‚  â”œâ”€ App.vue</span><br><span class="line">â”‚  â”‚  â””â”€ main.js</span><br><span class="line">â”‚  â””â”€ index.ejs</span><br><span class="line">â”œâ”€ static/</span><br><span class="line">â”œâ”€ test</span><br><span class="line">â”‚  â”œâ”€ e2e</span><br><span class="line">â”‚  â”‚  â”œâ”€ specs/</span><br><span class="line">â”‚  â”‚  â”œâ”€ index.js</span><br><span class="line">â”‚  â”‚  â””â”€ utils.js</span><br><span class="line">â”‚  â”œâ”€ unit</span><br><span class="line">â”‚  â”‚  â”œâ”€ specs/</span><br><span class="line">â”‚  â”‚  â”œâ”€ index.js</span><br><span class="line">â”‚  â”‚  â””â”€ karma.config.js</span><br><span class="line">â”‚  â””â”€ .eslintrc</span><br><span class="line">â”œâ”€ .babelrc</span><br><span class="line">â”œâ”€ .eslintignore</span><br><span class="line">â”œâ”€ .eslintrc.js</span><br><span class="line">â”œâ”€ .gitignore</span><br><span class="line">â”œâ”€ package.json</span><br><span class="line">â””â”€ README.md</span><br></pre></td></tr></table></figure>

<h1 id="äº§å“æ„å»º"><a href="#äº§å“æ„å»º" class="headerlink" title="äº§å“æ„å»º"></a>äº§å“æ„å»º</h1><figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">app.asar</span><br><span class="line">â”œâ”€ dist</span><br><span class="line">â”‚  â””â”€ electron</span><br><span class="line">â”‚     â”œâ”€ static/</span><br><span class="line">â”‚     â”œâ”€ index.html</span><br><span class="line">â”‚     â”œâ”€ main.js</span><br><span class="line">â”‚     â””â”€ renderer.js</span><br><span class="line">â”œâ”€ node_modules/</span><br><span class="line">â””â”€ package.json</span><br></pre></td></tr></table></figure>

<h1 id="è¿è¡Œæ•ˆæœ"><a href="#è¿è¡Œæ•ˆæœ" class="headerlink" title="è¿è¡Œæ•ˆæœ"></a>è¿è¡Œæ•ˆæœ</h1><p><img src="/images/2019/09/08/092650a0-d1e6-11e9-98b8-15e58d7acd49.png" alt="image.png"></p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-08T02:51:27.000Z">2019-09-08</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/æ–‡ç« /">æ–‡ç« </a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 å°æ—¶ è¯»å®Œ (å¤§çº¦ 14878 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/08/Airbnb-JavaScript-ä»£ç è§„èŒƒ/">Airbnb JavaScript ä»£ç è§„èŒƒ() {</a>
            
        </h1>
        <div class="content">
            <h1 id="Airbnb-JavaScript-ä»£ç è§„èŒƒ"><a href="#Airbnb-JavaScript-ä»£ç è§„èŒƒ" class="headerlink" title="Airbnb JavaScript ä»£ç è§„èŒƒ() {"></a>Airbnb JavaScript ä»£ç è§„èŒƒ() {</h1><p><em>ä¸€ç§å†™JavaScriptæ›´åˆç†çš„ä»£ç é£æ ¼ã€‚</em></p>
<blockquote>
<p><strong>Note</strong>: æœ¬æŒ‡å—å‡è®¾ä½ ä½¿ç”¨äº† <a href="https://babeljs.io" target="_blank" rel="noopener">Babel</a>, å¹¶ä¸”è¦æ±‚ä½ ä½¿ç”¨ <a href="https://npmjs.com/babel-preset-airbnb" target="_blank" rel="noopener">babel-preset-airbnb</a> æˆ–è€…å…¶ä»–åŒç­‰èµ„æºã€‚ å¹¶ä¸”å‡è®¾ä½ åœ¨ä½ çš„åº”ç”¨ä¸­å®‰è£…äº† shims/polyfills ï¼Œä½¿ç”¨<a href="https://npmjs.com/airbnb-browser-shims" target="_blank" rel="noopener">airbnb-browser-shims</a> æˆ–è€…ç›¸åŒåŠŸèƒ½ã€‚</p>
</blockquote>
<p><a href="https://www.npmjs.com/package/eslint-config-airbnb" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/dm/eslint-config-airbnb.svg" alt="Downloads"></a><br><a href="https://www.npmjs.com/package/eslint-config-airbnb-base" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/dm/eslint-config-airbnb-base.svg" alt="Downloads"></a><br><a href="https://gitter.im/airbnb/javascript?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge" target="_blank" rel="noopener"><img src="https://badges.gitter.im/Join%20Chat.svg" alt="Gitter"></a></p>
<!-- æœ¬æŒ‡å—ä¹Ÿæä¾›äº†å…¶ä»–è¯­è¨€çš„ç‰ˆæœ¬ã€‚ æŸ¥çœ‹ [ç¿»è¯‘](#translation) -->

<p>å…¶ä»–ä»£ç é£æ ¼æŒ‡å—</p>
<ul>
<li><a href="https://github.com/airbnb/javascript/tree/es5-deprecated/es5" target="_blank" rel="noopener">ES5 (Deprecated)</a></li>
<li><a href="react/">React</a></li>
<li><a href="css-in-javascript/">CSS-in-JavaScript</a></li>
<li><a href="https://github.com/airbnb/css" target="_blank" rel="noopener">CSS &amp; Sass</a></li>
<li><a href="https://github.com/airbnb/ruby" target="_blank" rel="noopener">Ruby</a></li>
</ul>
<h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a><a id="table-of-contents">ç›®å½•</a></h2><ol>
<li><a href="#types">ç±»å‹</a></li>
<li><a href="#references">å¼•ç”¨</a></li>
<li><a href="#objects">å¯¹è±¡</a></li>
<li><a href="#arrays">æ•°ç»„</a></li>
<li><a href="#destructuring">è§£æ„</a></li>
<li><a href="#strings">å­—ç¬¦</a></li>
<li><a href="#functions">æ–¹æ³•</a></li>
<li><a href="#arrow-functions">ç®­å¤´å‡½æ•°</a></li>
<li><a href="#classes--constructors">ç±»å’Œæ„é€ å™¨</a></li>
<li><a href="#modules">æ¨¡å—</a></li>
<li><a href="#iterators-and-generators">è¿­ä»£å™¨å’Œå‘ç”Ÿå™¨</a></li>
<li><a href="#properties">å±æ€§</a></li>
<li><a href="#variables">å˜é‡</a></li>
<li><a href="#hoisting">æå‡</a></li>
<li><a href="#comparison-operators--equality">æ¯”è¾ƒè¿ç®—ç¬¦å’Œç­‰å·</a></li>
<li><a href="#blocks">å—</a></li>
<li><a href="#control-statements">æ§åˆ¶è¯­å¥</a></li>
<li><a href="#comments">æ³¨é‡Š</a></li>
<li><a href="#whitespace">ç©ºç™½</a></li>
<li><a href="#commas">é€—å·</a></li>
<li><a href="#semicolons">åˆ†å·</a></li>
<li><a href="#type-casting--coercion">ç±»å‹è½¬æ¢å’Œå¼ºåˆ¶ç±»å‹è½¬æ¢</a></li>
<li><a href="#naming-conventions">å‘½åè§„èŒƒ</a></li>
<li><a href="#accessors">å­˜å–å™¨</a></li>
<li><a href="#events">äº‹ä»¶</a></li>
<li><a href="#jquery">jQuery</a></li>
<li><a href="#ecmascript-5-compatibility">ECMAScript 5 å…¼å®¹æ€§</a></li>
<li><a href="#ecmascript-6-es-2015-styles">ECMAScript 6+ (ES 2015+) é£æ ¼</a></li>
<li><a href="#standard-library">æ ‡å‡†åº“</a></li>
<li><a href="#testing">æµ‹è¯•</a></li>
<li><a href="#performance">æ€§èƒ½</a></li>
<li><a href="#resources">èµ„æº</a></li>
<li><a href="#the-javascript-style-guide-guide">JavaScripté£æ ¼æŒ‡å—çš„æŒ‡å—</a></li>
<li><a href="#license">è®¸å¯è¯</a></li>
<li><a href="#amendments">ä¿®æ­£æ¡ˆ</a></li>
</ol>
<h2 id="ç±»å‹"><a href="#ç±»å‹" class="headerlink" title="ç±»å‹"></a><a id="types">ç±»å‹</a></h2><p>  <a name="types--primitives"></a><a name="1.1"></a></p>
<ul>
<li><p><a href="#types--primitives">1.1</a> <strong>åŸå§‹å€¼</strong>: å½“ä½ è®¿é—®ä¸€ä¸ªåŸå§‹ç±»å‹çš„æ—¶å€™ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒçš„å€¼ã€‚</p>
<ul>
<li><code>string</code></li>
<li><code>number</code></li>
<li><code>boolean</code></li>
<li><code>null</code></li>
<li><code>undefined</code></li>
<li><code>symbol</code></li>
</ul>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> foo = <span class="hljs-number">1</span>;</span><br><span class="line"><span class="hljs-keyword">let</span> bar = foo;</span><br><span class="line"></span><br><span class="line">bar = <span class="hljs-number">9</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(foo, bar); <span class="hljs-comment">// =&gt; 1, 9</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Symbols cannot be faithfully polyfilled, so they should not be used when targeting browsers/environments that donâ€™t support them natively.</li>
</ul>
<p><a name="types--complex"></a><a name="1.2"></a></p>
</li>
<li><p><a href="#types--complex">1.2</a>  <strong>å¤æ‚ç±»å‹</strong>: å½“ä½ è®¿é—®ä¸€ä¸ªå¤æ‚ç±»å‹çš„æ—¶å€™ï¼Œä½ éœ€è¦ä¸€ä¸ªå€¼å¾—å¼•ç”¨ã€‚</p>
<ul>
<li><code>object</code></li>
<li><code>array</code></li>
<li><code>function</code></li>
</ul>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> foo = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>];</span><br><span class="line"><span class="hljs-keyword">const</span> bar = foo;</span><br><span class="line"></span><br><span class="line">bar[<span class="hljs-number">0</span>] = <span class="hljs-number">9</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(foo[<span class="hljs-number">0</span>], bar[<span class="hljs-number">0</span>]); <span class="hljs-comment">// =&gt; 9, 9</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a><a id="references">å¼•ç”¨</a></h2><p>  <a name="references--prefer-const"></a><a name="2.1"></a></p>
<ul>
<li><p><a href="#references--prefer-const">2.1</a> ä½¿ç”¨ <code>const</code> å®šä¹‰ä½ çš„æ‰€æœ‰å¼•ç”¨ï¼›é¿å…ä½¿ç”¨ <code>var</code>ã€‚ eslint: <a href="https://eslint.org/docs/rules/prefer-const.html" target="_blank" rel="noopener"><code>prefer-const</code></a>, <a href="https://eslint.org/docs/rules/no-const-assign.html" target="_blank" rel="noopener"><code>no-const-assign</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? è¿™æ ·èƒ½å¤Ÿç¡®ä¿ä½ ä¸èƒ½ä»æ–°åˆ†é…ä½ çš„å¼•ç”¨ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´é”™è¯¯æˆ–è€…äº§ç”Ÿéš¾ä»¥ç†è§£çš„ä»£ç ã€‚.</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;</span><br><span class="line"><span class="hljs-keyword">var</span> b = <span class="hljs-number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> a = <span class="hljs-number">1</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> b = <span class="hljs-number">2</span>;</span><br></pre></td></tr></table></figure>

<p><a name="references--disallow-var"></a><a name="2.2"></a></p>
</li>
<li><p><a href="#references--disallow-var">2.2</a> å¦‚æœä½ å¿…é¡»é‡æ–°åˆ†é…ä½ çš„å¼•ç”¨ï¼Œ ä½¿ç”¨ <code>let</code> ä»£æ›¿ <code>var</code>ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-var.html" target="_blank" rel="noopener"><code>no-var</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? <code>let</code> æ˜¯å—çº§ä½œç”¨åŸŸï¼Œè€Œä¸åƒ <code>var</code> æ˜¯å‡½æ•°ä½œç”¨åŸŸ.</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">var</span> count = <span class="hljs-number">1</span>;</span><br><span class="line"><span class="hljs-keyword">if</span> (<span class="hljs-literal">true</span>) &#123;</span><br><span class="line">  count += <span class="hljs-number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good, use the let.</span></span><br><span class="line"><span class="hljs-keyword">let</span> count = <span class="hljs-number">1</span>;</span><br><span class="line"><span class="hljs-keyword">if</span> (<span class="hljs-literal">true</span>) &#123;</span><br><span class="line">  count += <span class="hljs-number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="references--block-scope"></a><a name="2.3"></a></p>
</li>
<li><p><a href="#references--block-scope">2.3</a> æ³¨æ„ï¼Œlet å’Œ const éƒ½æ˜¯å—çº§èŒƒå›´çš„ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// const å’Œ let åªå­˜åœ¨äºä»–ä»¬å®šä¹‰çš„å—ä¸­ã€‚</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span>;</span><br><span class="line">  <span class="hljs-keyword">const</span> b = <span class="hljs-number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-built_in">console</span>.log(a); <span class="hljs-comment">// ReferenceError</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(b); <span class="hljs-comment">// ReferenceError</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a><a id="object">å¯¹è±¡</a></h2><p>  <a name="objects--no-new"></a><a name="3.1"></a></p>
<ul>
<li><p><a href="#objects--no-new">3.1</a> ä½¿ç”¨å­—é¢è¯­æ³•æ¥åˆ›å»ºå¯¹è±¡ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-new-object.html" target="_blank" rel="noopener"><code>no-new-object</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> item = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> item = &#123;&#125;;</span><br></pre></td></tr></table></figure>

<p><a name="es6-computed-properties"></a><a name="3.4"></a></p>
</li>
<li><p><a href="#es6-computed-properties">3.2</a> åœ¨åˆ›å»ºå…·æœ‰åŠ¨æ€å±æ€§åç§°çš„å¯¹è±¡æ—¶ä½¿ç”¨è®¡ç®—å±æ€§åã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? å®ƒå…è®¸ä½ åœ¨ä¸€ä¸ªåœ°æ–¹å®šä¹‰å¯¹è±¡çš„æ‰€æœ‰å±æ€§ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getKey</span>(<span class="hljs-params">k</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-string">`a key named <span class="hljs-subst">$&#123;k&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> obj = &#123;</span><br><span class="line">  id: <span class="hljs-number">5</span>,</span><br><span class="line">  name: <span class="hljs-string">'San Francisco'</span>,</span><br><span class="line">&#125;;</span><br><span class="line">obj[getKey(<span class="hljs-string">'enabled'</span>)] = <span class="hljs-literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> obj = &#123;</span><br><span class="line">  id: <span class="hljs-number">5</span>,</span><br><span class="line">  name: <span class="hljs-string">'San Francisco'</span>,</span><br><span class="line">  [getKey(<span class="hljs-string">'enabled'</span>)]: <span class="hljs-literal">true</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><a name="es6-object-shorthand"></a><a name="3.5"></a></p>
</li>
<li><p><a href="#es6-object-shorthand">3.3</a> ä½¿ç”¨å¯¹è±¡æ–¹æ³•çš„ç¼©å†™ã€‚ eslint: <a href="https://eslint.org/docs/rules/object-shorthand.html" target="_blank" rel="noopener"><code>object-shorthand</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> atom = &#123;</span><br><span class="line">  value: <span class="hljs-number">1</span>,</span><br><span class="line"></span><br><span class="line">  addValue: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> atom.value + value;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> atom = &#123;</span><br><span class="line">  value: <span class="hljs-number">1</span>,</span><br><span class="line"></span><br><span class="line">  addValue(value) &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> atom.value + value;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><a name="es6-object-concise"></a><a name="3.6"></a></p>
</li>
<li><p><a href="#es6-object-concise">3.4</a> ä½¿ç”¨å±æ€§å€¼çš„ç¼©å†™ã€‚ eslint: <a href="https://eslint.org/docs/rules/object-shorthand.html" target="_blank" rel="noopener"><code>object-shorthand</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? å®ƒçš„å†™æ³•å’Œæè¿°è¾ƒçŸ­ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> lukeSkywalker = <span class="hljs-string">'Luke Skywalker'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> obj = &#123;</span><br><span class="line">  lukeSkywalker: lukeSkywalker,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> obj = &#123;</span><br><span class="line">  lukeSkywalker,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><a name="objects--grouped-shorthand"></a><a name="3.7"></a></p>
</li>
<li><p><a href="#objects--grouped-shorthand">3.5</a> åœ¨å¯¹è±¡å£°æ˜çš„æ—¶å€™å°†ç®€å†™çš„å±æ€§è¿›è¡Œåˆ†ç»„ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? è¿™æ ·æ›´å®¹æ˜“çš„åˆ¤æ–­å“ªäº›å±æ€§ä½¿ç”¨çš„ç®€å†™ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> anakinSkywalker = <span class="hljs-string">'Anakin Skywalker'</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> lukeSkywalker = <span class="hljs-string">'Luke Skywalker'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> obj = &#123;</span><br><span class="line">  episodeOne: <span class="hljs-number">1</span>,</span><br><span class="line">  twoJediWalkIntoACantina: <span class="hljs-number">2</span>,</span><br><span class="line">  lukeSkywalker,</span><br><span class="line">  episodeThree: <span class="hljs-number">3</span>,</span><br><span class="line">  mayTheFourth: <span class="hljs-number">4</span>,</span><br><span class="line">  anakinSkywalker,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> obj = &#123;</span><br><span class="line">  lukeSkywalker,</span><br><span class="line">  anakinSkywalker,</span><br><span class="line">  episodeOne: <span class="hljs-number">1</span>,</span><br><span class="line">  twoJediWalkIntoACantina: <span class="hljs-number">2</span>,</span><br><span class="line">  episodeThree: <span class="hljs-number">3</span>,</span><br><span class="line">  mayTheFourth: <span class="hljs-number">4</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><a name="objects--quoted-props"></a><a name="3.8"></a></p>
</li>
<li><p><a href="#objects--quoted-props">3.6</a> åªä½¿ç”¨å¼•å·æ ‡æ³¨æ— æ•ˆæ ‡è¯†ç¬¦çš„å±æ€§ã€‚ eslint: <a href="https://eslint.org/docs/rules/quote-props.html" target="_blank" rel="noopener"><code>quote-props</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬è®¤ä¸ºè¿™æ ·æ›´å®¹æ˜“é˜…è¯»ã€‚ å®ƒæå‡äº†è¯­æ³•é«˜äº®æ˜¾ç¤ºï¼Œå¹¶ä¸”æ›´å®¹æ˜“é€šè¿‡è®¸å¤š JS å¼•æ“ä¼˜åŒ–ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> bad = &#123;</span><br><span class="line">  <span class="hljs-string">'foo'</span>: <span class="hljs-number">3</span>,</span><br><span class="line">  <span class="hljs-string">'bar'</span>: <span class="hljs-number">4</span>,</span><br><span class="line">  <span class="hljs-string">'data-blah'</span>: <span class="hljs-number">5</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> good = &#123;</span><br><span class="line">  foo: <span class="hljs-number">3</span>,</span><br><span class="line">  bar: <span class="hljs-number">4</span>,</span><br><span class="line">  <span class="hljs-string">'data-blah'</span>: <span class="hljs-number">5</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><a name="objects--prototype-builtins"></a></p>
</li>
<li><p><a href="#objects--prototype-builtins">3.7</a> ä¸èƒ½ç›´æ¥è°ƒç”¨ <code>Object.prototype</code> çš„æ–¹æ³•ï¼Œå¦‚ï¼š <code>hasOwnProperty</code> ã€ <code>propertyIsEnumerable</code> å’Œ <code>isPrototypeOf</code>ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? è¿™äº›æ–¹æ³•å¯èƒ½è¢«ä¸€ä¸‹é—®é¢˜å¯¹è±¡çš„å±æ€§è¿½è¸ª - ç›¸åº”çš„æœ‰ <code>{ hasOwnProperty: false }</code> - æˆ–è€…ï¼Œå¯¹è±¡æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ (<code>Object.create(null)</code>)ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(object.hasOwnProperty(key));</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(object, key));</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// best</span></span><br><span class="line"><span class="hljs-keyword">const</span> has = <span class="hljs-built_in">Object</span>.prototype.hasOwnProperty; <span class="hljs-comment">// åœ¨æ¨¡å—èŒƒå›´å†…çš„ç¼“å­˜ä¸­æŸ¥æ‰¾ä¸€æ¬¡</span></span><br><span class="line"><span class="hljs-comment">/* or */</span></span><br><span class="line"><span class="hljs-keyword">import</span> has <span class="hljs-keyword">from</span> <span class="hljs-string">'has'</span>; <span class="hljs-comment">// https://www.npmjs.com/package/has</span></span><br><span class="line"><span class="hljs-comment">// ...</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(has.call(object, key));</span><br></pre></td></tr></table></figure>

<p><a name="objects--rest-spread"></a></p>
</li>
<li><p><a href="#objects--rest-spread">3.8</a> æ›´å–œæ¬¢å¯¹è±¡æ‰©å±•æ“ä½œç¬¦ï¼Œè€Œä¸æ˜¯ç”¨ <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank" rel="noopener"><code>Object.assign</code></a> æµ…æ‹·è´ä¸€ä¸ªå¯¹è±¡ã€‚ ä½¿ç”¨å¯¹è±¡çš„ rest æ“ä½œç¬¦æ¥è·å¾—ä¸€ä¸ªå…·æœ‰æŸäº›å±æ€§çš„æ–°å¯¹è±¡ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// very bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> original = &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> &#125;;</span><br><span class="line"><span class="hljs-keyword">const</span> copy = <span class="hljs-built_in">Object</span>.assign(original, &#123; <span class="hljs-attr">c</span>: <span class="hljs-number">3</span> &#125;); <span class="hljs-comment">// å˜å¼‚çš„ `original` à² _à² </span></span><br><span class="line"><span class="hljs-keyword">delete</span> copy.a; <span class="hljs-comment">// è¿™....</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> original = &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> &#125;;</span><br><span class="line"><span class="hljs-keyword">const</span> copy = <span class="hljs-built_in">Object</span>.assign(&#123;&#125;, original, &#123; <span class="hljs-attr">c</span>: <span class="hljs-number">3</span> &#125;); <span class="hljs-comment">// copy =&gt; &#123; a: 1, b: 2, c: 3 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> original = &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> &#125;;</span><br><span class="line"><span class="hljs-keyword">const</span> copy = &#123; ...original, <span class="hljs-attr">c</span>: <span class="hljs-number">3</span> &#125;; <span class="hljs-comment">// copy =&gt; &#123; a: 1, b: 2, c: 3 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> &#123; a, ...noA &#125; = copy; <span class="hljs-comment">// noA =&gt; &#123; b: 2, c: 3 &#125;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a><a id="arrays">æ•°ç»„</a></h2><p>  <a name="arrays--literals"></a><a name="4.1"></a></p>
<ul>
<li><p><a href="#arrays--literals">4.1</a> ä½¿ç”¨å­—é¢è¯­æ³•åˆ›å»ºæ•°ç»„ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-array-constructor.html" target="_blank" rel="noopener"><code>no-array-constructor</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> items = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> items = [];</span><br></pre></td></tr></table></figure>

<p><a name="arrays--push"></a><a name="4.2"></a></p>
</li>
<li><p><a href="#arrays--push">4.2</a> ä½¿ç”¨ <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/push" target="_blank" rel="noopener">Array#push</a> å–ä»£ç›´æ¥èµ‹å€¼æ¥ç»™æ•°ç»„æ·»åŠ é¡¹ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> someStack = [];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">someStack[someStack.length] = <span class="hljs-string">'abracadabra'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">someStack.push(<span class="hljs-string">'abracadabra'</span>);</span><br></pre></td></tr></table></figure>

<p><a name="es6-array-spreads"></a><a name="4.3"></a></p>
</li>
<li><p><a href="#es6-array-spreads">4.3</a> ä½¿ç”¨æ•°ç»„å±•å¼€æ–¹æ³• <code>...</code> æ¥æ‹·è´æ•°ç»„ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> len = items.length;</span><br><span class="line"><span class="hljs-keyword">const</span> itemsCopy = [];</span><br><span class="line"><span class="hljs-keyword">let</span> i;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; len; i += <span class="hljs-number">1</span>) &#123;</span><br><span class="line">  itemsCopy[i] = items[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> itemsCopy = [...items];</span><br></pre></td></tr></table></figure>

<p><a name="arrays--from"></a><a name="4.4"></a></p>
</li>
<li><p><a href="#arrays--from">4.4</a> å°†ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡è½¬æ¢æˆä¸€ä¸ªæ•°ç»„ï¼Œ ä½¿ç”¨å±•å¼€æ–¹æ³• <code>...</code> ä»£æ›¿ <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/from" target="_blank" rel="noopener"><code>Array.from</code></a>ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> foo = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.foo'</span>);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> nodes = <span class="hljs-built_in">Array</span>.from(foo);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// best</span></span><br><span class="line"><span class="hljs-keyword">const</span> nodes = [...foo];</span><br></pre></td></tr></table></figure>

<p><a name="arrays--mapping"></a></p>
</li>
<li><p><a href="#arrays--mapping">4.5</a> å¯¹äºå¯¹è¿­ä»£å™¨çš„æ˜ å°„ï¼Œä½¿ç”¨ <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/from" target="_blank" rel="noopener">Array.from</a> æ›¿ä»£å±•å¼€æ–¹æ³• <code>...</code> ï¼Œ å› ä¸ºå®ƒé¿å…äº†åˆ›å»ºä¸­é—´æ•°ç»„ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> baz = [...foo].map(bar);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> baz = <span class="hljs-built_in">Array</span>.from(foo, bar);</span><br></pre></td></tr></table></figure>

<p><a name="arrays--callback-return"></a><a name="4.5"></a></p>
</li>
<li><p><a href="#arrays--callback-return">4.6</a> åœ¨æ•°ç»„å›è°ƒæ–¹æ³•ä¸­ä½¿ç”¨ return è¯­å¥ã€‚ å¦‚æœå‡½æ•°ä½“ç”±ä¸€ä¸ªè¿”å›æ— å‰¯ä½œç”¨çš„è¡¨è¾¾å¼çš„å•ä¸ªè¯­å¥ç»„æˆï¼Œé‚£ä¹ˆå¯ä»¥çœç•¥è¿”å›å€¼ï¼Œ å…·ä½“æŸ¥çœ‹ <a href="#arrows--implicit-return">8.2</a>ã€‚ eslint: <a href="https://eslint.org/docs/rules/array-callback-return" target="_blank" rel="noopener"><code>array-callback-return</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].map(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> y = x + <span class="hljs-number">1</span>;</span><br><span class="line">  <span class="hljs-keyword">return</span> x * y;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].map(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x + <span class="hljs-number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad - æ²¡æœ‰è¿”å›å€¼ï¼Œæ„å‘³ç€åœ¨ç¬¬ä¸€æ¬¡è¿­ä»£å `acc` æ²¡æœ‰è¢«å®šä¹‰</span></span><br><span class="line">[[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>]].reduce(<span class="hljs-function">(<span class="hljs-params">acc, item, index</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> flatten = acc.concat(item);</span><br><span class="line">  acc[index] = flatten;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">[[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>]].reduce(<span class="hljs-function">(<span class="hljs-params">acc, item, index</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> flatten = acc.concat(item);</span><br><span class="line">  acc[index] = flatten;</span><br><span class="line">  <span class="hljs-keyword">return</span> flatten;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">inbox.filter(<span class="hljs-function">(<span class="hljs-params">msg</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> &#123; subject, author &#125; = msg;</span><br><span class="line">  <span class="hljs-keyword">if</span> (subject === <span class="hljs-string">'Mockingbird'</span>) &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> author === <span class="hljs-string">'Harper Lee'</span>;</span><br><span class="line">  &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">inbox.filter(<span class="hljs-function">(<span class="hljs-params">msg</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> &#123; subject, author &#125; = msg;</span><br><span class="line">  <span class="hljs-keyword">if</span> (subject === <span class="hljs-string">'Mockingbird'</span>) &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> author === <span class="hljs-string">'Harper Lee'</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><a name="arrays--bracket-newline"></a></p>
</li>
<li><p><a href="#arrays--bracket-newline">4.7</a> å¦‚æœæ•°ç»„æœ‰å¤šè¡Œï¼Œåˆ™åœ¨å¼€å§‹çš„æ—¶å€™æ¢è¡Œï¼Œç„¶ååœ¨ç»“æŸçš„æ—¶å€™æ¢è¡Œã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> arr = [</span><br><span class="line">  [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>],</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> objectInArray = [&#123;</span><br><span class="line">  id: <span class="hljs-number">1</span>,</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  id: <span class="hljs-number">2</span>,</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> numberInArray = [</span><br><span class="line">  <span class="hljs-number">1</span>, <span class="hljs-number">2</span>,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> arr = [[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>]];</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> objectInArray = [</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="hljs-number">1</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="hljs-number">2</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> numberInArray = [</span><br><span class="line">  <span class="hljs-number">1</span>,</span><br><span class="line">  <span class="hljs-number">2</span>,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="è§£æ„"><a href="#è§£æ„" class="headerlink" title="è§£æ„"></a><a id="destructuring">è§£æ„</a></h2><p>  <a name="destructuring--object"></a><a name="5.1"></a></p>
<ul>
<li><p><a href="#destructuring--object">5.1</a> åœ¨è®¿é—®å’Œä½¿ç”¨å¯¹è±¡çš„å¤šä¸ªå±æ€§çš„æ—¶å€™ä½¿ç”¨å¯¹è±¡çš„è§£æ„ã€‚ eslint: <a href="https://eslint.org/docs/rules/prefer-destructuring" target="_blank" rel="noopener"><code>prefer-destructuring</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? è§£æ„å¯ä»¥é¿å…ä¸ºè¿™äº›å±æ€§åˆ›å»ºä¸´æ—¶å¼•ç”¨ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFullName</span>(<span class="hljs-params">user</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> firstName = user.firstName;</span><br><span class="line">  <span class="hljs-keyword">const</span> lastName = user.lastName;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">$&#123;firstName&#125;</span> <span class="hljs-subst">$&#123;lastName&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFullName</span>(<span class="hljs-params">user</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> &#123; firstName, lastName &#125; = user;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">$&#123;firstName&#125;</span> <span class="hljs-subst">$&#123;lastName&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// best</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFullName</span>(<span class="hljs-params">&#123; firstName, lastName &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">$&#123;firstName&#125;</span> <span class="hljs-subst">$&#123;lastName&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="destructuring--array"></a><a name="5.2"></a></p>
</li>
<li><p><a href="#destructuring--array">5.2</a> ä½¿ç”¨æ•°ç»„è§£æ„ã€‚ eslint: <a href="https://eslint.org/docs/rules/prefer-destructuring" target="_blank" rel="noopener"><code>prefer-destructuring</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> first = arr[<span class="hljs-number">0</span>];</span><br><span class="line"><span class="hljs-keyword">const</span> second = arr[<span class="hljs-number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> [first, second] = arr;</span><br></pre></td></tr></table></figure>

<p><a name="destructuring--object-over-array"></a><a name="5.3"></a></p>
</li>
<li><p><a href="#destructuring--object-over-array">5.3</a> å¯¹äºå¤šä¸ªè¿”å›å€¼ä½¿ç”¨å¯¹è±¡è§£æ„ï¼Œè€Œä¸æ˜¯æ•°ç»„è§£æ„ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? ä½ å¯ä»¥éšæ—¶æ·»åŠ æ–°çš„å±æ€§æˆ–è€…æ”¹å˜å±æ€§çš„é¡ºåºï¼Œè€Œä¸ç”¨ä¿®æ”¹è°ƒç”¨æ–¹ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">processInput</span>(<span class="hljs-params">input</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// å¤„ç†ä»£ç ...</span></span><br><span class="line">  <span class="hljs-keyword">return</span> [left, right, top, bottom];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// è°ƒç”¨è€…éœ€è¦è€ƒè™‘è¿”å›æ•°æ®çš„é¡ºåºã€‚</span></span><br><span class="line"><span class="hljs-keyword">const</span> [left, __, top] = processInput(input);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">processInput</span>(<span class="hljs-params">input</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// å¤„ç†ä»£ç ...</span></span><br><span class="line">  <span class="hljs-keyword">return</span> &#123; left, right, top, bottom &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// è°ƒç”¨è€…åªé€‰æ‹©ä»–ä»¬éœ€è¦çš„æ•°æ®ã€‚</span></span><br><span class="line"><span class="hljs-keyword">const</span> &#123; left, top &#125; = processInput(input);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="å­—ç¬¦"><a href="#å­—ç¬¦" class="headerlink" title="å­—ç¬¦"></a><a id="strings">å­—ç¬¦</a></h2><p>  <a name="strings--quotes"></a><a name="6.1"></a></p>
<ul>
<li><p><a href="#strings--quotes">6.1</a> ä½¿ç”¨å•å¼•å· <code>&#39;&#39;</code> å®šä¹‰å­—ç¬¦ä¸²ã€‚ eslint: <a href="https://eslint.org/docs/rules/quotes.html" target="_blank" rel="noopener"><code>quotes</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> name = <span class="hljs-string">"Capt. Janeway"</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad - æ¨¡æ¿æ–‡å­—åº”è¯¥åŒ…å«æ’å€¼æˆ–æ¢è¡Œã€‚</span></span><br><span class="line"><span class="hljs-keyword">const</span> name = <span class="hljs-string">`Capt. Janeway`</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> name = <span class="hljs-string">'Capt. Janeway'</span>;</span><br></pre></td></tr></table></figure>

<p><a name="strings--line-length"></a><a name="6.2"></a></p>
</li>
<li><p><a href="#strings--line-length">6.2</a> ä½¿è¡Œè¶…è¿‡100ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ä¸åº”ä½¿ç”¨å­—ç¬¦ä¸²è¿æ¥è·¨å¤šè¡Œå†™å…¥ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? æ–­å¼€çš„å­—ç¬¦ä¸²æ›´åŠ éš¾ä»¥å·¥ä½œï¼Œå¹¶ä¸”ä½¿ä»£ç æœç´¢æ›´åŠ å›°éš¾ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> errorMessage = <span class="hljs-string">'This is a super long error that was thrown because \</span></span><br><span class="line"><span class="hljs-string">of Batman. When you stop to think about how Batman had anything to do \</span></span><br><span class="line"><span class="hljs-string">with this, you would get nowhere \</span></span><br><span class="line"><span class="hljs-string">fast.'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> errorMessage = <span class="hljs-string">'This is a super long error that was thrown because '</span> +</span><br><span class="line">  <span class="hljs-string">'of Batman. When you stop to think about how Batman had anything to do '</span> +</span><br><span class="line">  <span class="hljs-string">'with this, you would get nowhere fast.'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> errorMessage = <span class="hljs-string">'This is a super long error that was thrown because of Batman. When you stop to think about how Batman had anything to do with this, you would get nowhere fast.'</span>;</span><br></pre></td></tr></table></figure>

<p><a name="es6-template-literals"></a><a name="6.4"></a></p>
</li>
<li><p><a href="#es6-template-literals">6.3</a> å½“ä»¥ç¼–ç¨‹æ¨¡å¼æ„å»ºå­—ç¬¦ä¸²æ—¶ï¼Œä½¿ç”¨å­—ç¬¦ä¸²æ¨¡æ¿ä»£æ›¿å­—ç¬¦ä¸²æ‹¼æ¥ã€‚ eslint: <a href="https://eslint.org/docs/rules/prefer-template.html" target="_blank" rel="noopener"><code>prefer-template</code></a> <a href="https://eslint.org/docs/rules/template-curly-spacing" target="_blank" rel="noopener"><code>template-curly-spacing</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? å­—ç¬¦ä¸²æ¨¡æ¿ä¸ºæ‚¨æä¾›äº†ä¸€ç§å¯è¯»çš„ã€ç®€æ´çš„è¯­æ³•ï¼Œå…·æœ‰æ­£ç¡®çš„æ¢è¡Œå’Œå­—ç¬¦ä¸²æ’å€¼ç‰¹æ€§ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sayHi</span>(<span class="hljs-params">name</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-string">'How are you, '</span> + name + <span class="hljs-string">'?'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sayHi</span>(<span class="hljs-params">name</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> [<span class="hljs-string">'How are you, '</span>, name, <span class="hljs-string">'?'</span>].join();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sayHi</span>(<span class="hljs-params">name</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-string">`How are you, <span class="hljs-subst">$&#123; name &#125;</span>?`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sayHi</span>(<span class="hljs-params">name</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-string">`How are you, <span class="hljs-subst">$&#123;name&#125;</span>?`</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="strings--eval"></a><a name="6.5"></a></p>
</li>
<li><p><a href="#strings--eval">6.4</a> ä¸è¦åœ¨å­—ç¬¦ä¸²ä¸Šä½¿ç”¨ <code>eval()</code> ï¼Œå®ƒæ‰“å¼€äº†å¤ªå¤šæ¼æ´ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-eval" target="_blank" rel="noopener"><code>no-eval</code></a></p>
<p><a name="strings--escaping"></a></p>
</li>
<li><p><a href="#strings--escaping">6.5</a> ä¸è¦è½¬ä¹‰å­—ç¬¦ä¸²ä¸­ä¸å¿…è¦çš„å­—ç¬¦ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-useless-escape" target="_blank" rel="noopener"><code>no-useless-escape</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? åæ–œæ æŸå®³äº†å¯è¯»æ€§ï¼Œå› æ­¤åªæœ‰åœ¨å¿…è¦çš„æ—¶å€™æ‰ä¼šå‡ºç°ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = <span class="hljs-string">'\'this\' \i\s \"quoted\"'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = <span class="hljs-string">'\'this\' is "quoted"'</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> foo = <span class="hljs-string">`my name is '<span class="hljs-subst">$&#123;name&#125;</span>'`</span>;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a><a id="functions">æ–¹æ³•</a></h2><p>  <a name="functions--declarations"></a><a name="7.1"></a></p>
<ul>
<li><p><a href="#functions--declarations">7.1</a> ä½¿ç”¨å‘½åçš„å‡½æ•°è¡¨è¾¾å¼ä»£æ›¿å‡½æ•°å£°æ˜ã€‚ eslint: <a href="https://eslint.org/docs/rules/func-style" target="_blank" rel="noopener"><code>func-style</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? å‡½æ•°å£°æ˜æ˜¯æŒ‚èµ·çš„ï¼Œè¿™æ„å‘³ç€åœ¨å®ƒåœ¨æ–‡ä»¶ä¸­å®šä¹‰ä¹‹å‰ï¼Œå¾ˆå®¹æ˜“å¼•ç”¨å‡½æ•°ã€‚è¿™ä¼šæŸå®³å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚å¦‚æœæ‚¨å‘ç°å‡½æ•°çš„å®šä¹‰æ˜¯å¤§çš„æˆ–å¤æ‚çš„ï¼Œä»¥è‡³äºå®ƒå¹²æ‰°äº†å¯¹æ–‡ä»¶çš„å…¶ä½™éƒ¨åˆ†çš„ç†è§£ï¼Œé‚£ä¹ˆä¹Ÿè®¸æ˜¯æ—¶å€™å°†å®ƒæå–åˆ°å®ƒè‡ªå·±çš„æ¨¡å—ä¸­äº†!ä¸è¦å¿˜è®°æ˜¾å¼åœ°å‘½åè¿™ä¸ªè¡¨è¾¾å¼ï¼Œä¸ç®¡å®ƒçš„åç§°æ˜¯å¦ä»åŒ…å«å˜é‡(åœ¨ç°ä»£æµè§ˆå™¨ä¸­ç»å¸¸æ˜¯è¿™æ ·ï¼Œæˆ–è€…åœ¨ä½¿ç”¨è¯¸å¦‚Babelä¹‹ç±»çš„ç¼–è¯‘å™¨æ—¶)ã€‚è¿™æ¶ˆé™¤äº†å¯¹é”™è¯¯çš„è°ƒç”¨å †æ ˆçš„ä»»ä½•å‡è®¾ã€‚ (<a href="https://github.com/airbnb/javascript/issues/794" target="_blank" rel="noopener">Discussion</a>)</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-comment">// ä»å˜é‡å¼•ç”¨è°ƒç”¨ä¸­åŒºåˆ†çš„è¯æ±‡åç§°</span></span><br><span class="line"><span class="hljs-keyword">const</span> short = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">longUniqueMoreDescriptiveLexicalFoo</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><a name="functions--iife"></a><a name="7.2"></a></p>
</li>
<li><p><a href="#functions--iife">7.2</a> Wrapç«‹å³è°ƒç”¨å‡½æ•°è¡¨è¾¾å¼ã€‚ eslint: <a href="https://eslint.org/docs/rules/wrap-iife.html" target="_blank" rel="noopener"><code>wrap-iife</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? ç«‹å³è°ƒç”¨çš„å‡½æ•°è¡¨è¾¾å¼æ˜¯å•ä¸ªå•å…ƒ - åŒ…è£…ï¼Œ å¹¶ä¸”æ‹¥æœ‰æ‹¬å·è°ƒç”¨, åœ¨æ‹¬å·å†…, æ¸…æ™°çš„è¡¨è¾¾å¼ã€‚ è¯·æ³¨æ„ï¼Œåœ¨ä¸€ä¸ªåˆ°å¤„éƒ½æ˜¯æ¨¡å—çš„ä¸–ç•Œä¸­ï¼Œæ‚¨å‡ ä¹ä¸éœ€è¦ä¸€ä¸ª IIFE ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// immediately-invoked function expression (IIFE) ç«‹å³è°ƒç”¨çš„å‡½æ•°è¡¨è¾¾å¼</span></span><br><span class="line">(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Welcome to the Internet. Please follow me.'</span>);</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>

<p><a name="functions--in-blocks"></a><a name="7.3"></a></p>
</li>
<li><p><a href="#functions--in-blocks">7.3</a> åˆ‡è®°ä¸è¦åœ¨éåŠŸèƒ½å—ä¸­å£°æ˜å‡½æ•° (<code>if</code>, <code>while</code>, ç­‰)ã€‚ å°†å‡½æ•°èµ‹å€¼ç»™å˜é‡ã€‚ æµè§ˆå™¨å…è®¸ä½ è¿™æ ·åšï¼Œä½†æ˜¯ä»–ä»¬éƒ½æœ‰ä¸åŒçš„è§£é‡Šï¼Œè¿™æ˜¯ä¸ªåæ¶ˆæ¯ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-loop-func.html" target="_blank" rel="noopener"><code>no-loop-func</code></a></p>
<p><a name="functions--note-on-blocks"></a><a name="7.4"></a></p>
</li>
<li><p><a href="#functions--note-on-blocks">7.4</a> <strong>æ³¨æ„:</strong> ECMA-262 å°† <code>block</code> å®šä¹‰ä¸ºè¯­å¥åˆ—è¡¨ã€‚ å‡½æ•°å£°æ˜ä¸æ˜¯è¯­å¥ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">if</span> (currentUser) &#123;</span><br><span class="line">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Nope.'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">let</span> test;</span><br><span class="line"><span class="hljs-keyword">if</span> (currentUser) &#123;</span><br><span class="line">  test = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Yup.'</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="functions--arguments-shadow"></a><a name="7.5"></a></p>
</li>
<li><p><a href="#functions--arguments-shadow">7.5</a> æ°¸è¿œä¸è¦å®šä¹‰ä¸€ä¸ªå‚æ•°ä¸º <code>arguments</code>ã€‚ è¿™å°†ä¼šä¼˜å…ˆäºæ¯ä¸ªå‡½æ•°ç»™å®šèŒƒå›´çš„ <code>arguments</code> å¯¹è±¡ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params">name, options, arguments</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params">name, options, args</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="es6-rest"></a><a name="7.6"></a></p>
</li>
<li><p><a href="#es6-rest">7.6</a> ä¸è¦ä½¿ç”¨ <code>arguments</code>, é€‰æ‹©ä½¿ç”¨ rest è¯­æ³• <code>...</code> ä»£æ›¿ã€‚ eslint: <a href="https://eslint.org/docs/rules/prefer-rest-params" target="_blank" rel="noopener"><code>prefer-rest-params</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? <code>...</code> æ˜ç¡®äº†ä½ æƒ³è¦æ‹‰å–ä»€ä¹ˆå‚æ•°ã€‚ æ›´ç”š, rest å‚æ•°æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œè€Œä¸ä»…ä»…æ˜¯ç±»æ•°ç»„çš„ <code>arguments</code> ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">concatenateAll</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>);</span><br><span class="line">  <span class="hljs-keyword">return</span> args.join(<span class="hljs-string">''</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">concatenateAll</span>(<span class="hljs-params">...args</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> args.join(<span class="hljs-string">''</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="es6-default-parameters"></a><a name="7.7"></a></p>
</li>
<li><p><a href="#es6-default-parameters">7.7</a> ä½¿ç”¨é»˜è®¤çš„å‚æ•°è¯­æ³•ï¼Œè€Œä¸æ˜¯æ”¹å˜å‡½æ•°å‚æ•°ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// really bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleThings</span>(<span class="hljs-params">opts</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// No! We shouldnâ€™t mutate function arguments.</span></span><br><span class="line">  <span class="hljs-comment">// Double bad: if opts is falsy it'll be set to an object which may</span></span><br><span class="line">  <span class="hljs-comment">// be what you want but it can introduce subtle bugs.</span></span><br><span class="line">  opts = opts || &#123;&#125;;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// still bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleThings</span>(<span class="hljs-params">opts</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">if</span> (opts === <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>) &#123;</span><br><span class="line">    opts = &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleThings</span>(<span class="hljs-params">opts = &#123;&#125;</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="functions--default-side-effects"></a><a name="7.8"></a></p>
</li>
<li><p><a href="#functions--default-side-effects">7.8</a> é¿å…ä½¿ç”¨é»˜è®¤å‚æ•°çš„å‰¯ä½œç”¨ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? ä»–ä»¬å¾ˆå®¹æ˜“æ··æ·†ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> b = <span class="hljs-number">1</span>;</span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">count</span>(<span class="hljs-params">a = b++</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line">count();  <span class="hljs-comment">// 1</span></span><br><span class="line">count();  <span class="hljs-comment">// 2</span></span><br><span class="line">count(<span class="hljs-number">3</span>); <span class="hljs-comment">// 3</span></span><br><span class="line">count();  <span class="hljs-comment">// 3</span></span><br></pre></td></tr></table></figure>

<p><a name="functions--defaults-last"></a><a name="7.9"></a></p>
</li>
<li><p><a href="#functions--defaults-last">7.9</a> æ€»æ˜¯æŠŠé»˜è®¤å‚æ•°æ”¾åœ¨æœ€åã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleThings</span>(<span class="hljs-params">opts = &#123;&#125;, name</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleThings</span>(<span class="hljs-params">name, opts = &#123;&#125;</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="functions--constructor"></a><a name="7.10"></a></p>
</li>
<li><p><a href="#functions--constructor">7.10</a> æ°¸è¿œä¸è¦ä½¿ç”¨å‡½æ•°æ„é€ å™¨æ¥åˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-new-func" target="_blank" rel="noopener"><code>no-new-func</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? ä»¥è¿™ç§æ–¹å¼åˆ›å»ºä¸€ä¸ªå‡½æ•°å°†å¯¹ä¸€ä¸ªç±»ä¼¼äº <code>eval()</code> çš„å­—ç¬¦ä¸²è¿›è¡Œè®¡ç®—ï¼Œè¿™å°†æ‰“å¼€æ¼æ´ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">var</span> add = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Function</span>(<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'return a + b'</span>);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// still bad</span></span><br><span class="line"><span class="hljs-keyword">var</span> subtract = <span class="hljs-built_in">Function</span>(<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'return a - b'</span>);</span><br></pre></td></tr></table></figure>

<p><a name="functions--signature-spacing"></a><a name="7.11"></a></p>
</li>
<li><p><a href="#functions--signature-spacing">7.11</a> å‡½æ•°ç­¾åä¸­çš„é—´è·ã€‚ eslint: <a href="https://eslint.org/docs/rules/space-before-function-paren" target="_blank" rel="noopener"><code>space-before-function-paren</code></a> <a href="https://eslint.org/docs/rules/space-before-blocks" target="_blank" rel="noopener"><code>space-before-blocks</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? ä¸€è‡´æ€§å¾ˆå¥½ï¼Œåœ¨åˆ é™¤æˆ–æ·»åŠ åç§°æ—¶ä¸éœ€è¦æ·»åŠ æˆ–åˆ é™¤ç©ºæ ¼ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> f = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="hljs-keyword">const</span> g = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="hljs-keyword">const</span> h = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> x = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="hljs-keyword">const</span> y = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>&#123;&#125;;</span><br></pre></td></tr></table></figure>

<p><a name="functions--mutate-params"></a><a name="7.12"></a></p>
</li>
<li><p><a href="#functions--mutate-params">7.12</a> æ²¡ç”¨å˜å¼‚å‚æ•°ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-param-reassign.html" target="_blank" rel="noopener"><code>no-param-reassign</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? å°†ä¼ å…¥çš„å¯¹è±¡ä½œä¸ºå‚æ•°è¿›è¡Œæ“ä½œå¯èƒ½ä¼šåœ¨åŸå§‹è°ƒç”¨ç¨‹åºä¸­é€ æˆä¸å¿…è¦çš„å˜é‡å‰¯ä½œç”¨ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f1</span>(<span class="hljs-params">obj</span>) </span>&#123;</span><br><span class="line">  obj.key = <span class="hljs-number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f2</span>(<span class="hljs-params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> key = <span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(obj, <span class="hljs-string">'key'</span>) ? obj.key : <span class="hljs-number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="functions--reassign-params"></a><a name="7.13"></a></p>
</li>
<li><p><a href="#functions--reassign-params">7.13</a> ä¸è¦å†åˆ†é…å‚æ•°ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-param-reassign.html" target="_blank" rel="noopener"><code>no-param-reassign</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? é‡æ–°åˆ†é…å‚æ•°ä¼šå¯¼è‡´æ„å¤–çš„è¡Œä¸ºï¼Œå°¤å…¶æ˜¯åœ¨è®¿é—® <code>arguments</code> å¯¹è±¡çš„æ—¶å€™ã€‚ å®ƒè¿˜å¯èƒ½å¯¼è‡´æ€§èƒ½ä¼˜åŒ–é—®é¢˜ï¼Œå°¤å…¶æ˜¯åœ¨ V8 ä¸­ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f1</span>(<span class="hljs-params">a</span>) </span>&#123;</span><br><span class="line">  a = <span class="hljs-number">1</span>;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f2</span>(<span class="hljs-params">a</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">if</span> (!a) &#123; a = <span class="hljs-number">1</span>; &#125;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f3</span>(<span class="hljs-params">a</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> b = a || <span class="hljs-number">1</span>;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f4</span>(<span class="hljs-params">a = <span class="hljs-number">1</span></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="functions--spread-vs-apply"></a><a name="7.14"></a></p>
</li>
<li><p><a href="#functions--spread-vs-apply">7.14</a> ä¼˜å…ˆä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ <code>...</code> æ¥è°ƒç”¨å¯å˜å‚æ•°å‡½æ•°ã€‚ eslint: <a href="https://eslint.org/docs/rules/prefer-spread" target="_blank" rel="noopener"><code>prefer-spread</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? å®ƒæ›´åŠ å¹²å‡€ï¼Œä½ ä¸éœ€è¦æä¾›ä¸Šä¸‹æ–‡ï¼Œå¹¶ä¸”ä½ ä¸èƒ½è½»æ˜“çš„ä½¿ç”¨ <code>apply</code> æ¥ <code>new</code> ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</span><br><span class="line"><span class="hljs-built_in">console</span>.log.apply(<span class="hljs-built_in">console</span>, x);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</span><br><span class="line"><span class="hljs-built_in">console</span>.log(...x);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">new</span> (<span class="hljs-built_in">Function</span>.prototype.bind.apply(<span class="hljs-built_in">Date</span>, [<span class="hljs-literal">null</span>, <span class="hljs-number">2016</span>, <span class="hljs-number">8</span>, <span class="hljs-number">5</span>]));</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(...[<span class="hljs-number">2016</span>, <span class="hljs-number">8</span>, <span class="hljs-number">5</span>]);</span><br></pre></td></tr></table></figure>

<p><a name="functions--signature-invocation-indentation"></a></p>
</li>
<li><p><a href="#functions--signature-invocation-indentation">7.15</a> å…·æœ‰å¤šè¡Œç­¾åæˆ–è€…è°ƒç”¨çš„å‡½æ•°åº”è¯¥åƒæœ¬æŒ‡å—ä¸­çš„å…¶ä»–å¤šè¡Œåˆ—è¡¨ä¸€æ ·ç¼©è¿›ï¼šåœ¨ä¸€è¡Œä¸Šåªæœ‰ä¸€ä¸ªæ¡ç›®ï¼Œå¹¶ä¸”æ¯ä¸ªæ¡ç›®æœ€ååŠ ä¸Šé€—å·ã€‚ eslint: <a href="https://eslint.org/docs/rules/function-paren-newline" target="_blank" rel="noopener"><code>function-paren-newline</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params">bar,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">             baz,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">             quux</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">  bar,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">  baz,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">  quux,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(foo,</span><br><span class="line">  bar,</span><br><span class="line">  baz);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(</span><br><span class="line">  foo,</span><br><span class="line">  bar,</span><br><span class="line">  baz,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a><a id="arrow-functions">ç®­å¤´å‡½æ•°</a></h2><p>  <a name="arrows--use-them"></a><a name="8.1"></a></p>
<ul>
<li><p><a href="#arrows--use-them">8.1</a> å½“ä½ å¿…é¡»ä½¿ç”¨åŒ¿åå‡½æ•°æ—¶ (å½“ä¼ é€’å†…è”å‡½æ•°æ—¶)ï¼Œ ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚ eslint: <a href="https://eslint.org/docs/rules/prefer-arrow-callback.html" target="_blank" rel="noopener"><code>prefer-arrow-callback</code></a>, <a href="https://eslint.org/docs/rules/arrow-spacing.html" target="_blank" rel="noopener"><code>arrow-spacing</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? å®ƒåˆ›å»ºäº†ä¸€ä¸ªåœ¨ <code>this</code> ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œçš„å‡½æ•°ç‰ˆæœ¬ï¼Œå®ƒé€šå¸¸æ˜¯ä½ æƒ³è¦çš„ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªæ›´ç®€æ´çš„è¯­æ³•ã€‚</p>
</blockquote>
<blockquote>
<p>ä¸ºä»€ä¹ˆä¸? å¦‚æœä½ æœ‰ä¸€ä¸ªç›¸å½“å¤æ‚çš„å‡½æ•°ï¼Œä½ å¯ä»¥æŠŠè¿™ä¸ªé€»è¾‘è½¬ç§»åˆ°å®ƒè‡ªå·±çš„å‘½åå‡½æ•°è¡¨è¾¾å¼ä¸­ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">x</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> y = x + <span class="hljs-number">1</span>;</span><br><span class="line">  <span class="hljs-keyword">return</span> x * y;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].map(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> y = x + <span class="hljs-number">1</span>;</span><br><span class="line">  <span class="hljs-keyword">return</span> x * y;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><a name="arrows--implicit-return"></a><a name="8.2"></a></p>
</li>
<li><p><a href="#arrows--implicit-return">8.2</a> å¦‚æœå‡½æ•°ä½“åŒ…å«ä¸€ä¸ªå•ç‹¬çš„è¯­å¥ï¼Œè¿”å›ä¸€ä¸ªæ²¡æœ‰å‰¯ä½œç”¨çš„ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators#Expressions" target="_blank" rel="noopener">expression</a> ï¼Œ çœç•¥æ‹¬å·å¹¶ä½¿ç”¨éšå¼è¿”å›ã€‚å¦åˆ™ï¼Œä¿ç•™æ‹¬å·å¹¶ä½¿ç”¨ <code>return</code> è¯­å¥ã€‚ eslint: <a href="https://eslint.org/docs/rules/arrow-parens.html" target="_blank" rel="noopener"><code>arrow-parens</code></a>, <a href="https://eslint.org/docs/rules/arrow-body-style.html" target="_blank" rel="noopener"><code>arrow-body-style</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? è¯­æ³•ç³–ã€‚ å¤šä¸ªå‡½æ•°è¢«é“¾æ¥åœ¨ä¸€èµ·æ—¶ï¼Œæé«˜å¯è¯»æ€§ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].map(<span class="hljs-function"><span class="hljs-params">number</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> nextNumber = number + <span class="hljs-number">1</span>;</span><br><span class="line">  <span class="hljs-string">`A string containing the <span class="hljs-subst">$&#123;nextNumber&#125;</span>.`</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].map(<span class="hljs-function"><span class="hljs-params">number</span> =&gt;</span> <span class="hljs-string">`A string containing the <span class="hljs-subst">$&#123;number&#125;</span>.`</span>);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].map(<span class="hljs-function">(<span class="hljs-params">number</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> nextNumber = number + <span class="hljs-number">1</span>;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-string">`A string containing the <span class="hljs-subst">$&#123;nextNumber&#125;</span>.`</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].map(<span class="hljs-function">(<span class="hljs-params">number, index</span>) =&gt;</span> (&#123;</span><br><span class="line">  [index]: number,</span><br><span class="line">&#125;));</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// æ²¡æœ‰å‰¯ä½œç”¨çš„éšå¼è¿”å›</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params">callback</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> val = callback();</span><br><span class="line">  <span class="hljs-keyword">if</span> (val === <span class="hljs-literal">true</span>) &#123;</span><br><span class="line">    <span class="hljs-comment">// å¦‚æœå›è°ƒè¿”å› true æ‰§è¡Œ</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">let</span> bool = <span class="hljs-literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">foo(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> bool = <span class="hljs-literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">foo(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;</span><br><span class="line">  bool = <span class="hljs-literal">true</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><a name="arrows--paren-wrap"></a><a name="8.3"></a></p>
</li>
<li><p><a href="#arrows--paren-wrap">8.3</a> å¦‚æœè¡¨è¾¾å¼è·¨è¶Šå¤šä¸ªè¡Œï¼Œç”¨æ‹¬å·å°†å…¶æ‹¬èµ·æ¥ï¼Œä»¥è·å¾—æ›´å¥½çš„å¯è¯»æ€§ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? å®ƒæ¸…æ¥šåœ°æ˜¾ç¤ºäº†å‡½æ•°çš„èµ·ç‚¹å’Œç»ˆç‚¹ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">[<span class="hljs-string">'get'</span>, <span class="hljs-string">'post'</span>, <span class="hljs-string">'put'</span>].map(<span class="hljs-function"><span class="hljs-params">httpMethod</span> =&gt;</span> <span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(</span><br><span class="line">    httpMagicObjectWithAVeryLongName,</span><br><span class="line">    httpMethod,</span><br><span class="line">  )</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">[<span class="hljs-string">'get'</span>, <span class="hljs-string">'post'</span>, <span class="hljs-string">'put'</span>].map(<span class="hljs-function"><span class="hljs-params">httpMethod</span> =&gt;</span> (</span><br><span class="line">  <span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(</span><br><span class="line">    httpMagicObjectWithAVeryLongName,</span><br><span class="line">    httpMethod,</span><br><span class="line">  )</span><br><span class="line">));</span><br></pre></td></tr></table></figure>

<p><a name="arrows--one-arg-parens"></a><a name="8.4"></a></p>
</li>
<li><p><a href="#arrows--one-arg-parens">8.4</a> å¦‚æœä½ çš„å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œåˆ™å¯ä»¥ä¸ç”¨æ‹¬å·ï¼Œçœç•¥æ‹¬å·ã€‚ å¦åˆ™ï¼Œä¸ºäº†ä¿è¯æ¸…æ™°å’Œä¸€è‡´æ€§ï¼Œéœ€è¦åœ¨å‚æ•°å‘¨å›´åŠ ä¸Šæ‹¬å·ã€‚ æ³¨æ„ï¼šæ€»æ˜¯ä½¿ç”¨æ‹¬å·æ˜¯å¯ä»¥æ¥å—çš„ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ <a href="https://eslint.org/docs/rules/arrow-parens#always" target="_blank" rel="noopener">â€œalwaysâ€ option</a> æ¥é…ç½® eslint. eslint: <a href="https://eslint.org/docs/rules/arrow-parens.html" target="_blank" rel="noopener"><code>arrow-parens</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? å‡å°‘è§†è§‰ä¸Šçš„æ··ä¹±ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].map(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> x * x);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].map(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x * x);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].map(<span class="hljs-function"><span class="hljs-params">number</span> =&gt;</span> (</span><br><span class="line">  <span class="hljs-string">`A long string with the <span class="hljs-subst">$&#123;number&#125;</span>. Itâ€™s so long that we donâ€™t want it to take up space on the .map line!`</span></span><br><span class="line">));</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].map(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> y = x + <span class="hljs-number">1</span>;</span><br><span class="line">  <span class="hljs-keyword">return</span> x * y;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].map(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> y = x + <span class="hljs-number">1</span>;</span><br><span class="line">  <span class="hljs-keyword">return</span> x * y;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><a name="arrows--confusing"></a><a name="8.5"></a></p>
</li>
<li><p><a href="#arrows--confusing">8.5</a> é¿å…ç®­å¤´å‡½æ•°ç¬¦å· (<code>=&gt;</code>) å’Œæ¯”è¾ƒè¿ç®—ç¬¦ (<code>&lt;=</code>, <code>&gt;=</code>) çš„æ··æ·†ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-confusing-arrow" target="_blank" rel="noopener"><code>no-confusing-arrow</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> itemHeight = <span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.height &gt; <span class="hljs-number">256</span> ? item.largeSize : item.smallSize;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> itemHeight = <span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> item.height &gt; <span class="hljs-number">256</span> ? item.largeSize : item.smallSize;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> itemHeight = <span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> (item.height &gt; <span class="hljs-number">256</span> ? item.largeSize : item.smallSize);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> itemHeight = <span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> &#123; height, largeSize, smallSize &#125; = item;</span><br><span class="line">  <span class="hljs-keyword">return</span> height &gt; <span class="hljs-number">256</span> ? largeSize : smallSize;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><a name="whitespace--implicit-arrow-linebreak"></a></p>
</li>
<li><p><a href="#whitespace--implicit-arrow-linebreak">8.6</a> æ³¨æ„å¸¦æœ‰éšå¼è¿”å›çš„ç®­å¤´å‡½æ•°å‡½æ•°ä½“çš„ä½ç½®ã€‚ eslint: <a href="https://eslint.org/docs/rules/implicit-arrow-linebreak" target="_blank" rel="noopener"><code>implicit-arrow-linebreak</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">(foo) =&gt;</span><br><span class="line">  bar;</span><br><span class="line"></span><br><span class="line">(foo) =&gt;</span><br><span class="line">  (bar);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">(foo) =&gt; bar;</span><br><span class="line">(foo) =&gt; (bar);</span><br><span class="line">(foo) =&gt; (</span><br><span class="line">   bar</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="ç±»å’Œæ„é€ å™¨"><a href="#ç±»å’Œæ„é€ å™¨" class="headerlink" title="ç±»å’Œæ„é€ å™¨"></a><a id="classes--constructors">ç±»å’Œæ„é€ å™¨</a></h2><p>  <a name="constructors--use-class"></a><a name="9.1"></a></p>
<ul>
<li><p><a href="#constructors--use-class">9.1</a> å°½é‡ä½¿ç”¨ <code>class</code>. é¿å…ç›´æ¥æ“ä½œ <code>prototype</code> .</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? <code>class</code> è¯­æ³•æ›´ç®€æ´ï¼Œæ›´å®¹æ˜“æ¨ç†ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Queue</span>(<span class="hljs-params">contents = []</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">this</span>.queue = [...contents];</span><br><span class="line">&#125;</span><br><span class="line">Queue.prototype.pop = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> value = <span class="hljs-keyword">this</span>.queue[<span class="hljs-number">0</span>];</span><br><span class="line">  <span class="hljs-keyword">this</span>.queue.splice(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);</span><br><span class="line">  <span class="hljs-keyword">return</span> value;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Queue</span> </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">constructor</span>(contents = []) &#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.queue = [...contents];</span><br><span class="line">  &#125;</span><br><span class="line">  pop() &#123;</span><br><span class="line">    <span class="hljs-keyword">const</span> value = <span class="hljs-keyword">this</span>.queue[<span class="hljs-number">0</span>];</span><br><span class="line">    <span class="hljs-keyword">this</span>.queue.splice(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);</span><br><span class="line">    <span class="hljs-keyword">return</span> value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="constructors--extends"></a><a name="9.2"></a></p>
</li>
<li><p><a href="#constructors--extends">9.2</a> ä½¿ç”¨ <code>extends</code> æ¥æ‰©å±•ç»§æ‰¿ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? å®ƒæ˜¯ä¸€ä¸ªå†…ç½®çš„æ–¹æ³•ï¼Œå¯ä»¥åœ¨ä¸ç ´å <code>instanceof</code> çš„æƒ…å†µä¸‹ç»§æ‰¿åŸå‹åŠŸèƒ½ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> inherits = <span class="hljs-built_in">require</span>(<span class="hljs-string">'inherits'</span>);</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">PeekableQueue</span>(<span class="hljs-params">contents</span>) </span>&#123;</span><br><span class="line">  Queue.apply(<span class="hljs-keyword">this</span>, contents);</span><br><span class="line">&#125;</span><br><span class="line">inherits(PeekableQueue, Queue);</span><br><span class="line">PeekableQueue.prototype.peek = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.queue[<span class="hljs-number">0</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PeekableQueue</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Queue</span> </span>&#123;</span><br><span class="line">  peek() &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.queue[<span class="hljs-number">0</span>];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="constructors--chaining"></a><a name="9.3"></a></p>
</li>
<li><p><a href="#constructors--chaining">9.3</a> æ–¹æ³•è¿”å›äº† <code>this</code> æ¥ä¾›å…¶å†…éƒ¨æ–¹æ³•è°ƒç”¨ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">Jedi.prototype.jump = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">this</span>.jumping = <span class="hljs-literal">true</span>;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Jedi.prototype.setHeight = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">height</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">this</span>.height = height;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> luke = <span class="hljs-keyword">new</span> Jedi();</span><br><span class="line">luke.jump(); <span class="hljs-comment">// =&gt; true</span></span><br><span class="line">luke.setHeight(<span class="hljs-number">20</span>); <span class="hljs-comment">// =&gt; undefined</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Jedi</span> </span>&#123;</span><br><span class="line">  jump() &#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.jumping = <span class="hljs-literal">true</span>;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  setHeight(height) &#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.height = height;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> luke = <span class="hljs-keyword">new</span> Jedi();</span><br><span class="line"></span><br><span class="line">luke.jump()</span><br><span class="line">  .setHeight(<span class="hljs-number">20</span>);</span><br></pre></td></tr></table></figure>

<p><a name="constructors--tostring"></a><a name="9.4"></a></p>
</li>
<li><p><a href="#constructors--tostring">9.4</a> åªè¦åœ¨ç¡®ä¿èƒ½æ­£å¸¸å·¥ä½œå¹¶ä¸”ä¸äº§ç”Ÿä»»ä½•å‰¯ä½œç”¨çš„æƒ…å†µä¸‹ï¼Œç¼–å†™ä¸€ä¸ªè‡ªå®šä¹‰çš„ <code>toString()</code> æ–¹æ³•ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Jedi</span> </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">constructor</span>(options = &#123;&#125;) &#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.name = options.name || <span class="hljs-string">'no name'</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getName() &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  toString() &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-string">`Jedi - <span class="hljs-subst">$&#123;<span class="hljs-keyword">this</span>.getName()&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="constructors--no-useless"></a><a name="9.5"></a></p>
</li>
<li><p><a href="#constructors--no-useless">9.5</a> å¦‚æœæ²¡æœ‰æŒ‡å®šç±»ï¼Œåˆ™ç±»å…·æœ‰é»˜è®¤çš„æ„é€ å™¨ã€‚ ä¸€ä¸ªç©ºçš„æ„é€ å™¨æˆ–æ˜¯ä¸€ä¸ªä»£è¡¨çˆ¶ç±»çš„å‡½æ•°æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-useless-constructor" target="_blank" rel="noopener"><code>no-useless-constructor</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Jedi</span> </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">constructor</span>() &#123;&#125;</span><br><span class="line"></span><br><span class="line">  getName() &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Rey</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Jedi</span> </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">constructor</span>(...args) &#123;</span><br><span class="line">    <span class="hljs-keyword">super</span>(...args);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Rey</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Jedi</span> </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">constructor</span>(...args) &#123;</span><br><span class="line">    <span class="hljs-keyword">super</span>(...args);</span><br><span class="line">    <span class="hljs-keyword">this</span>.name = <span class="hljs-string">'Rey'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="classes--no-duplicate-members"></a></p>
</li>
<li><p><a href="#classes--no-duplicate-members">9.6</a> é¿å…å®šä¹‰é‡å¤çš„ç±»æˆå‘˜ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-dupe-class-members" target="_blank" rel="noopener"><code>no-dupe-class-members</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? é‡å¤çš„ç±»æˆå‘˜å£°æ˜å°†ä¼šé»˜è®¤å€¾å‘äºæœ€åä¸€ä¸ª - å…·æœ‰é‡å¤çš„ç±»æˆå‘˜å¯ä»¥è¯´æ˜¯ä¸€ä¸ªé”™è¯¯ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> </span>&#123;</span><br><span class="line">  bar() &#123; <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>; &#125;</span><br><span class="line">  bar() &#123; <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> </span>&#123;</span><br><span class="line">  bar() &#123; <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> </span>&#123;</span><br><span class="line">  bar() &#123; <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a><a id="modules">æ¨¡å—</a></h2><p>  <a name="modules--use-them"></a><a name="10.1"></a></p>
<ul>
<li><p><a href="#modules--use-them">10.1</a> ä½ å¯èƒ½ç»å¸¸ä½¿ç”¨æ¨¡å— (<code>import</code>/<code>export</code>) åœ¨ä¸€äº›éæ ‡å‡†æ¨¡å—çš„ç³»ç»Ÿä¸Šã€‚ ä½ ä¹Ÿå¯ä»¥åœ¨ä½ å–œæ¬¢çš„æ¨¡å—ç³»ç»Ÿä¸Šç›¸äº’è½¬æ¢ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? æ¨¡å—æ˜¯æœªæ¥çš„è¶‹åŠ¿ï¼Œè®©æˆ‘ä»¬æ‹¥æŠ±æœªæ¥ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> AirbnbStyleGuide = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./AirbnbStyleGuide'</span>);</span><br><span class="line"><span class="hljs-built_in">module</span>.exports = AirbnbStyleGuide.es6;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ok</span></span><br><span class="line"><span class="hljs-keyword">import</span> AirbnbStyleGuide <span class="hljs-keyword">from</span> <span class="hljs-string">'./AirbnbStyleGuide'</span>;</span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> AirbnbStyleGuide.es6;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// best</span></span><br><span class="line"><span class="hljs-keyword">import</span> &#123; es6 &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'./AirbnbStyleGuide'</span>;</span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> es6;</span><br></pre></td></tr></table></figure>

<p><a name="modules--no-wildcard"></a><a name="10.2"></a></p>
</li>
<li><p><a href="#modules--no-wildcard">10.2</a> ä¸è¦ä½¿ç”¨é€šé…ç¬¦å¯¼å…¥ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? è¿™ç¡®å®šä½ æœ‰ä¸€ä¸ªå•ç‹¬çš„é»˜è®¤å¯¼å‡ºã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> AirbnbStyleGuide <span class="hljs-keyword">from</span> <span class="hljs-string">'./AirbnbStyleGuide'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">import</span> AirbnbStyleGuide <span class="hljs-keyword">from</span> <span class="hljs-string">'./AirbnbStyleGuide'</span>;</span><br></pre></td></tr></table></figure>

<p><a name="modules--no-export-from-import"></a><a name="10.3"></a></p>
</li>
<li><p><a href="#modules--no-export-from-import">10.3</a> ä¸è¦ç›´æ¥ä»å¯¼å…¥å¯¼å‡ºã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? è™½ç„¶å†™åœ¨ä¸€è¡Œå¾ˆç®€æ´ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªæ˜ç¡®çš„å¯¼å…¥å’Œä¸€ä¸ªæ˜ç¡®çš„å¯¼å‡ºèƒ½å¤Ÿä¿è¯ä¸€è‡´æ€§ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-comment">// filename es6.js</span></span><br><span class="line"><span class="hljs-keyword">export</span> &#123; es6 <span class="hljs-keyword">as</span> <span class="hljs-keyword">default</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'./AirbnbStyleGuide'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-comment">// filename es6.js</span></span><br><span class="line"><span class="hljs-keyword">import</span> &#123; es6 &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'./AirbnbStyleGuide'</span>;</span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> es6;</span><br></pre></td></tr></table></figure>

<p><a name="modules--no-duplicate-imports"></a></p>
</li>
<li><p><a href="#modules--no-duplicate-imports">10.4</a> åªä»ä¸€ä¸ªè·¯å¾„å¯¼å…¥æ‰€æœ‰éœ€è¦çš„ä¸œè¥¿ã€‚<br>eslint: <a href="https://eslint.org/docs/rules/no-duplicate-imports" target="_blank" rel="noopener"><code>no-duplicate-imports</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? ä»åŒä¸€ä¸ªè·¯å¾„å¯¼å…¥å¤šä¸ªè¡Œï¼Œä½¿ä»£ç æ›´éš¾ä»¥ç»´æŠ¤ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">import</span> foo <span class="hljs-keyword">from</span> <span class="hljs-string">'foo'</span>;</span><br><span class="line"><span class="hljs-comment">// â€¦ å…¶ä»–å¯¼å…¥ â€¦ //</span></span><br><span class="line"><span class="hljs-keyword">import</span> &#123; named1, named2 &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'foo'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">import</span> foo, &#123; named1, named2 &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'foo'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">import</span> foo, &#123;</span><br><span class="line">  named1,</span><br><span class="line">  named2,</span><br><span class="line">&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'foo'</span>;</span><br></pre></td></tr></table></figure>

<p><a name="modules--no-mutable-exports"></a></p>
</li>
<li><p><a href="#modules--no-mutable-exports">10.5</a> ä¸è¦å¯¼å‡ºå¯å˜çš„å¼•ç”¨ã€‚<br>eslint: <a href="https://github.com/benmosher/eslint-plugin-import/blob/master/docs/rules/no-mutable-exports.md" target="_blank" rel="noopener"><code>import/no-mutable-exports</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåº”è¯¥é¿å…å‘ç”Ÿçªå˜ï¼Œä½†æ˜¯åœ¨å¯¼å‡ºå¯å˜å¼•ç”¨æ—¶åŠå…¶å®¹æ˜“å‘ç”Ÿçªå˜ã€‚è™½ç„¶åœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦è¿™æ ·ï¼Œä½†æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹åªéœ€è¦å¯¼å‡ºå¸¸é‡å¼•ç”¨ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">let</span> foo = <span class="hljs-number">3</span>;</span><br><span class="line"><span class="hljs-keyword">export</span> &#123; foo &#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = <span class="hljs-number">3</span>;</span><br><span class="line"><span class="hljs-keyword">export</span> &#123; foo &#125;;</span><br></pre></td></tr></table></figure>

<p><a name="modules--prefer-default-export"></a></p>
</li>
<li><p><a href="#modules--prefer-default-export">10.6</a> åœ¨å•ä¸ªå¯¼å‡ºçš„æ¨¡å—ä¸­ï¼Œé€‰æ‹©é»˜è®¤æ¨¡å—è€Œä¸æ˜¯æŒ‡å®šçš„å¯¼å‡ºã€‚<br>eslint: <a href="https://github.com/benmosher/eslint-plugin-import/blob/master/docs/rules/prefer-default-export.md" target="_blank" rel="noopener"><code>import/prefer-default-export</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? ä¸ºäº†é¼“åŠ±æ›´å¤šçš„æ–‡ä»¶åªå¯¼å‡ºä¸€ä»¶ä¸œè¥¿ï¼Œè¿™æ ·å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§æ›´å¥½ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p><a name="modules--imports-first"></a></p>
</li>
<li><p><a href="#modules--imports-first">10.7</a> å°†æ‰€æœ‰çš„ <code>import</code>s è¯­å¥æ”¾åœ¨æ‰€æœ‰éå¯¼å…¥è¯­å¥çš„ä¸Šè¾¹ã€‚<br>eslint: <a href="https://github.com/benmosher/eslint-plugin-import/blob/master/docs/rules/first.md" target="_blank" rel="noopener"><code>import/first</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? ç”±äºæ‰€æœ‰çš„ <code>import</code>s éƒ½è¢«æå‰ï¼Œä¿æŒä»–ä»¬åœ¨é¡¶éƒ¨æ˜¯ä¸ºäº†é˜²æ­¢æ„å¤–å‘ç”Ÿã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">import</span> foo <span class="hljs-keyword">from</span> <span class="hljs-string">'foo'</span>;</span><br><span class="line">foo.init();</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> bar <span class="hljs-keyword">from</span> <span class="hljs-string">'bar'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">import</span> foo <span class="hljs-keyword">from</span> <span class="hljs-string">'foo'</span>;</span><br><span class="line"><span class="hljs-keyword">import</span> bar <span class="hljs-keyword">from</span> <span class="hljs-string">'bar'</span>;</span><br><span class="line"></span><br><span class="line">foo.init();</span><br></pre></td></tr></table></figure>

<p><a name="modules--multiline-imports-over-newlines"></a></p>
</li>
<li><p><a href="#modules--multiline-imports-over-newlines">10.8</a> å¤šè¡Œå¯¼å…¥åº”è¯¥åƒå¤šè¡Œæ•°ç»„å’Œå¯¹è±¡ä¸€æ ·ç¼©è¿›ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? èŠ±æ‹¬å·å’Œå…¶ä»–è§„èŒƒä¸€æ ·ï¼Œéµå¾ªç›¸åŒçš„ç¼©è¿›è§„åˆ™ï¼Œåè¾¹çš„éƒ½å¥½ä¸€æ ·ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">import</span> &#123;longNameA, longNameB, longNameC, longNameD, longNameE&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">import</span> &#123;</span><br><span class="line">  longNameA,</span><br><span class="line">  longNameB,</span><br><span class="line">  longNameC,</span><br><span class="line">  longNameD,</span><br><span class="line">  longNameE,</span><br><span class="line">&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>;</span><br></pre></td></tr></table></figure>

<p><a name="modules--no-webpack-loader-syntax"></a></p>
</li>
<li><p><a href="#modules--no-webpack-loader-syntax">10.9</a> åœ¨æ¨¡å—å¯¼å…¥è¯­å¥ä¸­ç¦æ­¢ä½¿ç”¨ Webpack åŠ è½½å™¨è¯­æ³•ã€‚<br>eslint: <a href="https://github.com/benmosher/eslint-plugin-import/blob/master/docs/rules/no-webpack-loader-syntax.md" target="_blank" rel="noopener"><code>import/no-webpack-loader-syntax</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? å› ä¸ºåœ¨å¯¼å…¥è¯­å¥ä¸­ä½¿ç”¨ webpack è¯­æ³•ï¼Œå°†ä»£ç å’Œæ¨¡å—ç»‘å®šåœ¨ä¸€èµ·ã€‚åº”è¯¥åœ¨ <code>webpack.config.js</code> ä¸­ä½¿ç”¨åŠ è½½å™¨è¯­æ³•ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">import</span> fooSass <span class="hljs-keyword">from</span> <span class="hljs-string">'css!sass!foo.scss'</span>;</span><br><span class="line"><span class="hljs-keyword">import</span> barCss <span class="hljs-keyword">from</span> <span class="hljs-string">'style!css!bar.css'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">import</span> fooSass <span class="hljs-keyword">from</span> <span class="hljs-string">'foo.scss'</span>;</span><br><span class="line"><span class="hljs-keyword">import</span> barCss <span class="hljs-keyword">from</span> <span class="hljs-string">'bar.css'</span>;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="è¿­ä»£å™¨å’Œå‘ç”Ÿå™¨"><a href="#è¿­ä»£å™¨å’Œå‘ç”Ÿå™¨" class="headerlink" title="è¿­ä»£å™¨å’Œå‘ç”Ÿå™¨"></a><a id="iterators-and-generators">è¿­ä»£å™¨å’Œå‘ç”Ÿå™¨</a></h2><p>  <a name="iterators--nope"></a><a name="11.1"></a></p>
<ul>
<li><p><a href="#iterators--nope">11.1</a> ä¸è¦ä½¿ç”¨è¿­ä»£å™¨ã€‚ ä½ åº”è¯¥ä½¿ç”¨ JavaScript çš„é«˜é˜¶å‡½æ•°ä»£æ›¿ <code>for-in</code> æˆ–è€… <code>for-of</code>ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-iterator.html" target="_blank" rel="noopener"><code>no-iterator</code></a> <a href="https://eslint.org/docs/rules/no-restricted-syntax" target="_blank" rel="noopener"><code>no-restricted-syntax</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? è¿™æ˜¯æˆ‘ä»¬å¼ºåˆ¶çš„è§„åˆ™ã€‚ æ‹¥æœ‰è¿”å›å€¼å¾—çº¯å‡½æ•°æ¯”è¿™ä¸ªæ›´å®¹æ˜“è§£é‡Šã€‚</p>
</blockquote>
<blockquote>
<p>ä½¿ç”¨ <code>map()</code> / <code>every()</code> / <code>filter()</code> / <code>find()</code> / <code>findIndex()</code> / <code>reduce()</code> / <code>some()</code> / â€¦ éå†æ•°ç»„ï¼Œ å’Œä½¿ç”¨ <code>Object.keys()</code> / <code>Object.values()</code> / <code>Object.entries()</code> è¿­ä»£ä½ çš„å¯¹è±¡ç”Ÿæˆæ•°ç»„ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>;</span><br><span class="line"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> num <span class="hljs-keyword">of</span> numbers) &#123;</span><br><span class="line">  sum += num;</span><br><span class="line">&#125;</span><br><span class="line">sum === <span class="hljs-number">15</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>;</span><br><span class="line">numbers.forEach(<span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> &#123;</span><br><span class="line">  sum += num;</span><br><span class="line">&#125;);</span><br><span class="line">sum === <span class="hljs-number">15</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// best (use the functional force)</span></span><br><span class="line"><span class="hljs-keyword">const</span> sum = numbers.reduce(<span class="hljs-function">(<span class="hljs-params">total, num</span>) =&gt;</span> total + num, <span class="hljs-number">0</span>);</span><br><span class="line">sum === <span class="hljs-number">15</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> increasedByOne = [];</span><br><span class="line"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; numbers.length; i++) &#123;</span><br><span class="line">  increasedByOne.push(numbers[i] + <span class="hljs-number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> increasedByOne = [];</span><br><span class="line">numbers.forEach(<span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> &#123;</span><br><span class="line">  increasedByOne.push(num + <span class="hljs-number">1</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// best (keeping it functional)</span></span><br><span class="line"><span class="hljs-keyword">const</span> increasedByOne = numbers.map(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> num + <span class="hljs-number">1</span>);</span><br></pre></td></tr></table></figure>

<p><a name="generators--nope"></a><a name="11.2"></a></p>
</li>
<li><p><a href="#generators--nope">11.2</a> ä¸è¦ä½¿ç”¨å‘ç”Ÿå™¨ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? They donâ€™t transpile well to ES5.</p>
</blockquote>
<p><a name="generators--spacing"></a></p>
</li>
<li><p><a href="#generators--spacing">11.3</a> å¦‚æœä½ å¿…é¡»ä½¿ç”¨å‘ç”Ÿå™¨æˆ–è€…æ— è§† <a href="#generators--nope">æˆ‘ä»¬çš„å»ºè®®</a>ï¼Œè¯·ç¡®ä¿ä»–ä»¬çš„å‡½æ•°ç­¾åæ˜¯æ­£å¸¸çš„é—´éš”ã€‚ eslint: <a href="https://eslint.org/docs/rules/generator-star-spacing" target="_blank" rel="noopener"><code>generator-star-spacing</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? <code>function</code> å’Œ <code>*</code> æ˜¯åŒä¸€ä¸ªæ¦‚å¿µå…³é”®å­—çš„ä¸€éƒ¨åˆ† - <code>*</code> ä¸æ˜¯ <code>function</code> çš„ä¿®é¥°ç¬¦ï¼Œ <code>function*</code> æ˜¯ä¸€ä¸ªä¸åŒäº <code>function</code> çš„æ„é€ å™¨ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> * <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> bar = <span class="hljs-function"><span class="hljs-keyword">function</span> * (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> baz = <span class="hljs-function"><span class="hljs-keyword">function</span> *(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> quux = <span class="hljs-function"><span class="hljs-keyword">function</span>*(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span>*<span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> *<span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// very bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><br><span class="line"><span class="hljs-function">*</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// very bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> wat = <span class="hljs-function"><span class="hljs-keyword">function</span></span></span><br><span class="line"><span class="hljs-function">*</span></span><br><span class="line"><span class="hljs-function">(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span>* <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = <span class="hljs-function"><span class="hljs-keyword">function</span>* (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a><a id="properties">å±æ€§</a></h2><p>  <a name="properties--dot"></a><a name="12.1"></a></p>
<ul>
<li><p><a href="#properties--dot">12.1</a> è®¿é—®å±æ€§æ—¶ä½¿ç”¨ç‚¹ç¬¦å·ã€‚ eslint: <a href="https://eslint.org/docs/rules/dot-notation.html" target="_blank" rel="noopener"><code>dot-notation</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> luke = &#123;</span><br><span class="line">  jedi: <span class="hljs-literal">true</span>,</span><br><span class="line">  age: <span class="hljs-number">28</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> isJedi = luke[<span class="hljs-string">'jedi'</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> isJedi = luke.jedi;</span><br></pre></td></tr></table></figure>

<p><a name="properties--bracket"></a><a name="12.2"></a></p>
</li>
<li><p><a href="#properties--bracket">12.2</a> ä½¿ç”¨å˜é‡è®¿é—®å±æ€§æ—¶ï¼Œä½¿ç”¨ <code>[]</code>è¡¨ç¤ºæ³•ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> luke = &#123;</span><br><span class="line">  jedi: <span class="hljs-literal">true</span>,</span><br><span class="line">  age: <span class="hljs-number">28</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getProp</span>(<span class="hljs-params">prop</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> luke[prop];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> isJedi = getProp(<span class="hljs-string">'jedi'</span>);</span><br></pre></td></tr></table></figure>

<p><a name="es2016-properties--exponentiation-operator"></a></p>
</li>
<li><p><a href="#es2016-properties--exponentiation-operator">12.3</a> è®¡ç®—æŒ‡æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>**</code> è¿ç®—ç¬¦ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-restricted-properties" target="_blank" rel="noopener"><code>no-restricted-properties</code></a>.</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> binary = <span class="hljs-built_in">Math</span>.pow(<span class="hljs-number">2</span>, <span class="hljs-number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> binary = <span class="hljs-number">2</span> ** <span class="hljs-number">10</span>;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a><a id="variables">å˜é‡</a></h2><p>  <a name="variables--const"></a><a name="13.1"></a></p>
<ul>
<li><p><a href="#variables--const">13.1</a> ä½¿ç”¨ <code>const</code> æˆ–è€… <code>let</code> æ¥å®šä¹‰å˜é‡ã€‚ ä¸è¿™æ ·åšå°†åˆ›å»ºä¸€ä¸ªå…¨å±€å˜é‡ã€‚ æˆ‘ä»¬å¸Œæœ›é¿å…æ±¡æŸ“å…¨å±€å‘½åç©ºé—´ã€‚ Captain Planet è­¦å‘Šè¿‡æˆ‘ä»¬ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-undef" target="_blank" rel="noopener"><code>no-undef</code></a> <a href="https://eslint.org/docs/rules/prefer-const" target="_blank" rel="noopener"><code>prefer-const</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">superPower = <span class="hljs-keyword">new</span> SuperPower();</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> superPower = <span class="hljs-keyword">new</span> SuperPower();</span><br></pre></td></tr></table></figure>

<p><a name="variables--one-const"></a><a name="13.2"></a></p>
</li>
<li><p><a href="#variables--one-const">13.2</a> ä½¿ç”¨ <code>const</code> æˆ–è€… <code>let</code> å£°æ˜æ¯ä¸€ä¸ªå˜é‡ã€‚ eslint: <a href="https://eslint.org/docs/rules/one-var.html" target="_blank" rel="noopener"><code>one-var</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? è¿™æ ·æ›´å®¹æ˜“æ·»åŠ æ–°çš„å˜é‡å£°æ˜ï¼Œè€Œä¸”ä½ ä¸å¿…æ‹…å¿ƒæ˜¯ä½¿ç”¨ <code>;</code> è¿˜æ˜¯ä½¿ç”¨ <code>,</code> æˆ–å¼•å…¥æ ‡ç‚¹ç¬¦å·çš„å·®åˆ«ã€‚ ä½ å¯ä»¥é€šè¿‡ debugger é€æ­¥æŸ¥çœ‹æ¯ä¸ªå£°æ˜ï¼Œè€Œä¸æ˜¯ç«‹å³è·³è¿‡æ‰€æœ‰å£°æ˜ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> items = getItems(),</span><br><span class="line">    goSportsTeam = <span class="hljs-literal">true</span>,</span><br><span class="line">    dragonball = <span class="hljs-string">'z'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-comment">// (compare to above, and try to spot the mistake)</span></span><br><span class="line"><span class="hljs-keyword">const</span> items = getItems(),</span><br><span class="line">    goSportsTeam = <span class="hljs-literal">true</span>;</span><br><span class="line">    dragonball = <span class="hljs-string">'z'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> items = getItems();</span><br><span class="line"><span class="hljs-keyword">const</span> goSportsTeam = <span class="hljs-literal">true</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> dragonball = <span class="hljs-string">'z'</span>;</span><br></pre></td></tr></table></figure>

<p><a name="variables--const-let-group"></a><a name="13.3"></a></p>
</li>
<li><p><a href="#variables--const-let-group">13.3</a> æŠŠ <code>const</code> å£°æ˜çš„æ”¾åœ¨ä¸€èµ·ï¼ŒæŠŠ <code>let</code> å£°æ˜çš„æ”¾åœ¨ä¸€èµ·ã€‚.</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? è¿™åœ¨åè¾¹å¦‚æœéœ€è¦æ ¹æ®å‰è¾¹çš„èµ‹å€¼å˜é‡æŒ‡å®šä¸€ä¸ªå˜é‡æ—¶å¾ˆæœ‰ç”¨ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">let</span> i, len, dragonball,</span><br><span class="line">    items = getItems(),</span><br><span class="line">    goSportsTeam = <span class="hljs-literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">let</span> i;</span><br><span class="line"><span class="hljs-keyword">const</span> items = getItems();</span><br><span class="line"><span class="hljs-keyword">let</span> dragonball;</span><br><span class="line"><span class="hljs-keyword">const</span> goSportsTeam = <span class="hljs-literal">true</span>;</span><br><span class="line"><span class="hljs-keyword">let</span> len;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> goSportsTeam = <span class="hljs-literal">true</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> items = getItems();</span><br><span class="line"><span class="hljs-keyword">let</span> dragonball;</span><br><span class="line"><span class="hljs-keyword">let</span> i;</span><br><span class="line"><span class="hljs-keyword">let</span> length;</span><br></pre></td></tr></table></figure>

<p><a name="variables--define-where-used"></a><a name="13.4"></a></p>
</li>
<li><p><a href="#variables--define-where-used">13.4</a> åœ¨ä½ éœ€è¦çš„ä½¿ç”¨å®šä¹‰å˜é‡ï¼Œä½†æ˜¯è¦æŠŠå®ƒä»¬æ”¾åœ¨ä¸€ä¸ªåˆç†çš„åœ°æ–¹ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? <code>let</code> å’Œ <code>const</code> æ˜¯å—çº§ä½œç”¨åŸŸè€Œä¸æ˜¯å‡½æ•°ä½œç”¨åŸŸã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad - ä¸å¿…è¦çš„å‡½æ•°è°ƒç”¨</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkName</span>(<span class="hljs-params">hasName</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> name = getName();</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">if</span> (hasName === <span class="hljs-string">'test'</span>) &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">if</span> (name === <span class="hljs-string">'test'</span>) &#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.setName(<span class="hljs-string">''</span>);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkName</span>(<span class="hljs-params">hasName</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">if</span> (hasName === <span class="hljs-string">'test'</span>) &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">const</span> name = getName();</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">if</span> (name === <span class="hljs-string">'test'</span>) &#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.setName(<span class="hljs-string">''</span>);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="variables--no-chain-assignment"></a><a name="13.5"></a></p>
</li>
<li><p><a href="#variables--no-chain-assignment">13.5</a> ä¸è¦é“¾å¼å˜é‡èµ‹å€¼ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-multi-assign" target="_blank" rel="noopener"><code>no-multi-assign</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? é“¾å¼å˜é‡èµ‹å€¼ä¼šåˆ›å»ºéšå¼å…¨å±€å˜é‡ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">example</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// JavaScript æŠŠå®ƒè§£é‡Šä¸º</span></span><br><span class="line">  <span class="hljs-comment">// let a = ( b = ( c = 1 ) );</span></span><br><span class="line">  <span class="hljs-comment">// let å…³é”®è¯åªé€‚ç”¨äºå˜é‡ a ï¼›å˜é‡ b å’Œå˜é‡ c åˆ™å˜æˆäº†å…¨å±€å˜é‡ã€‚</span></span><br><span class="line">  <span class="hljs-keyword">let</span> a = b = c = <span class="hljs-number">1</span>;</span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(a); <span class="hljs-comment">// throws ReferenceError</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(b); <span class="hljs-comment">// 1</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(c); <span class="hljs-comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">example</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span>;</span><br><span class="line">  <span class="hljs-keyword">let</span> b = a;</span><br><span class="line">  <span class="hljs-keyword">let</span> c = a;</span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">console</span>.log(a); <span class="hljs-comment">// throws ReferenceError</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(b); <span class="hljs-comment">// throws ReferenceError</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(c); <span class="hljs-comment">// throws ReferenceError</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// å¯¹äº `const` ä¹Ÿä¸€æ ·</span></span><br></pre></td></tr></table></figure>

<p><a name="variables--unary-increment-decrement"></a><a name="13.6"></a></p>
</li>
<li><p><a href="#variables--unary-increment-decrement">13.6</a> é¿å…ä½¿ç”¨ä¸å¿…è¦çš„é€’å¢å’Œé€’å‡ (<code>++</code>, <code>--</code>)ã€‚ eslint <a href="https://eslint.org/docs/rules/no-plusplus" target="_blank" rel="noopener"><code>no-plusplus</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? åœ¨eslintæ–‡æ¡£ä¸­ï¼Œä¸€å…ƒé€’å¢å’Œé€’å‡è¯­å¥ä»¥è‡ªåŠ¨åˆ†å·æ’å…¥ä¸ºä¸»é¢˜ï¼Œå¹¶ä¸”åœ¨åº”ç”¨ç¨‹åºä¸­å¯èƒ½ä¼šå¯¼è‡´é»˜è®¤å€¼çš„é€’å¢æˆ–é€’å‡ã€‚å®ƒè¿˜å¯ä»¥ç”¨åƒ <code>num += 1</code> è¿™æ ·çš„è¯­å¥æ¥æ”¹å˜æ‚¨çš„å€¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ <code>num++</code> æˆ– <code>num ++</code> ã€‚ä¸å…è®¸ä¸å¿…è¦çš„å¢é‡å’Œå‡é‡è¯­å¥ä¹Ÿä¼šä½¿æ‚¨æ— æ³•é¢„å…ˆé€’å¢/é¢„é€’å‡å€¼ï¼Œè¿™ä¹Ÿä¼šå¯¼è‡´ç¨‹åºä¸­çš„æ„å¤–è¡Œä¸ºã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> array = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];</span><br><span class="line"><span class="hljs-keyword">let</span> num = <span class="hljs-number">1</span>;</span><br><span class="line">num++;</span><br><span class="line">--num;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>;</span><br><span class="line"><span class="hljs-keyword">let</span> truthyCount = <span class="hljs-number">0</span>;</span><br><span class="line"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">  <span class="hljs-keyword">let</span> value = array[i];</span><br><span class="line">  sum += value;</span><br><span class="line">  <span class="hljs-keyword">if</span> (value) &#123;</span><br><span class="line">    truthyCount++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> array = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];</span><br><span class="line"><span class="hljs-keyword">let</span> num = <span class="hljs-number">1</span>;</span><br><span class="line">num += <span class="hljs-number">1</span>;</span><br><span class="line">num -= <span class="hljs-number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> sum = array.reduce(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b, <span class="hljs-number">0</span>);</span><br><span class="line"><span class="hljs-keyword">const</span> truthyCount = array.filter(<span class="hljs-built_in">Boolean</span>).length;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><a name="variables--linebreak"></a></p>
<ul>
<li><p><a href="#variables--linebreak">13.7</a> é¿å…åœ¨èµ‹å€¼è¯­å¥ <code>=</code> å‰åæ¢è¡Œã€‚å¦‚æœä½ çš„ä»£ç è¿åäº† <a href="https://eslint.org/docs/rules/max-len.html" target="_blank" rel="noopener"><code>max-len</code></a>ï¼Œ ä½¿ç”¨æ‹¬å·åŒ…è£¹ã€‚ eslint <a href="https://eslint.org/docs/rules/operator-linebreak.html" target="_blank" rel="noopener"><code>operator-linebreak</code></a>.</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? åœ¨ <code>=</code> å‰åæ¢è¡Œï¼Œå¯èƒ½æ··æ·†åˆ†é…çš„å€¼ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo =</span><br><span class="line">  superLongLongLongLongLongLongLongLongFunctionName();</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo</span><br><span class="line">  = <span class="hljs-string">'superLongLongLongLongLongLongLongLongString'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = (</span><br><span class="line">  superLongLongLongLongLongLongLongLongFunctionName()</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = <span class="hljs-string">'superLongLongLongLongLongLongLongLongString'</span>;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="æå‡"><a href="#æå‡" class="headerlink" title="æå‡"></a><a id="hoisting">æå‡</a></h2><p>  <a name="hoisting--about"></a><a name="14.1"></a></p>
<ul>
<li><p><a href="#hoisting--about">14.1</a> <code>var</code> å®šä¹‰çš„å˜é‡ä¼šè¢«æå‡åˆ°å‡½æ•°èŒƒå›´çš„æœ€é¡¶éƒ¨ï¼Œä½†æ˜¯å®ƒçš„èµ‹å€¼ä¸ä¼šã€‚<code>const</code> å’Œ <code>let</code> å£°æ˜çš„å˜é‡å—åˆ°ä¸€ä¸ªç§°ä¹‹ä¸º <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let#Temporal_Dead_Zone_and_errors_with_let" target="_blank" rel="noopener">Temporal Dead Zones (TDZ)</a> çš„æ–°æ¦‚å¿µä¿æŠ¤ã€‚ çŸ¥é“ä¸ºä»€ä¹ˆ <a href="http://es-discourse.com/t/why-typeof-is-no-longer-safe/15" target="_blank" rel="noopener">typeof ä¸åœ¨å®‰å…¨</a> æ˜¯å¾ˆé‡è¦çš„ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// æˆ‘ä»¬çŸ¥é“è¿™ä¸ªè¡Œä¸é€š (å‡è®¾æ²¡æœ‰æœªå®šä¹‰çš„å…¨å±€å˜é‡)</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">example</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(notDefined); <span class="hljs-comment">// =&gt; throws a ReferenceError</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// åœ¨å¼•ç”¨å˜é‡ååˆ›å»ºå˜é‡å£°æ˜å°†ä¼šå› å˜é‡æå‡è€Œèµ·ä½œç”¨ã€‚</span></span><br><span class="line"><span class="hljs-comment">// æ³¨æ„: çœŸæ­£çš„å€¼ `true` ä¸ä¼šè¢«æå‡ã€‚</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">example</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(declaredButNotAssigned); <span class="hljs-comment">// =&gt; undefined</span></span><br><span class="line">  <span class="hljs-keyword">var</span> declaredButNotAssigned = <span class="hljs-literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// è§£é‡Šå™¨å°†å˜é‡æå‡åˆ°å‡½æ•°çš„é¡¶éƒ¨</span></span><br><span class="line"><span class="hljs-comment">// è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥å°†ä¸Šè¾¹çš„ä¾‹å­é‡å†™ä¸ºï¼š</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">example</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">let</span> declaredButNotAssigned;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(declaredButNotAssigned); <span class="hljs-comment">// =&gt; undefined</span></span><br><span class="line">  declaredButNotAssigned = <span class="hljs-literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ä½¿ç”¨ const å’Œ let</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">example</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(declaredButNotAssigned); <span class="hljs-comment">// =&gt; throws a ReferenceError</span></span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> declaredButNotAssigned); <span class="hljs-comment">// =&gt; throws a ReferenceError</span></span><br><span class="line">  <span class="hljs-keyword">const</span> declaredButNotAssigned = <span class="hljs-literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="hoisting--anon-expressions"></a><a name="14.2"></a></p>
</li>
<li><p><a href="#hoisting--anon-expressions">14.2</a> åŒ¿åå‡½æ•°è¡¨è¾¾å¼æå‡å˜é‡åï¼Œè€Œä¸æ˜¯å‡½æ•°èµ‹å€¼ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">example</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(anonymous); <span class="hljs-comment">// =&gt; undefined</span></span><br><span class="line"></span><br><span class="line">  anonymous(); <span class="hljs-comment">// =&gt; TypeError anonymous is not a function</span></span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">var</span> anonymous = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'anonymous function expression'</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="hoisting--named-expresions"></a><a name="hoisting--named-expressions"></a><a name="14.3"></a></p>
</li>
<li><p><a href="#hoisting--named-expressions">14.3</a> å‘½åå‡½æ•°è¡¨è¾¾å¼æå‡çš„æ˜¯å˜é‡åï¼Œè€Œä¸æ˜¯å‡½æ•°åæˆ–è€…å‡½æ•°ä½“ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">example</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(named); <span class="hljs-comment">// =&gt; undefined</span></span><br><span class="line"></span><br><span class="line">  named(); <span class="hljs-comment">// =&gt; TypeError named is not a function</span></span><br><span class="line"></span><br><span class="line">  superPower(); <span class="hljs-comment">// =&gt; ReferenceError superPower is not defined</span></span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">var</span> named = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">superPower</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Flying'</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// å½“å‡½æ•°åå’Œå˜é‡åç›¸åŒæ—¶ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">example</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(named); <span class="hljs-comment">// =&gt; undefined</span></span><br><span class="line"></span><br><span class="line">  named(); <span class="hljs-comment">// =&gt; TypeError named is not a function</span></span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">var</span> named = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">named</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'named'</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="hoisting--declarations"></a><a name="14.4"></a></p>
</li>
<li><p><a href="#hoisting--declarations">14.4</a> å‡½æ•°å£°æ˜æå‡å…¶åç§°å’Œå‡½æ•°ä½“ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">example</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  superPower(); <span class="hljs-comment">// =&gt; Flying</span></span><br><span class="line"></span><br><span class="line">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">superPower</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Flying'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ›´å¤šä¿¡æ¯è¯·å‚è€ƒ <a href="http://www.adequatelygood.com/" target="_blank" rel="noopener">Ben Cherry</a> çš„ <a href="http://www.adequatelygood.com/2010/2/JavaScript-Scoping-and-Hoisting/" target="_blank" rel="noopener">JavaScript Scoping &amp; Hoisting</a>ã€‚</p>
</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="æ¯”è¾ƒè¿ç®—ç¬¦å’Œç­‰å·"><a href="#æ¯”è¾ƒè¿ç®—ç¬¦å’Œç­‰å·" class="headerlink" title="æ¯”è¾ƒè¿ç®—ç¬¦å’Œç­‰å·"></a><a id="comparison-operators--equality">æ¯”è¾ƒè¿ç®—ç¬¦å’Œç­‰å·</a></h2><p>  <a name="comparison--eqeqeq"></a><a name="15.1"></a></p>
<ul>
<li><p><a href="#comparison--eqeqeq">15.1</a> ä½¿ç”¨ <code>===</code> å’Œ <code>!==</code> è€Œä¸æ˜¯ <code>==</code> å’Œ <code>!=</code>ã€‚ eslint: <a href="https://eslint.org/docs/rules/eqeqeq.html" target="_blank" rel="noopener"><code>eqeqeq</code></a></p>
<p><a name="comparison--if"></a><a name="15.2"></a></p>
</li>
<li><p><a href="#comparison--if">15.2</a> æ¡ä»¶è¯­å¥ï¼Œä¾‹å¦‚ <code>if</code> è¯­å¥ä½¿ç”¨ <code>ToBoolean</code> çš„æŠ½è±¡æ–¹æ³•æ¥è®¡ç®—è¡¨è¾¾å¼çš„ç»“æœï¼Œå¹¶å§‹ç»ˆéµå¾ªä»¥ä¸‹ç®€å•çš„è§„åˆ™ï¼š</p>
<ul>
<li><strong>Objects</strong> çš„å–å€¼ä¸ºï¼š <strong>true</strong></li>
<li><strong>Undefined</strong> çš„å–å€¼ä¸ºï¼š <strong>false</strong></li>
<li><strong>Null</strong> çš„å–å€¼ä¸ºï¼š <strong>false</strong></li>
<li><strong>Booleans</strong> çš„å–å€¼ä¸ºï¼š <strong>å¸ƒå°”å€¼çš„å–å€¼</strong></li>
<li><strong>Numbers</strong> çš„å–å€¼ä¸ºï¼šå¦‚æœä¸º <strong>+0, -0, or NaN</strong> å€¼ä¸º <strong>false</strong> å¦åˆ™ä¸º <strong>true</strong></li>
<li><strong>Strings</strong> çš„å–å€¼ä¸º: å¦‚æœæ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸² <code>&#39;&#39;</code> å€¼ä¸º <strong>false</strong> å¦åˆ™ä¸º <strong>true</strong></li>
</ul>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">if</span> ([<span class="hljs-number">0</span>] &amp;&amp; []) &#123;</span><br><span class="line">  <span class="hljs-comment">// true</span></span><br><span class="line">  <span class="hljs-comment">// ä¸€ä¸ªæ•°ç»„ï¼ˆæ—¢æ˜¯æ˜¯ç©ºçš„ï¼‰æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„å–å€¼ä¸º true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="comparison--shortcuts"></a><a name="15.3"></a></p>
</li>
<li><p><a href="#comparison--shortcuts">15.3</a> å¯¹äºå¸ƒå°”å€¼ä½¿ç”¨ç®€å†™ï¼Œä½†æ˜¯å¯¹äºå­—ç¬¦ä¸²å’Œæ•°å­—è¿›è¡Œæ˜¾å¼æ¯”è¾ƒã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">if</span> (isValid === <span class="hljs-literal">true</span>) &#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">if</span> (isValid) &#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">if</span> (name) &#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">if</span> (name !== <span class="hljs-string">''</span>) &#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">if</span> (collection.length) &#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">if</span> (collection.length &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="comparison--moreinfo"></a><a name="15.4"></a></p>
</li>
<li><p><a href="#comparison--moreinfo">15.4</a> è·å–æ›´å¤šä¿¡æ¯è¯·æŸ¥çœ‹ Angus Croll çš„ <a href="https://javascriptweblog.wordpress.com/2011/02/07/truth-equality-and-javascript/#more-2108" target="_blank" rel="noopener">Truth Equality and JavaScript</a> ã€‚</p>
<p><a name="comparison--switch-blocks"></a><a name="15.5"></a></p>
</li>
<li><p><a href="#comparison--switch-blocks">15.5</a> åœ¨ <code>case</code> å’Œ <code>default</code> çš„å­å¥ä¸­ï¼Œå¦‚æœå­˜åœ¨å£°æ˜ (ä¾‹å¦‚. <code>let</code>, <code>const</code>, <code>function</code>, å’Œ <code>class</code>)ï¼Œä½¿ç”¨å¤§æ‹¬å·æ¥åˆ›å»ºå— ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-case-declarations.html" target="_blank" rel="noopener"><code>no-case-declarations</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? è¯­æ³•å£°æ˜åœ¨æ•´ä¸ª <code>switch</code> å—ä¸­éƒ½æ˜¯å¯è§çš„ï¼Œä½†æ˜¯åªæœ‰åœ¨èµ‹å€¼çš„æ—¶å€™æ‰ä¼šè¢«åˆå§‹åŒ–ï¼Œè¿™ç§æƒ…å†µåªæœ‰åœ¨ <code>case</code> æ¡ä»¶è¾¾åˆ°æ‰ä¼šå‘ç”Ÿã€‚ å½“å¤šä¸ª <code>case</code> è¯­å¥å®šä¹‰ç›¸åŒçš„ä¸œè¥¿æ˜¯ï¼Œè¿™ä¼šå¯¼è‡´é—®é¢˜é—®é¢˜ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">switch</span> (foo) &#123;</span><br><span class="line">  <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:</span><br><span class="line">    <span class="hljs-keyword">let</span> x = <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-keyword">break</span>;</span><br><span class="line">  <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:</span><br><span class="line">    <span class="hljs-keyword">const</span> y = <span class="hljs-number">2</span>;</span><br><span class="line">    <span class="hljs-keyword">break</span>;</span><br><span class="line">  <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">      <span class="hljs-comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">break</span>;</span><br><span class="line">  <span class="hljs-keyword">default</span>:</span><br><span class="line">    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">C</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">switch</span> (foo) &#123;</span><br><span class="line">  <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: &#123;</span><br><span class="line">    <span class="hljs-keyword">let</span> x = <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>: &#123;</span><br><span class="line">    <span class="hljs-keyword">const</span> y = <span class="hljs-number">2</span>;</span><br><span class="line">    <span class="hljs-keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>: &#123;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">      <span class="hljs-comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:</span><br><span class="line">    bar();</span><br><span class="line">    <span class="hljs-keyword">break</span>;</span><br><span class="line">  <span class="hljs-keyword">default</span>: &#123;</span><br><span class="line">    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">C</span> </span>&#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="comparison--nested-ternaries"></a><a name="15.6"></a></p>
</li>
<li><p><a href="#comparison--nested-ternaries">15.6</a> ä¸‰ç›®è¡¨è¾¾å¼ä¸åº”è¯¥åµŒå¥—ï¼Œé€šå¸¸æ˜¯å•è¡Œè¡¨è¾¾å¼ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-nested-ternary.html" target="_blank" rel="noopener"><code>no-nested-ternary</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = maybe1 &gt; maybe2</span><br><span class="line">  ? <span class="hljs-string">"bar"</span></span><br><span class="line">  : value1 &gt; value2 ? <span class="hljs-string">"baz"</span> : <span class="hljs-literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// åˆ†ç¦»ä¸ºä¸¤ä¸ªä¸‰ç›®è¡¨è¾¾å¼</span></span><br><span class="line"><span class="hljs-keyword">const</span> maybeNull = value1 &gt; value2 ? <span class="hljs-string">'baz'</span> : <span class="hljs-literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// better</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = maybe1 &gt; maybe2</span><br><span class="line">  ? <span class="hljs-string">'bar'</span></span><br><span class="line">  : maybeNull;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// best</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = maybe1 &gt; maybe2 ? <span class="hljs-string">'bar'</span> : maybeNull;</span><br></pre></td></tr></table></figure>

<p><a name="comparison--unneeded-ternary"></a><a name="15.7"></a></p>
</li>
<li><p><a href="#comparison--unneeded-ternary">15.7</a> é¿å…ä¸å¿…è¦çš„ä¸‰ç›®è¡¨è¾¾å¼ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-unneeded-ternary.html" target="_blank" rel="noopener"><code>no-unneeded-ternary</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = a ? a : b;</span><br><span class="line"><span class="hljs-keyword">const</span> bar = c ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> baz = c ? <span class="hljs-literal">false</span> : <span class="hljs-literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = a || b;</span><br><span class="line"><span class="hljs-keyword">const</span> bar = !!c;</span><br><span class="line"><span class="hljs-keyword">const</span> baz = !c;</span><br></pre></td></tr></table></figure>

<p><a name="comparison--no-mixed-operators"></a></p>
</li>
<li><p><a href="#comparison--no-mixed-operators">15.8</a> ä½¿ç”¨è¯¥æ··åˆè¿ç®—ç¬¦æ—¶ï¼Œä½¿ç”¨æ‹¬å·æ‹¬èµ·æ¥ã€‚ å”¯ä¸€ä¾‹å¤–çš„æ˜¯æ ‡å‡†ç®—æ•°è¿ç®—ç¬¦ (<code>+</code>, <code>-</code>, <code>*</code>, &amp; <code>/</code>) å› ä¸ºä»–ä»¬çš„ä¼˜å…ˆçº§è¢«å¹¿æ³›ç†è§£ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-mixed-operators.html" target="_blank" rel="noopener"><code>no-mixed-operators</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? è¿™èƒ½æé«˜å¯è¯»æ€§å¹¶ä¸”è¡¨æ˜å¼€å‘äººå‘˜çš„æ„å›¾ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = a &amp;&amp; b &lt; <span class="hljs-number">0</span> || c &gt; <span class="hljs-number">0</span> || d + <span class="hljs-number">1</span> === <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> bar = a ** b - <span class="hljs-number">5</span> % d;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-comment">// å¯èƒ½é™·å…¥ä¸€ç§ (a || b) &amp;&amp; c çš„æ€è€ƒ</span></span><br><span class="line"><span class="hljs-keyword">if</span> (a || b &amp;&amp; c) &#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = (a &amp;&amp; b &lt; <span class="hljs-number">0</span>) || c &gt; <span class="hljs-number">0</span> || (d + <span class="hljs-number">1</span> === <span class="hljs-number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> bar = (a ** b) - (<span class="hljs-number">5</span> % d);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">if</span> (a || (b &amp;&amp; c)) &#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> bar = a + b / c * d;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="å—"><a href="#å—" class="headerlink" title="å—"></a><a id="blocks">å—</a></h2><p>  <a name="blocks--braces"></a><a name="16.1"></a></p>
<ul>
<li><p><a href="#blocks--braces">16.1</a> å½“æœ‰å¤šè¡Œä»£ç å—çš„æ—¶å€™ï¼Œä½¿ç”¨å¤§æ‹¬å·åŒ…è£¹ã€‚ eslint: <a href="https://eslint.org/docs/rules/nonblock-statement-body-position" target="_blank" rel="noopener"><code>nonblock-statement-body-position</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">if</span> (test)</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">if</span> (test) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">if</span> (test) &#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123; <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bar</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="blocks--cuddled-elses"></a><a name="16.2"></a></p>
</li>
<li><p><a href="#blocks--cuddled-elses">16.2</a> å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ <code>if</code> å’Œ <code>else</code> çš„å¤šè¡Œä»£ç å—ï¼Œåˆ™å°† <code>else</code> è¯­å¥æ”¾åœ¨ <code>if</code> å—é—­æ‹¬å·åŒä¸€è¡Œçš„ä½ç½®ã€‚ eslint: <a href="https://eslint.org/docs/rules/brace-style.html" target="_blank" rel="noopener"><code>brace-style</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">if</span> (test) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">  thing2();</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">else</span> &#123;</span><br><span class="line">  thing3();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">if</span> (test) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">  thing2();</span><br><span class="line">&#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">  thing3();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="blocks--no-else-return"></a><a name="16.3"></a></p>
</li>
<li><p><a href="#blocks--no-else-return">16.3</a> å¦‚æœä¸€ä¸ª <code>if</code> å—æ€»æ˜¯æ‰§è¡Œä¸€ä¸ª <code>return</code> è¯­å¥ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥çš„ <code>else</code> å—å°±æ²¡æœ‰å¿…è¦äº†ã€‚ å¦‚æœä¸€ä¸ªåŒ…å« <code>return</code> è¯­å¥çš„ <code>else if</code> å—ï¼Œåœ¨ä¸€ä¸ªåŒ…å«äº† <code>return</code> è¯­å¥çš„ <code>if</code> å—ä¹‹åï¼Œé‚£ä¹ˆå¯ä»¥æ‹†æˆå¤šä¸ª <code>if</code> å—ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-else-return" target="_blank" rel="noopener"><code>no-else-return</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">if</span> (x) &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> x;</span><br><span class="line">  &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cats</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">if</span> (x) &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> x;</span><br><span class="line">  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (y) &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dogs</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">if</span> (x) &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> x;</span><br><span class="line">  &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (y) &#123;</span><br><span class="line">      <span class="hljs-keyword">return</span> y;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">if</span> (x) &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> x;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cats</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">if</span> (x) &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> x;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">if</span> (y) &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dogs</span>(<span class="hljs-params">x</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">if</span> (x) &#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (z) &#123;</span><br><span class="line">      <span class="hljs-keyword">return</span> y;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> z;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="æ§åˆ¶è¯­å¥"><a href="#æ§åˆ¶è¯­å¥" class="headerlink" title="æ§åˆ¶è¯­å¥"></a><a id="control-statements">æ§åˆ¶è¯­å¥</a></h2><p>  <a name="control-statements"></a></p>
<ul>
<li><p><a href="#control-statements">17.1</a> å¦‚æœä½ çš„æ§åˆ¶è¯­å¥ (<code>if</code>, <code>while</code> ç­‰) å¤ªé•¿æˆ–è€…è¶…è¿‡äº†ä¸€è¡Œæœ€å¤§é•¿åº¦çš„é™åˆ¶ï¼Œåˆ™å¯ä»¥å°†æ¯ä¸ªæ¡ä»¶ï¼ˆæˆ–ç»„ï¼‰æ”¾å…¥ä¸€ä¸ªæ–°çš„è¡Œã€‚ é€»è¾‘è¿ç®—ç¬¦åº”è¯¥åœ¨è¡Œçš„å¼€å§‹ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? è¦æ±‚æ“ä½œç¬¦åœ¨è¡Œçš„å¼€å§‹ä¿æŒå¯¹é½å¹¶éµå¾ªç±»ä¼¼æ–¹æ³•è¡”æ¥çš„æ¨¡å¼ã€‚ è¿™æé«˜äº†å¯è¯»æ€§ï¼Œå¹¶ä¸”ä½¿æ›´å¤æ‚çš„é€»è¾‘æ›´å®¹æ˜“ç›´è§‚çš„è¢«ç†è§£ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">if</span> ((foo === <span class="hljs-number">123</span> || bar === <span class="hljs-string">'abc'</span>) &amp;&amp; doesItLookGoodWhenItBecomesThatLong() &amp;&amp; isThisReallyHappening()) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">if</span> (foo === <span class="hljs-number">123</span> &amp;&amp;</span><br><span class="line">  bar === <span class="hljs-string">'abc'</span>) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">if</span> (foo === <span class="hljs-number">123</span></span><br><span class="line">  &amp;&amp; bar === <span class="hljs-string">'abc'</span>) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">if</span> (</span><br><span class="line">  foo === <span class="hljs-number">123</span> &amp;&amp;</span><br><span class="line">  bar === <span class="hljs-string">'abc'</span></span><br><span class="line">) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">if</span> (</span><br><span class="line">  foo === <span class="hljs-number">123</span></span><br><span class="line">  &amp;&amp; bar === <span class="hljs-string">'abc'</span></span><br><span class="line">) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">if</span> (</span><br><span class="line">  (foo === <span class="hljs-number">123</span> || bar === <span class="hljs-string">'abc'</span>)</span><br><span class="line">  &amp;&amp; doesItLookGoodWhenItBecomesThatLong()</span><br><span class="line">  &amp;&amp; isThisReallyHappening()</span><br><span class="line">) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">if</span> (foo === <span class="hljs-number">123</span> &amp;&amp; bar === <span class="hljs-string">'abc'</span>) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="control-statement--value-selection"></a></p>
</li>
<li><p><a href="#control-statements--value-selection">17.2</a> ä¸è¦ä½¿ç”¨é€‰æ‹©æ“ä½œç¬¦ä»£æ›¿æ§åˆ¶è¯­å¥ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">!isRunning &amp;&amp; startRunning();</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">if</span> (!isRunning) &#123;</span><br><span class="line">  startRunning();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a><a id="comments">æ³¨é‡Š</a></h2><p>  <a name="comments--multiline"></a><a name="17.1"></a></p>
<ul>
<li><p><a href="#comments--multiline">18.1</a> ä½¿ç”¨ <code>/** ... */</code> æ¥è¿›è¡Œå¤šè¡Œæ³¨é‡Šã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-comment">// make() returns a new element</span></span><br><span class="line"><span class="hljs-comment">// based on the passed in tag name</span></span><br><span class="line"><span class="hljs-comment">//</span></span><br><span class="line"><span class="hljs-comment">// @param &#123;String&#125; tag</span></span><br><span class="line"><span class="hljs-comment">// @return &#123;Element&#125; element</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">make</span>(<span class="hljs-params">tag</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> element;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * make() returns a new element</span></span><br><span class="line"><span class="hljs-comment"> * based on the passed-in tag name</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">make</span>(<span class="hljs-params">tag</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> element;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="comments--singleline"></a><a name="17.2"></a></p>
</li>
<li><p><a href="#comments--singleline">18.2</a> ä½¿ç”¨ <code>//</code> è¿›è¡Œå•è¡Œæ³¨é‡Šã€‚ å°†å•è¡Œæ³¨é‡Šæ”¾åœ¨éœ€è¦æ³¨é‡Šçš„è¡Œçš„ä¸Šæ–¹æ–°è¡Œã€‚ åœ¨æ³¨é‡Šä¹‹å‰æ”¾ä¸€ä¸ªç©ºè¡Œï¼Œé™¤éå®ƒåœ¨å—çš„ç¬¬ä¸€è¡Œã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> active = <span class="hljs-literal">true</span>;  <span class="hljs-comment">// is current tab</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-comment">// is current tab</span></span><br><span class="line"><span class="hljs-keyword">const</span> active = <span class="hljs-literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getType</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'fetching type...'</span>);</span><br><span class="line">  <span class="hljs-comment">// set the default type to 'no type'</span></span><br><span class="line">  <span class="hljs-keyword">const</span> type = <span class="hljs-keyword">this</span>.type || <span class="hljs-string">'no type'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> type;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getType</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'fetching type...'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">// set the default type to 'no type'</span></span><br><span class="line">  <span class="hljs-keyword">const</span> type = <span class="hljs-keyword">this</span>.type || <span class="hljs-string">'no type'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> type;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// also good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getType</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// set the default type to 'no type'</span></span><br><span class="line">  <span class="hljs-keyword">const</span> type = <span class="hljs-keyword">this</span>.type || <span class="hljs-string">'no type'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> type;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="comments--spaces"></a></p>
</li>
<li><p><a href="#comments--spaces">18.3</a> ç”¨ä¸€ä¸ªç©ºæ ¼å¼€å§‹æ‰€æœ‰çš„æ³¨é‡Šï¼Œä½¿å®ƒæ›´å®¹æ˜“é˜…è¯»ã€‚ eslint: <a href="https://eslint.org/docs/rules/spaced-comment" target="_blank" rel="noopener"><code>spaced-comment</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-comment">//is current tab</span></span><br><span class="line"><span class="hljs-keyword">const</span> active = <span class="hljs-literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-comment">// is current tab</span></span><br><span class="line"><span class="hljs-keyword">const</span> active = <span class="hljs-literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> *make() returns a new element</span></span><br><span class="line"><span class="hljs-comment"> *based on the passed-in tag name</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">make</span>(<span class="hljs-params">tag</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> element;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * make() returns a new element</span></span><br><span class="line"><span class="hljs-comment"> * based on the passed-in tag name</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">make</span>(<span class="hljs-params">tag</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> element;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="comments--actionitems"></a><a name="17.3"></a></p>
</li>
<li><p><a href="#comments--actionitems">18.4</a> ä½¿ç”¨ <code>FIXME</code> æˆ–è€… <code>TODO</code> å¼€å§‹ä½ çš„æ³¨é‡Šå¯ä»¥å¸®åŠ©å…¶ä»–å¼€å‘äººå‘˜å¿«é€Ÿäº†è§£ï¼Œå¦‚æœä½ æå‡ºäº†ä¸€ä¸ªéœ€è¦é‡æ–°å®¡è§†çš„é—®é¢˜ï¼Œæˆ–è€…ä½ å¯¹éœ€è¦å®ç°çš„é—®é¢˜æå‡ºçš„è§£å†³æ–¹æ¡ˆã€‚ è¿™äº›ä¸åŒäºå…¶ä»–è¯„è®ºï¼Œå› ä¸ºä»–ä»¬æ˜¯å¯æ“ä½œçš„ã€‚ è¿™äº›è¡Œä¸ºæ˜¯ <code>FIXME: -- éœ€è¦è§£å†³è¿™ä¸ªé—®é¢˜</code> æˆ–è€… <code>TODO: -- éœ€è¦è¢«å®ç°</code>ã€‚</p>
<p><a name="comments--fixme"></a><a name="17.4"></a></p>
</li>
<li><p><a href="#comments--fixme">18.5</a> ä½¿ç”¨ <code>// FIXME:</code> æ³¨é‡Šä¸€ä¸ªé—®é¢˜ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Calculator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Abacus</span> </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="hljs-keyword">super</span>();</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// <span class="hljs-doctag">FIXME:</span> è¿™é‡Œä¸åº”è¯¥ä½¿ç”¨å…¨å±€å˜é‡</span></span><br><span class="line">    total = <span class="hljs-number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="comments--todo"></a><a name="17.5"></a></p>
</li>
<li><p><a href="#comments--todo">18.6</a> ä½¿ç”¨ <code>// TODO:</code> æ³¨é‡Šè§£å†³é—®é¢˜çš„æ–¹æ³•ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Calculator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Abacus</span> </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="hljs-keyword">super</span>();</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> total åº”è¯¥ç”±ä¸€ä¸ª param çš„é€‰é¡¹é…ç½®</span></span><br><span class="line">    <span class="hljs-keyword">this</span>.total = <span class="hljs-number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="ç©ºç™½"><a href="#ç©ºç™½" class="headerlink" title="ç©ºç™½"></a><a id="whitespace">ç©ºç™½</a></h2><p>  <a name="whitespace--spaces"></a><a name="18.1"></a></p>
<ul>
<li><p><a href="#whitespace--spaces">19.1</a> ä½¿ç”¨ tabs (ç©ºæ ¼å­—ç¬¦) è®¾ç½®ä¸º 2 ä¸ªç©ºæ ¼ã€‚ eslint: <a href="https://eslint.org/docs/rules/indent.html" target="_blank" rel="noopener"><code>indent</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">âˆ™âˆ™âˆ™âˆ™<span class="hljs-keyword">let</span> name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bar</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">âˆ™<span class="hljs-keyword">let</span> name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">baz</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">âˆ™âˆ™<span class="hljs-keyword">let</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="whitespace--before-blocks"></a><a name="18.2"></a></p>
</li>
<li><p><a href="#whitespace--before-blocks">19.2</a> åœ¨ä¸»ä½“å‰æ”¾ç½®ä¸€ä¸ªç©ºæ ¼ã€‚ eslint: <a href="https://eslint.org/docs/rules/space-before-blocks.html" target="_blank" rel="noopener"><code>space-before-blocks</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'test'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'test'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">dog.set(<span class="hljs-string">'attr'</span>,&#123;</span><br><span class="line">  age: <span class="hljs-string">'1 year'</span>,</span><br><span class="line">  breed: <span class="hljs-string">'Bernese Mountain Dog'</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">dog.set(<span class="hljs-string">'attr'</span>, &#123;</span><br><span class="line">  age: <span class="hljs-string">'1 year'</span>,</span><br><span class="line">  breed: <span class="hljs-string">'Bernese Mountain Dog'</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><a name="whitespace--around-keywords"></a><a name="18.3"></a></p>
</li>
<li><p><a href="#whitespace--around-keywords">19.3</a> åœ¨æ§åˆ¶è¯­å¥ï¼ˆ<code>if</code>, <code>while</code> ç­‰ï¼‰å¼€å§‹æ‹¬å·ä¹‹å‰æ”¾ç½®ä¸€ä¸ªç©ºæ ¼ã€‚ åœ¨å‡½æ•°è°ƒç”¨å’Œæ˜¯å£°æ˜ä¸­ï¼Œåœ¨å‚æ•°åˆ—è¡¨å’Œå‡½æ•°åä¹‹é—´æ²¡æœ‰ç©ºæ ¼ã€‚ eslint: <a href="https://eslint.org/docs/rules/keyword-spacing.html" target="_blank" rel="noopener"><code>keyword-spacing</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">if</span>(isJedi) &#123;</span><br><span class="line">  fight ();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">if</span> (isJedi) &#123;</span><br><span class="line">  fight();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fight</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log (<span class="hljs-string">'Swooosh!'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fight</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Swooosh!'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="whitespace--infix-ops"></a><a name="18.4"></a></p>
</li>
<li><p><a href="#whitespace--infix-ops">19.4</a> ç”¨ç©ºæ ¼åˆ†ç¦»æ“ä½œç¬¦ã€‚ eslint: <a href="https://eslint.org/docs/rules/space-infix-ops.html" target="_blank" rel="noopener"><code>space-infix-ops</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> x=y+<span class="hljs-number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> x = y + <span class="hljs-number">5</span>;</span><br></pre></td></tr></table></figure>

<p><a name="whitespace--newline-at-end"></a><a name="18.5"></a></p>
</li>
<li><p><a href="#whitespace--newline-at-end">19.5</a> ä½¿ç”¨å•ä¸ªæ¢è¡Œç¬¦ç»“æŸæ–‡ä»¶ã€‚ eslint: <a href="https://github.com/eslint/eslint/blob/master/docs/rules/eol-last.md" target="_blank" rel="noopener"><code>eol-last</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">import</span> &#123; es6 &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'./AirbnbStyleGuide'</span>;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> es6;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">import</span> &#123; es6 &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'./AirbnbStyleGuide'</span>;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> es6;â†µ</span><br><span class="line">â†µ</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">import</span> &#123; es6 &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'./AirbnbStyleGuide'</span>;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> es6;â†µ</span><br></pre></td></tr></table></figure>

<p><a name="whitespace--chains"></a><a name="18.6"></a></p>
</li>
<li><p><a href="#whitespace--chains">19.6</a> åœ¨ä½¿ç”¨é•¿æ–¹æ³•è¿æ»´å•Šç”¨çš„æ—¶å€™ä½¿ç”¨ç¼©è¿›(è¶…è¿‡ä¸¤ä¸ªæ–¹æ³•é“¾)ã€‚ ä½¿ç”¨ä¸€ä¸ªå¼•å¯¼ç‚¹ï¼Œå¼ºè°ƒè¯¥è¡Œæ˜¯æ–¹æ³•è°ƒç”¨ï¼Œè€Œä¸æ˜¯æ–°çš„è¯­å¥ã€‚ eslint: <a href="https://eslint.org/docs/rules/newline-per-chained-call" target="_blank" rel="noopener"><code>newline-per-chained-call</code></a> <a href="https://eslint.org/docs/rules/no-whitespace-before-property" target="_blank" rel="noopener"><code>no-whitespace-before-property</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">$(<span class="hljs-string">'#items'</span>).find(<span class="hljs-string">'.selected'</span>).highlight().end().find(<span class="hljs-string">'.open'</span>).updateCount();</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">$(<span class="hljs-string">'#items'</span>).</span><br><span class="line">  find(<span class="hljs-string">'.selected'</span>).</span><br><span class="line">    highlight().</span><br><span class="line">    end().</span><br><span class="line">  find(<span class="hljs-string">'.open'</span>).</span><br><span class="line">    updateCount();</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">$(<span class="hljs-string">'#items'</span>)</span><br><span class="line">  .find(<span class="hljs-string">'.selected'</span>)</span><br><span class="line">    .highlight()</span><br><span class="line">    .end()</span><br><span class="line">  .find(<span class="hljs-string">'.open'</span>)</span><br><span class="line">    .updateCount();</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> leds = stage.selectAll(<span class="hljs-string">'.led'</span>).data(data).enter().append(<span class="hljs-string">'svg:svg'</span>).classed(<span class="hljs-string">'led'</span>, <span class="hljs-literal">true</span>)</span><br><span class="line">    .attr(<span class="hljs-string">'width'</span>, (radius + margin) * <span class="hljs-number">2</span>).append(<span class="hljs-string">'svg:g'</span>)</span><br><span class="line">    .attr(<span class="hljs-string">'transform'</span>, <span class="hljs-string">`translate(<span class="hljs-subst">$&#123;radius + margin&#125;</span>,<span class="hljs-subst">$&#123;radius + margin&#125;</span>)`</span>)</span><br><span class="line">    .call(tron.led);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> leds = stage.selectAll(<span class="hljs-string">'.led'</span>)</span><br><span class="line">    .data(data)</span><br><span class="line">  .enter().append(<span class="hljs-string">'svg:svg'</span>)</span><br><span class="line">    .classed(<span class="hljs-string">'led'</span>, <span class="hljs-literal">true</span>)</span><br><span class="line">    .attr(<span class="hljs-string">'width'</span>, (radius + margin) * <span class="hljs-number">2</span>)</span><br><span class="line">  .append(<span class="hljs-string">'svg:g'</span>)</span><br><span class="line">    .attr(<span class="hljs-string">'transform'</span>, <span class="hljs-string">`translate(<span class="hljs-subst">$&#123;radius + margin&#125;</span>,<span class="hljs-subst">$&#123;radius + margin&#125;</span>)`</span>)</span><br><span class="line">    .call(tron.led);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> leds = stage.selectAll(<span class="hljs-string">'.led'</span>).data(data);</span><br></pre></td></tr></table></figure>

<p><a name="whitespace--after-blocks"></a><a name="18.7"></a></p>
</li>
<li><p><a href="#whitespace--after-blocks">19.7</a> åœ¨å—å’Œä¸‹ä¸€ä¸ªè¯­å¥ä¹‹å‰ç•™ä¸‹ä¸€ç©ºç™½è¡Œã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">if</span> (foo) &#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> bar;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">return</span> baz;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">if</span> (foo) &#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> bar;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">return</span> baz;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> obj = &#123;</span><br><span class="line">  foo() &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  bar() &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-keyword">return</span> obj;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> obj = &#123;</span><br><span class="line">  foo() &#123;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  bar() &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">return</span> obj;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> arr = [</span><br><span class="line">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bar</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"><span class="hljs-keyword">return</span> arr;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> arr = [</span><br><span class="line">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bar</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">return</span> arr;</span><br></pre></td></tr></table></figure>

<p><a name="whitespace--padded-blocks"></a><a name="18.8"></a></p>
</li>
<li><p><a href="#whitespace--padded-blocks">19.8</a> ä¸è¦åœ¨å—çš„å¼€å¤´ä½¿ç”¨ç©ºç™½è¡Œã€‚ eslint: <a href="https://eslint.org/docs/rules/padded-blocks.html" target="_blank" rel="noopener"><code>padded-blocks</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bar</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-built_in">console</span>.log(foo);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">if</span> (baz) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-built_in">console</span>.log(qux);</span><br><span class="line">&#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(foo);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">constructor</span>(bar) &#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.bar = bar;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bar</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(foo);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">if</span> (baz) &#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(qux);</span><br><span class="line">&#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(foo);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="whitespace--in-parens"></a><a name="18.9"></a></p>
</li>
<li><p><a href="#whitespace--in-parens">19.9</a> ä¸è¦åœ¨æ‹¬å·å†…æ·»åŠ ç©ºæ ¼ã€‚ eslint: <a href="https://eslint.org/docs/rules/space-in-parens.html" target="_blank" rel="noopener"><code>space-in-parens</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bar</span>(<span class="hljs-params"> foo </span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> foo;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bar</span>(<span class="hljs-params">foo</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> foo;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">if</span> ( foo ) &#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(foo);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">if</span> (foo) &#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(foo);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="whitespace--in-brackets"></a><a name="18.10"></a></p>
</li>
<li><p><a href="#whitespace--in-brackets">19.10</a> ä¸è¦åœ¨ä¸­æ‹¬å·ä¸­æ·»åŠ ç©ºæ ¼ã€‚ eslint: <a href="https://eslint.org/docs/rules/array-bracket-spacing.html" target="_blank" rel="noopener"><code>array-bracket-spacing</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = [ <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> ];</span><br><span class="line"><span class="hljs-built_in">console</span>.log(foo[ <span class="hljs-number">0</span> ]);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];</span><br><span class="line"><span class="hljs-built_in">console</span>.log(foo[<span class="hljs-number">0</span>]);</span><br></pre></td></tr></table></figure>

<p><a name="whitespace--in-braces"></a><a name="18.11"></a></p>
</li>
<li><p><a href="#whitespace--in-braces">19.11</a> åœ¨èŠ±æ‹¬å·å†…æ·»åŠ ç©ºæ ¼ã€‚ eslint: <a href="https://eslint.org/docs/rules/object-curly-spacing.html" target="_blank" rel="noopener"><code>object-curly-spacing</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = &#123;<span class="hljs-attr">clark</span>: <span class="hljs-string">'kent'</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = &#123; <span class="hljs-attr">clark</span>: <span class="hljs-string">'kent'</span> &#125;;</span><br></pre></td></tr></table></figure>

<p><a name="whitespace--max-len"></a><a name="18.12"></a></p>
</li>
<li><p><a href="#whitespace--max-len">19.12</a> é¿å…è®©ä½ çš„ä»£ç è¡Œè¶…è¿‡100ä¸ªå­—ç¬¦ï¼ˆåŒ…æ‹¬ç©ºæ ¼ï¼‰ã€‚ æ³¨æ„ï¼šæ ¹æ®ä¸Šè¾¹çš„ <a href="#strings--line-length">çº¦æŸ</a>ï¼Œé•¿å­—ç¬¦ä¸²å¯å…é™¤æ­¤è§„å®šï¼Œä¸åº”åˆ†è§£ã€‚ eslint: <a href="https://eslint.org/docs/rules/max-len.html" target="_blank" rel="noopener"><code>max-len</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? è¿™æ ·èƒ½å¤Ÿç¡®ä¿å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = jsonData &amp;&amp; jsonData.foo &amp;&amp; jsonData.foo.bar &amp;&amp; jsonData.foo.bar.baz &amp;&amp; jsonData.foo.bar.baz.quux &amp;&amp; jsonData.foo.bar.baz.quux.xyzzy;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">$.ajax(&#123; <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>, <span class="hljs-attr">url</span>: <span class="hljs-string">'https://airbnb.com/'</span>, <span class="hljs-attr">data</span>: &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">'John'</span> &#125; &#125;).done(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Congratulations!'</span>)).fail(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'You have failed this city.'</span>));</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> foo = jsonData</span><br><span class="line">  &amp;&amp; jsonData.foo</span><br><span class="line">  &amp;&amp; jsonData.foo.bar</span><br><span class="line">  &amp;&amp; jsonData.foo.bar.baz</span><br><span class="line">  &amp;&amp; jsonData.foo.bar.baz.quux</span><br><span class="line">  &amp;&amp; jsonData.foo.bar.baz.quux.xyzzy;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">$.ajax(&#123;</span><br><span class="line">  method: <span class="hljs-string">'POST'</span>,</span><br><span class="line">  url: <span class="hljs-string">'https://airbnb.com/'</span>,</span><br><span class="line">  data: &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">'John'</span> &#125;,</span><br><span class="line">&#125;)</span><br><span class="line">  .done(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Congratulations!'</span>))</span><br><span class="line">  .fail(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'You have failed this city.'</span>));</span><br></pre></td></tr></table></figure>

<p><a name="whitespace--block-spacing"></a></p>
</li>
<li><p><a href="#whitespace--block-spacing">19.13</a> è¦æ±‚æ‰“å¼€çš„å—æ ‡å¿—å’ŒåŒä¸€è¡Œä¸Šçš„æ ‡å¿—æ‹¥æœ‰ä¸€è‡´çš„é—´è·ã€‚æ­¤è§„åˆ™è¿˜ä¼šåœ¨åŒä¸€è¡Œå…³é—­çš„å—æ ‡è®°å’Œå‰è¾¹çš„æ ‡è®°å¼ºåˆ¶å®æ–½ä¸€è‡´çš„é—´è·ã€‚ eslint: <a href="https://eslint.org/docs/rules/block-spacing" target="_blank" rel="noopener"><code>block-spacing</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;&#125;</span><br><span class="line"><span class="hljs-keyword">if</span> (foo) &#123; bar = <span class="hljs-number">0</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123; <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; &#125;</span><br><span class="line"><span class="hljs-keyword">if</span> (foo) &#123; bar = <span class="hljs-number">0</span>; &#125;</span><br></pre></td></tr></table></figure>

<p><a name="whitespace--comma-spacing"></a></p>
</li>
<li><p><a href="#whitespace--comma-spacing">19.14</a> é€—å·ä¹‹å‰é¿å…ä½¿ç”¨ç©ºæ ¼ï¼Œé€—å·ä¹‹åéœ€è¦ä½¿ç”¨ç©ºæ ¼ã€‚eslint: <a href="https://eslint.org/docs/rules/comma-spacing" target="_blank" rel="noopener"><code>comma-spacing</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">var</span> foo = <span class="hljs-number">1</span>,bar = <span class="hljs-number">2</span>;</span><br><span class="line"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span> , <span class="hljs-number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">var</span> foo = <span class="hljs-number">1</span>, bar = <span class="hljs-number">2</span>;</span><br><span class="line"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>];</span><br></pre></td></tr></table></figure>

<p><a name="whitespace--computed-property-spacing"></a></p>
</li>
<li><p><a href="#whitespace--computed-property-spacing">19.15</a> åœ¨è®¡ç®—å±æ€§ä¹‹é—´å¼ºåŒ–é—´è·ã€‚eslint: <a href="https://eslint.org/docs/rules/computed-property-spacing" target="_blank" rel="noopener"><code>computed-property-spacing</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">obj[foo ]</span><br><span class="line">obj[ <span class="hljs-string">'foo'</span>]</span><br><span class="line"><span class="hljs-keyword">var</span> x = &#123;[ b ]: a&#125;</span><br><span class="line">obj[foo[ bar ]]</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">obj[foo]</span><br><span class="line">obj[<span class="hljs-string">'foo'</span>]</span><br><span class="line"><span class="hljs-keyword">var</span> x = &#123; [b]: a &#125;</span><br><span class="line">obj[foo[bar]]</span><br></pre></td></tr></table></figure>

<p><a name="whitespace--func-call-spacing"></a></p>
</li>
<li><p><a href="#whitespace--func-call-spacing">19.16</a> åœ¨å‡½æ•°å’Œå®ƒçš„è°ƒç”¨ä¹‹é—´å¼ºåŒ–é—´è·ã€‚ eslint: <a href="https://eslint.org/docs/rules/func-call-spacing" target="_blank" rel="noopener"><code>func-call-spacing</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">func ();</span><br><span class="line"></span><br><span class="line">func</span><br><span class="line">();</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">func();</span><br></pre></td></tr></table></figure>

<p><a name="whitespace--key-spacing"></a></p>
</li>
<li><p><a href="#whitespace--key-spacing">19.17</a> åœ¨å¯¹è±¡çš„å±æ€§å’Œå€¼ä¹‹é—´å¼ºåŒ–é—´è·ã€‚ eslint: <a href="https://eslint.org/docs/rules/key-spacing" target="_blank" rel="noopener"><code>key-spacing</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">var</span> obj = &#123; <span class="hljs-string">"foo"</span> : <span class="hljs-number">42</span> &#125;;</span><br><span class="line"><span class="hljs-keyword">var</span> obj2 = &#123; <span class="hljs-string">"foo"</span>:<span class="hljs-number">42</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">var</span> obj = &#123; <span class="hljs-string">"foo"</span>: <span class="hljs-number">42</span> &#125;;</span><br></pre></td></tr></table></figure>

<p><a name="whitespace--no-trailing-spaces"></a></p>
</li>
<li><p><a href="#whitespace--no-trailing-spaces">19.18</a> åœ¨è¡Œçš„æœ«å°¾é¿å…ä½¿ç”¨ç©ºæ ¼ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-trailing-spaces" target="_blank" rel="noopener"><code>no-trailing-spaces</code></a></p>
<p><a name="whitespace--no-multiple-empty-lines"></a></p>
</li>
<li><p><a href="#whitespace--no-multiple-empty-lines">19.19</a> é¿å…å¤šä¸ªç©ºè¡Œï¼Œå¹¶ä¸”åªå…è®¸åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-multiple-empty-lines" target="_blank" rel="noopener"><code>no-multiple-empty-lines</code></a></p>
<!-- markdownlint-disable MD012 -->
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">var</span> x = <span class="hljs-number">1</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">var</span> y = <span class="hljs-number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">var</span> x = <span class="hljs-number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">var</span> y = <span class="hljs-number">2</span>;</span><br></pre></td></tr></table></figure>

<!-- markdownlint-enable MD012 -->

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="é€—å·"><a href="#é€—å·" class="headerlink" title="é€—å·"></a><a id="commas">é€—å·</a></h2><p>  <a name="commas--leading-trailing"></a><a name="19.1"></a></p>
<ul>
<li><p><a href="#commas--leading-trailing">20.1</a> é€—å·å‰ç½®ï¼š <strong>ä¸è¡Œ</strong> eslint: <a href="https://eslint.org/docs/rules/comma-style.html" target="_blank" rel="noopener"><code>comma-style</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> story = [</span><br><span class="line">    once</span><br><span class="line">  , upon</span><br><span class="line">  , aTime</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> story = [</span><br><span class="line">  once,</span><br><span class="line">  upon,</span><br><span class="line">  aTime,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> hero = &#123;</span><br><span class="line">    firstName: <span class="hljs-string">'Ada'</span></span><br><span class="line">  , <span class="hljs-attr">lastName</span>: <span class="hljs-string">'Lovelace'</span></span><br><span class="line">  , <span class="hljs-attr">birthYear</span>: <span class="hljs-number">1815</span></span><br><span class="line">  , <span class="hljs-attr">superPower</span>: <span class="hljs-string">'computers'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> hero = &#123;</span><br><span class="line">  firstName: <span class="hljs-string">'Ada'</span>,</span><br><span class="line">  lastName: <span class="hljs-string">'Lovelace'</span>,</span><br><span class="line">  birthYear: <span class="hljs-number">1815</span>,</span><br><span class="line">  superPower: <span class="hljs-string">'computers'</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><a name="commas--dangling"></a><a name="19.2"></a></p>
</li>
<li><p><a href="#commas--dangling">20.2</a> æ·»åŠ å°¾éšé€—å·ï¼š <strong>å¯ä»¥</strong> eslint: <a href="https://eslint.org/docs/rules/comma-dangle.html" target="_blank" rel="noopener"><code>comma-dangle</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? è¿™ä¸ªå°†é€ æˆæ›´æ¸…æ´çš„ git æ‰©å±•å·®å¼‚ã€‚ å¦å¤–ï¼Œåƒ Babel è¿™æ ·çš„ç¼–è¯‘å™¨ï¼Œä¼šåœ¨è½¬æ¢åçš„ä»£ç ä¸­åˆ é™¤é¢å¤–çš„å°¾éšé€—å·ï¼Œè¿™æ„å‘³ç€ä½ ä¸å¿…æ‹…å¿ƒåœ¨æµè§ˆå™¨ä¸­åé¢çš„ <a href="https://github.com/airbnb/javascript/blob/es5-deprecated/es5/README.md#commas" target="_blank" rel="noopener">å°¾éšé€—å·é—®é¢˜</a> ã€‚</p>
</blockquote>
<figure class="highlight diff hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// bad - æ²¡æœ‰å°¾éšé€—å·çš„ git å·®å¼‚</span><br><span class="line">const hero = &#123;</span><br><span class="line">     firstName: 'Florence',</span><br><span class="line"><span class="hljs-deletion">-    lastName: 'Nightingale'</span></span><br><span class="line"><span class="hljs-addition">+    lastName: 'Nightingale',</span></span><br><span class="line"><span class="hljs-addition">+    inventorOf: ['coxcomb chart', 'modern nursing']</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// good - æœ‰å°¾éšé€—å·çš„ git å·®å¼‚</span><br><span class="line">const hero = &#123;</span><br><span class="line">     firstName: 'Florence',</span><br><span class="line">     lastName: 'Nightingale',</span><br><span class="line"><span class="hljs-addition">+    inventorOf: ['coxcomb chart', 'modern nursing'],</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> hero = &#123;</span><br><span class="line">  firstName: <span class="hljs-string">'Dana'</span>,</span><br><span class="line">  lastName: <span class="hljs-string">'Scully'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> heroes = [</span><br><span class="line">  <span class="hljs-string">'Batman'</span>,</span><br><span class="line">  <span class="hljs-string">'Superman'</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> hero = &#123;</span><br><span class="line">  firstName: <span class="hljs-string">'Dana'</span>,</span><br><span class="line">  lastName: <span class="hljs-string">'Scully'</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> heroes = [</span><br><span class="line">  <span class="hljs-string">'Batman'</span>,</span><br><span class="line">  <span class="hljs-string">'Superman'</span>,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createHero</span>(<span class="hljs-params"></span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">  firstName,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">  lastName,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">  inventorOf</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// does nothing</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createHero</span>(<span class="hljs-params"></span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">  firstName,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">  lastName,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">  inventorOf,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// does nothing</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good (æ³¨æ„é€—å·ä¸èƒ½å‡ºç°åœ¨ "rest" å…ƒç´ åè¾¹)</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createHero</span>(<span class="hljs-params"></span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">  firstName,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">  lastName,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">  inventorOf,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">  ...heroArgs</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// does nothing</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">createHero(</span><br><span class="line">  firstName,</span><br><span class="line">  lastName,</span><br><span class="line">  inventorOf</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">createHero(</span><br><span class="line">  firstName,</span><br><span class="line">  lastName,</span><br><span class="line">  inventorOf,</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good (æ³¨æ„é€—å·ä¸èƒ½å‡ºç°åœ¨ "rest" å…ƒç´ åè¾¹)</span></span><br><span class="line">createHero(</span><br><span class="line">  firstName,</span><br><span class="line">  lastName,</span><br><span class="line">  inventorOf,</span><br><span class="line">  ...heroArgs</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="åˆ†å·"><a href="#åˆ†å·" class="headerlink" title="åˆ†å·"></a><a id="semicolons">åˆ†å·</a></h2><p>  <a name="semicolons--required"></a><a name="20.1"></a></p>
<ul>
<li><p><a href="#semicolons--required">21.1</a> <strong>å¯¹</strong> eslint: <a href="https://eslint.org/docs/rules/semi.html" target="_blank" rel="noopener"><code>semi</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? å½“ JavaScript é‡è§ä¸€ä¸ªæ²¡æœ‰åˆ†å·çš„æ¢è¡Œç¬¦æ—¶ï¼Œå®ƒä¼šä½¿ç”¨ä¸€ä¸ªå«åš <a href="https://tc39.github.io/ecma262/#sec-automatic-semicolon-insertion" target="_blank" rel="noopener">Automatic Semicolon Insertion</a> çš„è§„åˆ™æ¥ç¡®å®šæ˜¯å¦åº”è¯¥ä»¥æ¢è¡Œç¬¦è§†ä¸ºè¯­å¥çš„ç»“æŸï¼Œå¹¶ä¸”å¦‚æœè®¤ä¸ºå¦‚æ­¤ï¼Œä¼šåœ¨ä»£ç ä¸­æ–­å‰æ’å…¥ä¸€ä¸ªåˆ†å·åˆ°ä»£ç ä¸­ã€‚ ä½†æ˜¯ï¼ŒASI åŒ…å«äº†ä¸€äº›å¥‡æ€ªçš„è¡Œä¸ºï¼Œå¦‚æœ JavaScript é”™è¯¯çš„è§£é‡Šäº†ä½ çš„æ¢è¡Œç¬¦ï¼Œä½ çš„ä»£ç å°†ä¼šä¸­æ–­ã€‚ éšç€æ–°ç‰¹æ€§æˆä¸º JavaScript çš„ä¸€éƒ¨åˆ†ï¼Œè¿™äº›è§„åˆ™å°†å˜å¾—æ›´åŠ å¤æ‚ã€‚ æ˜ç¡®åœ°ç»ˆæ­¢ä½ çš„è¯­å¥ï¼Œå¹¶é…ç½®ä½ çš„ linter ä»¥æ•è·ç¼ºå°‘çš„åˆ†å·å°†æœ‰åŠ©äºé˜²æ­¢ä½ é‡åˆ°çš„é—®é¢˜ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad - å¯èƒ½å¼‚å¸¸</span></span><br><span class="line"><span class="hljs-keyword">const</span> luke = &#123;&#125;</span><br><span class="line"><span class="hljs-keyword">const</span> leia = &#123;&#125;</span><br><span class="line">[luke, leia].forEach(<span class="hljs-function"><span class="hljs-params">jedi</span> =&gt;</span> jedi.father = <span class="hljs-string">'vader'</span>)</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad - å¯èƒ½å¼‚å¸¸</span></span><br><span class="line"><span class="hljs-keyword">const</span> reaction = <span class="hljs-string">"No! That's impossible!"</span></span><br><span class="line">(<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">meanwhileOnTheFalcon</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// handle `leia`, `lando`, `chewie`, `r2`, `c3p0`</span></span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;())</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad - è¿”å› `undefined` è€Œä¸æ˜¯ä¸‹ä¸€è¡Œçš„å€¼ - å½“ `return` å•ç‹¬ä¸€è¡Œçš„æ—¶å€™ ASI æ€»æ˜¯ä¼šå‘ç”Ÿ</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span></span><br><span class="line">    <span class="hljs-string">'search your feelings, you know it to be foo'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> luke = &#123;&#125;;</span><br><span class="line"><span class="hljs-keyword">const</span> leia = &#123;&#125;;</span><br><span class="line">[luke, leia].forEach(<span class="hljs-function">(<span class="hljs-params">jedi</span>) =&gt;</span> &#123;</span><br><span class="line">  jedi.father = <span class="hljs-string">'vader'</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> reaction = <span class="hljs-string">"No! That's impossible!"</span>;</span><br><span class="line">(<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">meanwhileOnTheFalcon</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// handle `leia`, `lando`, `chewie`, `r2`, `c3p0`</span></span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-string">'search your feelings, you know it to be foo'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a href="https://stackoverflow.com/questions/7365172/semicolon-before-self-invoking-function/7365214#7365214" target="_blank" rel="noopener">æ›´å¤šä¿¡æ¯</a>.</p>
</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="ç±»å‹è½¬æ¢å’Œå¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢å’Œå¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢å’Œå¼ºåˆ¶ç±»å‹è½¬æ¢"></a><a id="type-casting--coercion">ç±»å‹è½¬æ¢å’Œå¼ºåˆ¶ç±»å‹è½¬æ¢</a></h2><p>  <a name="coercion--explicit"></a><a name="21.1"></a></p>
<ul>
<li><p><a href="#coercion--explicit">22.1</a> åœ¨è¯­å¥å¼€å§‹å‰è¿›è¡Œç±»å‹è½¬æ¢ã€‚</p>
<p><a name="coercion--strings"></a><a name="21.2"></a></p>
</li>
<li><p><a href="#coercion--strings">22.2</a>  å­—ç¬¦ç±»å‹ï¼š eslint: <a href="https://eslint.org/docs/rules/no-new-wrappers" target="_blank" rel="noopener"><code>no-new-wrappers</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// =&gt; this.reviewScore = 9;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> totalScore = <span class="hljs-keyword">new</span> <span class="hljs-built_in">String</span>(<span class="hljs-keyword">this</span>.reviewScore); <span class="hljs-comment">// typeof totalScore is "object" not "string"</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> totalScore = <span class="hljs-keyword">this</span>.reviewScore + <span class="hljs-string">''</span>; <span class="hljs-comment">// invokes this.reviewScore.valueOf()</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> totalScore = <span class="hljs-keyword">this</span>.reviewScore.toString(); <span class="hljs-comment">// isnâ€™t guaranteed to return a string</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> totalScore = <span class="hljs-built_in">String</span>(<span class="hljs-keyword">this</span>.reviewScore);</span><br></pre></td></tr></table></figure>

<p><a name="coercion--numbers"></a><a name="21.3"></a></p>
</li>
<li><p><a href="#coercion--numbers">22.3</a> æ•°å­—ç±»å‹ï¼šä½¿ç”¨ <code>Number</code> è¿›è¡Œç±»å‹é“¸é€ å’Œ <code>parseInt</code> æ€»æ˜¯é€šè¿‡ä¸€ä¸ªåŸºæ•°æ¥è§£æä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ eslint: <a href="https://eslint.org/docs/rules/radix" target="_blank" rel="noopener"><code>radix</code></a> <a href="https://eslint.org/docs/rules/no-new-wrappers" target="_blank" rel="noopener"><code>no-new-wrappers</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> inputValue = <span class="hljs-string">'4'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> val = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Number</span>(inputValue);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> val = +inputValue;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> val = inputValue &gt;&gt; <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> val = <span class="hljs-built_in">parseInt</span>(inputValue);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> val = <span class="hljs-built_in">Number</span>(inputValue);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> val = <span class="hljs-built_in">parseInt</span>(inputValue, <span class="hljs-number">10</span>);</span><br></pre></td></tr></table></figure>

<p><a name="coercion--comment-deviations"></a><a name="21.4"></a></p>
</li>
<li><p><a href="#coercion--comment-deviations">22.4</a> å¦‚æœå‡ºäºæŸç§åŸå› ï¼Œä½ æ­£åœ¨åšä¸€äº›ç–¯ç‹‚çš„äº‹æƒ…ï¼Œè€Œ <code>parseInt</code> æ˜¯ä½ çš„ç“¶é¢ˆï¼Œå¹¶ä¸”å‡ºäº <a href="https://jsperf.com/coercion-vs-casting/3" target="_blank" rel="noopener">æ€§èƒ½é—®é¢˜</a> éœ€è¦ä½¿ç”¨ä½è¿ç®—ï¼Œ è¯·å†™ä¸‹æ³¨é‡Šï¼Œè¯´æ˜ä¸ºä»€ä¹ˆè¿™æ ·åšå’Œä½ åšäº†ä»€ä¹ˆã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * parseInt ä½¿æˆ‘çš„ä»£ç å˜æ…¢ã€‚</span></span><br><span class="line"><span class="hljs-comment"> * ä½è¿ç®—å°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆæ•°å­—æ›´å¿«ã€‚</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-keyword">const</span> val = inputValue &gt;&gt; <span class="hljs-number">0</span>;</span><br></pre></td></tr></table></figure>

<p><a name="coercion--bitwise"></a><a name="21.5"></a></p>
</li>
<li><p><a href="#coercion--bitwise">22.5</a> <strong>æ³¨æ„ï¼š</strong> å½“ä½ ä½¿ç”¨ä½è¿ç®—çš„æ—¶å€™è¦å°å¿ƒã€‚ æ•°å­—æ€»æ˜¯è¢«ä»¥ <a href="https://es5.github.io/#x4.3.19" target="_blank" rel="noopener">64-bit å€¼</a> çš„å½¢å¼è¡¨ç¤ºï¼Œä½†æ˜¯ä½è¿ç®—æ€»æ˜¯è¿”å›ä¸€ä¸ª 32-bit çš„æ•´æ•° (<a href="https://es5.github.io/#x11.7" target="_blank" rel="noopener">æ¥æº</a>)ã€‚ å¯¹äºå¤§äº 32 ä½çš„æ•´æ•°å€¼ï¼Œä½è¿ç®—å¯èƒ½ä¼šå¯¼è‡´æ„å¤–è¡Œä¸ºã€‚<a href="https://github.com/airbnb/javascript/issues/109" target="_blank" rel="noopener">è®¨è®º</a>ã€‚ æœ€å¤§çš„ 32 ä½æ•´æ•°æ˜¯ï¼š 2,147,483,647ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">2147483647</span> &gt;&gt; <span class="hljs-number">0</span>; <span class="hljs-comment">// =&gt; 2147483647</span></span><br><span class="line"><span class="hljs-number">2147483648</span> &gt;&gt; <span class="hljs-number">0</span>; <span class="hljs-comment">// =&gt; -2147483648</span></span><br><span class="line"><span class="hljs-number">2147483649</span> &gt;&gt; <span class="hljs-number">0</span>; <span class="hljs-comment">// =&gt; -2147483647</span></span><br></pre></td></tr></table></figure>

<p><a name="coercion--booleans"></a><a name="21.6"></a></p>
</li>
<li><p><a href="#coercion--booleans">22.6</a> å¸ƒå°”ç±»å‹ï¼š eslint: <a href="https://eslint.org/docs/rules/no-new-wrappers" target="_blank" rel="noopener"><code>no-new-wrappers</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> age = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> hasAge = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Boolean</span>(age);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> hasAge = <span class="hljs-built_in">Boolean</span>(age);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// best</span></span><br><span class="line"><span class="hljs-keyword">const</span> hasAge = !!age;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="å‘½åè§„èŒƒ"><a href="#å‘½åè§„èŒƒ" class="headerlink" title="å‘½åè§„èŒƒ"></a><a id="naming-conventions">å‘½åè§„èŒƒ</a></h2><p>  <a name="naming--descriptive"></a><a name="22.1"></a></p>
<ul>
<li><p><a href="#naming--descriptive">23.1</a> é¿å…å•å­—æ¯çš„åå­—ã€‚ç”¨ä½ çš„å‘½åæ¥æè¿°åŠŸèƒ½ã€‚ eslint: <a href="https://eslint.org/docs/rules/id-length" target="_blank" rel="noopener"><code>id-length</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">q</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">query</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="naming--camelCase"></a><a name="22.2"></a></p>
</li>
<li><p><a href="#naming--camelCase">23.2</a> åœ¨å‘½åå¯¹è±¡ã€å‡½æ•°å’Œå®ä¾‹æ—¶ä½¿ç”¨é©¼å³°å‘½åæ³•ï¼ˆcamelCaseï¼‰ã€‚ eslint: <a href="https://eslint.org/docs/rules/camelcase.html" target="_blank" rel="noopener"><code>camelcase</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> OBJEcttsssss = &#123;&#125;;</span><br><span class="line"><span class="hljs-keyword">const</span> this_is_my_object = &#123;&#125;;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> thisIsMyObject = &#123;&#125;;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">thisIsMyFunction</span>(<span class="hljs-params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p><a name="naming--PascalCase"></a><a name="22.3"></a></p>
</li>
<li><p><a href="#naming--PascalCase">23.3</a> åªæœ‰åœ¨å‘½åæ„é€ å™¨æˆ–è€…ç±»çš„æ—¶å€™æ‰ç”¨å¸•æ–¯å¡æ‹¼å‘½åæ³•ï¼ˆPascalCaseï¼‰ã€‚ eslint: <a href="https://eslint.org/docs/rules/new-cap.html" target="_blank" rel="noopener"><code>new-cap</code></a></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">user</span>(<span class="hljs-params">options</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">this</span>.name = options.name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> bad = <span class="hljs-keyword">new</span> user(&#123;</span><br><span class="line">  name: <span class="hljs-string">'nope'</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">constructor</span>(options) &#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.name = options.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> good = <span class="hljs-keyword">new</span> User(&#123;</span><br><span class="line">  name: <span class="hljs-string">'yup'</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><a name="naming--leading-underscore"></a><a name="22.4"></a></p>
</li>
<li><p><a href="#naming--leading-underscore">23.4</a> ä¸è¦ä½¿ç”¨å‰ç½®æˆ–è€…åç½®ä¸‹åˆ’çº¿ã€‚ eslint: <a href="https://eslint.org/docs/rules/no-underscore-dangle.html" target="_blank" rel="noopener"><code>no-underscore-dangle</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? JavaScript åœ¨å±æ€§å’Œæ–¹æ³•æ–¹é¢æ²¡æœ‰éšç§è®¾ç½®ã€‚ è™½ç„¶å‰ç½®çš„ä¸‹åˆ’çº¿æ˜¯ä¸€ç§å¸¸è§çš„æƒ¯ä¾‹ï¼Œæ„æ€æ˜¯ â€œprivateâ€ ï¼Œäº‹å®ä¸Šï¼Œè¿™äº›å±æ€§æ—¶å…¬å¼€çš„ï¼Œå› æ­¤ï¼Œå®ƒä»¬ä¹Ÿæ˜¯ä½ å…¬å…± API çš„ä¸€éƒ¨åˆ†ã€‚ è¿™ç§çº¦å®šå¯èƒ½å¯¼è‡´å¼€å‘äººå‘˜é”™è¯¯çš„è®¤ä¸ºæ›´æ”¹ä¸ä¼šè¢«è§†ä¸ºä¸­æ–­ï¼Œæˆ–è€…ä¸éœ€è¦æµ‹è¯•ã€‚å»ºè®®ï¼šå¦‚æœä½ æƒ³è¦ä»€ä¹ˆä¸œè¥¿æ˜¯ â€œprivateâ€ ï¼Œ é‚£å°±ä¸€å®šä¸èƒ½æœ‰æ˜æ˜¾çš„è¡¨ç°ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">this</span>.__firstName__ = <span class="hljs-string">'Panda'</span>;</span><br><span class="line"><span class="hljs-keyword">this</span>.firstName_ = <span class="hljs-string">'Panda'</span>;</span><br><span class="line"><span class="hljs-keyword">this</span>._firstName = <span class="hljs-string">'Panda'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">this</span>.firstName = <span class="hljs-string">'Panda'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// å¥½ï¼Œåœ¨ WeakMapx å¯ç”¨çš„ç¯å¢ƒä¸­</span></span><br><span class="line"><span class="hljs-comment">// see https://kangax.github.io/compat-table/es6/#test-WeakMap</span></span><br><span class="line"><span class="hljs-keyword">const</span> firstNames = <span class="hljs-keyword">new</span> <span class="hljs-built_in">WeakMap</span>();</span><br><span class="line">firstNames.set(<span class="hljs-keyword">this</span>, <span class="hljs-string">'Panda'</span>);</span><br></pre></td></tr></table></figure>

<p><a name="naming--self-this"></a><a name="22.5"></a></p>
</li>
<li><p><a href="#naming--self-this">23.5</a> ä¸è¦ä¿å­˜ <code>this</code> çš„å¼•ç”¨ã€‚ ä½¿ç”¨ç®­å¤´å‡½æ•°æˆ–è€… <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind" target="_blank" rel="noopener">å‡½æ•°#bind</a>ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> self = <span class="hljs-keyword">this</span>;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(self);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> that = <span class="hljs-keyword">this</span>;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(that);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="naming--filename-matches-export"></a><a name="22.6"></a></p>
</li>
<li><p><a href="#naming--filename-matches-export">23.6</a> æ–‡ä»¶ååº”è¯¥å’Œé»˜è®¤å¯¼å‡ºçš„åç§°å®Œå…¨åŒ¹é…ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// file 1 contents</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CheckBox</span> </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> CheckBox;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// file 2 contents</span></span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fortyTwo</span>(<span class="hljs-params"></span>) </span>&#123; <span class="hljs-keyword">return</span> <span class="hljs-number">42</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// file 3 contents</span></span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">insideDirectory</span>(<span class="hljs-params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// in some other file</span></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">import</span> CheckBox <span class="hljs-keyword">from</span> <span class="hljs-string">'./checkBox'</span>; <span class="hljs-comment">// PascalCase import/export, camelCase filename</span></span><br><span class="line"><span class="hljs-keyword">import</span> FortyTwo <span class="hljs-keyword">from</span> <span class="hljs-string">'./FortyTwo'</span>; <span class="hljs-comment">// PascalCase import/filename, camelCase export</span></span><br><span class="line"><span class="hljs-keyword">import</span> InsideDirectory <span class="hljs-keyword">from</span> <span class="hljs-string">'./InsideDirectory'</span>; <span class="hljs-comment">// PascalCase import/filename, camelCase export</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">import</span> CheckBox <span class="hljs-keyword">from</span> <span class="hljs-string">'./check_box'</span>; <span class="hljs-comment">// PascalCase import/export, snake_case filename</span></span><br><span class="line"><span class="hljs-keyword">import</span> forty_two <span class="hljs-keyword">from</span> <span class="hljs-string">'./forty_two'</span>; <span class="hljs-comment">// snake_case import/filename, camelCase export</span></span><br><span class="line"><span class="hljs-keyword">import</span> inside_directory <span class="hljs-keyword">from</span> <span class="hljs-string">'./inside_directory'</span>; <span class="hljs-comment">// snake_case import, camelCase export</span></span><br><span class="line"><span class="hljs-keyword">import</span> index <span class="hljs-keyword">from</span> <span class="hljs-string">'./inside_directory/index'</span>; <span class="hljs-comment">// requiring the index file explicitly</span></span><br><span class="line"><span class="hljs-keyword">import</span> insideDirectory <span class="hljs-keyword">from</span> <span class="hljs-string">'./insideDirectory/index'</span>; <span class="hljs-comment">// requiring the index file explicitly</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">import</span> CheckBox <span class="hljs-keyword">from</span> <span class="hljs-string">'./CheckBox'</span>; <span class="hljs-comment">// PascalCase export/import/filename</span></span><br><span class="line"><span class="hljs-keyword">import</span> fortyTwo <span class="hljs-keyword">from</span> <span class="hljs-string">'./fortyTwo'</span>; <span class="hljs-comment">// camelCase export/import/filename</span></span><br><span class="line"><span class="hljs-keyword">import</span> insideDirectory <span class="hljs-keyword">from</span> <span class="hljs-string">'./insideDirectory'</span>; <span class="hljs-comment">// camelCase export/import/directory name/implicit "index"</span></span><br><span class="line"><span class="hljs-comment">// ^ supports both insideDirectory.js and insideDirectory/index.js</span></span><br></pre></td></tr></table></figure>

<p><a name="naming--camelCase-default-export"></a><a name="22.7"></a></p>
</li>
<li><p><a href="#naming--camelCase-default-export">23.7</a> å½“ä½ å¯¼å‡ºé»˜è®¤å‡½æ•°æ—¶ä½¿ç”¨é©¼å³°å‘½åæ³•ã€‚ ä½ çš„æ–‡ä»¶ååº”è¯¥å’Œæ–¹æ³•åç›¸åŒã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makeStyleGuide</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> makeStyleGuide;</span><br></pre></td></tr></table></figure>

<p><a name="naming--PascalCase-singleton"></a><a name="22.8"></a></p>
</li>
<li><p><a href="#naming--PascalCase-singleton">23.8</a> å½“ä½ å¯¼å‡ºä¸€ä¸ªæ„é€ å™¨ / ç±» / å•ä¾‹ / å‡½æ•°åº“ / æš´éœ²çš„å¯¹è±¡æ—¶åº”è¯¥ä½¿ç”¨å¸•æ–¯å¡å‘½åæ³•ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> AirbnbStyleGuide = &#123;</span><br><span class="line">  es6: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> AirbnbStyleGuide;</span><br></pre></td></tr></table></figure>

<p><a name="naming--Acronyms-and-Initialisms"></a></p>
</li>
<li><p><a href="#naming--Acronyms-and-Initialisms">23.9</a> ç¼©ç•¥è¯å’Œç¼©å†™éƒ½å¿…é¡»æ˜¯å…¨éƒ¨å¤§å†™æˆ–è€…å…¨éƒ¨å°å†™ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? åå­—æ˜¯ä¸ºäº†å¯è¯»æ€§ï¼Œä¸æ˜¯ä¸ºäº†æ»¡è¶³è®¡ç®—æœºç®—æ³•ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">import</span> SmsContainer <span class="hljs-keyword">from</span> <span class="hljs-string">'./containers/SmsContainer'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> HttpRequests = [</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">import</span> SMSContainer <span class="hljs-keyword">from</span> <span class="hljs-string">'./containers/SMSContainer'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> HTTPRequests = [</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// also good</span></span><br><span class="line"><span class="hljs-keyword">const</span> httpRequests = [</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// best</span></span><br><span class="line"><span class="hljs-keyword">import</span> TextMessageContainer <span class="hljs-keyword">from</span> <span class="hljs-string">'./containers/TextMessageContainer'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// best</span></span><br><span class="line"><span class="hljs-keyword">const</span> requests = [</span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p><a name="naming--uppercase"></a></p>
</li>
<li><p><a href="#naming--uppercase">23.10</a> ä½ å¯ä»¥å¤§å†™ä¸€ä¸ªå¸¸äº®ï¼Œå¦‚æœå®ƒï¼šï¼ˆ1ï¼‰è¢«å¯¼å‡ºï¼Œï¼ˆ2ï¼‰ä½¿ç”¨ <code>const</code> å®šä¹‰ï¼ˆä¸èƒ½è¢«é‡æ–°åˆ†é…ï¼‰ï¼Œï¼ˆ3ï¼‰ç¨‹åºå‘˜å¯ä»¥ä¿¡ä»»å®ƒï¼ˆä»¥åŠå…¶åµŒå¥—çš„å±æ€§ï¼‰æ˜¯ä¸å˜çš„ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? è¿™æ˜¯ä¸€ä¸ªå¯ä»¥å¸®åŠ©ç¨‹åºå‘˜ç¡®å®šå˜é‡æ˜¯å¦ä¼šå‘ç”Ÿå˜åŒ–çš„è¾…åŠ©å·¥å…·ã€‚UPPERCASE_VARIABLES å¯ä»¥è®©ç¨‹åºå‘˜çŸ¥é“ä»–ä»¬å¯ä»¥ç›¸ä¿¡å˜é‡ï¼ˆåŠå…¶å±æ€§ï¼‰ä¸ä¼šæ”¹å˜ã€‚</p>
<ul>
<li>æ˜¯å¦æ˜¯å¯¹æ‰€æœ‰çš„ <code>const</code> å®šä¹‰çš„å˜é‡ï¼Ÿ - è¿™ä¸ªæ˜¯æ²¡å“Ÿå¿…è¦çš„ï¼Œä¸åº”è¯¥åœ¨æ–‡ä»¶ä¸­ä½¿ç”¨å¤§å­¦ã€‚ä½†æ˜¯ï¼Œå®ƒåº”è¯¥ç”¨äºå¯¼å‡ºå¸¸é‡ã€‚</li>
<li>å¯¼å‡ºå¯¹è±¡å‘¢ï¼Ÿ - åœ¨é¡¶çº§å¯¼å‡ºå±æ€§ (e.g. <code>EXPORTED_OBJECT.key</code>) å¹¶ä¸”ä¿æŒæ‰€æœ‰åµŒå¥—å±æ€§ä¸å˜ã€‚</li>
</ul>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> PRIVATE_VARIABLE = <span class="hljs-string">'should not be unnecessarily uppercased within a file'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> THING_TO_BE_CHANGED = <span class="hljs-string">'should obviously not be uppercased'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> REASSIGNABLE_VARIABLE = <span class="hljs-string">'do not use let with uppercase variables'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ---</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// å…è®¸ï¼Œä½†æ˜¯ä¸æä¾›è¯­ä¹‰å€¼</span></span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> apiKey = <span class="hljs-string">'SOMEKEY'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// å¤šæ•°æƒ…å†µä¸‹ï¼Œå¾ˆå¥½</span></span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> API_KEY = <span class="hljs-string">'SOMEKEY'</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ---</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad - ä¸å¿…è¦å¤§å†™ key æ²¡æœ‰å¢åŠ è¯­ä¹‰å€¼</span></span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> MAPPING = &#123;</span><br><span class="line">  KEY: <span class="hljs-string">'value'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> MAPPING = &#123;</span><br><span class="line">  key: <span class="hljs-string">'value'</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="å­˜å–å™¨"><a href="#å­˜å–å™¨" class="headerlink" title="å­˜å–å™¨"></a><a id="accessors">å­˜å–å™¨</a></h2><p>  <a name="accessors--not-required"></a><a name="23.1"></a></p>
<ul>
<li><p><a href="#accessors--not-required">24.1</a> å¯¹äºå±æ€§çš„çš„å­˜å–å‡½æ•°ä¸æ˜¯å¿…é¡»çš„ã€‚</p>
<p><a name="accessors--no-getters-setters"></a><a name="23.2"></a></p>
</li>
<li><p><a href="#accessors--no-getters-setters">24.2</a> ä¸è¦ä½¿ç”¨ JavaScript çš„ getters/setters æ–¹æ³•ï¼Œå› ä¸ºå®ƒä»¬ä¼šå¯¼è‡´æ„å¤–çš„å‰¯ä½œç”¨ï¼Œå¹¶ä¸”æ›´åŠ éš¾ä»¥æµ‹è¯•ã€ç»´æŠ¤å’Œæ¨æ•²ã€‚ ç›¸åº”çš„ï¼Œå¦‚æœä½ éœ€è¦å­˜å–å‡½æ•°çš„æ—¶å€™ä½¿ç”¨ <code>getVal()</code> å’Œ <code>setVal(&#39;hello&#39;)</code>ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Dragon</span> </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">get</span> age() &#123;</span><br><span class="line">    <span class="hljs-comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">set</span> age(value) &#123;</span><br><span class="line">    <span class="hljs-comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Dragon</span> </span>&#123;</span><br><span class="line">  getAge() &#123;</span><br><span class="line">    <span class="hljs-comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  setAge(value) &#123;</span><br><span class="line">    <span class="hljs-comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="accessors--boolean-prefix"></a><a name="23.3"></a></p>
</li>
<li><p><a href="#accessors--boolean-prefix">24.3</a> å¦‚æœå±æ€§/æ–¹æ³•æ˜¯ä¸€ä¸ª <code>boolean</code> å€¼ï¼Œä½¿ç”¨ <code>isVal()</code> æˆ–è€… <code>hasVal()</code>ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">if</span> (!dragon.age()) &#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">if</span> (!dragon.hasAge()) &#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="accessors--consistent"></a><a name="23.4"></a></p>
</li>
<li><p><a href="#accessors--consistent">24.4</a> å¯ä»¥åˆ›å»º <code>get()</code> å’Œ <code>set()</code> æ–¹æ³•ï¼Œä½†æ˜¯è¦ä¿è¯ä¸€è‡´æ€§ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Jedi</span> </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">constructor</span>(options = &#123;&#125;) &#123;</span><br><span class="line">    <span class="hljs-keyword">const</span> lightsaber = options.lightsaber || <span class="hljs-string">'blue'</span>;</span><br><span class="line">    <span class="hljs-keyword">this</span>.set(<span class="hljs-string">'lightsaber'</span>, lightsaber);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">set</span>(key, val) &#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>[key] = val;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">get</span>(key) &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>[key];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a><a id="events">äº‹ä»¶</a></h2><p>  <a name="events--hash"></a><a name="24.1"></a></p>
<ul>
<li><p><a href="#events--hash">25.1</a> å½“ç»™äº‹ä»¶ï¼ˆæ— è®ºæ˜¯ DOM äº‹ä»¶è¿˜æ˜¯æ›´åŠ ç§æœ‰çš„äº‹ä»¶ï¼‰é™„åŠ æ•°æ®æ—¶ï¼Œä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼ˆé€šç•…ä¹Ÿå«åš â€œhashâ€ ï¼‰ è€Œä¸æ˜¯åŸå§‹å€¼ã€‚ è¿™æ ·å¯ä»¥è®©åè¾¹çš„è´¡çŒ®è€…å‘äº‹ä»¶æ•°æ®æ·»åŠ æ›´å¤šçš„æ•°æ®ï¼Œè€Œä¸ç”¨æ‰¾å‡ºæ›´æ–°äº‹ä»¶çš„æ¯ä¸ªå¤„ç†å™¨ã€‚ ä¾‹å¦‚ï¼Œä¸å¥½çš„å†™æ³•ï¼š</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">$(<span class="hljs-keyword">this</span>).trigger(<span class="hljs-string">'listingUpdated'</span>, listing.id);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ...</span></span><br><span class="line"></span><br><span class="line">$(<span class="hljs-keyword">this</span>).on(<span class="hljs-string">'listingUpdated'</span>, (e, listingID) =&gt; &#123;</span><br><span class="line">  <span class="hljs-comment">// do something with listingID</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>æ›´å¥½çš„å†™æ³•ï¼š</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">$(<span class="hljs-keyword">this</span>).trigger(<span class="hljs-string">'listingUpdated'</span>, &#123; <span class="hljs-attr">listingID</span>: listing.id &#125;);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ...</span></span><br><span class="line"></span><br><span class="line">$(<span class="hljs-keyword">this</span>).on(<span class="hljs-string">'listingUpdated'</span>, (e, data) =&gt; &#123;</span><br><span class="line">  <span class="hljs-comment">// do something with data.listingID</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>  <strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="jQuery"><a href="#jQuery" class="headerlink" title="jQuery"></a>jQuery</h2><p>  <a name="jquery--dollar-prefix"></a><a name="25.1"></a></p>
<ul>
<li><p><a href="#jquery--dollar-prefix">26.1</a> å¯¹äº jQuery å¯¹è±¡çš„å˜é‡ä½¿ç”¨ <code>$</code> ä½œä¸ºå‰ç¼€ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-keyword">const</span> sidebar = $(<span class="hljs-string">'.sidebar'</span>);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> $sidebar = $(<span class="hljs-string">'.sidebar'</span>);</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-keyword">const</span> $sidebarBtn = $(<span class="hljs-string">'.sidebar-btn'</span>);</span><br></pre></td></tr></table></figure>

<p><a name="jquery--cache"></a><a name="25.2"></a></p>
</li>
<li><p><a href="#jquery--cache">26.2</a> ç¼“å­˜ jQuery æŸ¥è¯¢ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setSidebar</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  $(<span class="hljs-string">'.sidebar'</span>).hide();</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line"></span><br><span class="line">  $(<span class="hljs-string">'.sidebar'</span>).css(&#123;</span><br><span class="line">    <span class="hljs-string">'background-color'</span>: <span class="hljs-string">'pink'</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setSidebar</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> $sidebar = $(<span class="hljs-string">'.sidebar'</span>);</span><br><span class="line">  $sidebar.hide();</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">// ...</span></span><br><span class="line"></span><br><span class="line">  $sidebar.css(&#123;</span><br><span class="line">    <span class="hljs-string">'background-color'</span>: <span class="hljs-string">'pink'</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="jquery--queries"></a><a name="25.3"></a></p>
</li>
<li><p><a href="#jquery--queries">26.3</a> å¯¹äº DOM æŸ¥è¯¢ä½¿ç”¨å±‚å  <code>$(&#39;.sidebar ul&#39;)</code> æˆ– çˆ¶å…ƒç´  &gt; å­å…ƒç´  <code>$(&#39;.sidebar &gt; ul&#39;)</code> çš„æ ¼å¼ã€‚ <a href="http://jsperf.com/jquery-find-vs-context-sel/16" target="_blank" rel="noopener">jsPerf</a></p>
<p><a name="jquery--find"></a><a name="25.4"></a></p>
</li>
<li><p><a href="#jquery--find">26.4</a> å¯¹äºæœ‰ä½œç”¨åŸŸçš„ jQuery å¯¹è±¡æŸ¥è¯¢ä½¿ç”¨ <code>find</code> ã€‚</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">$(<span class="hljs-string">'ul'</span>, <span class="hljs-string">'.sidebar'</span>).hide();</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line">$(<span class="hljs-string">'.sidebar'</span>).find(<span class="hljs-string">'ul'</span>).hide();</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">$(<span class="hljs-string">'.sidebar ul'</span>).hide();</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">$(<span class="hljs-string">'.sidebar &gt; ul'</span>).hide();</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line">$sidebar.find(<span class="hljs-string">'ul'</span>).hide();</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="ECMAScript-5-å…¼å®¹æ€§"><a href="#ECMAScript-5-å…¼å®¹æ€§" class="headerlink" title="ECMAScript 5 å…¼å®¹æ€§"></a><a id="ecmascript-5-compatibility">ECMAScript 5 å…¼å®¹æ€§</a></h2><p>  <a name="es5-compat--kangax"></a><a name="26.1"></a></p>
<ul>
<li><a href="#es5-compat--kangax">27.1</a> å‚è€ƒ <a href="https://twitter.com/kangax/" target="_blank" rel="noopener">Kangax</a>çš„ ES5 <a href="https://kangax.github.io/es5-compat-table/" target="_blank" rel="noopener">å…¼å®¹æ€§è¡¨æ ¼</a>ã€‚</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<p><a name="ecmascript-6-styles"></a></p>
<h2 id="ECMAScript-6-ES-2015-Styles"><a href="#ECMAScript-6-ES-2015-Styles" class="headerlink" title="ECMAScript 6+ (ES 2015+) Styles"></a>ECMAScript 6+ (ES 2015+) Styles</h2><p>  <a name="es6-styles"></a><a name="27.1"></a></p>
<ul>
<li><a href="#es6-styles">28.1</a> è¿™æ˜¯ä¸€ä¸ªé“¾æ¥åˆ°å„ç§ ES6+ ç‰¹æ€§çš„é›†åˆã€‚</li>
</ul>
<ol>
<li><p><a href="#arrow-functions">ç®­å¤´å‡½æ•°</a></p>
</li>
<li><p><a href="#classes--constructors">ç±»</a></p>
</li>
<li><p><a href="#es6-object-shorthand">å¯¹è±¡ç®€å†™</a></p>
</li>
<li><p><a href="#es6-object-concise">å¯¹è±¡ç®€æ´</a></p>
</li>
<li><p><a href="#es6-computed-properties">å¯¹è±¡è®¡ç®—å±æ€§</a></p>
</li>
<li><p><a href="#es6-template-literals">å­—ç¬¦ä¸²æ¨¡æ¿</a></p>
</li>
<li><p><a href="#destructuring">è§£æ„</a></p>
</li>
<li><p><a href="#es6-default-parameters">é»˜è®¤å‚æ•°</a></p>
</li>
<li><p><a href="#es6-rest">Rest</a></p>
</li>
<li><p><a href="#es6-array-spreads">æ•°ç»„å±•å¼€</a></p>
</li>
<li><p><a href="#references">Let å’Œ Const</a></p>
</li>
<li><p><a href="#es2016-properties--exponentiation-operator">æ±‚å¹‚è¿ç®—ç¬¦</a></p>
</li>
<li><p><a href="#iterators-and-generators">è¿­ä»£å™¨å’Œå‘ç”Ÿå™¨</a></p>
</li>
<li><p><a href="#modules">æ¨¡å—</a></p>
<p><a name="tc39-proposals"></a></p>
<ul>
<li><p><a href="#tc39-proposals">28.2</a> ä¸è¦ä½¿ç”¨å°šæœªè¾¾åˆ°ç¬¬3é˜¶æ®µçš„ <a href="https://github.com/tc39/proposals" target="_blank" rel="noopener">TC39 å»ºè®®</a>ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? <a href="https://tc39.github.io/process-document/" target="_blank" rel="noopener">å®ƒä»¬æ²¡æœ‰æœ€ç»ˆç¡®å®š</a>ï¼Œ å¹¶ä¸”å®ƒä»¬å¯èƒ½ä¼šè¢«æ”¹å˜æˆ–å®Œå…¨æ’¤å›ã€‚æˆ‘ä»¬å¸Œæœ›ä½¿ç”¨JavaScriptï¼Œè€Œå»ºè®®è¿˜ä¸æ˜¯JavaScriptã€‚</p>
</blockquote>
</li>
</ul>
</li>
</ol>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="æ ‡å‡†åº“"><a href="#æ ‡å‡†åº“" class="headerlink" title="æ ‡å‡†åº“"></a><a id="standard-library">æ ‡å‡†åº“</a></h2><p>  <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects" target="_blank" rel="noopener">æ ‡å‡†åº“</a><br>  åŒ…å«åŠŸèƒ½å·²æŸåçš„å®ç”¨å·¥å…·ï¼Œä½†å› ä¸ºé—ç•™åŸå› è€Œä¿ç•™ã€‚</p>
<p>  <a name="standard-library--isnan"></a></p>
<ul>
<li><p><a href="#standard-library--isnan">29.1</a> ä½¿ç”¨ <code>Number.isNaN</code> ä»£æ›¿å…¨å±€çš„ <code>isNaN</code>.<br>eslint: <a href="https://eslint.org/docs/rules/no-restricted-globals" target="_blank" rel="noopener"><code>no-restricted-globals</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? å…¨å±€çš„ <code>isNaN</code> å¼ºåˆ¶éæ•°å­—è½¬åŒ–ä¸ºæ•°å­—ï¼Œå¯¹ä»»ä½•å¼ºåˆ¶è½¬åŒ–ä¸º NaN çš„ä¸œè¥¿éƒ½è¿”å› trueã€‚</p>
</blockquote>
<blockquote>
<p>å¦‚æœéœ€è¦è¿™ç§è¡Œä¸ºï¼Œè¯·æ˜ç¡®è¯´æ˜ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-built_in">isNaN</span>(<span class="hljs-string">'1.2'</span>); <span class="hljs-comment">// false</span></span><br><span class="line"><span class="hljs-built_in">isNaN</span>(<span class="hljs-string">'1.2.3'</span>); <span class="hljs-comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-built_in">Number</span>.isNaN(<span class="hljs-string">'1.2.3'</span>); <span class="hljs-comment">// false</span></span><br><span class="line"><span class="hljs-built_in">Number</span>.isNaN(<span class="hljs-built_in">Number</span>(<span class="hljs-string">'1.2.3'</span>)); <span class="hljs-comment">// true</span></span><br></pre></td></tr></table></figure>

<p><a name="standard-library--isfinite"></a></p>
</li>
<li><p><a href="#standard-library--isfinite">29.2</a> ä½¿ç”¨ <code>Number.isFinite</code> ä»£æ›¿å…¨å±€çš„ <code>isFinite</code>.<br>eslint: <a href="https://eslint.org/docs/rules/no-restricted-globals" target="_blank" rel="noopener"><code>no-restricted-globals</code></a></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆ? å…¨å±€çš„ <code>isFinite</code> å¼ºåˆ¶éæ•°å­—è½¬åŒ–ä¸ºæ•°å­—ï¼Œå¯¹ä»»ä½•å¼ºåˆ¶è½¬åŒ–ä¸ºæœ‰é™æ•°å­—çš„ä¸œè¥¿éƒ½è¿”å› trueã€‚</p>
</blockquote>
<blockquote>
<p>å¦‚æœéœ€è¦è¿™ç§è¡Œä¸ºï¼Œè¯·æ˜ç¡®è¯´æ˜ã€‚</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// bad</span></span><br><span class="line"><span class="hljs-built_in">isFinite</span>(<span class="hljs-string">'2e3'</span>); <span class="hljs-comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// good</span></span><br><span class="line"><span class="hljs-built_in">Number</span>.isFinite(<span class="hljs-string">'2e3'</span>); <span class="hljs-comment">// false</span></span><br><span class="line"><span class="hljs-built_in">Number</span>.isFinite(<span class="hljs-built_in">parseInt</span>(<span class="hljs-string">'2e3'</span>, <span class="hljs-number">10</span>)); <span class="hljs-comment">// true</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="Testing"><a href="#Testing" class="headerlink" title="Testing"></a>Testing</h2><p>  <a name="testing--yup"></a><a name="28.1"></a></p>
<ul>
<li><p><a href="#testing--yup">30.1</a> <strong>æ˜¯çš„.</strong></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="testing--for-real"></a><a name="28.2"></a></p>
</li>
<li><p><a href="#testing--for-real">30.2</a> <strong>æ²¡æœ‰ï¼Œä½†æ˜¯è®¤çœŸ</strong>:</p>
<ul>
<li>æ— è®ºä½ ä½¿ç”¨é‚£ç§æµ‹è¯•æ¡†æ¶ï¼Œéƒ½åº”è¯¥ç¼–å†™æµ‹è¯•ï¼</li>
<li>åŠªåŠ›å†™å‡ºè®¸å¤šå°çš„çº¯å‡½æ•°ï¼Œå¹¶å°½é‡å‡å°‘å‘ç”Ÿé”™è¯¯çš„åœ°æ–¹ã€‚</li>
<li>å¯¹äºé™æ€æ–¹æ³•å’Œ mock è¦å°å¿ƒâ€”-å®ƒä»¬ä¼šä½¿ä½ çš„æµ‹è¯•æ›´åŠ è„†å¼±ã€‚</li>
<li>æˆ‘ä»¬ä¸»è¦åœ¨ Airbnb ä¸Šä½¿ç”¨ <a href="https://www.npmjs.com/package/mocha" target="_blank" rel="noopener"><code>mocha</code></a> å’Œ <a href="https://www.npmjs.com/package/jest" target="_blank" rel="noopener"><code>jest</code></a> ã€‚ <a href="https://www.npmjs.com/package/tape" target="_blank" rel="noopener"><code>tape</code></a> ä¹Ÿä¼šç”¨åœ¨ä¸€äº›å°çš„ç‹¬ç«‹æ¨¡å—ä¸Šã€‚</li>
<li>100%çš„æµ‹è¯•è¦†ç›–ç‡æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç›®æ ‡ï¼Œå³ä½¿å®ƒå¹¶ä¸æ€»æ˜¯å¯è¡Œçš„ã€‚</li>
<li>æ— è®ºä½•æ—¶ä¿®å¤bugï¼Œéƒ½è¦ç¼–å†™ä¸€ä¸ªå›å½’æµ‹è¯•ã€‚åœ¨æ²¡æœ‰å›å½’æµ‹è¯•çš„æƒ…å†µä¸‹ä¿®å¤çš„bugåœ¨å°†æ¥å‡ ä¹è‚¯å®šä¼šå†æ¬¡å´©æºƒã€‚</li>
</ul>
</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="æ€§èƒ½"><a href="#æ€§èƒ½" class="headerlink" title="æ€§èƒ½"></a><a id="performance">æ€§èƒ½</a></h2><ul>
<li><a href="https://www.kellegous.com/j/2013/01/26/layout-performance/" target="_blank" rel="noopener">On Layout &amp; Web Performance</a></li>
<li><a href="https://jsperf.com/string-vs-array-concat/2" target="_blank" rel="noopener">String vs Array Concat</a></li>
<li><a href="https://jsperf.com/try-catch-in-loop-cost" target="_blank" rel="noopener">Try/Catch Cost In a Loop</a></li>
<li><a href="https://jsperf.com/bang-function" target="_blank" rel="noopener">Bang Function</a></li>
<li><a href="https://jsperf.com/jquery-find-vs-context-sel/13" target="_blank" rel="noopener">jQuery Find vs Context, Selector</a></li>
<li><a href="https://jsperf.com/innerhtml-vs-textcontent-for-script-text" target="_blank" rel="noopener">innerHTML vs textContent for script text</a></li>
<li><a href="https://jsperf.com/ya-string-concat" target="_blank" rel="noopener">Long String Concatenation</a></li>
<li><a href="https://www.quora.com/JavaScript-programming-language-Are-Javascript-functions-like-map-reduce-and-filter-already-optimized-for-traversing-array/answer/Quildreen-Motta" target="_blank" rel="noopener">Are Javascript functions like <code>map()</code>, <code>reduce()</code>, and <code>filter()</code> optimized for traversing arrays?</a></li>
<li>Loadingâ€¦</li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="èµ„æº"><a href="#èµ„æº" class="headerlink" title="èµ„æº"></a><a id="resources">èµ„æº</a></h2><p><strong>å­¦ä¹  ES6+</strong></p>
<ul>
<li><a href="https://tc39.github.io/ecma262/" target="_blank" rel="noopener">Latest ECMA spec</a></li>
<li><a href="http://exploringjs.com/" target="_blank" rel="noopener">ExploringJS</a></li>
<li><a href="https://kangax.github.io/compat-table/es6/" target="_blank" rel="noopener">ES6 Compatibility Table</a></li>
<li><a href="http://es6-features.org/" target="_blank" rel="noopener">Comprehensive Overview of ES6 Features</a></li>
</ul>
<p><strong>è¯»è¿™ä¸ª</strong></p>
<ul>
<li><a href="http://www.ecma-international.org/ecma-262/6.0/index.html" target="_blank" rel="noopener">Standard ECMA-262</a></li>
</ul>
<p><strong>å·¥å…·</strong></p>
<ul>
<li>Code Style Linters<ul>
<li><a href="https://eslint.org/" target="_blank" rel="noopener">ESlint</a> - <a href="https://github.com/airbnb/javascript/blob/master/linters/.eslintrc" target="_blank" rel="noopener">Airbnb Style .eslintrc</a></li>
<li><a href="http://jshint.com/" target="_blank" rel="noopener">JSHint</a> - <a href="https://github.com/airbnb/javascript/blob/master/linters/.jshintrc" target="_blank" rel="noopener">Airbnb Style .jshintrc</a></li>
</ul>
</li>
<li>Neutrino preset - <a href="https://neutrino.js.org/presets/neutrino-preset-airbnb-base/" target="_blank" rel="noopener">neutrino-preset-airbnb-base</a></li>
</ul>
<p><strong>å…¶ä»–ç¼–ç è§„èŒƒ</strong></p>
<ul>
<li><a href="https://google.github.io/styleguide/javascriptguide.xml" target="_blank" rel="noopener">Google JavaScript Style Guide</a></li>
<li><a href="https://contribute.jquery.org/style-guide/js/" target="_blank" rel="noopener">jQuery Core Style Guidelines</a></li>
<li><a href="https://github.com/rwaldron/idiomatic.js" target="_blank" rel="noopener">Principles of Writing Consistent, Idiomatic JavaScript</a></li>
<li><a href="https://standardjs.com" target="_blank" rel="noopener">StandardJS</a></li>
</ul>
<p><strong>å…¶ä»–é£æ ¼</strong></p>
<ul>
<li><a href="https://gist.github.com/cjohansen/4135065" target="_blank" rel="noopener">Naming this in nested functions</a> - Christian Johansen</li>
<li><a href="https://github.com/airbnb/javascript/issues/52" target="_blank" rel="noopener">Conditional Callbacks</a> - Ross Allen</li>
<li><a href="http://sideeffect.kr/popularconvention/#javascript" target="_blank" rel="noopener">Popular JavaScript Coding Conventions on GitHub</a> - JeongHoon Byun</li>
<li><a href="http://benalman.com/news/2012/05/multiple-var-statements-javascript/" target="_blank" rel="noopener">Multiple var statements in JavaScript, not superfluous</a> - Ben Alman</li>
</ul>
<p><strong>è¿›ä¸€æ­¥é˜…è¯»</strong></p>
<ul>
<li><a href="https://javascriptweblog.wordpress.com/2010/10/25/understanding-javascript-closures/" target="_blank" rel="noopener">Understanding JavaScript Closures</a> - Angus Croll</li>
<li><a href="http://www.2ality.com/2013/06/basic-javascript.html" target="_blank" rel="noopener">Basic JavaScript for the impatient programmer</a> - Dr. Axel Rauschmayer</li>
<li><a href="http://youmightnotneedjquery.com/" target="_blank" rel="noopener">You Might Not Need jQuery</a> - Zack Bloom &amp; Adam Schwartz</li>
<li><a href="https://github.com/lukehoban/es6features" target="_blank" rel="noopener">ES6 Features</a> - Luke Hoban</li>
<li><a href="https://github.com/bendc/frontend-guidelines" target="_blank" rel="noopener">Frontend Guidelines</a> - Benjamin De Cock</li>
</ul>
<p><strong>ä¹¦ç±</strong></p>
<ul>
<li><a href="https://www.amazon.com/JavaScript-Good-Parts-Douglas-Crockford/dp/0596517742" target="_blank" rel="noopener">JavaScript: The Good Parts</a> - Douglas Crockford</li>
<li><a href="https://www.amazon.com/JavaScript-Patterns-Stoyan-Stefanov/dp/0596806752" target="_blank" rel="noopener">JavaScript Patterns</a> - Stoyan Stefanov</li>
<li><a href="https://www.amazon.com/JavaScript-Design-Patterns-Recipes-Problem-Solution/dp/159059908X" target="_blank" rel="noopener">Pro JavaScript Design Patterns</a>  - Ross Harmes and Dustin Diaz</li>
<li><a href="https://www.amazon.com/High-Performance-Web-Sites-Essential/dp/0596529309" target="_blank" rel="noopener">High Performance Web Sites: Essential Knowledge for Front-End Engineers</a> - Steve Souders</li>
<li><a href="https://www.amazon.com/Maintainable-JavaScript-Nicholas-C-Zakas/dp/1449327680" target="_blank" rel="noopener">Maintainable JavaScript</a> - Nicholas C. Zakas</li>
<li><a href="https://www.amazon.com/JavaScript-Web-Applications-Alex-MacCaw/dp/144930351X" target="_blank" rel="noopener">JavaScript Web Applications</a> - Alex MacCaw</li>
<li><a href="https://www.amazon.com/Pro-JavaScript-Techniques-John-Resig/dp/1590597273" target="_blank" rel="noopener">Pro JavaScript Techniques</a> - John Resig</li>
<li><a href="https://www.amazon.com/Smashing-Node-js-JavaScript-Everywhere-Magazine/dp/1119962595" target="_blank" rel="noopener">Smashing Node.js: JavaScript Everywhere</a> - Guillermo Rauch</li>
<li><a href="https://www.amazon.com/Secrets-JavaScript-Ninja-John-Resig/dp/193398869X" target="_blank" rel="noopener">Secrets of the JavaScript Ninja</a> - John Resig and Bear Bibeault</li>
<li><a href="http://humanjavascript.com/" target="_blank" rel="noopener">Human JavaScript</a> - Henrik Joreteg</li>
<li><a href="http://superherojs.com/" target="_blank" rel="noopener">Superhero.js</a> - Kim Joar Bekkelund, Mads MobÃ¦k, &amp; Olav Bjorkoy</li>
<li><a href="http://jsbooks.revolunet.com/" target="_blank" rel="noopener">JSBooks</a> - Julien Bouquillon</li>
<li><a href="https://www.manning.com/books/third-party-javascript" target="_blank" rel="noopener">Third Party JavaScript</a> - Ben Vinegar and Anton Kovalyov</li>
<li><a href="http://amzn.com/0321812182" target="_blank" rel="noopener">Effective JavaScript: 68 Specific Ways to Harness the Power of JavaScript</a> - David Herman</li>
<li><a href="http://eloquentjavascript.net/" target="_blank" rel="noopener">Eloquent JavaScript</a> - Marijn Haverbeke</li>
<li><a href="http://shop.oreilly.com/product/0636920033769.do" target="_blank" rel="noopener">You Donâ€™t Know JS: ES6 &amp; Beyond</a> - Kyle Simpson</li>
</ul>
<p><strong>åšå®¢</strong></p>
<ul>
<li><a href="http://javascriptweekly.com/" target="_blank" rel="noopener">JavaScript Weekly</a></li>
<li><a href="https://javascriptweblog.wordpress.com/" target="_blank" rel="noopener">JavaScript, JavaScriptâ€¦</a></li>
<li><a href="https://bocoup.com/weblog" target="_blank" rel="noopener">Bocoup Weblog</a></li>
<li><a href="http://www.adequatelygood.com/" target="_blank" rel="noopener">Adequately Good</a></li>
<li><a href="https://www.nczonline.net/" target="_blank" rel="noopener">NCZOnline</a></li>
<li><a href="http://perfectionkills.com/" target="_blank" rel="noopener">Perfection Kills</a></li>
<li><a href="http://benalman.com/" target="_blank" rel="noopener">Ben Alman</a></li>
<li><a href="http://dmitry.baranovskiy.com/" target="_blank" rel="noopener">Dmitry Baranovskiy</a></li>
<li><a href="http://code.tutsplus.com/?s=javascript" target="_blank" rel="noopener">nettuts</a></li>
</ul>
<p><strong>æ’­å®¢</strong></p>
<ul>
<li><a href="https://javascriptair.com/" target="_blank" rel="noopener">JavaScript Air</a></li>
<li><a href="https://devchat.tv/js-jabber/" target="_blank" rel="noopener">JavaScript Jabber</a></li>
</ul>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="JavaScripté£æ ¼æŒ‡å—çš„æŒ‡å—"><a href="#JavaScripté£æ ¼æŒ‡å—çš„æŒ‡å—" class="headerlink" title="JavaScripté£æ ¼æŒ‡å—çš„æŒ‡å—"></a><a id="the-javascript-style-guide-guide">JavaScripté£æ ¼æŒ‡å—çš„æŒ‡å—</a></h2><ul>
<li><a href="https://github.com/airbnb/javascript/wiki/The-JavaScript-Style-Guide-Guide" target="_blank" rel="noopener">Reference</a></li>
</ul>
<h2 id="è®¸å¯è¯"><a href="#è®¸å¯è¯" class="headerlink" title="è®¸å¯è¯"></a><a id="license">è®¸å¯è¯</a></h2><p>(The MIT License)</p>
<p>Copyright (c) 2012 åº·å…µå¥</p>
<p>Permission is hereby granted, free of charge, to any person obtaining<br>a copy of this software and associated documentation files (the<br>â€˜Softwareâ€™), to deal in the Software without restriction, including<br>without limitation the rights to use, copy, modify, merge, publish,<br>distribute, sublicense, and/or sell copies of the Software, and to<br>permit persons to whom the Software is furnished to do so, subject to<br>the following conditions:</p>
<p>The above copyright notice and this permission notice shall be<br>included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED â€˜AS ISâ€™, WITHOUT WARRANTY OF ANY KIND,<br>EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF<br>MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.<br>IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY<br>CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,<br>TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE<br>SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
<p><strong><a href="#table-of-contents">â¬† è¿”å›ç›®å½•</a></strong></p>
<h2 id="ä¿®æ­£æ¡ˆ"><a href="#ä¿®æ­£æ¡ˆ" class="headerlink" title="ä¿®æ­£æ¡ˆ"></a><a id="amendments">ä¿®æ­£æ¡ˆ</a></h2><p>æˆ‘ä»¬é¼“åŠ±æ‚¨ä½¿ç”¨æ­¤æŒ‡å—å¹¶æ›´æ”¹è§„åˆ™ä»¥é€‚åº”æ‚¨çš„å›¢é˜Ÿçš„é£æ ¼æŒ‡å—ã€‚ä¸‹é¢ï¼Œä½ å¯ä»¥åˆ—å‡ºä¸€äº›å¯¹é£æ ¼æŒ‡å—çš„ä¿®æ­£ã€‚è¿™å…è®¸æ‚¨å®šæœŸæ›´æ–°æ‚¨çš„æ ·å¼æŒ‡å—ï¼Œè€Œä¸å¿…å¤„ç†åˆå¹¶å†²çªã€‚</p>
<h1 id><a href="#" class="headerlink" title="};"></a>};</h1>
        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-08T02:43:14.000Z">2019-09-08</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/æ–‡ç« /">æ–‡ç« </a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    11 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 1687 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/08/é¢è¯•çº¢é»‘æ ‘/">é¢è¯•çº¢é»‘æ ‘</a>
            
        </h1>
        <div class="content">
            <h1 id="ä»€ä¹ˆæ˜¯çº¢é»‘æ ‘"><a href="#ä»€ä¹ˆæ˜¯çº¢é»‘æ ‘" class="headerlink" title="ä»€ä¹ˆæ˜¯çº¢é»‘æ ‘"></a>ä»€ä¹ˆæ˜¯çº¢é»‘æ ‘</h1><p>çº¢é»‘æ ‘æœ¬è´¨ä¸Šæ˜¯ä¸€ç§äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œä½†å®ƒåœ¨äºŒå‰æŸ¥æ‰¾æ ‘çš„åŸºç¡€ä¸Šé¢å¤–æ·»åŠ äº†ä¸€ä¸ªæ ‡è®°ï¼ˆé¢œè‰²ï¼‰ï¼ŒåŒæ—¶å…·æœ‰ä¸€å®šçš„è§„åˆ™ã€‚è¿™äº›è§„åˆ™ä½¿çº¢é»‘æ ‘ä¿è¯äº†ä¸€ç§å¹³è¡¡ï¼Œæ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾çš„æœ€åæ—¶é—´å¤æ‚åº¦éƒ½ä¸º O(logn)ã€‚</p>
<p>å®ƒçš„ç»Ÿè®¡æ€§èƒ½è¦å¥½äºå¹³è¡¡äºŒå‰æ ‘ï¼ˆAVLæ ‘ï¼‰ï¼Œå› æ­¤ï¼Œçº¢é»‘æ ‘åœ¨å¾ˆå¤šåœ°æ–¹éƒ½æœ‰åº”ç”¨ã€‚æ¯”å¦‚åœ¨ Java é›†åˆæ¡†æ¶ä¸­ï¼Œå¾ˆå¤šéƒ¨åˆ†(HashMap, TreeMap, TreeSet ç­‰)éƒ½æœ‰çº¢é»‘æ ‘çš„åº”ç”¨ï¼Œè¿™äº›é›†åˆå‡æä¾›äº†å¾ˆå¥½çš„æ€§èƒ½ã€‚</p>
<p>ç”±äº TreeMap å°±æ˜¯ç”±çº¢é»‘æ ‘å®ç°çš„ï¼Œå› æ­¤æœ¬æ–‡å°†ä½¿ç”¨ TreeMap çš„ç›¸å…³æ“ä½œçš„ä»£ç è¿›è¡Œåˆ†æã€è®ºè¯ã€‚</p>
<p>é»‘è‰²é«˜åº¦<br>ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„ä¸Šé»‘è‰²èŠ‚ç‚¹çš„ä¸ªæ•°ï¼Œå«åšæ ‘çš„é»‘è‰²é«˜åº¦ã€‚</p>
<h1 id="çº¢é»‘æ ‘çš„-5-ä¸ªç‰¹æ€§"><a href="#çº¢é»‘æ ‘çš„-5-ä¸ªç‰¹æ€§" class="headerlink" title="çº¢é»‘æ ‘çš„ 5 ä¸ªç‰¹æ€§"></a>çº¢é»‘æ ‘çš„ 5 ä¸ªç‰¹æ€§</h1><p><img src="/images/2019/09/08/9f0e92d0-d1e1-11e9-98b8-15e58d7acd49.png" alt="image.png"></p>
<p>çº¢é»‘æ ‘åœ¨åŸæœ‰çš„äºŒå‰æŸ¥æ‰¾æ ‘åŸºç¡€ä¸Šå¢åŠ äº†å¦‚ä¸‹å‡ ä¸ªè¦æ±‚ï¼š</p>
<ol>
<li>Every node is either red or black.</li>
<li>The root is black.</li>
<li>Every leaf (NIL) is black.</li>
<li>If a node is red, then both its children are black.</li>
<li>For each node, all simple paths from the node to descendant leaves contain the same number of black nodes.</li>
</ol>
<p>ä¸­æ–‡æ„æ€æ˜¯ï¼š</p>
<ol>
<li>æ¯ä¸ªèŠ‚ç‚¹è¦ä¹ˆæ˜¯çº¢è‰²ï¼Œè¦ä¹ˆæ˜¯é»‘è‰²ï¼›</li>
<li>æ ¹èŠ‚ç‚¹æ°¸è¿œæ˜¯é»‘è‰²çš„ï¼›</li>
<li>æ‰€æœ‰çš„å¶èŠ‚ç‚¹éƒ½æ˜¯æ˜¯é»‘è‰²çš„ï¼ˆæ³¨æ„è¿™é‡Œè¯´å¶å­èŠ‚ç‚¹å…¶å®æ˜¯ä¸Šå›¾ä¸­çš„ NIL èŠ‚ç‚¹ï¼‰ï¼›</li>
<li>æ¯ä¸ªçº¢è‰²èŠ‚ç‚¹çš„ä¸¤ä¸ªå­èŠ‚ç‚¹ä¸€å®šéƒ½æ˜¯é»‘è‰²ï¼›</li>
<li>ä»ä»»ä¸€èŠ‚ç‚¹åˆ°å…¶å­æ ‘ä¸­æ¯ä¸ªå¶å­èŠ‚ç‚¹çš„è·¯å¾„éƒ½åŒ…å«ç›¸åŒæ•°é‡çš„é»‘è‰²èŠ‚ç‚¹ï¼›</li>
</ol>
<p><strong>æ³¨æ„ï¼š</strong><br>æ€§è´¨ 3 ä¸­æŒ‡å®šçº¢é»‘æ ‘çš„æ¯ä¸ªå¶å­èŠ‚ç‚¹éƒ½æ˜¯ç©ºèŠ‚ç‚¹ï¼Œè€Œä¸”å¹¶å¶å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²ã€‚ä½† Java å®ç°çš„çº¢é»‘æ ‘å°†ä½¿ç”¨ null æ¥ä»£è¡¨ç©ºèŠ‚ç‚¹ï¼Œå› æ­¤éå†çº¢é»‘æ ‘æ—¶å°†çœ‹ä¸åˆ°é»‘è‰²çš„å¶å­èŠ‚ç‚¹ï¼Œåè€Œçœ‹åˆ°æ¯ä¸ªå¶å­èŠ‚ç‚¹éƒ½æ˜¯çº¢è‰²çš„ã€‚</p>
<p>æ€§è´¨ 4 çš„æ„æ€æ˜¯ï¼šä»æ¯ä¸ªæ ¹åˆ°èŠ‚ç‚¹çš„è·¯å¾„ä¸Šä¸ä¼šæœ‰ä¸¤ä¸ªè¿ç»­çš„çº¢è‰²èŠ‚ç‚¹ï¼Œä½†é»‘è‰²èŠ‚ç‚¹æ˜¯å¯ä»¥è¿ç»­çš„ã€‚<br>å› æ­¤è‹¥ç»™å®šé»‘è‰²èŠ‚ç‚¹çš„ä¸ªæ•° Nï¼Œæœ€çŸ­è·¯å¾„çš„æƒ…å†µæ˜¯è¿ç»­çš„ N ä¸ªé»‘è‰²ï¼Œæ ‘çš„é«˜åº¦ä¸º N - 1;æœ€é•¿è·¯å¾„çš„æƒ…å†µä¸ºèŠ‚ç‚¹çº¢é»‘ç›¸é—´ï¼Œæ ‘çš„é«˜åº¦ä¸º 2(N - 1) ã€‚</p>
<p>æ€§è´¨ 5 æ˜¯æˆä¸ºçº¢é»‘æ ‘æœ€ä¸»è¦çš„æ¡ä»¶ï¼Œååºçš„æ’å…¥ã€åˆ é™¤æ“ä½œéƒ½æ˜¯ä¸ºäº†éµå®ˆè¿™ä¸ªè§„å®šã€‚</p>
<p>çº¢é»‘æ ‘å¹¶ä¸æ˜¯æ ‡å‡†å¹³è¡¡äºŒå‰æ ‘ï¼Œå®ƒä»¥æ€§è´¨ 5 ä½œä¸ºä¸€ç§å¹³è¡¡æ–¹æ³•ï¼Œä½¿è‡ªå·±çš„æ€§èƒ½å¾—åˆ°äº†æå‡ã€‚</p>
<h1 id="çº¢é»‘æ ‘çš„å·¦æ—‹å³æ—‹"><a href="#çº¢é»‘æ ‘çš„å·¦æ—‹å³æ—‹" class="headerlink" title="çº¢é»‘æ ‘çš„å·¦æ—‹å³æ—‹"></a>çº¢é»‘æ ‘çš„å·¦æ—‹å³æ—‹</h1><p><img src="/images/2019/09/08/e9d7edc0-d1e1-11e9-98b8-15e58d7acd49.png" alt="image.png"></p>
<p>çº¢é»‘æ ‘çš„å·¦å³æ—‹æ˜¯æ¯”è¾ƒé‡è¦çš„æ“ä½œï¼Œå·¦å³æ—‹çš„ç›®çš„æ˜¯è°ƒæ•´çº¢é»‘èŠ‚ç‚¹ç»“æ„ï¼Œè½¬ç§»é»‘è‰²èŠ‚ç‚¹ä½ç½®ï¼Œä½¿å…¶åœ¨è¿›è¡Œæ’å…¥ã€åˆ é™¤åä»èƒ½ä¿æŒçº¢é»‘æ ‘çš„ 5 æ¡æ€§è´¨ã€‚</p>
<p>æ¯”å¦‚ X å·¦æ—‹(å³å›¾è½¬æˆå·¦å›¾)çš„ç»“æœï¼Œæ˜¯è®©åœ¨ Y å·¦å­æ ‘çš„é»‘è‰²èŠ‚ç‚¹è·‘åˆ° X å³å­æ ‘å»ã€‚</p>
<p>æˆ‘ä»¬ä»¥ Java é›†åˆæ¡†æ¶ä¸­çš„ TreeMap ä¸­çš„ä»£ç æ¥çœ‹ä¸‹å·¦å³æ—‹çš„å…·ä½“æ“ä½œæ–¹æ³•ï¼š</p>
<p><strong>æŒ‡å®šèŠ‚ç‚¹ x çš„å·¦æ—‹ (å³å›¾è½¬æˆå·¦å›¾)ï¼š</strong></p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> <span class="hljs-comment">//è¿™é‡Œ p ä»£è¡¨ x</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">rotateLeft</span><span class="hljs-params">(Entry p)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (p != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">        Entry r = p.right; <span class="hljs-comment">// p æ˜¯ä¸Šå›¾ä¸­çš„ xï¼Œr å°±æ˜¯ y</span></span><br><span class="line">        p.right = r.left;       <span class="hljs-comment">// å·¦æ—‹åï¼Œx çš„å³å­æ ‘å˜æˆäº† y çš„å·¦å­æ ‘ Î² </span></span><br><span class="line">        <span class="hljs-keyword">if</span> (r.left != <span class="hljs-keyword">null</span>)         </span><br><span class="line">            r.left.parent = p;  <span class="hljs-comment">//Î² ç¡®è®¤çˆ¶äº²ä¸º x</span></span><br><span class="line">        r.parent = p.parent;        <span class="hljs-comment">//y å–ä»£ x çš„ç¬¬ä¸€æ­¥ï¼šè®¤ x çš„çˆ¶äº²ä¸ºçˆ¹</span></span><br><span class="line">        <span class="hljs-keyword">if</span> (p.parent == <span class="hljs-keyword">null</span>)       <span class="hljs-comment">//è¦æ˜¯ x æ²¡æœ‰çˆ¶äº²ï¼Œé‚£ y å°±æ˜¯æœ€è€çš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            root = r;</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (p.parent.left == p) <span class="hljs-comment">//å¦‚æœ x æœ‰çˆ¶äº²å¹¶ä¸”æ˜¯å®ƒçˆ¶äº²çš„å·¦å­©å­ï¼Œx çš„çˆ¶äº²ç°åœ¨è®¤ y ä¸ºå·¦å­©å­ï¼Œä¸è¦ x äº†</span></span><br><span class="line">            p.parent.left = r;</span><br><span class="line">        <span class="hljs-keyword">else</span>                            <span class="hljs-comment">//å¦‚æœ x æ˜¯çˆ¶äº²çš„å³å­©å­ï¼Œçˆ¶äº²å°±è®¤ y ä¸ºå³å­©å­ï¼ŒæŠ›å¼ƒ x</span></span><br><span class="line">            p.parent.right = r;</span><br><span class="line">        r.left = p;     <span class="hljs-comment">//y é€†è¢­æˆåŠŸï¼Œä»¥å‰çš„çˆ¸çˆ¸ x ç°åœ¨æˆäº†å®ƒçš„å·¦å­©å­</span></span><br><span class="line">        p.parent = r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œx èŠ‚ç‚¹çš„å·¦æ—‹å°±æ˜¯æŠŠ x å˜æˆ å³å­©å­ y çš„å·¦å­©å­ï¼ŒåŒæ—¶æŠŠ y çš„å·¦å­©å­é€ç»™ x å½“å³å­æ ‘ã€‚</p>
<p>ç®€å•ç‚¹è®°å°±æ˜¯ï¼šå·¦æ—‹æŠŠå³å­æ ‘é‡Œçš„ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆä¸Šå›¾ Î²ï¼‰ç§»åŠ¨åˆ°äº†å·¦å­æ ‘ã€‚</p>
<p><strong>æŒ‡å®šèŠ‚ç‚¹ y çš„å³æ—‹ï¼ˆå·¦å›¾è½¬æˆå³å›¾ï¼‰ï¼š</strong></p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">rotateRight</span><span class="hljs-params">(Entry p)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (p != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">        Entry l = p.left;</span><br><span class="line">        p.left = l.right;</span><br><span class="line">        <span class="hljs-keyword">if</span> (l.right != <span class="hljs-keyword">null</span>) l.right.parent = p;</span><br><span class="line">        l.parent = p.parent;</span><br><span class="line">        <span class="hljs-keyword">if</span> (p.parent == <span class="hljs-keyword">null</span>)</span><br><span class="line">            root = l;</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (p.parent.right == p)</span><br><span class="line">            p.parent.right = l;</span><br><span class="line">        <span class="hljs-keyword">else</span> p.parent.left = l;</span><br><span class="line">        l.right = p;</span><br><span class="line">        p.parent = l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŒç†ï¼Œy èŠ‚ç‚¹çš„å³æ—‹å°±æ˜¯æŠŠ y å˜æˆ å·¦å­©å­ x çš„å³å­©å­ï¼ŒåŒæ—¶æŠŠ x çš„å³å­©å­é€ç»™ x å½“å·¦å­æ ‘ã€‚</p>
<p>ç®€å•ç‚¹è®°å°±æ˜¯ï¼šå³æ—‹æŠŠå·¦å­æ ‘é‡Œçš„ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆä¸Šå›¾ Î²ï¼‰ç§»åŠ¨åˆ°äº†å³å­æ ‘ã€‚</p>
<p>äº†è§£å·¦æ—‹ã€å³æ—‹çš„æ–¹æ³•åŠæ„ä¹‰åï¼Œå°±å¯ä»¥äº†è§£çº¢é»‘æ ‘çš„ä¸»è¦æ“ä½œï¼šæ’å…¥ã€åˆ é™¤ã€‚</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>çº¢é»‘æ ‘å¹¶ä¸æ˜¯çœŸæ­£çš„å¹³è¡¡äºŒå‰æ ‘ï¼Œä½†åœ¨å®é™…åº”ç”¨ä¸­ï¼Œçº¢é»‘æ ‘çš„ç»Ÿè®¡æ€§èƒ½è¦é«˜äºå¹³è¡¡äºŒå‰æ ‘ï¼Œä½†æç«¯æ€§èƒ½ç•¥å·®ã€‚</p>
<p>çº¢é»‘æ ‘çš„æ’å…¥ã€åˆ é™¤è°ƒæ•´é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œä½†æœ€ç»ˆç›®çš„æ˜¯æ»¡è¶³çº¢é»‘æ ‘çš„ 5 ä¸ªç‰¹æ€§ï¼Œå°¤å…¶æ˜¯ 4 å’Œ 5ã€‚</p>
<p>åœ¨æ’å…¥è°ƒæ•´æ—¶ä¸ºäº†ç®€åŒ–æ“ä½œæˆ‘ä»¬ç›´æ¥æŠŠæ’å…¥çš„èŠ‚ç‚¹æ¶‚æˆçº¢è‰²ï¼Œè¿™æ ·åªè¦ä¿è¯æ’å…¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸æ˜¯çº¢è‰²å°±å¯ä»¥äº†ã€‚</p>
<p>è€Œåœ¨åˆ é™¤åçš„è°ƒæ•´ä¸­ï¼Œé’ˆå¯¹åˆ é™¤é»‘è‰²èŠ‚ç‚¹ï¼Œæ‰€åœ¨å­æ ‘ç¼ºå°‘ä¸€ä¸ªèŠ‚ç‚¹ï¼Œéœ€è¦è¿›è¡Œå¼¥è¡¥æˆ–è€…å¯¹åˆ«äººé€ æˆä¸€ä¸ªé»‘è‰²èŠ‚ç‚¹çš„ä¼¤å®³ã€‚å…·ä½“è°ƒæ•´æ–¹æ³•å–å†³äºå…„å¼ŸèŠ‚ç‚¹æ‰€åœ¨å­æ ‘çš„æƒ…å†µã€‚</p>
<p>çº¢é»‘æ ‘çš„æ’å…¥ã€åˆ é™¤åœ¨æ ‘å½¢æ•°æ®ç»“æ„ä¸­ç®—æ¯”è¾ƒå¤æ‚çš„ï¼Œç†è§£èµ·æ¥æ¯”è¾ƒéš¾ï¼Œä½†åªè¦è®°ä½ï¼Œçº¢é»‘æ ‘æœ‰å…¶ç‰¹æ®Šçš„å¹³è¡¡è§„åˆ™ï¼Œè€Œæˆ‘ä»¬ä¸ºäº†ç»´æŒå¹³è¡¡ï¼Œæ ¹æ®é‚»æ ‘çš„çŠ¶å†µè¿›è¡Œæ—‹è½¬æˆ–è€…æ¶‚è‰²ã€‚</p>
<p>çº¢é»‘æ ‘è¿™ä¹ˆéš¾ç†è§£ï¼Œå¿…å®šæœ‰å…¶è¿‡äººä¹‹å¤„ã€‚å®ƒçš„æœ‰åºã€å¿«é€Ÿç‰¹æ€§åœ¨å¾ˆå¤šåœºæ™¯ä¸‹éƒ½æœ‰ç”¨åˆ°ï¼Œæ¯”å¦‚ Java é›†åˆæ¡†æ¶çš„ TreeMap, TreeSet ç­‰ã€‚</p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-06T06:20:34.000Z">2019-09-06</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/æ–‡ç« /">æ–‡ç« </a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    37 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 5584 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/06/Systemç±»/">Systemç±»</a>
            
        </h1>
        <div class="content">
            <p><img src="/images/2019/09/06/6505ce10-d06e-11e9-b8c8-91efca18534b.png" alt="image.png"></p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">/*</span></span><br><span class="line"><span class="hljs-comment"> * Copyright (c) 1994, 2013, Oracle and/or its affiliates. All rights reserved.</span></span><br><span class="line"><span class="hljs-comment"> * ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-keyword">package</span> java.lang;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> java.io.*;</span><br><span class="line"><span class="hljs-keyword">import</span> java.lang.reflect.Executable;</span><br><span class="line"><span class="hljs-keyword">import</span> java.lang.annotation.Annotation;</span><br><span class="line"><span class="hljs-keyword">import</span> java.security.AccessControlContext;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.Properties;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.PropertyPermission;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.StringTokenizer;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.Map;</span><br><span class="line"><span class="hljs-keyword">import</span> java.security.AccessController;</span><br><span class="line"><span class="hljs-keyword">import</span> java.security.PrivilegedAction;</span><br><span class="line"><span class="hljs-keyword">import</span> java.security.AllPermission;</span><br><span class="line"><span class="hljs-keyword">import</span> java.nio.channels.Channel;</span><br><span class="line"><span class="hljs-keyword">import</span> java.nio.channels.spi.SelectorProvider;</span><br><span class="line"><span class="hljs-keyword">import</span> sun.nio.ch.Interruptible;</span><br><span class="line"><span class="hljs-keyword">import</span> sun.reflect.CallerSensitive;</span><br><span class="line"><span class="hljs-keyword">import</span> sun.reflect.Reflection;</span><br><span class="line"><span class="hljs-keyword">import</span> sun.security.util.SecurityConstants;</span><br><span class="line"><span class="hljs-keyword">import</span> sun.reflect.annotation.AnnotationType;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * The &lt;code&gt;System&lt;/code&gt; class contains several useful class fields</span></span><br><span class="line"><span class="hljs-comment"> * and methods. It cannot be instantiated.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * &lt;p&gt;Among the facilities provided by the &lt;code&gt;System&lt;/code&gt; class</span></span><br><span class="line"><span class="hljs-comment"> * are standard input, standard output, and error output streams;</span></span><br><span class="line"><span class="hljs-comment"> * access to externally defined properties and environment</span></span><br><span class="line"><span class="hljs-comment"> * variables; a means of loading files and libraries; and a utility</span></span><br><span class="line"><span class="hljs-comment"> * method for quickly copying a portion of an array.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>  unascribed</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@since</span>   JDK1.0</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">System</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* register the natives via the static initializer.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * VM will invoke the initializeSystemClass method to complete</span></span><br><span class="line"><span class="hljs-comment">     * the initialization for this class separated from clinit.</span></span><br><span class="line"><span class="hljs-comment">     * Note that to use properties set by the VM, see the constraints</span></span><br><span class="line"><span class="hljs-comment">     * described in the initializeSystemClass method.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">void</span> <span class="hljs-title">registerNatives</span><span class="hljs-params">()</span></span>;</span><br><span class="line">    <span class="hljs-keyword">static</span> &#123;</span><br><span class="line">        registerNatives();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/** Don't let anyone instantiate this class */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">System</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * The "standard" input stream. This stream is already</span></span><br><span class="line"><span class="hljs-comment">     * open and ready to supply input data. Typically this stream</span></span><br><span class="line"><span class="hljs-comment">     * corresponds to keyboard input or another input source specified by</span></span><br><span class="line"><span class="hljs-comment">     * the host environment or user.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> InputStream in = <span class="hljs-keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * The "standard" output stream. This stream is already</span></span><br><span class="line"><span class="hljs-comment">     * open and ready to accept output data. Typically this stream</span></span><br><span class="line"><span class="hljs-comment">     * corresponds to display output or another output destination</span></span><br><span class="line"><span class="hljs-comment">     * specified by the host environment or user.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * For simple stand-alone Java applications, a typical way to write</span></span><br><span class="line"><span class="hljs-comment">     * a line of output data is:</span></span><br><span class="line"><span class="hljs-comment">     * &lt;blockquote&gt;&lt;pre&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     System.out.println(data)</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/pre&gt;&lt;/blockquote&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * See the &lt;code&gt;println&lt;/code&gt; methods in class &lt;code&gt;PrintStream&lt;/code&gt;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println()</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println(boolean)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println(char)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println(char[])</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println(double)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println(float)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println(int)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println(long)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println(java.lang.Object)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> PrintStream out = <span class="hljs-keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * The "standard" error output stream. This stream is already</span></span><br><span class="line"><span class="hljs-comment">     * open and ready to accept output data.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Typically this stream corresponds to display output or another</span></span><br><span class="line"><span class="hljs-comment">     * output destination specified by the host environment or user. By</span></span><br><span class="line"><span class="hljs-comment">     * convention, this output stream is used to display error messages</span></span><br><span class="line"><span class="hljs-comment">     * or other information that should come to the immediate attention</span></span><br><span class="line"><span class="hljs-comment">     * of a user even if the principal output stream, the value of the</span></span><br><span class="line"><span class="hljs-comment">     * variable &lt;code&gt;out&lt;/code&gt;, has been redirected to a file or other</span></span><br><span class="line"><span class="hljs-comment">     * destination that is typically not continuously monitored.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> PrintStream err = <span class="hljs-keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* The security manager for the system.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">volatile</span> SecurityManager security = <span class="hljs-keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Reassigns the "standard" input stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;First, if there is a security manager, its &lt;code&gt;checkPermission&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * method is called with a &lt;code&gt;RuntimePermission("setIO")&lt;/code&gt; permission</span></span><br><span class="line"><span class="hljs-comment">     *  to see if it's ok to reassign the "standard" input stream.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> in the new standard input stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> SecurityException</span></span><br><span class="line"><span class="hljs-comment">     *        if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *        &lt;code&gt;checkPermission&lt;/code&gt; method doesn't allow</span></span><br><span class="line"><span class="hljs-comment">     *        reassigning of the standard input stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> SecurityManager#checkPermission</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> java.lang.RuntimePermission</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span>   JDK1.1</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setIn</span><span class="hljs-params">(InputStream in)</span> </span>&#123;</span><br><span class="line">        checkIO();</span><br><span class="line">        setIn0(in);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Reassigns the "standard" output stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;First, if there is a security manager, its &lt;code&gt;checkPermission&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * method is called with a &lt;code&gt;RuntimePermission("setIO")&lt;/code&gt; permission</span></span><br><span class="line"><span class="hljs-comment">     *  to see if it's ok to reassign the "standard" output stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> out the new standard output stream</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> SecurityException</span></span><br><span class="line"><span class="hljs-comment">     *        if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *        &lt;code&gt;checkPermission&lt;/code&gt; method doesn't allow</span></span><br><span class="line"><span class="hljs-comment">     *        reassigning of the standard output stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> SecurityManager#checkPermission</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> java.lang.RuntimePermission</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span>   JDK1.1</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setOut</span><span class="hljs-params">(PrintStream out)</span> </span>&#123;</span><br><span class="line">        checkIO();</span><br><span class="line">        setOut0(out);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Reassigns the "standard" error output stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;First, if there is a security manager, its &lt;code&gt;checkPermission&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * method is called with a &lt;code&gt;RuntimePermission("setIO")&lt;/code&gt; permission</span></span><br><span class="line"><span class="hljs-comment">     *  to see if it's ok to reassign the "standard" error output stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> err the new standard error output stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> SecurityException</span></span><br><span class="line"><span class="hljs-comment">     *        if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *        &lt;code&gt;checkPermission&lt;/code&gt; method doesn't allow</span></span><br><span class="line"><span class="hljs-comment">     *        reassigning of the standard error output stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> SecurityManager#checkPermission</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> java.lang.RuntimePermission</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span>   JDK1.1</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setErr</span><span class="hljs-params">(PrintStream err)</span> </span>&#123;</span><br><span class="line">        checkIO();</span><br><span class="line">        setErr0(err);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">volatile</span> Console cons = <span class="hljs-keyword">null</span>;</span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the unique &#123;<span class="hljs-doctag">@link</span> java.io.Console Console&#125; object associated</span></span><br><span class="line"><span class="hljs-comment">     * with the current Java virtual machine, if any.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>  The system console, if any, otherwise &lt;tt&gt;null&lt;/tt&gt;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span>   1.6</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Console <span class="hljs-title">console</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">         <span class="hljs-keyword">if</span> (cons == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">             <span class="hljs-keyword">synchronized</span> (System.class) &#123;</span><br><span class="line">                 cons = sun.misc.SharedSecrets.getJavaIOAccess().console();</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="hljs-keyword">return</span> cons;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the channel inherited from the entity that created this</span></span><br><span class="line"><span class="hljs-comment">     * Java virtual machine.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt; This method returns the channel obtained by invoking the</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@link</span> java.nio.channels.spi.SelectorProvider#inheritedChannel</span></span><br><span class="line"><span class="hljs-comment">     * inheritedChannel&#125; method of the system-wide default</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@link</span> java.nio.channels.spi.SelectorProvider&#125; object. &lt;/p&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt; In addition to the network-oriented channels described in</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@link</span> java.nio.channels.spi.SelectorProvider#inheritedChannel</span></span><br><span class="line"><span class="hljs-comment">     * inheritedChannel&#125;, this method may return other kinds of</span></span><br><span class="line"><span class="hljs-comment">     * channels in the future.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>  The inherited channel, if any, otherwise &lt;tt&gt;null&lt;/tt&gt;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span>  IOException</span></span><br><span class="line"><span class="hljs-comment">     *          If an I/O error occurs</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span>  SecurityException</span></span><br><span class="line"><span class="hljs-comment">     *          If a security manager is present and it does not</span></span><br><span class="line"><span class="hljs-comment">     *          permit access to the channel.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.5</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Channel <span class="hljs-title">inheritedChannel</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> SelectorProvider.provider().inheritedChannel();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">checkIO</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            sm.checkPermission(<span class="hljs-keyword">new</span> RuntimePermission(<span class="hljs-string">"setIO"</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setIn0</span><span class="hljs-params">(InputStream in)</span></span>;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setOut0</span><span class="hljs-params">(PrintStream out)</span></span>;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setErr0</span><span class="hljs-params">(PrintStream err)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Sets the System security.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt; If there is a security manager already installed, this method first</span></span><br><span class="line"><span class="hljs-comment">     * calls the security manager's &lt;code&gt;checkPermission&lt;/code&gt; method</span></span><br><span class="line"><span class="hljs-comment">     * with a &lt;code&gt;RuntimePermission("setSecurityManager")&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * permission to ensure it's ok to replace the existing</span></span><br><span class="line"><span class="hljs-comment">     * security manager.</span></span><br><span class="line"><span class="hljs-comment">     * This may result in throwing a &lt;code&gt;SecurityException&lt;/code&gt;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt; Otherwise, the argument is established as the current</span></span><br><span class="line"><span class="hljs-comment">     * security manager. If the argument is &lt;code&gt;null&lt;/code&gt; and no</span></span><br><span class="line"><span class="hljs-comment">     * security manager has been established, then no action is taken and</span></span><br><span class="line"><span class="hljs-comment">     * the method simply returns.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      s   the security manager.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  SecurityException  if the security manager has already</span></span><br><span class="line"><span class="hljs-comment">     *             been set and its &lt;code&gt;checkPermission&lt;/code&gt; method</span></span><br><span class="line"><span class="hljs-comment">     *             doesn't allow it to be replaced.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> #getSecurityManager</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> SecurityManager#checkPermission</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> java.lang.RuntimePermission</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setSecurityManager</span><span class="hljs-params">(<span class="hljs-keyword">final</span> SecurityManager s)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">            s.checkPackageAccess(<span class="hljs-string">"java.lang"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="hljs-comment">// no-op</span></span><br><span class="line">        &#125;</span><br><span class="line">        setSecurityManager0(s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">synchronized</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setSecurityManager0</span><span class="hljs-params">(<span class="hljs-keyword">final</span> SecurityManager s)</span> </span>&#123;</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-comment">// ask the currently installed security manager if we</span></span><br><span class="line">            <span class="hljs-comment">// can replace it.</span></span><br><span class="line">            sm.checkPermission(<span class="hljs-keyword">new</span> RuntimePermission</span><br><span class="line">                                     (<span class="hljs-string">"setSecurityManager"</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">if</span> ((s != <span class="hljs-keyword">null</span>) &amp;&amp; (s.getClass().getClassLoader() != <span class="hljs-keyword">null</span>)) &#123;</span><br><span class="line">            <span class="hljs-comment">// New security manager class is not on bootstrap classpath.</span></span><br><span class="line">            <span class="hljs-comment">// Cause policy to get initialized before we install the new</span></span><br><span class="line">            <span class="hljs-comment">// security manager, in order to prevent infinite loops when</span></span><br><span class="line">            <span class="hljs-comment">// trying to initialize the policy (which usually involves</span></span><br><span class="line">            <span class="hljs-comment">// accessing some security and/or system properties, which in turn</span></span><br><span class="line">            <span class="hljs-comment">// calls the installed security manager's checkPermission method</span></span><br><span class="line">            <span class="hljs-comment">// which will loop infinitely if there is a non-system class</span></span><br><span class="line">            <span class="hljs-comment">// (in this case: the new security manager class) on the stack).</span></span><br><span class="line">            AccessController.doPrivileged(<span class="hljs-keyword">new</span> PrivilegedAction&lt;Object&gt;() &#123;</span><br><span class="line">                <span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">                    s.getClass().getProtectionDomain().implies</span><br><span class="line">                        (SecurityConstants.ALL_PERMISSION);</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        security = s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Gets the system security interface.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>  if a security manager has already been established for the</span></span><br><span class="line"><span class="hljs-comment">     *          current application, then that security manager is returned;</span></span><br><span class="line"><span class="hljs-comment">     *          otherwise, &lt;code&gt;null&lt;/code&gt; is returned.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     #setSecurityManager</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SecurityManager <span class="hljs-title">getSecurityManager</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> security;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the current time in milliseconds.  Note that</span></span><br><span class="line"><span class="hljs-comment">     * while the unit of time of the return value is a millisecond,</span></span><br><span class="line"><span class="hljs-comment">     * the granularity of the value depends on the underlying</span></span><br><span class="line"><span class="hljs-comment">     * operating system and may be larger.  For example, many</span></span><br><span class="line"><span class="hljs-comment">     * operating systems measure time in units of tens of</span></span><br><span class="line"><span class="hljs-comment">     * milliseconds.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt; See the description of the class &lt;code&gt;Date&lt;/code&gt; for</span></span><br><span class="line"><span class="hljs-comment">     * a discussion of slight discrepancies that may arise between</span></span><br><span class="line"><span class="hljs-comment">     * "computer time" and coordinated universal time (UTC).</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>  the difference, measured in milliseconds, between</span></span><br><span class="line"><span class="hljs-comment">     *          the current time and midnight, January 1, 1970 UTC.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.util.Date</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">long</span> <span class="hljs-title">currentTimeMillis</span><span class="hljs-params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the current value of the running Java Virtual Machine's</span></span><br><span class="line"><span class="hljs-comment">     * high-resolution time source, in nanoseconds.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;This method can only be used to measure elapsed time and is</span></span><br><span class="line"><span class="hljs-comment">     * not related to any other notion of system or wall-clock time.</span></span><br><span class="line"><span class="hljs-comment">     * The value returned represents nanoseconds since some fixed but</span></span><br><span class="line"><span class="hljs-comment">     * arbitrary &lt;i&gt;origin&lt;/i&gt; time (perhaps in the future, so values</span></span><br><span class="line"><span class="hljs-comment">     * may be negative).  The same origin is used by all invocations of</span></span><br><span class="line"><span class="hljs-comment">     * this method in an instance of a Java virtual machine; other</span></span><br><span class="line"><span class="hljs-comment">     * virtual machine instances are likely to use a different origin.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;This method provides nanosecond precision, but not necessarily</span></span><br><span class="line"><span class="hljs-comment">     * nanosecond resolution (that is, how frequently the value changes)</span></span><br><span class="line"><span class="hljs-comment">     * - no guarantees are made except that the resolution is at least as</span></span><br><span class="line"><span class="hljs-comment">     * good as that of &#123;<span class="hljs-doctag">@link</span> #currentTimeMillis()&#125;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;Differences in successive calls that span greater than</span></span><br><span class="line"><span class="hljs-comment">     * approximately 292 years (2&lt;sup&gt;63&lt;/sup&gt; nanoseconds) will not</span></span><br><span class="line"><span class="hljs-comment">     * correctly compute elapsed time due to numerical overflow.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;The values returned by this method become meaningful only when</span></span><br><span class="line"><span class="hljs-comment">     * the difference between two such values, obtained within the same</span></span><br><span class="line"><span class="hljs-comment">     * instance of a Java virtual machine, is computed.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt; For example, to measure how long some code takes to execute:</span></span><br><span class="line"><span class="hljs-comment">     *  &lt;pre&gt; &#123;<span class="hljs-doctag">@code</span></span></span><br><span class="line"><span class="hljs-comment">     * long startTime = System.nanoTime();</span></span><br><span class="line"><span class="hljs-comment">     * // ... the code being measured ...</span></span><br><span class="line"><span class="hljs-comment">     * long estimatedTime = System.nanoTime() - startTime;&#125;&lt;/pre&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;To compare two nanoTime values</span></span><br><span class="line"><span class="hljs-comment">     *  &lt;pre&gt; &#123;<span class="hljs-doctag">@code</span></span></span><br><span class="line"><span class="hljs-comment">     * long t0 = System.nanoTime();</span></span><br><span class="line"><span class="hljs-comment">     * ...</span></span><br><span class="line"><span class="hljs-comment">     * long t1 = System.nanoTime();&#125;&lt;/pre&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * one should use &#123;<span class="hljs-doctag">@code</span> t1 - t0 &lt; 0&#125;, not &#123;<span class="hljs-doctag">@code</span> t1 &lt; t0&#125;,</span></span><br><span class="line"><span class="hljs-comment">     * because of the possibility of numerical overflow.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the current value of the running Java Virtual Machine's</span></span><br><span class="line"><span class="hljs-comment">     *         high-resolution time source, in nanoseconds</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.5</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">long</span> <span class="hljs-title">nanoTime</span><span class="hljs-params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Copies an array from the specified source array, beginning at the</span></span><br><span class="line"><span class="hljs-comment">     * specified position, to the specified position of the destination array.</span></span><br><span class="line"><span class="hljs-comment">     * A subsequence of array components are copied from the source</span></span><br><span class="line"><span class="hljs-comment">     * array referenced by &lt;code&gt;src&lt;/code&gt; to the destination array</span></span><br><span class="line"><span class="hljs-comment">     * referenced by &lt;code&gt;dest&lt;/code&gt;. The number of components copied is</span></span><br><span class="line"><span class="hljs-comment">     * equal to the &lt;code&gt;length&lt;/code&gt; argument. The components at</span></span><br><span class="line"><span class="hljs-comment">     * positions &lt;code&gt;srcPos&lt;/code&gt; through</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;srcPos+length-1&lt;/code&gt; in the source array are copied into</span></span><br><span class="line"><span class="hljs-comment">     * positions &lt;code&gt;destPos&lt;/code&gt; through</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;destPos+length-1&lt;/code&gt;, respectively, of the destination</span></span><br><span class="line"><span class="hljs-comment">     * array.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * If the &lt;code&gt;src&lt;/code&gt; and &lt;code&gt;dest&lt;/code&gt; arguments refer to the</span></span><br><span class="line"><span class="hljs-comment">     * same array object, then the copying is performed as if the</span></span><br><span class="line"><span class="hljs-comment">     * components at positions &lt;code&gt;srcPos&lt;/code&gt; through</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;srcPos+length-1&lt;/code&gt; were first copied to a temporary</span></span><br><span class="line"><span class="hljs-comment">     * array with &lt;code&gt;length&lt;/code&gt; components and then the contents of</span></span><br><span class="line"><span class="hljs-comment">     * the temporary array were copied into positions</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;destPos&lt;/code&gt; through &lt;code&gt;destPos+length-1&lt;/code&gt; of the</span></span><br><span class="line"><span class="hljs-comment">     * destination array.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * If &lt;code&gt;dest&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;, then a</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;NullPointerException&lt;/code&gt; is thrown.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * If &lt;code&gt;src&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;, then a</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;NullPointerException&lt;/code&gt; is thrown and the destination</span></span><br><span class="line"><span class="hljs-comment">     * array is not modified.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Otherwise, if any of the following is true, an</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;ArrayStoreException&lt;/code&gt; is thrown and the destination is</span></span><br><span class="line"><span class="hljs-comment">     * not modified:</span></span><br><span class="line"><span class="hljs-comment">     * &lt;ul&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;The &lt;code&gt;src&lt;/code&gt; argument refers to an object that is not an</span></span><br><span class="line"><span class="hljs-comment">     *     array.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;The &lt;code&gt;dest&lt;/code&gt; argument refers to an object that is not an</span></span><br><span class="line"><span class="hljs-comment">     *     array.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;The &lt;code&gt;src&lt;/code&gt; argument and &lt;code&gt;dest&lt;/code&gt; argument refer</span></span><br><span class="line"><span class="hljs-comment">     *     to arrays whose component types are different primitive types.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;The &lt;code&gt;src&lt;/code&gt; argument refers to an array with a primitive</span></span><br><span class="line"><span class="hljs-comment">     *    component type and the &lt;code&gt;dest&lt;/code&gt; argument refers to an array</span></span><br><span class="line"><span class="hljs-comment">     *     with a reference component type.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;The &lt;code&gt;src&lt;/code&gt; argument refers to an array with a reference</span></span><br><span class="line"><span class="hljs-comment">     *    component type and the &lt;code&gt;dest&lt;/code&gt; argument refers to an array</span></span><br><span class="line"><span class="hljs-comment">     *     with a primitive component type.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/ul&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Otherwise, if any of the following is true, an</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;IndexOutOfBoundsException&lt;/code&gt; is</span></span><br><span class="line"><span class="hljs-comment">     * thrown and the destination is not modified:</span></span><br><span class="line"><span class="hljs-comment">     * &lt;ul&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;The &lt;code&gt;srcPos&lt;/code&gt; argument is negative.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;The &lt;code&gt;destPos&lt;/code&gt; argument is negative.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;The &lt;code&gt;length&lt;/code&gt; argument is negative.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;&lt;code&gt;srcPos+length&lt;/code&gt; is greater than</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;code&gt;src.length&lt;/code&gt;, the length of the source array.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;&lt;code&gt;destPos+length&lt;/code&gt; is greater than</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;code&gt;dest.length&lt;/code&gt;, the length of the destination array.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/ul&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Otherwise, if any actual component of the source array from</span></span><br><span class="line"><span class="hljs-comment">     * position &lt;code&gt;srcPos&lt;/code&gt; through</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;srcPos+length-1&lt;/code&gt; cannot be converted to the component</span></span><br><span class="line"><span class="hljs-comment">     * type of the destination array by assignment conversion, an</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;ArrayStoreException&lt;/code&gt; is thrown. In this case, let</span></span><br><span class="line"><span class="hljs-comment">     * &lt;b&gt;&lt;i&gt;k&lt;/i&gt;&lt;/b&gt; be the smallest nonnegative integer less than</span></span><br><span class="line"><span class="hljs-comment">     * length such that &lt;code&gt;src[srcPos+&lt;/code&gt;&lt;i&gt;k&lt;/i&gt;&lt;code&gt;]&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * cannot be converted to the component type of the destination</span></span><br><span class="line"><span class="hljs-comment">     * array; when the exception is thrown, source array components from</span></span><br><span class="line"><span class="hljs-comment">     * positions &lt;code&gt;srcPos&lt;/code&gt; through</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;srcPos+&lt;/code&gt;&lt;i&gt;k&lt;/i&gt;&lt;code&gt;-1&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * will already have been copied to destination array positions</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;destPos&lt;/code&gt; through</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;destPos+&lt;/code&gt;&lt;i&gt;k&lt;/I&gt;&lt;code&gt;-1&lt;/code&gt; and no other</span></span><br><span class="line"><span class="hljs-comment">     * positions of the destination array will have been modified.</span></span><br><span class="line"><span class="hljs-comment">     * (Because of the restrictions already itemized, this</span></span><br><span class="line"><span class="hljs-comment">     * paragraph effectively applies only to the situation where both</span></span><br><span class="line"><span class="hljs-comment">     * arrays have component types that are reference types.)</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      src      the source array.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      srcPos   starting position in the source array.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      dest     the destination array.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      destPos  starting position in the destination data.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      length   the number of array elements to be copied.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  IndexOutOfBoundsException  if copying would cause</span></span><br><span class="line"><span class="hljs-comment">     *               access of data outside array bounds.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  ArrayStoreException  if an element in the &lt;code&gt;src&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     *               array could not be stored into the &lt;code&gt;dest&lt;/code&gt; array</span></span><br><span class="line"><span class="hljs-comment">     *               because of a type mismatch.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  NullPointerException if either &lt;code&gt;src&lt;/code&gt; or</span></span><br><span class="line"><span class="hljs-comment">     *               &lt;code&gt;dest&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">void</span> <span class="hljs-title">arraycopy</span><span class="hljs-params">(Object src,  <span class="hljs-keyword">int</span>  srcPos,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">                                        Object dest, <span class="hljs-keyword">int</span> destPos,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">                                        <span class="hljs-keyword">int</span> length)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the same hash code for the given object as</span></span><br><span class="line"><span class="hljs-comment">     * would be returned by the default method hashCode(),</span></span><br><span class="line"><span class="hljs-comment">     * whether or not the given object's class overrides</span></span><br><span class="line"><span class="hljs-comment">     * hashCode().</span></span><br><span class="line"><span class="hljs-comment">     * The hash code for the null reference is zero.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> x object for which the hashCode is to be calculated</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>  the hashCode</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span>   JDK1.1</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">int</span> <span class="hljs-title">identityHashCode</span><span class="hljs-params">(Object x)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * System properties. The following properties are guaranteed to be defined:</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dl&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;java.version         &lt;dd&gt;Java version number</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;java.vendor          &lt;dd&gt;Java vendor specific string</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;java.vendor.url      &lt;dd&gt;Java vendor URL</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;java.home            &lt;dd&gt;Java installation directory</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;java.class.version   &lt;dd&gt;Java class version number</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;java.class.path      &lt;dd&gt;Java classpath</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;os.name              &lt;dd&gt;Operating System Name</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;os.arch              &lt;dd&gt;Operating System Architecture</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;os.version           &lt;dd&gt;Operating System Version</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;file.separator       &lt;dd&gt;File separator ("/" on Unix)</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;path.separator       &lt;dd&gt;Path separator (":" on Unix)</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;line.separator       &lt;dd&gt;Line separator ("\n" on Unix)</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;user.name            &lt;dd&gt;User account name</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;user.home            &lt;dd&gt;User home directory</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;user.dir             &lt;dd&gt;User's current working directory</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/dl&gt;</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Properties props;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> Properties <span class="hljs-title">initProperties</span><span class="hljs-params">(Properties props)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Determines the current system properties.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * First, if there is a security manager, its</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;checkPropertiesAccess&lt;/code&gt; method is called with no</span></span><br><span class="line"><span class="hljs-comment">     * arguments. This may result in a security exception.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * The current set of system properties for use by the</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@link</span> #getProperty(String)&#125; method is returned as a</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;Properties&lt;/code&gt; object. If there is no current set of</span></span><br><span class="line"><span class="hljs-comment">     * system properties, a set of system properties is first created and</span></span><br><span class="line"><span class="hljs-comment">     * initialized. This set of system properties always includes values</span></span><br><span class="line"><span class="hljs-comment">     * for the following keys:</span></span><br><span class="line"><span class="hljs-comment">     * &lt;table summary="Shows property keys and associated values"&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;th&gt;Key&lt;/th&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;th&gt;Description of Associated Value&lt;/th&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.version&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Runtime Environment version&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vendor&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Runtime Environment vendor&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vendor.url&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java vendor URL&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.home&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java installation directory&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vm.specification.version&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Virtual Machine specification version&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vm.specification.vendor&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Virtual Machine specification vendor&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vm.specification.name&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Virtual Machine specification name&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vm.version&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Virtual Machine implementation version&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vm.vendor&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Virtual Machine implementation vendor&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vm.name&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Virtual Machine implementation name&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.specification.version&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Runtime Environment specification  version&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.specification.vendor&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Runtime Environment specification  vendor&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.specification.name&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Runtime Environment specification  name&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.class.version&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java class format version number&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.class.path&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java class path&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.library.path&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;List of paths to search when loading libraries&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.io.tmpdir&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Default temp file path&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.compiler&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Name of JIT compiler to use&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.ext.dirs&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Path of extension directory or directories</span></span><br><span class="line"><span class="hljs-comment">     *         &lt;b&gt;Deprecated.&lt;/b&gt; &lt;i&gt;This property, and the mechanism</span></span><br><span class="line"><span class="hljs-comment">     *            which implements it, may be removed in a future</span></span><br><span class="line"><span class="hljs-comment">     *            release.&lt;/i&gt; &lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;os.name&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Operating system name&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;os.arch&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Operating system architecture&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;os.version&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Operating system version&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;file.separator&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;File separator ("/" on UNIX)&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;path.separator&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Path separator (":" on UNIX)&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;line.separator&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Line separator ("\n" on UNIX)&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;user.name&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;User's account name&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;user.home&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;User's home directory&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;user.dir&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;User's current working directory&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/table&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Multiple paths in a system property value are separated by the path</span></span><br><span class="line"><span class="hljs-comment">     * separator character of the platform.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Note that even if the security manager does not permit the</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;getProperties&lt;/code&gt; operation, it may choose to permit the</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@link</span> #getProperty(String)&#125; operation.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>     the system properties</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  SecurityException  if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;checkPropertiesAccess&lt;/code&gt; method doesn't allow access</span></span><br><span class="line"><span class="hljs-comment">     *              to the system properties.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        #setProperties</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityException</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityManager#checkPropertiesAccess()</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.util.Properties</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Properties <span class="hljs-title">getProperties</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            sm.checkPropertiesAccess();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> props;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the system-dependent line separator string.  It always</span></span><br><span class="line"><span class="hljs-comment">     * returns the same value - the initial value of the &#123;<span class="hljs-doctag">@linkplain</span></span></span><br><span class="line"><span class="hljs-comment">     * #getProperty(String) system property&#125; &#123;<span class="hljs-doctag">@code</span> line.separator&#125;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;On UNIX systems, it returns &#123;<span class="hljs-doctag">@code</span> "\n"&#125;; on Microsoft</span></span><br><span class="line"><span class="hljs-comment">     * Windows systems it returns &#123;<span class="hljs-doctag">@code</span> "\r\n"&#125;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the system-dependent line separator string</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.7</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">lineSeparator</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> lineSeparator;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String lineSeparator;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Sets the system properties to the &lt;code&gt;Properties&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * argument.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * First, if there is a security manager, its</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;checkPropertiesAccess&lt;/code&gt; method is called with no</span></span><br><span class="line"><span class="hljs-comment">     * arguments. This may result in a security exception.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * The argument becomes the current set of system properties for use</span></span><br><span class="line"><span class="hljs-comment">     * by the &#123;<span class="hljs-doctag">@link</span> #getProperty(String)&#125; method. If the argument is</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;null&lt;/code&gt;, then the current set of system properties is</span></span><br><span class="line"><span class="hljs-comment">     * forgotten.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      props   the new system properties.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  SecurityException  if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;checkPropertiesAccess&lt;/code&gt; method doesn't allow access</span></span><br><span class="line"><span class="hljs-comment">     *              to the system properties.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        #getProperties</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.util.Properties</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityException</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityManager#checkPropertiesAccess()</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setProperties</span><span class="hljs-params">(Properties props)</span> </span>&#123;</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            sm.checkPropertiesAccess();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">if</span> (props == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            props = <span class="hljs-keyword">new</span> Properties();</span><br><span class="line">            initProperties(props);</span><br><span class="line">        &#125;</span><br><span class="line">        System.props = props;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Gets the system property indicated by the specified key.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * First, if there is a security manager, its</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;checkPropertyAccess&lt;/code&gt; method is called with the key as</span></span><br><span class="line"><span class="hljs-comment">     * its argument. This may result in a SecurityException.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * If there is no current set of system properties, a set of system</span></span><br><span class="line"><span class="hljs-comment">     * properties is first created and initialized in the same manner as</span></span><br><span class="line"><span class="hljs-comment">     * for the &lt;code&gt;getProperties&lt;/code&gt; method.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      key   the name of the system property.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>     the string value of the system property,</span></span><br><span class="line"><span class="hljs-comment">     *             or &lt;code&gt;null&lt;/code&gt; if there is no property with that key.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  SecurityException  if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;checkPropertyAccess&lt;/code&gt; method doesn't allow</span></span><br><span class="line"><span class="hljs-comment">     *              access to the specified system property.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  NullPointerException if &lt;code&gt;key&lt;/code&gt; is</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;null&lt;/code&gt;.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  IllegalArgumentException if &lt;code&gt;key&lt;/code&gt; is empty.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        #setProperty</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityException</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityManager#checkPropertyAccess(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.System#getProperties()</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getProperty</span><span class="hljs-params">(String key)</span> </span>&#123;</span><br><span class="line">        checkKey(key);</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            sm.checkPropertyAccess(key);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> props.getProperty(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Gets the system property indicated by the specified key.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * First, if there is a security manager, its</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;checkPropertyAccess&lt;/code&gt; method is called with the</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;key&lt;/code&gt; as its argument.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * If there is no current set of system properties, a set of system</span></span><br><span class="line"><span class="hljs-comment">     * properties is first created and initialized in the same manner as</span></span><br><span class="line"><span class="hljs-comment">     * for the &lt;code&gt;getProperties&lt;/code&gt; method.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      key   the name of the system property.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      def   a default value.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>     the string value of the system property,</span></span><br><span class="line"><span class="hljs-comment">     *             or the default value if there is no property with that key.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  SecurityException  if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;checkPropertyAccess&lt;/code&gt; method doesn't allow</span></span><br><span class="line"><span class="hljs-comment">     *             access to the specified system property.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  NullPointerException if &lt;code&gt;key&lt;/code&gt; is</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;null&lt;/code&gt;.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  IllegalArgumentException if &lt;code&gt;key&lt;/code&gt; is empty.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        #setProperty</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityManager#checkPropertyAccess(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.System#getProperties()</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getProperty</span><span class="hljs-params">(String key, String def)</span> </span>&#123;</span><br><span class="line">        checkKey(key);</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            sm.checkPropertyAccess(key);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> props.getProperty(key, def);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Sets the system property indicated by the specified key.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * First, if a security manager exists, its</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;SecurityManager.checkPermission&lt;/code&gt; method</span></span><br><span class="line"><span class="hljs-comment">     * is called with a &lt;code&gt;PropertyPermission(key, "write")&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * permission. This may result in a SecurityException being thrown.</span></span><br><span class="line"><span class="hljs-comment">     * If no exception is thrown, the specified property is set to the given</span></span><br><span class="line"><span class="hljs-comment">     * value.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      key   the name of the system property.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      value the value of the system property.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>     the previous value of the system property,</span></span><br><span class="line"><span class="hljs-comment">     *             or &lt;code&gt;null&lt;/code&gt; if it did not have one.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  SecurityException  if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;checkPermission&lt;/code&gt; method doesn't allow</span></span><br><span class="line"><span class="hljs-comment">     *             setting of the specified property.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  NullPointerException if &lt;code&gt;key&lt;/code&gt; or</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;value&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  IllegalArgumentException if &lt;code&gt;key&lt;/code&gt; is empty.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        #getProperty</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.System#getProperty(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.System#getProperty(java.lang.String, java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.util.PropertyPermission</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        SecurityManager#checkPermission</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span>      1.2</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">setProperty</span><span class="hljs-params">(String key, String value)</span> </span>&#123;</span><br><span class="line">        checkKey(key);</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            sm.checkPermission(<span class="hljs-keyword">new</span> PropertyPermission(key,</span><br><span class="line">                SecurityConstants.PROPERTY_WRITE_ACTION));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> (String) props.setProperty(key, value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Removes the system property indicated by the specified key.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * First, if a security manager exists, its</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;SecurityManager.checkPermission&lt;/code&gt; method</span></span><br><span class="line"><span class="hljs-comment">     * is called with a &lt;code&gt;PropertyPermission(key, "write")&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * permission. This may result in a SecurityException being thrown.</span></span><br><span class="line"><span class="hljs-comment">     * If no exception is thrown, the specified property is removed.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      key   the name of the system property to be removed.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>     the previous string value of the system property,</span></span><br><span class="line"><span class="hljs-comment">     *             or &lt;code&gt;null&lt;/code&gt; if there was no property with that key.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  SecurityException  if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;checkPropertyAccess&lt;/code&gt; method doesn't allow</span></span><br><span class="line"><span class="hljs-comment">     *              access to the specified system property.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  NullPointerException if &lt;code&gt;key&lt;/code&gt; is</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;null&lt;/code&gt;.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  IllegalArgumentException if &lt;code&gt;key&lt;/code&gt; is empty.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        #getProperty</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        #setProperty</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.util.Properties</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityException</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityManager#checkPropertiesAccess()</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.5</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">clearProperty</span><span class="hljs-params">(String key)</span> </span>&#123;</span><br><span class="line">        checkKey(key);</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            sm.checkPermission(<span class="hljs-keyword">new</span> PropertyPermission(key, <span class="hljs-string">"write"</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> (String) props.remove(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">checkKey</span><span class="hljs-params">(String key)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (key == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException(<span class="hljs-string">"key can't be null"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">if</span> (key.equals(<span class="hljs-string">""</span>)) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"key can't be empty"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Gets the value of the specified environment variable. An</span></span><br><span class="line"><span class="hljs-comment">     * environment variable is a system-dependent external named</span></span><br><span class="line"><span class="hljs-comment">     * value.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;If a security manager exists, its</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@link</span> SecurityManager#checkPermission checkPermission&#125;</span></span><br><span class="line"><span class="hljs-comment">     * method is called with a</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;&#123;<span class="hljs-doctag">@link</span> RuntimePermission&#125;("getenv."+name)&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * permission.  This may result in a &#123;<span class="hljs-doctag">@link</span> SecurityException&#125;</span></span><br><span class="line"><span class="hljs-comment">     * being thrown.  If no exception is thrown the value of the</span></span><br><span class="line"><span class="hljs-comment">     * variable &lt;code&gt;name&lt;/code&gt; is returned.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;&lt;a name="EnvironmentVSSystemProperties"&gt;&lt;i&gt;System</span></span><br><span class="line"><span class="hljs-comment">     * properties&lt;/i&gt; and &lt;i&gt;environment variables&lt;/i&gt;&lt;/a&gt; are both</span></span><br><span class="line"><span class="hljs-comment">     * conceptually mappings between names and values.  Both</span></span><br><span class="line"><span class="hljs-comment">     * mechanisms can be used to pass user-defined information to a</span></span><br><span class="line"><span class="hljs-comment">     * Java process.  Environment variables have a more global effect,</span></span><br><span class="line"><span class="hljs-comment">     * because they are visible to all descendants of the process</span></span><br><span class="line"><span class="hljs-comment">     * which defines them, not just the immediate Java subprocess.</span></span><br><span class="line"><span class="hljs-comment">     * They can have subtly different semantics, such as case</span></span><br><span class="line"><span class="hljs-comment">     * insensitivity, on different operating systems.  For these</span></span><br><span class="line"><span class="hljs-comment">     * reasons, environment variables are more likely to have</span></span><br><span class="line"><span class="hljs-comment">     * unintended side effects.  It is best to use system properties</span></span><br><span class="line"><span class="hljs-comment">     * where possible.  Environment variables should be used when a</span></span><br><span class="line"><span class="hljs-comment">     * global effect is desired, or when an external system interface</span></span><br><span class="line"><span class="hljs-comment">     * requires an environment variable (such as &lt;code&gt;PATH&lt;/code&gt;).</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;On UNIX systems the alphabetic case of &lt;code&gt;name&lt;/code&gt; is</span></span><br><span class="line"><span class="hljs-comment">     * typically significant, while on Microsoft Windows systems it is</span></span><br><span class="line"><span class="hljs-comment">     * typically not.  For example, the expression</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;System.getenv("FOO").equals(System.getenv("foo"))&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * is likely to be true on Microsoft Windows.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>  name the name of the environment variable</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the string value of the variable, or &lt;code&gt;null&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     *         if the variable is not defined in the system environment</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> NullPointerException if &lt;code&gt;name&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> SecurityException</span></span><br><span class="line"><span class="hljs-comment">     *         if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *         &#123;<span class="hljs-doctag">@link</span> SecurityManager#checkPermission checkPermission&#125;</span></span><br><span class="line"><span class="hljs-comment">     *         method doesn't allow access to the environment variable</span></span><br><span class="line"><span class="hljs-comment">     *         &lt;code&gt;name&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>    #getenv()</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>    ProcessBuilder#environment()</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getenv</span><span class="hljs-params">(String name)</span> </span>&#123;</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            sm.checkPermission(<span class="hljs-keyword">new</span> RuntimePermission(<span class="hljs-string">"getenv."</span>+name));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> ProcessEnvironment.getenv(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns an unmodifiable string map view of the current system environment.</span></span><br><span class="line"><span class="hljs-comment">     * The environment is a system-dependent mapping from names to</span></span><br><span class="line"><span class="hljs-comment">     * values which is passed from parent to child processes.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;If the system does not support environment variables, an</span></span><br><span class="line"><span class="hljs-comment">     * empty map is returned.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;The returned map will never contain null keys or values.</span></span><br><span class="line"><span class="hljs-comment">     * Attempting to query the presence of a null key or value will</span></span><br><span class="line"><span class="hljs-comment">     * throw a &#123;<span class="hljs-doctag">@link</span> NullPointerException&#125;.  Attempting to query</span></span><br><span class="line"><span class="hljs-comment">     * the presence of a key or value which is not of type</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@link</span> String&#125; will throw a &#123;<span class="hljs-doctag">@link</span> ClassCastException&#125;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;The returned map and its collection views may not obey the</span></span><br><span class="line"><span class="hljs-comment">     * general contract of the &#123;<span class="hljs-doctag">@link</span> Object#equals&#125; and</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@link</span> Object#hashCode&#125; methods.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;The returned map is typically case-sensitive on all platforms.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;If a security manager exists, its</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@link</span> SecurityManager#checkPermission checkPermission&#125;</span></span><br><span class="line"><span class="hljs-comment">     * method is called with a</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;&#123;<span class="hljs-doctag">@link</span> RuntimePermission&#125;("getenv.*")&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * permission.  This may result in a &#123;<span class="hljs-doctag">@link</span> SecurityException&#125; being</span></span><br><span class="line"><span class="hljs-comment">     * thrown.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;When passing information to a Java subprocess,</span></span><br><span class="line"><span class="hljs-comment">     * &lt;a href=#EnvironmentVSSystemProperties&gt;system properties&lt;/a&gt;</span></span><br><span class="line"><span class="hljs-comment">     * are generally preferred over environment variables.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the environment as a map of variable names to values</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> SecurityException</span></span><br><span class="line"><span class="hljs-comment">     *         if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *         &#123;<span class="hljs-doctag">@link</span> SecurityManager#checkPermission checkPermission&#125;</span></span><br><span class="line"><span class="hljs-comment">     *         method doesn't allow access to the process environment</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>    #getenv(String)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>    ProcessBuilder#environment()</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span>  1.5</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> java.util.<span class="hljs-function">Map&lt;String,String&gt; <span class="hljs-title">getenv</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            sm.checkPermission(<span class="hljs-keyword">new</span> RuntimePermission(<span class="hljs-string">"getenv.*"</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> ProcessEnvironment.getenv();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Terminates the currently running Java Virtual Machine. The</span></span><br><span class="line"><span class="hljs-comment">     * argument serves as a status code; by convention, a nonzero status</span></span><br><span class="line"><span class="hljs-comment">     * code indicates abnormal termination.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * This method calls the &lt;code&gt;exit&lt;/code&gt; method in class</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;Runtime&lt;/code&gt;. This method never returns normally.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * The call &lt;code&gt;System.exit(n)&lt;/code&gt; is effectively equivalent to</span></span><br><span class="line"><span class="hljs-comment">     * the call:</span></span><br><span class="line"><span class="hljs-comment">     * &lt;blockquote&gt;&lt;pre&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Runtime.getRuntime().exit(n)</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/pre&gt;&lt;/blockquote&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      status   exit status.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span>  SecurityException</span></span><br><span class="line"><span class="hljs-comment">     *        if a security manager exists and its &lt;code&gt;checkExit&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     *        method doesn't allow exit with the specified status.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.Runtime#exit(int)</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">exit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> status)</span> </span>&#123;</span><br><span class="line">        Runtime.getRuntime().exit(status);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Runs the garbage collector.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Calling the &lt;code&gt;gc&lt;/code&gt; method suggests that the Java Virtual</span></span><br><span class="line"><span class="hljs-comment">     * Machine expend effort toward recycling unused objects in order to</span></span><br><span class="line"><span class="hljs-comment">     * make the memory they currently occupy available for quick reuse.</span></span><br><span class="line"><span class="hljs-comment">     * When control returns from the method call, the Java Virtual</span></span><br><span class="line"><span class="hljs-comment">     * Machine has made a best effort to reclaim space from all discarded</span></span><br><span class="line"><span class="hljs-comment">     * objects.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * The call &lt;code&gt;System.gc()&lt;/code&gt; is effectively equivalent to the</span></span><br><span class="line"><span class="hljs-comment">     * call:</span></span><br><span class="line"><span class="hljs-comment">     * &lt;blockquote&gt;&lt;pre&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Runtime.getRuntime().gc()</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/pre&gt;&lt;/blockquote&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.lang.Runtime#gc()</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">gc</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        Runtime.getRuntime().gc();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Runs the finalization methods of any objects pending finalization.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Calling this method suggests that the Java Virtual Machine expend</span></span><br><span class="line"><span class="hljs-comment">     * effort toward running the &lt;code&gt;finalize&lt;/code&gt; methods of objects</span></span><br><span class="line"><span class="hljs-comment">     * that have been found to be discarded but whose &lt;code&gt;finalize&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * methods have not yet been run. When control returns from the</span></span><br><span class="line"><span class="hljs-comment">     * method call, the Java Virtual Machine has made a best effort to</span></span><br><span class="line"><span class="hljs-comment">     * complete all outstanding finalizations.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * The call &lt;code&gt;System.runFinalization()&lt;/code&gt; is effectively</span></span><br><span class="line"><span class="hljs-comment">     * equivalent to the call:</span></span><br><span class="line"><span class="hljs-comment">     * &lt;blockquote&gt;&lt;pre&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Runtime.getRuntime().runFinalization()</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/pre&gt;&lt;/blockquote&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.lang.Runtime#runFinalization()</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">runFinalization</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        Runtime.getRuntime().runFinalization();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Enable or disable finalization on exit; doing so specifies that the</span></span><br><span class="line"><span class="hljs-comment">     * finalizers of all objects that have finalizers that have not yet been</span></span><br><span class="line"><span class="hljs-comment">     * automatically invoked are to be run before the Java runtime exits.</span></span><br><span class="line"><span class="hljs-comment">     * By default, finalization on exit is disabled.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;If there is a security manager,</span></span><br><span class="line"><span class="hljs-comment">     * its &lt;code&gt;checkExit&lt;/code&gt; method is first called</span></span><br><span class="line"><span class="hljs-comment">     * with 0 as its argument to ensure the exit is allowed.</span></span><br><span class="line"><span class="hljs-comment">     * This could result in a SecurityException.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@deprecated</span>  This method is inherently unsafe.  It may result in</span></span><br><span class="line"><span class="hljs-comment">     *      finalizers being called on live objects while other threads are</span></span><br><span class="line"><span class="hljs-comment">     *      concurrently manipulating those objects, resulting in erratic</span></span><br><span class="line"><span class="hljs-comment">     *      behavior or deadlock.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> value indicating enabling or disabling of finalization</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span>  SecurityException</span></span><br><span class="line"><span class="hljs-comment">     *        if a security manager exists and its &lt;code&gt;checkExit&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     *        method doesn't allow the exit.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.lang.Runtime#exit(int)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.lang.Runtime#gc()</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.lang.SecurityManager#checkExit(int)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span>   JDK1.1</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-meta">@Deprecated</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">runFinalizersOnExit</span><span class="hljs-params">(<span class="hljs-keyword">boolean</span> value)</span> </span>&#123;</span><br><span class="line">        Runtime.runFinalizersOnExit(value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Loads the native library specified by the filename argument.  The filename</span></span><br><span class="line"><span class="hljs-comment">     * argument must be an absolute path name.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * If the filename argument, when stripped of any platform-specific library</span></span><br><span class="line"><span class="hljs-comment">     * prefix, path, and file extension, indicates a library whose name is,</span></span><br><span class="line"><span class="hljs-comment">     * for example, L, and a native library called L is statically linked</span></span><br><span class="line"><span class="hljs-comment">     * with the VM, then the JNI_OnLoad_L function exported by the library</span></span><br><span class="line"><span class="hljs-comment">     * is invoked rather than attempting to load a dynamic library.</span></span><br><span class="line"><span class="hljs-comment">     * A filename matching the argument does not have to exist in the</span></span><br><span class="line"><span class="hljs-comment">     * file system.</span></span><br><span class="line"><span class="hljs-comment">     * See the JNI Specification for more details.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * Otherwise, the filename argument is mapped to a native library image in</span></span><br><span class="line"><span class="hljs-comment">     * an implementation-dependent manner.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * The call &lt;code&gt;System.load(name)&lt;/code&gt; is effectively equivalent</span></span><br><span class="line"><span class="hljs-comment">     * to the call:</span></span><br><span class="line"><span class="hljs-comment">     * &lt;blockquote&gt;&lt;pre&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Runtime.getRuntime().load(name)</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/pre&gt;&lt;/blockquote&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      filename   the file to load.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  SecurityException  if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;checkLink&lt;/code&gt; method doesn't allow</span></span><br><span class="line"><span class="hljs-comment">     *             loading of the specified dynamic library</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  UnsatisfiedLinkError  if either the filename is not an</span></span><br><span class="line"><span class="hljs-comment">     *             absolute path name, the native library is not statically</span></span><br><span class="line"><span class="hljs-comment">     *             linked with the VM, or the library cannot be mapped to</span></span><br><span class="line"><span class="hljs-comment">     *             a native library image by the host system.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  NullPointerException if &lt;code&gt;filename&lt;/code&gt; is</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;null&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.Runtime#load(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityManager#checkLink(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-meta">@CallerSensitive</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">load</span><span class="hljs-params">(String filename)</span> </span>&#123;</span><br><span class="line">        Runtime.getRuntime().load0(Reflection.getCallerClass(), filename);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Loads the native library specified by the &lt;code&gt;libname&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * argument.  The &lt;code&gt;libname&lt;/code&gt; argument must not contain any platform</span></span><br><span class="line"><span class="hljs-comment">     * specific prefix, file extension or path. If a native library</span></span><br><span class="line"><span class="hljs-comment">     * called &lt;code&gt;libname&lt;/code&gt; is statically linked with the VM, then the</span></span><br><span class="line"><span class="hljs-comment">     * JNI_OnLoad_&lt;code&gt;libname&lt;/code&gt; function exported by the library is invoked.</span></span><br><span class="line"><span class="hljs-comment">     * See the JNI Specification for more details.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * Otherwise, the libname argument is loaded from a system library</span></span><br><span class="line"><span class="hljs-comment">     * location and mapped to a native library image in an implementation-</span></span><br><span class="line"><span class="hljs-comment">     * dependent manner.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * The call &lt;code&gt;System.loadLibrary(name)&lt;/code&gt; is effectively</span></span><br><span class="line"><span class="hljs-comment">     * equivalent to the call</span></span><br><span class="line"><span class="hljs-comment">     * &lt;blockquote&gt;&lt;pre&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Runtime.getRuntime().loadLibrary(name)</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/pre&gt;&lt;/blockquote&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      libname   the name of the library.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  SecurityException  if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;checkLink&lt;/code&gt; method doesn't allow</span></span><br><span class="line"><span class="hljs-comment">     *             loading of the specified dynamic library</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  UnsatisfiedLinkError if either the libname argument</span></span><br><span class="line"><span class="hljs-comment">     *             contains a file path, the native library is not statically</span></span><br><span class="line"><span class="hljs-comment">     *             linked with the VM,  or the library cannot be mapped to a</span></span><br><span class="line"><span class="hljs-comment">     *             native library image by the host system.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  NullPointerException if &lt;code&gt;libname&lt;/code&gt; is</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;null&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.Runtime#loadLibrary(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityManager#checkLink(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-meta">@CallerSensitive</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">loadLibrary</span><span class="hljs-params">(String libname)</span> </span>&#123;</span><br><span class="line">        Runtime.getRuntime().loadLibrary0(Reflection.getCallerClass(), libname);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Maps a library name into a platform-specific string representing</span></span><br><span class="line"><span class="hljs-comment">     * a native library.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      libname the name of the library.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>     a platform-dependent native library name.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  NullPointerException if &lt;code&gt;libname&lt;/code&gt; is</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;null&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.System#loadLibrary(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.ClassLoader#findLibrary(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span>      1.2</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> String <span class="hljs-title">mapLibraryName</span><span class="hljs-params">(String libname)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Create PrintStream for stdout/err based on encoding.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> PrintStream <span class="hljs-title">newPrintStream</span><span class="hljs-params">(FileOutputStream fos, String enc)</span> </span>&#123;</span><br><span class="line">       <span class="hljs-keyword">if</span> (enc != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> PrintStream(<span class="hljs-keyword">new</span> BufferedOutputStream(fos, <span class="hljs-number">128</span>), <span class="hljs-keyword">true</span>, enc);</span><br><span class="line">            &#125; <span class="hljs-keyword">catch</span> (UnsupportedEncodingException uee) &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> PrintStream(<span class="hljs-keyword">new</span> BufferedOutputStream(fos, <span class="hljs-number">128</span>), <span class="hljs-keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Initialize the system class.  Called after thread initialization.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initializeSystemClass</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// VM might invoke JNU_NewStringPlatform() to set those encoding</span></span><br><span class="line">        <span class="hljs-comment">// sensitive properties (user.home, user.name, boot.class.path, etc.)</span></span><br><span class="line">        <span class="hljs-comment">// during "props" initialization, in which it may need access, via</span></span><br><span class="line">        <span class="hljs-comment">// System.getProperty(), to the related system encoding property that</span></span><br><span class="line">        <span class="hljs-comment">// have been initialized (put into "props") at early stage of the</span></span><br><span class="line">        <span class="hljs-comment">// initialization. So make sure the "props" is available at the</span></span><br><span class="line">        <span class="hljs-comment">// very beginning of the initialization and all system properties to</span></span><br><span class="line">        <span class="hljs-comment">// be put into it directly.</span></span><br><span class="line">        props = <span class="hljs-keyword">new</span> Properties();</span><br><span class="line">        initProperties(props);  <span class="hljs-comment">// initialized by the VM</span></span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// There are certain system configurations that may be controlled by</span></span><br><span class="line">        <span class="hljs-comment">// VM options such as the maximum amount of direct memory and</span></span><br><span class="line">        <span class="hljs-comment">// Integer cache size used to support the object identity semantics</span></span><br><span class="line">        <span class="hljs-comment">// of autoboxing.  Typically, the library will obtain these values</span></span><br><span class="line">        <span class="hljs-comment">// from the properties set by the VM.  If the properties are for</span></span><br><span class="line">        <span class="hljs-comment">// internal implementation use only, these properties should be</span></span><br><span class="line">        <span class="hljs-comment">// removed from the system properties.</span></span><br><span class="line">        <span class="hljs-comment">//</span></span><br><span class="line">        <span class="hljs-comment">// See java.lang.Integer.IntegerCache and the</span></span><br><span class="line">        <span class="hljs-comment">// sun.misc.VM.saveAndRemoveProperties method for example.</span></span><br><span class="line">        <span class="hljs-comment">//</span></span><br><span class="line">        <span class="hljs-comment">// Save a private copy of the system properties object that</span></span><br><span class="line">        <span class="hljs-comment">// can only be accessed by the internal implementation.  Remove</span></span><br><span class="line">        <span class="hljs-comment">// certain system properties that are not intended for public access.</span></span><br><span class="line">        sun.misc.VM.saveAndRemoveProperties(props);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        lineSeparator = props.getProperty(<span class="hljs-string">"line.separator"</span>);</span><br><span class="line">        sun.misc.Version.init();</span><br><span class="line"></span><br><span class="line">        FileInputStream fdIn = <span class="hljs-keyword">new</span> FileInputStream(FileDescriptor.in);</span><br><span class="line">        FileOutputStream fdOut = <span class="hljs-keyword">new</span> FileOutputStream(FileDescriptor.out);</span><br><span class="line">        FileOutputStream fdErr = <span class="hljs-keyword">new</span> FileOutputStream(FileDescriptor.err);</span><br><span class="line">        setIn0(<span class="hljs-keyword">new</span> BufferedInputStream(fdIn));</span><br><span class="line">        setOut0(newPrintStream(fdOut, props.getProperty(<span class="hljs-string">"sun.stdout.encoding"</span>)));</span><br><span class="line">        setErr0(newPrintStream(fdErr, props.getProperty(<span class="hljs-string">"sun.stderr.encoding"</span>)));</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// Load the zip library now in order to keep java.util.zip.ZipFile</span></span><br><span class="line">        <span class="hljs-comment">// from trying to use itself to load this library later.</span></span><br><span class="line">        loadLibrary(<span class="hljs-string">"zip"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// Setup Java signal handlers for HUP, TERM, and INT (where available).</span></span><br><span class="line">        Terminator.setup();</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// Initialize any miscellenous operating system settings that need to be</span></span><br><span class="line">        <span class="hljs-comment">// set for the class libraries. Currently this is no-op everywhere except</span></span><br><span class="line">        <span class="hljs-comment">// for Windows where the process-wide error mode is set before the java.io</span></span><br><span class="line">        <span class="hljs-comment">// classes are used.</span></span><br><span class="line">        sun.misc.VM.initializeOSEnvironment();</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// The main thread is not added to its thread group in the same</span></span><br><span class="line">        <span class="hljs-comment">// way as other threads; we must do it ourselves here.</span></span><br><span class="line">        Thread current = Thread.currentThread();</span><br><span class="line">        current.getThreadGroup().add(current);</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// register shared secrets</span></span><br><span class="line">        setJavaLangAccess();</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// Subsystems that are invoked during initialization can invoke</span></span><br><span class="line">        <span class="hljs-comment">// sun.misc.VM.isBooted() in order to avoid doing things that should</span></span><br><span class="line">        <span class="hljs-comment">// wait until the application class loader has been set up.</span></span><br><span class="line">        <span class="hljs-comment">// IMPORTANT: Ensure that this remains the last initialization action!</span></span><br><span class="line">        sun.misc.VM.booted();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setJavaLangAccess</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-comment">// Allow privileged classes outside of java.lang</span></span><br><span class="line">        sun.misc.SharedSecrets.setJavaLangAccess(<span class="hljs-keyword">new</span> sun.misc.JavaLangAccess()&#123;</span><br><span class="line">            <span class="hljs-keyword">public</span> sun.reflect.<span class="hljs-function">ConstantPool <span class="hljs-title">getConstantPool</span><span class="hljs-params">(Class&lt;?&gt; klass)</span> </span>&#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> klass.getConstantPool();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">casAnnotationType</span><span class="hljs-params">(Class&lt;?&gt; klass, AnnotationType oldType, AnnotationType newType)</span> </span>&#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> klass.casAnnotationType(oldType, newType);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-function"><span class="hljs-keyword">public</span> AnnotationType <span class="hljs-title">getAnnotationType</span><span class="hljs-params">(Class&lt;?&gt; klass)</span> </span>&#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> klass.getAnnotationType();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">public</span> Map&lt;Class&lt;? extends Annotation&gt;, Annotation&gt; getDeclaredAnnotationMap(Class&lt;?&gt; klass) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> klass.getDeclaredAnnotationMap();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">public</span> <span class="hljs-keyword">byte</span>[] getRawClassAnnotations(Class&lt;?&gt; klass) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> klass.getRawAnnotations();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">public</span> <span class="hljs-keyword">byte</span>[] getRawClassTypeAnnotations(Class&lt;?&gt; klass) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> klass.getRawTypeAnnotations();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">public</span> <span class="hljs-keyword">byte</span>[] getRawExecutableTypeAnnotations(Executable executable) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> Class.getExecutableTypeAnnotationBytes(executable);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">public</span> &lt;E extends Enum&lt;E&gt;&gt;</span><br><span class="line">                    E[] getEnumConstantsShared(Class&lt;E&gt; klass) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> klass.getEnumConstantsShared();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">blockedOn</span><span class="hljs-params">(Thread t, Interruptible b)</span> </span>&#123;</span><br><span class="line">                t.blockedOn(b);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">registerShutdownHook</span><span class="hljs-params">(<span class="hljs-keyword">int</span> slot, <span class="hljs-keyword">boolean</span> registerShutdownInProgress, Runnable hook)</span> </span>&#123;</span><br><span class="line">                Shutdown.add(slot, registerShutdownInProgress, hook);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getStackTraceDepth</span><span class="hljs-params">(Throwable t)</span> </span>&#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> t.getStackTraceDepth();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-function"><span class="hljs-keyword">public</span> StackTraceElement <span class="hljs-title">getStackTraceElement</span><span class="hljs-params">(Throwable t, <span class="hljs-keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> t.getStackTraceElement(i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">newStringUnsafe</span><span class="hljs-params">(<span class="hljs-keyword">char</span>[] chars)</span> </span>&#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> String(chars, <span class="hljs-keyword">true</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-function"><span class="hljs-keyword">public</span> Thread <span class="hljs-title">newThreadWithAcc</span><span class="hljs-params">(Runnable target, AccessControlContext acc)</span> </span>&#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Thread(target, acc);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">invokeFinalize</span><span class="hljs-params">(Object o)</span> <span class="hljs-keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">                o.finalize();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-06T05:21:38.000Z">2019-09-06</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/æ–‡ç« /">æ–‡ç« </a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 710 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/06/Javaåç¼–è¯‘å·¥å…·jad/">Javaåç¼–è¯‘å·¥å…·jad</a>
            
        </h1>
        <div class="content">
            <p><img src="/images/2019/09/06/c8ac68c0-d064-11e9-baaa-a18a2b353fbb.png" alt="image.png"></p>
<h1 id="Jad-JAva-Decompiler"><a href="#Jad-JAva-Decompiler" class="headerlink" title="Jad(JAva Decompiler)"></a>Jad(JAva Decompiler)</h1><p>Jad(JAva Decompiler)æ˜¯ä¸€ä¸ªJavaçš„åç¼–è¯‘å™¨ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤è¡ŒæŠŠJavaçš„classæ–‡ä»¶åç¼–è¯‘æˆæºä»£ç ã€‚ä¸‹è½½<a href="https://varaneckas.com/jad/" target="_blank" rel="noopener">ç‚¹å‡»</a></p>
<p>ä½¿ç”¨æ–¹æ³•ï¼š</p>
<p>[1] åç¼–è¯‘ä¸€ä¸ªclassæ–‡ä»¶ï¼šjad example.classï¼Œä¼šç”Ÿæˆexample.jadï¼Œç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å°±æ˜¯javaæºä»£ç </p>
<p>[2] æŒ‡å®šç”Ÿæˆæºä»£ç çš„åç¼€åï¼šjad -sjava example.classï¼Œç”Ÿæˆexample.java</p>
<p>[3] æ”¹å˜ç”Ÿæˆçš„æºä»£ç çš„åç§°ï¼Œå¯ä»¥å…ˆä½¿ç”¨-på°†åç¼–è¯‘åçš„æºä»£ç è¾“å‡ºåˆ°æ§åˆ¶å°çª—å£ï¼Œç„¶åä½¿ç”¨é‡å®šå‘ï¼Œè¾“å‡ºåˆ°æ–‡ä»¶ï¼šjad -p example.class &gt; myexample.java</p>
<p>[4] æŠŠæºä»£ç æ–‡ä»¶è¾“å‡ºåˆ°æŒ‡å®šçš„ç›®å½•ï¼šjad -dnewdir -sjava example.classï¼Œåœ¨newdirç›®å½•ä¸‹ç”Ÿæˆexample.java</p>
<p>[5] æŠŠpackagesç›®å½•ä¸‹çš„classæ–‡ä»¶å…¨éƒ¨åç¼–è¯‘ï¼šjad -sjava packages/*.class</p>
<p>[6] æŠŠpackagesç›®å½•ä»¥åŠå­ç›®å½•ä¸‹çš„æ–‡ä»¶å…¨éƒ¨åç¼–è¯‘ï¼šjad -sjava packages/<em>*/</em>.classï¼Œä¸è¿‡ä½ ä»ç„¶ä¼šå‘ç°æ‰€æœ‰çš„æºä»£ç æ–‡ä»¶è¢«æ”¾åˆ°äº†åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œæ²¡æœ‰æŒ‰ç…§classæ–‡ä»¶çš„åŒ…è·¯å¾„å»ºç«‹èµ·è·¯å¾„</p>
<p>[7] æŠŠpackagesç›®å½•ä»¥åŠå­ç›®å½•ä¸‹çš„æ–‡ä»¶å…¨éƒ¨åç¼–è¯‘å¹¶å»ºç«‹å’ŒjavaåŒ…ä¸€è‡´çš„æ–‡ä»¶å¤¹è·¯å¾„ï¼Œå¯ä»¥ä½¿ç”¨-rå‘½ä»¤ï¼šjad -r -sjava packages/<em>*/</em>.class</p>
<p>[8] å½“é‡å¤ä½¿ç”¨å‘½ä»¤åç¼–è¯‘æ—¶ï¼ŒJadä¼šæç¤ºâ€œwhether you want to overwrite it or notâ€ï¼Œä½¿ç”¨-oå¯ä»¥å¼ºåˆ¶è¦†ç›–æ—§æ–‡ä»¶</p>
<p>[9] è¿˜æœ‰å…¶ä»–çš„å‚æ•°å¯ä»¥è®¾ç½®ç”Ÿæˆçš„æºä»£ç çš„æ ¼å¼ï¼Œå¯ä»¥è¾“å…¥jadå‘½ä»¤æŸ¥çœ‹å¸®åŠ©ï¼Œè¿™é‡Œæœ‰ä¸ªäººåšäº†ç®€å•çš„ç¿»è¯‘ï¼šjadå‘½ä»¤æ€»ç»“</p>
<p>[10] å½“ç„¶ï¼Œä½ ä¼šå‘ç°æœ‰äº›æºæ–‡ä»¶å¤´éƒ¨æœ‰äº›æ³¨é‡Šä¿¡æ¯ï¼Œä¸ç”¨æ‰¾äº†ï¼Œjadæ²¡æœ‰å‚æ•°å¯ä»¥å»æ‰å®ƒï¼Œç”¨åˆ«çš„åŠæ³•å§ã€‚</p>
<h1 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h1><p>Main.java</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-keyword">volatile</span> <span class="hljs-keyword">int</span> t = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> n = <span class="hljs-number">100</span>;</span><br><span class="line">        Thread[] threads = <span class="hljs-keyword">new</span> Thread[n];</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            threads[i] = <span class="hljs-keyword">new</span> Thread(<span class="hljs-keyword">new</span> Runnable() &#123;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-meta">@Override</span></span><br><span class="line">                <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++) &#123;</span><br><span class="line">                        add();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            threads[i].start();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">while</span> (Thread.activeCount() &gt; <span class="hljs-number">1</span>)</span><br><span class="line">            Thread.yield();</span><br><span class="line"></span><br><span class="line">        System.out.println(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        t++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Main.class</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">cafe babe 0000 0034 0037 0a00 0d00 1d07</span><br><span class="line">001e 0700 1f0a 0003 001d 0a00 0200 200a</span><br><span class="line">0002 0021 0a00 0200 220a 0002 0023 0900</span><br><span class="line">2400 2509 000c 0026 0a00 2700 2807 0029</span><br><span class="line">0700 2a01 000c 496e 6e65 7243 6c61 7373</span><br><span class="line">6573 0100 0174 0100 0149 0100 063c 696e</span><br><span class="line">6974 3e01 0003 2829 5601 0004 436f 6465</span><br><span class="line">0100 0f4c 696e 654e 756d 6265 7254 6162</span><br><span class="line">6c65 0100 046d 6169 6e01 0016 285b 4c6a</span><br><span class="line">6176 612f 6c61 6e67 2f53 7472 696e 673b</span><br><span class="line">2956 0100 0d53 7461 636b 4d61 7054 6162</span><br><span class="line">6c65 0700 2b01 0003 6164 6401 0008 3c63</span><br><span class="line">6c69 6e69 743e 0100 0a53 6f75 7263 6546</span><br><span class="line">696c 6501 0009 4d61 696e 2e6a 6176 610c</span><br><span class="line">0011 0012 0100 106a 6176 612f 6c61 6e67</span><br><span class="line">2f54 6872 6561 6401 0006 4d61 696e 2431</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p><img src="/images/2019/09/06/fcb05680-d065-11e9-baaa-a18a2b353fbb.png" alt="image.png"></p>
<p>åç¼–è¯‘åçš„ç»“æœ</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.</span></span><br><span class="line"><span class="hljs-comment">// Jad home page: http://www.kpdus.com/jad.html</span></span><br><span class="line"><span class="hljs-comment">// Decompiler options: packimports(3) </span></span><br><span class="line"><span class="hljs-comment">// Source File Name:   Main.java</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> java.io.PrintStream;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span></span><br><span class="line"><span class="hljs-class"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String args[])</span></span></span><br><span class="line"><span class="hljs-function">    </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">byte</span> byte0 = <span class="hljs-number">100</span>;</span><br><span class="line">        Thread athread[] = <span class="hljs-keyword">new</span> Thread[byte0];</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; byte0; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            athread[i] = <span class="hljs-keyword">new</span> Thread(<span class="hljs-keyword">new</span> Runnable() &#123;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function">                </span>&#123;</span><br><span class="line">                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">10000</span>; j++)</span><br><span class="line">                        Main.add();</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">);</span><br><span class="line">            athread[i].start();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(; Thread.activeCount() &gt; <span class="hljs-number">1</span>; Thread.yield());</span><br><span class="line">        System.out.println(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function">    </span>&#123;</span><br><span class="line">        t++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-keyword">volatile</span> <span class="hljs-keyword">int</span> t = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-05T18:53:05.000Z">2019-09-06</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/æ–‡ç« /">æ–‡ç« </a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 564 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/06/åˆ¤æ–­ç´ æ•°/">åˆ¤æ–­ç´ æ•°</a>
            
        </h1>
        <div class="content">
            <p><img src="/images/2019/09/06/033e9e90-d074-11e9-9009-39f523e8a996.png" alt="image.png"></p>
<h1 id="ç´ æ•°"><a href="#ç´ æ•°" class="headerlink" title="ç´ æ•°"></a>ç´ æ•°</h1><ul>
<li>è´¨æ•°åˆç§°ç´ æ•°ã€‚ä¸€ä¸ªå¤§äº1çš„è‡ªç„¶æ•°ï¼Œé™¤äº†1å’Œå®ƒè‡ªèº«å¤–ï¼Œä¸èƒ½è¢«å…¶ä»–è‡ªç„¶æ•°æ•´é™¤çš„æ•°å«åšè´¨æ•°ï¼›å¦åˆ™ç§°ä¸ºåˆæ•°ã€‚</li>
<li>0å’Œ1æ—¢ä¸æ˜¯è´¨æ•°ä¹Ÿä¸æ˜¯åˆæ•°ï¼Œæœ€å°çš„è´¨æ•°æ˜¯2</li>
</ul>
<ol>
<li>æœ€ç›´è§‚ï¼Œä½†æ•ˆç‡æœ€ä½çš„å†™æ³•</li>
</ol>
<p>è¿™é‡Œç‰¹æ®Šå¤„ç†äº†ä¸€ä¸‹å°äºç­‰äº3çš„æ•°ï¼Œå› ä¸ºå°äºç­‰äº3çš„è‡ªç„¶æ•°åªæœ‰2å’Œ3æ˜¯è´¨æ•°ã€‚</p>
<p>ç„¶åï¼Œæˆ‘ä»¬åªéœ€è¦ä»2å¼€å§‹ï¼Œä¸€ç›´åˆ°å°äºå…¶è‡ªèº«ï¼Œä¾æ¬¡åˆ¤æ–­èƒ½å¦è¢«næ•´é™¤å³å¯ï¼Œèƒ½å¤Ÿæ•´é™¤åˆ™ä¸æ˜¯è´¨æ•°ï¼Œå¦åˆ™æ˜¯è´¨æ•°ã€‚</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isPrime</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">3</span>) &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> n &gt; <span class="hljs-number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (n % i == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ä¼˜åŒ–</li>
</ol>
<p>æˆ‘ä»¬ç»§ç»­åˆ†æï¼Œå…¶å®è´¨æ•°è¿˜æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯å®ƒæ€»æ˜¯ç­‰äº 6x-1 æˆ–è€… 6x+1ï¼Œå…¶ä¸­ x æ˜¯å¤§äºç­‰äº1çš„è‡ªç„¶æ•°ã€‚</p>
<p>å¦‚ä½•è®ºè¯è¿™ä¸ªç»“è®ºå‘¢ï¼Œå…¶å®ä¸éš¾ã€‚é¦–å…ˆ 6x è‚¯å®šä¸æ˜¯è´¨æ•°ï¼Œå› ä¸ºå®ƒèƒ½è¢« 6 æ•´é™¤ï¼›å…¶æ¬¡ 6x+2 è‚¯å®šä¹Ÿä¸æ˜¯è´¨æ•°ï¼Œå› ä¸ºå®ƒè¿˜èƒ½è¢«2æ•´é™¤ï¼›ä¾æ¬¡ç±»æ¨ï¼Œ6x+3 è‚¯å®šèƒ½è¢« 3 æ•´é™¤ï¼›6x+4 è‚¯å®šèƒ½è¢« 2 æ•´é™¤ã€‚é‚£ä¹ˆï¼Œå°±åªæœ‰ 6x+1 å’Œ 6x+5 (å³ç­‰åŒäº6x-1) å¯èƒ½æ˜¯è´¨æ•°äº†ã€‚æ‰€ä»¥å¾ªç¯çš„æ­¥é•¿å¯ä»¥è®¾ä¸º 6ï¼Œç„¶åæ¯æ¬¡åªåˆ¤æ–­ 6 ä¸¤ä¾§çš„æ•°å³å¯ã€‚</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isPrime</span><span class="hljs-params">(<span class="hljs-keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> (num &lt;= <span class="hljs-number">3</span>) &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> num &gt; <span class="hljs-number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-comment">// ä¸åœ¨6çš„å€æ•°ä¸¤ä¾§çš„ä¸€å®šä¸æ˜¯è´¨æ•°</span></span><br><span class="line">    <span class="hljs-keyword">if</span> (num % <span class="hljs-number">6</span> != <span class="hljs-number">1</span> &amp;&amp; num % <span class="hljs-number">6</span> != <span class="hljs-number">5</span>) &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">int</span> sqrt = (<span class="hljs-keyword">int</span>) Math.sqrt(num);</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">5</span>; i &lt;= sqrt; i += <span class="hljs-number">6</span>) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (num % i == <span class="hljs-number">0</span> || num % (i + <span class="hljs-number">2</span>) == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>æ€§èƒ½å¯¹æ¯”</li>
</ol>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-comment">// Scanner in = new Scanner(System.in);</span></span><br><span class="line">        <span class="hljs-comment">// int n = in.nextInt();</span></span><br><span class="line">        <span class="hljs-comment">// in.close();</span></span><br><span class="line">        Stack&lt;Integer&gt; a = <span class="hljs-keyword">new</span> Stack&lt;&gt;(), b = <span class="hljs-keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        <span class="hljs-keyword">int</span> n = <span class="hljs-number">100000</span>;</span><br><span class="line">        <span class="hljs-keyword">long</span> s = System.currentTimeMillis(), e;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (f(i))</span><br><span class="line">                a.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">        e = System.currentTimeMillis();</span><br><span class="line">        System.out.println(e - s + <span class="hljs-string">" ms"</span>);</span><br><span class="line">        s = System.currentTimeMillis();</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (func(i))</span><br><span class="line">                b.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">        e = System.currentTimeMillis();</span><br><span class="line">        System.out.println(e - s + <span class="hljs-string">" ms"</span>);</span><br><span class="line">        System.gc();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">f</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">3</span>)</span><br><span class="line">            <span class="hljs-keyword">return</span> n &gt; <span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (n % i == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">func</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">3</span>)</span><br><span class="line">            <span class="hljs-keyword">return</span> n &gt; <span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">if</span> (n % <span class="hljs-number">6</span> != <span class="hljs-number">1</span> &amp;&amp; n % <span class="hljs-number">6</span> != <span class="hljs-number">5</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">int</span> tem = (<span class="hljs-keyword">int</span>) Math.sqrt(n);</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">5</span>; i &lt;= tem; i += <span class="hljs-number">6</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (n % i == <span class="hljs-number">0</span> || n % (i + <span class="hljs-number">2</span>) == <span class="hljs-number">0</span>)</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1392 ms</span><br><span class="line">5 ms</span><br></pre></td></tr></table></figure>
        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous">
            <a class="is-flex-grow has-text-black-ter" href="/categories/æ–‡ç« /page/5/">ä¸Šä¸€é¡µ</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/categories/æ–‡ç« /page/7/">ä¸‹ä¸€é¡µ</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link has-text-black-ter" href="/categories/æ–‡ç« /">1</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/categories/æ–‡ç« /page/5/">5</a></li>
            
            <li><a class="pagination-link is-current" href="/categories/æ–‡ç« /page/6/">6</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/categories/æ–‡ç« /page/7/">7</a></li>
            
        </ul>
    </nav>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left is-sticky">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="is-rounded" src="https://hsutimes.github.io/images/16530d7f26a413c2.png" alt="Time">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        Time
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Developer
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Earth, Solar System</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        æ–‡ç« 
                    </p>
                    <a href="/archives">
                        <p class="title has-text-weight-normal">
                            100
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        åˆ†ç±»
                    </p>
                    <a href="/categories">
                        <p class="title has-text-weight-normal">
                            6
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        æ ‡ç­¾
                    </p>
                    <a href="/tags">
                        <p class="title has-text-weight-normal">
                            123
                        </p>
                    </a>
                </div>
            </div>
        </nav>
        
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/hsutimes" target="_blank">
                å…³æ³¨æˆ‘</a>
        </div>
        
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Github" href="https://github.com/hsutimes">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Facebook" href="https://facebook.com">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Twitter" href="https://twitter.com/times26740863">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Dribbble" href="https://dribbble.com">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            é“¾æ¥
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://github.com/hsutimes" target="_blank">
                    <span class="level-left">
                        <span class="level-item">PPOffice</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">github.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://hsutimes.club" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Time</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">hsutimes.club</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>

    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                åˆ†ç±»
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/Others/">
            <span class="level-start">
                <span class="level-item">Others</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/äººå·¥æ™ºèƒ½/">
            <span class="level-start">
                <span class="level-item">äººå·¥æ™ºèƒ½</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">7</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/æ–‡ç« /">
            <span class="level-start">
                <span class="level-item">æ–‡ç« </span>
            </span>
            <span class="level-end">
                <span class="level-item tag">77</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/ç”Ÿæ´»/">
            <span class="level-start">
                <span class="level-item">ç”Ÿæ´»</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">6</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/ç¬”è¯•/">
            <span class="level-start">
                <span class="level-item">ç¬”è¯•</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/ç®—æ³•/">
            <span class="level-start">
                <span class="level-item">ç®—æ³•</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">7</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
    
        <div class="column-right-shadow is-hidden-widescreen is-sticky">
        
            
        
            <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            æœ€æ–°æ–‡ç« 
        </h3>
        
        <article class="media">
            
            <a href="/2019/11/20/PythonRobotics/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/2019/11/20/6090d560-0b82-11ea-9a59-8136f50345cc.png" alt="PythonRobotics">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-20T10:41:02.000Z">2019-11-20</time></div>
                    <a href="/2019/11/20/PythonRobotics/" class="title has-link-black-ter is-size-6 has-text-weight-normal">PythonRobotics</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/æ–‡ç« /">æ–‡ç« </a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/11/19/sqlflow/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/2019/11/19/6052aa40-0ada-11ea-888e-f9f900c5a0f9.png" alt="èµ‹äºˆ SQL AI èƒ½åŠ› SQLFlow">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-19T14:07:53.000Z">2019-11-19</time></div>
                    <a href="/2019/11/19/sqlflow/" class="title has-link-black-ter is-size-6 has-text-weight-normal">èµ‹äºˆ SQL AI èƒ½åŠ› SQLFlow</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/äººå·¥æ™ºèƒ½/">äººå·¥æ™ºèƒ½</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/11/18/target-detection-yolo/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/2019/11/18/cc0d9a30-0a01-11ea-b8d5-416bf8aed005.png" alt="ç›®æ ‡æ£€æµ‹YOLOv3">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-18T12:26:24.000Z">2019-11-18</time></div>
                    <a href="/2019/11/18/target-detection-yolo/" class="title has-link-black-ter is-size-6 has-text-weight-normal">ç›®æ ‡æ£€æµ‹YOLOv3</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/äººå·¥æ™ºèƒ½/">äººå·¥æ™ºèƒ½</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/11/17/quantum-computing-wave/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://www.qtumist.com/wp-content/uploads/2019/11/102419_Quantum_008_2500.jpg" alt="å“ˆä½›å¤§å­¦æ•™æˆé—®ä¸ç­”ï¼šè§£æé‡å­è®¡ç®—æµªæ½®">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-17T14:39:05.000Z">2019-11-17</time></div>
                    <a href="/2019/11/17/quantum-computing-wave/" class="title has-link-black-ter is-size-6 has-text-weight-normal">å“ˆä½›å¤§å­¦æ•™æˆé—®ä¸ç­”ï¼šè§£æé‡å­è®¡ç®—æµªæ½®</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/æ–‡ç« /">æ–‡ç« </a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/11/16/There are no technology-driven companies in the world/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/2019/11/16/553b0d80-082f-11ea-90c6-4101d673f67d.png" alt="ä¸–ç•Œä¸Šæ²¡æœ‰æŠ€æœ¯é©±åŠ¨å‹å…¬å¸">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-16T05:05:50.000Z">2019-11-16</time></div>
                    <a href="/2019/11/16/There are no technology-driven companies in the world/" class="title has-link-black-ter is-size-6 has-text-weight-normal">ä¸–ç•Œä¸Šæ²¡æœ‰æŠ€æœ¯é©±åŠ¨å‹å…¬å¸</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/æ–‡ç« /">æ–‡ç« </a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right is-sticky">
    
        
    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            æœ€æ–°æ–‡ç« 
        </h3>
        
        <article class="media">
            
            <a href="/2019/11/20/PythonRobotics/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/2019/11/20/6090d560-0b82-11ea-9a59-8136f50345cc.png" alt="PythonRobotics">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-20T10:41:02.000Z">2019-11-20</time></div>
                    <a href="/2019/11/20/PythonRobotics/" class="title has-link-black-ter is-size-6 has-text-weight-normal">PythonRobotics</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/æ–‡ç« /">æ–‡ç« </a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/11/19/sqlflow/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/2019/11/19/6052aa40-0ada-11ea-888e-f9f900c5a0f9.png" alt="èµ‹äºˆ SQL AI èƒ½åŠ› SQLFlow">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-19T14:07:53.000Z">2019-11-19</time></div>
                    <a href="/2019/11/19/sqlflow/" class="title has-link-black-ter is-size-6 has-text-weight-normal">èµ‹äºˆ SQL AI èƒ½åŠ› SQLFlow</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/äººå·¥æ™ºèƒ½/">äººå·¥æ™ºèƒ½</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/11/18/target-detection-yolo/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/2019/11/18/cc0d9a30-0a01-11ea-b8d5-416bf8aed005.png" alt="ç›®æ ‡æ£€æµ‹YOLOv3">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-18T12:26:24.000Z">2019-11-18</time></div>
                    <a href="/2019/11/18/target-detection-yolo/" class="title has-link-black-ter is-size-6 has-text-weight-normal">ç›®æ ‡æ£€æµ‹YOLOv3</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/äººå·¥æ™ºèƒ½/">äººå·¥æ™ºèƒ½</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/11/17/quantum-computing-wave/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://www.qtumist.com/wp-content/uploads/2019/11/102419_Quantum_008_2500.jpg" alt="å“ˆä½›å¤§å­¦æ•™æˆé—®ä¸ç­”ï¼šè§£æé‡å­è®¡ç®—æµªæ½®">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-17T14:39:05.000Z">2019-11-17</time></div>
                    <a href="/2019/11/17/quantum-computing-wave/" class="title has-link-black-ter is-size-6 has-text-weight-normal">å“ˆä½›å¤§å­¦æ•™æˆé—®ä¸ç­”ï¼šè§£æé‡å­è®¡ç®—æµªæ½®</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/æ–‡ç« /">æ–‡ç« </a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/11/16/There are no technology-driven companies in the world/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/2019/11/16/553b0d80-082f-11ea-90c6-4101d673f67d.png" alt="ä¸–ç•Œä¸Šæ²¡æœ‰æŠ€æœ¯é©±åŠ¨å‹å…¬å¸">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-16T05:05:50.000Z">2019-11-16</time></div>
                    <a href="/2019/11/16/There are no technology-driven companies in the world/" class="title has-link-black-ter is-size-6 has-text-weight-normal">ä¸–ç•Œä¸Šæ²¡æœ‰æŠ€æœ¯é©±åŠ¨å‹å…¬å¸</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/æ–‡ç« /">æ–‡ç« </a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="Time" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 times&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                <br>
                <span id="busuanzi_container_site_uv">
                å…±<span id="busuanzi_value_site_uv">0</span>ä¸ªè®¿å®¢
                </span>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/hsutimes/hsutimes.github.io">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>

<script>
var IcarusThemeSettings = {
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>



    
    
<script src="/js/animation.js"></script>

    
    
<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>

    
    
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>

    
    <script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>
    
    
<a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>

    
    
    
    
    
    
    
    
    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'æ–‡ç« ',
                PAGES: 'é¡µé¢',
                CATEGORIES: 'åˆ†ç±»',
                TAGS: 'æ ‡ç­¾',
                UNTITLED: '(æ— æ ‡é¢˜)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>