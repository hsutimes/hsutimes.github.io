<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 3.9.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>标签: Java - Time</title>


    <meta name="description" content="blog">
<meta name="keywords" content="hsutimes">
<meta property="og:type" content="website">
<meta property="og:title" content="Time">
<meta property="og:url" content="https://blog.hsutimes.com/tags/Java/index.html">
<meta property="og:site_name" content="Time">
<meta property="og:description" content="blog">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://blog.hsutimes.com/images/og_image.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Time">
<meta name="twitter:description" content="blog">
<meta name="twitter:image" content="https://blog.hsutimes.com/images/og_image.png">
<meta name="twitter:site" content="https://twitter.com/times26740863">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134224598-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134224598-1');
</script>

    
    
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    <script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="Time" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/categories">Categories</a>
                
                <a class="navbar-item"
                href="/tags">Tags</a>
                
                <a class="navbar-item"
                href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/hsutimes/hsutimes.github.io">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="搜索" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main"><div class="card">
    <div class="card-content">
        <nav class="breadcrumb" aria-label="breadcrumbs">
        <ul>
            <li><a href="/tags">标签</a></li>
            <li class="is-active"><a href="#" aria-current="page">Java</a></li>
        </ul>
        </nav>
    </div>
</div>

    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-11-08T15:45:34.000Z">2019-11-08</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 分钟 读完 (大约 478 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/11/08/javamelody/">javamelody</a>
            
        </h1>
        <div class="content">
            <h1 id="JavaMelody-monitoring-of-JavaEE-applications"><a href="#JavaMelody-monitoring-of-JavaEE-applications" class="headerlink" title="JavaMelody : monitoring of JavaEE applications"></a>JavaMelody : monitoring of JavaEE applications</h1><p><img src="/images/2019/11/08/bd4c8d00-023e-11ea-97a2-eb10e3960fff.png" alt="image.png"></p>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2019/11/08/javamelody/#more">阅读更多</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-22T13:17:32.000Z">2019-10-22</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 分钟 读完 (大约 688 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/22/weilibipei/">weilibipei</a>
            
        </h1>
        <div class="content">
            <h1 id="违例匹配"><a href="#违例匹配" class="headerlink" title="违例匹配"></a>违例匹配</h1><p>“掷”出一个违例后，违例控制系统会按当初编写的顺序搜索“最接近”的控制器。一旦找到相符的控制器，就认为违例已得到控制，不再进行更多的搜索工作。</p>
<p>在违例和它的控制器之间，并不需要非常精确的匹配。一个衍生类对象可与基础类的一个控制器相配，如下例所示：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">//: Human.java</span><br><span class="line">// Catching Exception Hierarchies</span><br><span class="line"></span><br><span class="line">class Annoyance extends Exception &#123;&#125;</span><br><span class="line">class Sneeze extends Annoyance &#123;&#125;</span><br><span class="line"></span><br><span class="line">public class Human &#123;</span><br><span class="line">  public static void main(String[] args) &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">      throw new Sneeze();</span><br><span class="line">    &#125; catch(Sneeze s) &#123;</span><br><span class="line">      System.out.println(&quot;Caught Sneeze&quot;);</span><br><span class="line">    &#125; catch(Annoyance a) &#123;</span><br><span class="line">      System.out.println(&quot;Caught Annoyance&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125; ///:~</span><br></pre></td></tr></table></figure>

<p>Sneeze违例会被相符的第一个catch从句捕获。当然，这只是第一个。然而，假如我们删除第一个catch从句：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">  throw new Sneeze();</span><br><span class="line">&#125; catch(Annoyance a) &#123;</span><br><span class="line">  System.out.println(&quot;Caught Annoyance&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>那么剩下的catch从句依然能够工作，因为它捕获的是Sneeze的基础类。换言之，catch(Annoyance e)能捕获一个Annoyance以及从它衍生的任何类。这一点非常重要，因为一旦我们决定为一个方法添加更多的违例，而且它们都是从相同的基础类继承的，那么客户程序员的代码就不需要更改。至少能够假定它们捕获的是基础类。</p>
<p>若将基础类捕获从句置于第一位，试图“屏蔽”衍生类违例，就象下面这样：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">  throw new Sneeze();</span><br><span class="line">&#125; catch(Annoyance a) &#123;</span><br><span class="line">  System.out.println(&quot;Caught Annoyance&quot;);</span><br><span class="line">&#125; catch(Sneeze s) &#123;</span><br><span class="line">  System.out.println(&quot;Caught Sneeze&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>则编译器会产生一条出错消息，因为它发现永远不可能抵达Sneeze捕获从句。</p>
<p>9.8.1 违例准则</p>
<p>用违例做下面这些事情：</p>
<p>(1) 解决问题并再次调用造成违例的方法。</p>
<p>(2) 平息事态的发展，并在不重新尝试方法的前提下继续。</p>
<p>(3) 计算另一些结果，而不是希望方法产生的结果。</p>
<p>(4) 在当前环境中尽可能解决问题，以及将相同的违例重新“掷”出一个更高级的环境。</p>
<p>(5) 在当前环境中尽可能解决问题，以及将不同的违例重新“掷”出一个更高级的环境。</p>
<p>(6) 中止程序执行。</p>
<p>(7) 简化编码。若违例方案使事情变得更加复杂，那就会令人非常烦恼，不如不用。</p>
<p>(8) 使自己的库和程序变得更加安全。这既是一种“短期投资”（便于调试），也是一种“长期投资”（改善应用程序的健壮性）</p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-15T06:58:25.000Z">2019-10-15</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    15 分钟 读完 (大约 2239 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/15/Computer-network-books/">Computer-network-books</a>
            
        </h1>
        <div class="content">
            <h1 id="网络安全从业者书单推荐"><a href="#网络安全从业者书单推荐" class="headerlink" title="网络安全从业者书单推荐"></a>网络安全从业者书单推荐</h1><h2 id="一、计算机及系统原理"><a href="#一、计算机及系统原理" class="headerlink" title="一、计算机及系统原理"></a>一、计算机及系统原理</h2><p>《编码：隐匿在计算机软硬件背后的语言》</p>
<p>作者：（美国）Charles Petzold  </p>
<p>《深入理解计算机系统》</p>
<p>作者：（美国）Randal E. Bryant</p>
<p>《深入解析windows操作系统》</p>
<p>作者：（美国）Mark E .Russinovich ，David A.Solomon</p>
<p>《Linux内核设计与实现》</p>
<p>作者：（美国）Robert Love</p>
<p>《深入理解android内核设计思想》</p>
<p>作者：林学森</p>
<p>《Android系统源代码情景分析》</p>
<p>作者：罗升阳</p>
<p>《深入解析Mac OS X &amp; iOS操作系统》</p>
<p>作者：（美国）Jonathan Levin</p>
<p>《深入理解LINUX内核》</p>
<p>作者：（美国）Daniel P.Bovet</p>
<p>《代码揭秘：从C/C++的角度探秘计算机系统》</p>
<p>作者：左飞</p>
<p>《Android Dalvik虚拟机结构及机制剖析》（共2卷）</p>
<p>作者：吴艳霞，张国印</p>
<p>《最强Android书：架构大剖析》</p>
<p>作者：（美国）Jonathan Levin</p>
<h2 id="二、编程开发"><a href="#二、编程开发" class="headerlink" title="二、编程开发"></a>二、编程开发</h2><p>1、系统平台</p>
<p>（1）Windows</p>
<p>《Windows程序设计》</p>
<p>作者：（美国）Charles Petzold </p>
<p>《Windows核心编程》</p>
<p>作者：（美国）Jeffrey Richter</p>
<p>《Windows环境下32位汇编语言程序设计》</p>
<p>作者：罗云彬</p>
<p>《Windows驱动开发技术详解》</p>
<p>作者：张帆，史彩成</p>
<p>（2）Linux / Unix</p>
<p>《UNIX环境高级编程》</p>
<p>作者：（美国）W.Richard Stevens</p>
<p>《Linux程序设计》</p>
<p>作者：（美国）Nell Matthew，Richard Stones</p>
<p>《鸟哥的Linux私房菜》</p>
<p>作者：鸟哥（蔡德明）</p>
<p>《Linux设备驱动程序》</p>
<p>作者：（美国）Jonahan Corbet</p>
<p>（3）Mac OS X / iOS</p>
<p>《iOS编程》</p>
<p>作者：（美国）Joe Conway，Aaron Hillegass</p>
<p>《OS X与iOS内核编程》</p>
<p>作者：（澳大利亚）Ole Henry Halvorsen，Douglas Clarke</p>
<p>（4）Android</p>
<p>《第一行代码 Android》</p>
<p>作者：郭霖</p>
<p>《Android编程权威指南》</p>
<p>作者：（美国）Bill Phillips，Brian Hardy</p>
<p>2、编程语言</p>
<p>（1）C</p>
<p>《C程序设计语言》</p>
<p>作者：（美国）Brian W. Kernighan，Dennis M. Ritchie </p>
<p>《C Primer Plus》</p>
<p>作者：（美国）Stephen Prata</p>
<p>《C和指针》</p>
<p>作者：（美国）Kenneth A．Reek</p>
<p>《C陷阱与缺陷》</p>
<p>作者：（美国）Andrew Koenig</p>
<p>《C专家编程》</p>
<p>作者：（美国）Perter VanDer Linden</p>
<p>（2）C++</p>
<p>《C++ Primer Plus》</p>
<p>作者：（美国）Stephen Prata</p>
<p>《C++ Primer》</p>
<p>作者：（美国）Stanley B. Lippman，Josée LaJoie，Barbara E. Moo</p>
<p>（3）ASM</p>
<p>《Intel 汇编语言程序设计》</p>
<p>作者：（美国）Kip R.Irvine</p>
<p>《Intel 开发手册》</p>
<p>（4）JAVA</p>
<p>《JAVA核心技术》</p>
<p>作者：（美国）Cay S. Horstmann</p>
<p>《Java编程思想》</p>
<p>作者：（美国）Bruce Eckel</p>
<p>（5）JavaScript</p>
<p>《JavaScript DOM编程艺术》</p>
<p>作者：（英国）Jeremy Keith，（加拿大）Jeffrey Sambells</p>
<p>《JavaScript高级程序设计》</p>
<p>作者：（美国）Nicholas C.Zakas</p>
<p>（6）Python</p>
<p>《Python核心编程》</p>
<p>作者：（美国）Wesley Chun</p>
<p>（7）Shell</p>
<p>《Linux Shell脚本攻略》</p>
<p>作者：（印度）Sarath Lakshman</p>
<p>3、调试技术</p>
<p>《软件调试》</p>
<p>作者：张银奎</p>
<p>《Debug Hacks》</p>
<p>作者：（日本）吉冈弘隆，大和一洋，大岩尚宏，安部东洋，吉田俊辅</p>
<p>《格蠹汇编：软件调试案例集锦》</p>
<p>作者：张银奎</p>
<p>4、数据结构与算法</p>
<p>《数据结构与算法分析：C语言描述》</p>
<p>作者：（美国）Mark Allen Weiss</p>
<p>《算法导论》</p>
<p>作者：（美国）Thomas H.Cormen，Charles E.Leiserson，Ronald L.Rivest</p>
<p>5、编译原理</p>
<p>《编译系统透视：图解编译原理》</p>
<p>作者：新设计团队</p>
<p>《编译原理》</p>
<p>作者：（美国）Alfred V.Aho，Monica S.Lam，Ravi Sethi，Jeffrey D.Ullman</p>
<p>6、其他</p>
<p>《编程高手箴言》</p>
<p>作者：梁肇新</p>
<p>《代码整洁之道》</p>
<p>作者：（美国）Robert C.Martin</p>
<p>《代码大全》</p>
<p>作者：（美国）Steve McConnell</p>
<h2 id="三、网络技术"><a href="#三、网络技术" class="headerlink" title="三、网络技术"></a>三、网络技术</h2><p>《TCP/IP详解 卷1：协议》</p>
<p>作者：（美国）Kevin R. Fall，W.Richard Stevens</p>
<p>《Wireshark数据包分析实战》</p>
<p>作者：（美国）Chris Sanders</p>
<h2 id="四、安全技术"><a href="#四、安全技术" class="headerlink" title="四、安全技术"></a>四、安全技术</h2><p>1、安全开发</p>
<p>《天书夜读：从汇编语言到Windows内核编程》</p>
<p>作者：谭文，邵坚磊</p>
<p>《Rootkit：系统灰色地带的潜伏者》</p>
<p>作者：（美国）Bill Blunden</p>
<p>《Rootkits——Windows内核的安全防护》</p>
<p>作者：（美国）Greg Hoglund，James Butler</p>
<p>《BSD ROOTKIT 设计–内核黑客指引书》</p>
<p>作者：（美国）Joseph Kong</p>
<p>《寒江独钓：Windows内核安全编程》</p>
<p>作者：谭文，杨潇，邵坚磊</p>
<p>2、逆向工程</p>
<p>《加密与解密》</p>
<p>作者：段钢</p>
<p>《恶意软件分析诀窍与工具箱——对抗“流氓”软件的技术与利器》</p>
<p>作者：（美国）Michael.Hale.Ligh，Steven Adair</p>
<p>《C++反汇编与逆向分析技术揭秘》</p>
<p>作者：钱林松，赵海旭</p>
<p>《IDA Pro权威指南》</p>
<p>作者：（美国）Chris Eagle</p>
<p>《逆向工程权威指南》</p>
<p>作者：（乌克兰）Dennis Yurichev</p>
<p>《Android软件安全与逆向分析》</p>
<p>作者：丰生强</p>
<p>《macOS软件安全与逆向分析》</p>
<p>作者：丰生强、 邢俊杰</p>
<p>《iOS应用逆向工程（第2版）》</p>
<p>作者：沙梓社，吴航</p>
<p>3、Web安全</p>
<p>《黑客攻防技术宝典：Web实战篇》</p>
<p>作者：（美国）Dafydd Stuttard，Marcus Pinto</p>
<p>《白帽子讲Web安全》</p>
<p>作者：吴翰清</p>
<p>《Web安全测试》</p>
<p>作者：（美国）Paco Hope，Ben Waltller</p>
<p>《Web前端黑客技术揭秘》</p>
<p>作者：钟晨鸣，徐少培</p>
<p>《精通脚本黑客》</p>
<p>作者：曾云好</p>
<p>4、软件 / 系统安全</p>
<p>《0day安全：软件漏洞分析技术》</p>
<p>作者：王清</p>
<p>《漏洞战争：软件漏洞分析精要》</p>
<p>作者：林桠泉</p>
<p>《捉虫日记》</p>
<p>作者：（德国）Tobias Klein</p>
<p>《内核漏洞的利用与防范》</p>
<p>作者：（美国）Enrico Perla，Massimiliano Oldani</p>
<p>《Fuzzing for Software Security Testing and Quality Assurance（第二版）》</p>
<p>作者：（美国）Charlie Miller</p>
<p>《iOS Hacker’s Handbook》</p>
<p>作者：（美国）Charlie Miller</p>
<p>《The Mac Hacker’S Handbook》</p>
<p>作者：（美国）Charlie Miller</p>
<p>《Android安全攻防权威指南》</p>
<p>作者：（美国）Joshua J.Drake，（西班牙）Pau Oliva Fora，（美国）Collin Mulliner</p>
<p>《The Art of Software Security Assessment: Identifying and Preventing Software Vulnerabilities》</p>
<p>作者：（美国）Mark Dowd</p>
<p>《Android安全攻防实战》</p>
<p>作者：（美国）Keith Makan，Scott Alexander-Bown</p>
<p>《模糊测试：强制性安全漏洞发掘》</p>
<p>作者：（美国）Michael Sutton</p>
<p>《Exploit 编写系列教程》</p>
<p>作者：（美国）Corelan Team</p>
<p>《MacOS and iOS Internals, Volume III: Security &amp; Insecurity》</p>
<p>作者：（美国）Jonathan Levin</p>
<p>《灰帽黑客（第4版）：正义黑客的道德规范、渗透测试、攻击方法和漏洞分析技术》</p>
<p>作者：（美国）Allen Harper，Shon Harris</p>
<p>《威胁建模：设计和交付更安全的软件》</p>
<p>作者：（美国）Adam Shostack</p>
<p>5、无线电安全</p>
<p>《无线电安全攻防大揭秘》</p>
<p>作者：杨卿，黄琳</p>
<p>6、硬件安全</p>
<p>《硬件安全攻防大揭秘》</p>
<p>作者：简云定，杨卿</p>
<p>7、汽车安全</p>
<p>《智能汽车安全攻防大揭秘》</p>
<p>作者：李均，杨卿，曾颖涛，郑玉伟</p>
<p>《汽车黑客大曝光》</p>
<p>作者：（美国）Craig Smith</p>
<h2 id="五、软技能"><a href="#五、软技能" class="headerlink" title="五、软技能"></a>五、软技能</h2><p>《软技能：代码之外的生存指南》</p>
<p>作者：（美国）John Sonmez</p>
<p>《程序员健康指南》</p>
<p>作者：（美国）Joe Kutner</p>
<p>《影响力》</p>
<p>作者：（美国）Robert B.Cialdini</p>
<p>《思考，快与慢》</p>
<p>作者：（美国）Daniel Kahneman</p>
<p>《写给大家看的设计书》</p>
<p>作者：（美国）Robin Williams</p>
<p>《听故事，学PPT设计》</p>
<p>作者：杨雪</p>
<p>《横向领导力》</p>
<p>作者：（美国）Roger Fisher，Alan Sharp</p>
<p>《职业情商》</p>
<p>作者：张新越</p>
<p>《程序员的成长课》</p>
<p>作者：安晓辉，周鹏</p>
<p>《高效演讲：斯坦福最受欢迎的沟通课》</p>
<p>作者：（美国）Peter Meyers，Shann Nix</p>
<p>《程序员的英语》</p>
<p>作者：（韩国）朴栽浒，李海永</p>
<p>《少有人走的路》</p>
<p>作者：（美国）斯科特·派克</p>
<p>《异类：不一样的成功启示录》</p>
<p>作者：（加拿大）马尔科姆·格拉德威尔</p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-13T05:06:51.000Z">2019-10-13</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    12 分钟 读完 (大约 1846 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/13/jna/">jna</a>
            
        </h1>
        <div class="content">
            <p><img src="https://github.com/java-native-access/jna/raw/master/www/images/jnalogo.jpg" alt="Java Native Access - JNA" title="Java Native Access - JNA"></p>
<p><a href="https://travis-ci.org/java-native-access/jna" target="_blank" rel="noopener"><img src="https://travis-ci.org/java-native-access/jna.svg?branch=master" alt="Build Status"></a><br><a href="https://ci.appveyor.com/project/dblock/jna-gsxuq/branch/master" target="_blank" rel="noopener"><img src="https://ci.appveyor.com/api/projects/status/j6vmpjrw5iktb8iu/branch/master?svg=true" alt="Build status"></a></p>
<h1 id="Java-Native-Access-JNA"><a href="#Java-Native-Access-JNA" class="headerlink" title="Java Native Access (JNA)"></a>Java Native Access (JNA)</h1><p>The definitive JNA reference (including an overview and usage details) is in the <a href="http://java-native-access.github.io/jna/5.4.0/javadoc/" target="_blank" rel="noopener">JavaDoc</a>.  Please read the <a href="http://java-native-access.github.io/jna/5.4.0/javadoc/overview-summary.html#overview_description" target="_blank" rel="noopener">overview</a>.  Questions, comments, or exploratory conversations should begin on the <a href="http://groups.google.com/group/jna-users" target="_blank" rel="noopener">mailing list</a>, although you may find it easier to find answers to already-solved problems on <a href="http://stackoverflow.com/questions/tagged/jna" target="_blank" rel="noopener">StackOverflow</a>.</p>
<p>JNA provides Java programs easy access to native shared libraries without writing anything but Java code - no JNI or native code is required. This functionality is comparable to Windows’ Platform/Invoke and Python’s ctypes.</p>
<p>JNA allows you to call directly into native functions using natural Java method invocation. The Java call looks just like the call does in native code. Most calls require no special handling or configuration; no boilerplate or generated code is required.</p>
<p>JNA uses a small JNI library stub to dynamically invoke native code. The developer uses a Java interface to describe functions and structures in the target native library. This makes it quite easy to take advantage of native platform features without incurring the high overhead of configuring and building JNI code for multiple platforms.  Read this <a href="https://github.com/java-native-access/jna/blob/master/www/FunctionalDescription.md" target="_blank" rel="noopener">more in-depth description</a>.</p>
<p>While significant attention has been paid to performance, correctness and ease of use take priority.</p>
<p>In addition, JNA includes a platform library with many native functions already mapped as well as a set of utility interfaces that simplify native access.</p>
<h1 id="Projects-Using-JNA"><a href="#Projects-Using-JNA" class="headerlink" title="Projects Using JNA"></a>Projects Using JNA</h1><p>JNA is a mature library with dozens of contributors and hundreds of commercial and non-commercial projects that use it.  If you’re using JNA, feel free to <a href="http://groups.google.com/group/jna-users" target="_blank" rel="noopener">tell us about it</a>.  Include some details about your company, project name, purpose and size and tell us how you use the library.</p>
<ul>
<li><a href="http://cassandra.apache.org" target="_blank" rel="noopener">Apache Cassandra</a>: Large-scale NoSQL data store.</li>
<li><a href="https://github.com/iterate-ch/rococoa" target="_blank" rel="noopener">Rococoa</a>: Java bindings to the Mac OS X Cocoa framework, by Duncan McGregor.</li>
<li><a href="http://kenai.com/projects/jna-posix" target="_blank" rel="noopener">jna-posix</a>: Common POSIX Functions for Java.</li>
<li><a href="https://github.com/nativelibs4java/JNAerator" target="_blank" rel="noopener">JNAerator</a>: Pronounced “generator”, auto-generates JNA mappings from C headers, by Olivier Chafik.</li>
<li><a href="http://fmj.sf.net" target="_blank" rel="noopener">Freedom for Media in Java</a> by Ken Larson/Dieter Krachtus.</li>
<li><a href="http://code.google.com/p/gstreamer-java" target="_blank" rel="noopener">gstreamer for Java</a> by Wayne Meissner.</li>
<li><a href="http://trac.videolan.org/jvlc/" target="_blank" rel="noopener">Videolan</a>: JVLC Java Multimedia Library.</li>
<li><a href="http://svnkit.com" target="_blank" rel="noopener">SVNKit</a>: Pure Java Subversion client library.</li>
<li><a href="http://omegat.sf.net" target="_blank" rel="noopener">OmegaT Computer-Aided Translation</a>.</li>
<li><a href="http://jetbrains.com" target="_blank" rel="noopener">IntelliJ IDEA</a> by JetBrains.</li>
<li><a href="http://netbeans.org" target="_blank" rel="noopener">NetBeans IDE</a>.</li>
<li><a href="http://www.athenabackup.com" target="_blank" rel="noopener">Athena Backup</a> by Doug Patriarche.</li>
<li><a href="http://www.filebot.net" target="_blank" rel="noopener">FileBot Media Renamer</a> by Reinhard Pointner.</li>
<li><a href="https://launchpad.net/libusb4j" target="_blank" rel="noopener">USB for Java</a> by Mario Boikov.</li>
<li><a href="https://github.com/dblock/waffle" target="_blank" rel="noopener">Waffle</a>: Enables SSO on Windows in Java applications, by Daniel Doubrovkine.</li>
<li><a href="https://github.com/protonail/leveldb-jna" target="_blank" rel="noopener">leveldb-jna</a>: Cross-platform JNA based adapter for <a href="https://github.com/google/leveldb" target="_blank" rel="noopener">LevelDB</a> (used in <a href="http://protonail.com" target="_blank" rel="noopener">Keylord</a>).</li>
<li><a href="https://github.com/protonail/bolt-jna" target="_blank" rel="noopener">bolt-jna</a>: Cross-platform JNA based adapter for <a href="https://github.com/boltdb/bolt" target="_blank" rel="noopener">Bolt</a> (used in <a href="http://protonail.com" target="_blank" rel="noopener">Keylord</a>). It is show how to use JNA for binding to Go library.</li>
<li><a href="https://github.com/kotlin-graphics/openvr" target="_blank" rel="noopener">JVM OpenVR Bindings</a>.</li>
<li><a href="https://ignite.apache.org/" target="_blank" rel="noopener">Apache Ignite</a>: Direct IO plugin</li>
<li><a href="https://github.com/klehmann/domino-jna" target="_blank" rel="noopener">Domino JNA</a>: Cross-platform access to HCL Notes/Domino C API methods from Java</li>
</ul>
<p><em>Interesting Investigations/Experiments</em></p>
<ul>
<li><a href="http://epirsch.blogspot.com/2008/02/jna-love-nxt.html" target="_blank" rel="noopener">Drive Lego Mindstorm NXT</a> by Emmanuel Pirsch.</li>
<li><a href="http://ochafik.free.fr/blog/?p=98" target="_blank" rel="noopener">Detect User Inactivity</a> by Olivier Chafik.</li>
<li><a href="http://callino.cc/jiaxcapplet/" target="_blank" rel="noopener">IAXClient Applet</a> provides VOIP for Java, by Wolfgang Pichler.</li>
</ul>
<p>There are also a number of examples and projects within the <code>contrib</code> directory of the JNA project itself.</p>
<h1 id="Supported-Platforms"><a href="#Supported-Platforms" class="headerlink" title="Supported Platforms"></a>Supported Platforms</h1><p>JNA will build on most linux-like platforms with a reasonable set of GNU tools and a JDK.  See the native <a href="https://raw.githubusercontent.com/java-native-access/jna/master/native/Makefile" target="_blank" rel="noopener">Makefile</a> for native configurations that have been built and tested.  If your platform is supported by <a href="http://en.wikipedia.org/wiki/Libffi" target="_blank" rel="noopener">libffi</a>, then chances are you can build JNA for it.</p>
<p>Pre-built platform support may be found <a href="https://github.com/java-native-access/jna/tree/master/lib/native" target="_blank" rel="noopener">here</a>.</p>
<h1 id="Download"><a href="#Download" class="headerlink" title="Download"></a>Download</h1><p>Version 5.4.0</p>
<h2 id="JNA"><a href="#JNA" class="headerlink" title="JNA"></a>JNA</h2><p><a href="https://search.maven.org/artifact/net.java.dev.jna/jna/5.4.0/jar" target="_blank" rel="noopener"><img src="https://img.shields.io/maven-central/v/net.java.dev.jna/jna.svg?label=Maven%20Central" alt="Maven Central"></a>&nbsp;<a href="http://repo1.maven.org/maven2/net/java/dev/jna/jna/5.4.0/jna-5.4.0.jar" target="_blank" rel="noopener">jna-5.4.0.jar</a></p>
<p>This is the core artifact of JNA and contains only the binding library and the<br>core helper classes.</p>
<h2 id="JNA-Platform"><a href="#JNA-Platform" class="headerlink" title="JNA Platform"></a>JNA Platform</h2><p><a href="https://search.maven.org/artifact/net.java.dev.jna/jna-platform/5.4.0/jar" target="_blank" rel="noopener"><img src="https://img.shields.io/maven-central/v/net.java.dev.jna/jna-platform.svg?label=Maven%20Central" alt="Maven Central"></a>&nbsp;<a href="http://repo1.maven.org/maven2/net/java/dev/jna/jna-platform/5.4.0/jna-platform-5.4.0.jar" target="_blank" rel="noopener">jna-platform-5.4.0.jar</a></p>
<p>This artifact holds cross-platform mappings and mappings for a number of commonly used platform<br>functions, including a large number of Win32 mappings as well as a set of utility classes<br>that simplify native access. The code is tested and the utility interfaces ensure that<br>native memory management is taken care of correctly.</p>
<p>See <a href="https://github.com/java-native-access/jna/blob/master/www/PlatformLibrary.md" target="_blank" rel="noopener">PlatformLibrary.md</a> for details.</p>
<h1 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h1><ul>
<li>Automatic mapping from Java to native functions, with simple mappings for all primitive data types</li>
<li>Runs on most platforms which support Java</li>
<li>Automatic conversion between C and Java strings, with customizable encoding/decoding</li>
<li>Structure and Union arguments/return values, by reference and by value</li>
<li>Function Pointers, (callbacks from native code to Java) as arguments and/or members of a struct</li>
<li>Auto-generated Java proxies for native function pointers</li>
<li>By-reference (pointer-to-type) arguments</li>
<li>Java array and NIO Buffer arguments (primitive types and pointers) as pointer-to-buffer</li>
<li>Nested structures and arrays</li>
<li>Wide (wchar_t-based) strings</li>
<li>Native long support (32- or 64-bit as appropriate)</li>
<li><a href="https://github.com/java-native-access/jna/tree/master/contrib" target="_blank" rel="noopener">Demo applications/examples</a></li>
<li>Supported on 1.4 or later JVMs, including JavaME (earlier VMs may work with stubbed NIO support)</li>
<li>Customizable marshalling/unmarshalling (argument and return value conversions)</li>
<li>Customizable mapping from Java method to native function name, and customizable invocation to simulate C preprocessor function macros</li>
<li>Support for automatic Windows ASCII/UNICODE function mappings</li>
<li>Varargs support</li>
<li>Type-safety for native pointers</li>
<li>VM crash protection (optional)</li>
<li>Optimized direct mapping for high-performance applications.</li>
<li>COM support for early and late binding.</li>
<li>COM/Typelib java code generator.</li>
</ul>
<h1 id="Community-and-Support"><a href="#Community-and-Support" class="headerlink" title="Community and Support"></a>Community and Support</h1><p>All questions should be posted to the <a href="http://groups.google.com/group/jna-users" target="_blank" rel="noopener">jna-users Google group</a>. Issues can be submitted <a href="https://github.com/java-native-access/jna/issues" target="_blank" rel="noopener">here on Github</a>.</p>
<p>When posting to the mailing list, please include the following:</p>
<ul>
<li>What OS/CPU/architecture you’re using (e.g. Windows 7 64-bit)</li>
<li>Reference to your native interface definitions (i.e. C headers), if available</li>
<li>The JNA mapping you’re trying to use</li>
<li>VM crash logs, if any</li>
<li>Example native usage, and your attempted Java usage</li>
</ul>
<p>It’s nearly impossible to indicate proper Java usage when there’s no native<br>reference to work from.</p>
<p>For commercial support, please contact twalljava [at] java [dot] net.</p>
<h1 id="Using-the-Library"><a href="#Using-the-Library" class="headerlink" title="Using the Library"></a>Using the Library</h1><ul>
<li><a href="https://github.com/java-native-access/jna/blob/master/www/GettingStarted.md" target="_blank" rel="noopener">Getting Started</a></li>
<li><a href="https://github.com/java-native-access/jna/blob/master/www/FunctionalDescription.md" target="_blank" rel="noopener">Functional Description</a>.</li>
<li><a href="https://github.com/java-native-access/jna/blob/master/www/Mappings.md" target="_blank" rel="noopener">Mapping between Java and Native</a></li>
<li><a href="https://github.com/java-native-access/jna/blob/master/www/PointersAndArrays.md" target="_blank" rel="noopener">Using Pointers and Arrays</a></li>
<li><a href="https://github.com/java-native-access/jna/blob/master/www/StructuresAndUnions.md" target="_blank" rel="noopener">Using Structures and Unions</a></li>
<li><a href="https://github.com/java-native-access/jna/blob/master/www/ByRefArguments.md" target="_blank" rel="noopener">Using By-Reference Arguments</a></li>
<li><a href="https://github.com/java-native-access/jna/blob/master/www/CustomMappings.md" target="_blank" rel="noopener">Customization of Type Mapping</a></li>
<li><a href="https://github.com/java-native-access/jna/blob/master/www/CallbacksAndClosures.md" target="_blank" rel="noopener">Callbacks/Function Pointers/Closures</a></li>
<li><a href="https://github.com/java-native-access/jna/blob/master/www/DynamicallyTypedLanguages.md" target="_blank" rel="noopener">Dynamically Typed Languages (JRuby/Jython)</a></li>
<li><a href="https://github.com/java-native-access/jna/blob/master/www/PlatformLibrary.md" target="_blank" rel="noopener">Platform Library</a></li>
<li><a href="https://github.com/java-native-access/jna/blob/master/www/DirectMapping.md" target="_blank" rel="noopener">Direct Method Mapping</a> (Optimization)</li>
<li><a href="https://github.com/java-native-access/jna/blob/master/www/FrequentlyAskedQuestions.md" target="_blank" rel="noopener">Frequently Asked Questions (FAQ)</a></li>
<li><a href="http://java-native-access.github.io/jna/5.4.0/javadoc/overview-summary.html#crash-protection" target="_blank" rel="noopener">Avoiding Crashes</a></li>
</ul>
<h1 id="Primary-Documentation-JavaDoc"><a href="#Primary-Documentation-JavaDoc" class="headerlink" title="Primary Documentation (JavaDoc)"></a>Primary Documentation (JavaDoc)</h1><p>The definitive JNA reference is in the <a href="http://java-native-access.github.io/jna/5.4.0/javadoc/" target="_blank" rel="noopener">JavaDoc</a>.</p>
<h1 id="Developers"><a href="#Developers" class="headerlink" title="Developers"></a>Developers</h1><ul>
<li><a href="https://github.com/java-native-access/jna/blob/master/www/Contributing.md" target="_blank" rel="noopener">Contributing to JNA</a></li>
<li><a href="https://github.com/java-native-access/jna/blob/master/www/WindowsDevelopmentEnvironment.md" target="_blank" rel="noopener">Setting up a Windows Development Environment</a></li>
<li><a href="https://github.com/java-native-access/jna/blob/master/www/AndroidDevelopmentEnvironment.md" target="_blank" rel="noopener">Setting up an Android Development Environment</a></li>
<li><a href="https://github.com/java-native-access/jna/blob/master/www/RaspberryPiDevelopmentEnvironment.md" target="_blank" rel="noopener">Setting up a RaspberryPi Development Environment</a></li>
<li><a href="https://github.com/java-native-access/jna/blob/master/www/MacDevelopmentEnvironment.md" target="_blank" rel="noopener">Setting up a Mac Development Environment</a></li>
<li><a href="https://github.com/java-native-access/jna/blob/master/www/ReleasingJNA.md" target="_blank" rel="noopener">Releasing JNA</a></li>
<li><a href="https://github.com/java-native-access/jna/blob/master/www/PublishingToMavenCentral.md" target="_blank" rel="noopener">Publishing to Maven Central</a></li>
</ul>
<h1 id="Contributing"><a href="#Contributing" class="headerlink" title="Contributing"></a>Contributing</h1><p>You’re encouraged to contribute to JNA. Fork the code from <a href="https://github.com/java-native-access/jna" target="_blank" rel="noopener">https://github.com/java-native-access/jna</a> and submit pull requests.</p>
<p>For more information on setting up a development environment see <a href="https://github.com/java-native-access/jna/blob/master/www/Contributing.md" target="_blank" rel="noopener">Contributing to JNA</a>.</p>
<p>If you are interested in paid support, feel free to say so on the <a href="http://groups.google.com/group/jna-users" target="_blank" rel="noopener">jna-users mailing list</a>. Most simple questions will be answered on the list, but more complicated work, new features or target platforms can be negotiated with any of the JNA developers (this is how several of JNA’s features came into being). You may even encounter other users with the same need and be able to cost share the new development.</p>
<h1 id="License"><a href="#License" class="headerlink" title="License"></a>License</h1><p>This library is licensed under the LGPL, version 2.1 or later, and (from version 4.0 onward) the Apache Software License, version 2.0. Commercial license arrangements are negotiable.</p>
<p><em>NOTE: Oracle is not sponsoring this project, even though the package name (com.sun.jna) might imply otherwise.</em></p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-25T10:28:49.000Z">2019-09-25</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    30 分钟 读完 (大约 4448 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/25/LinkedList类/">LinkedList类</a>
            
        </h1>
        <div class="content">
            <h1 id="LinkedList类"><a href="#LinkedList类" class="headerlink" title="LinkedList类"></a>LinkedList类</h1><p><img src="/images/2019/09/25/2fb65570-df7f-11e9-b8a3-2dd4c9c0980e.png" alt="image.png"></p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">/*</span></span><br><span class="line"><span class="hljs-comment"> * Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.</span></span><br><span class="line"><span class="hljs-comment"> * ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">package</span> java.util;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> java.util.function.Consumer;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * Doubly-linked list implementation of the &#123;<span class="hljs-doctag">@code</span> List&#125; and &#123;<span class="hljs-doctag">@code</span> Deque&#125;</span></span><br><span class="line"><span class="hljs-comment"> * interfaces.  Implements all optional list operations, and permits all</span></span><br><span class="line"><span class="hljs-comment"> * elements (including &#123;<span class="hljs-doctag">@code</span> null&#125;).</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * &lt;p&gt;All of the operations perform as could be expected for a doubly-linked</span></span><br><span class="line"><span class="hljs-comment"> * list.  Operations that index into the list will traverse the list from</span></span><br><span class="line"><span class="hljs-comment"> * the beginning or the end, whichever is closer to the specified index.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * &lt;p&gt;&lt;strong&gt;Note that this implementation is not synchronized.&lt;/strong&gt;</span></span><br><span class="line"><span class="hljs-comment"> * If multiple threads access a linked list concurrently, and at least</span></span><br><span class="line"><span class="hljs-comment"> * one of the threads modifies the list structurally, it &lt;i&gt;must&lt;/i&gt; be</span></span><br><span class="line"><span class="hljs-comment"> * synchronized externally.  (A structural modification is any operation</span></span><br><span class="line"><span class="hljs-comment"> * that adds or deletes one or more elements; merely setting the value of</span></span><br><span class="line"><span class="hljs-comment"> * an element is not a structural modification.)  This is typically</span></span><br><span class="line"><span class="hljs-comment"> * accomplished by synchronizing on some object that naturally</span></span><br><span class="line"><span class="hljs-comment"> * encapsulates the list.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * If no such object exists, the list should be "wrapped" using the</span></span><br><span class="line"><span class="hljs-comment"> * &#123;<span class="hljs-doctag">@link</span> Collections#synchronizedList Collections.synchronizedList&#125;</span></span><br><span class="line"><span class="hljs-comment"> * method.  This is best done at creation time, to prevent accidental</span></span><br><span class="line"><span class="hljs-comment"> * unsynchronized access to the list:&lt;pre&gt;</span></span><br><span class="line"><span class="hljs-comment"> *   List list = Collections.synchronizedList(new LinkedList(...));&lt;/pre&gt;</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * &lt;p&gt;The iterators returned by this class's &#123;<span class="hljs-doctag">@code</span> iterator&#125; and</span></span><br><span class="line"><span class="hljs-comment"> * &#123;<span class="hljs-doctag">@code</span> listIterator&#125; methods are &lt;i&gt;fail-fast&lt;/i&gt;: if the list is</span></span><br><span class="line"><span class="hljs-comment"> * structurally modified at any time after the iterator is created, in</span></span><br><span class="line"><span class="hljs-comment"> * any way except through the Iterator's own &#123;<span class="hljs-doctag">@code</span> remove&#125; or</span></span><br><span class="line"><span class="hljs-comment"> * &#123;<span class="hljs-doctag">@code</span> add&#125; methods, the iterator will throw a &#123;<span class="hljs-doctag">@link</span></span></span><br><span class="line"><span class="hljs-comment"> * ConcurrentModificationException&#125;.  Thus, in the face of concurrent</span></span><br><span class="line"><span class="hljs-comment"> * modification, the iterator fails quickly and cleanly, rather than</span></span><br><span class="line"><span class="hljs-comment"> * risking arbitrary, non-deterministic behavior at an undetermined</span></span><br><span class="line"><span class="hljs-comment"> * time in the future.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * &lt;p&gt;Note that the fail-fast behavior of an iterator cannot be guaranteed</span></span><br><span class="line"><span class="hljs-comment"> * as it is, generally speaking, impossible to make any hard guarantees in the</span></span><br><span class="line"><span class="hljs-comment"> * presence of unsynchronized concurrent modification.  Fail-fast iterators</span></span><br><span class="line"><span class="hljs-comment"> * throw &#123;<span class="hljs-doctag">@code</span> ConcurrentModificationException&#125; on a best-effort basis.</span></span><br><span class="line"><span class="hljs-comment"> * Therefore, it would be wrong to write a program that depended on this</span></span><br><span class="line"><span class="hljs-comment"> * exception for its correctness:   &lt;i&gt;the fail-fast behavior of iterators</span></span><br><span class="line"><span class="hljs-comment"> * should be used only to detect bugs.&lt;/i&gt;</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * &lt;p&gt;This class is a member of the</span></span><br><span class="line"><span class="hljs-comment"> * &lt;a href="&#123;<span class="hljs-doctag">@docRoot</span>&#125;/../technotes/guides/collections/index.html"&gt;</span></span><br><span class="line"><span class="hljs-comment"> * Java Collections Framework&lt;/a&gt;.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>  Josh Bloch</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@see</span>     List</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@see</span>     ArrayList</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@since</span> 1.2</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &lt;E&gt; the type of elements held in this collection</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LinkedList</span>&lt;<span class="hljs-title">E</span>&gt;</span></span><br><span class="line"><span class="hljs-class">    <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractSequentialList</span>&lt;<span class="hljs-title">E</span>&gt;</span></span><br><span class="line"><span class="hljs-class">    <span class="hljs-keyword">implements</span> <span class="hljs-title">List</span>&lt;<span class="hljs-title">E</span>&gt;, <span class="hljs-title">Deque</span>&lt;<span class="hljs-title">E</span>&gt;, <span class="hljs-title">Cloneable</span>, <span class="hljs-title">java</span>.<span class="hljs-title">io</span>.<span class="hljs-title">Serializable</span></span></span><br><span class="line"><span class="hljs-class"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">transient</span> <span class="hljs-keyword">int</span> size = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Pointer to first node.</span></span><br><span class="line"><span class="hljs-comment">     * Invariant: (first == null &amp;&amp; last == null) ||</span></span><br><span class="line"><span class="hljs-comment">     *            (first.prev == null &amp;&amp; first.item != null)</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">transient</span> Node&lt;E&gt; first;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Pointer to last node.</span></span><br><span class="line"><span class="hljs-comment">     * Invariant: (first == null &amp;&amp; last == null) ||</span></span><br><span class="line"><span class="hljs-comment">     *            (last.next == null &amp;&amp; last.item != null)</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">transient</span> Node&lt;E&gt; last;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Constructs an empty list.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">LinkedList</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Constructs a list containing the elements of the specified</span></span><br><span class="line"><span class="hljs-comment">     * collection, in the order they are returned by the collection's</span></span><br><span class="line"><span class="hljs-comment">     * iterator.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>  c the collection whose elements are to be placed into this list</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> NullPointerException if the specified collection is null</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">LinkedList</span><span class="hljs-params">(Collection&lt;? extends E&gt; c)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>();</span><br><span class="line">        addAll(c);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Links e as first element.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">linkFirst</span><span class="hljs-params">(E e)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; f = first;</span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; newNode = <span class="hljs-keyword">new</span> Node&lt;&gt;(<span class="hljs-keyword">null</span>, e, f);</span><br><span class="line">        first = newNode;</span><br><span class="line">        <span class="hljs-keyword">if</span> (f == <span class="hljs-keyword">null</span>)</span><br><span class="line">            last = newNode;</span><br><span class="line">        <span class="hljs-keyword">else</span></span><br><span class="line">            f.prev = newNode;</span><br><span class="line">        size++;</span><br><span class="line">        modCount++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Links e as last element.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">linkLast</span><span class="hljs-params">(E e)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; l = last;</span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; newNode = <span class="hljs-keyword">new</span> Node&lt;&gt;(l, e, <span class="hljs-keyword">null</span>);</span><br><span class="line">        last = newNode;</span><br><span class="line">        <span class="hljs-keyword">if</span> (l == <span class="hljs-keyword">null</span>)</span><br><span class="line">            first = newNode;</span><br><span class="line">        <span class="hljs-keyword">else</span></span><br><span class="line">            l.next = newNode;</span><br><span class="line">        size++;</span><br><span class="line">        modCount++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Inserts element e before non-null Node succ.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">linkBefore</span><span class="hljs-params">(E e, Node&lt;E&gt; succ)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-comment">// assert succ != null;</span></span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; pred = succ.prev;</span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; newNode = <span class="hljs-keyword">new</span> Node&lt;&gt;(pred, e, succ);</span><br><span class="line">        succ.prev = newNode;</span><br><span class="line">        <span class="hljs-keyword">if</span> (pred == <span class="hljs-keyword">null</span>)</span><br><span class="line">            first = newNode;</span><br><span class="line">        <span class="hljs-keyword">else</span></span><br><span class="line">            pred.next = newNode;</span><br><span class="line">        size++;</span><br><span class="line">        modCount++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Unlinks non-null first node f.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> E <span class="hljs-title">unlinkFirst</span><span class="hljs-params">(Node&lt;E&gt; f)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-comment">// assert f == first &amp;&amp; f != null;</span></span><br><span class="line">        <span class="hljs-keyword">final</span> E element = f.item;</span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; next = f.next;</span><br><span class="line">        f.item = <span class="hljs-keyword">null</span>;</span><br><span class="line">        f.next = <span class="hljs-keyword">null</span>; <span class="hljs-comment">// help GC</span></span><br><span class="line">        first = next;</span><br><span class="line">        <span class="hljs-keyword">if</span> (next == <span class="hljs-keyword">null</span>)</span><br><span class="line">            last = <span class="hljs-keyword">null</span>;</span><br><span class="line">        <span class="hljs-keyword">else</span></span><br><span class="line">            next.prev = <span class="hljs-keyword">null</span>;</span><br><span class="line">        size--;</span><br><span class="line">        modCount++;</span><br><span class="line">        <span class="hljs-keyword">return</span> element;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Unlinks non-null last node l.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> E <span class="hljs-title">unlinkLast</span><span class="hljs-params">(Node&lt;E&gt; l)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-comment">// assert l == last &amp;&amp; l != null;</span></span><br><span class="line">        <span class="hljs-keyword">final</span> E element = l.item;</span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; prev = l.prev;</span><br><span class="line">        l.item = <span class="hljs-keyword">null</span>;</span><br><span class="line">        l.prev = <span class="hljs-keyword">null</span>; <span class="hljs-comment">// help GC</span></span><br><span class="line">        last = prev;</span><br><span class="line">        <span class="hljs-keyword">if</span> (prev == <span class="hljs-keyword">null</span>)</span><br><span class="line">            first = <span class="hljs-keyword">null</span>;</span><br><span class="line">        <span class="hljs-keyword">else</span></span><br><span class="line">            prev.next = <span class="hljs-keyword">null</span>;</span><br><span class="line">        size--;</span><br><span class="line">        modCount++;</span><br><span class="line">        <span class="hljs-keyword">return</span> element;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Unlinks non-null node x.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function">E <span class="hljs-title">unlink</span><span class="hljs-params">(Node&lt;E&gt; x)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-comment">// assert x != null;</span></span><br><span class="line">        <span class="hljs-keyword">final</span> E element = x.item;</span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; next = x.next;</span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; prev = x.prev;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">if</span> (prev == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            first = next;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            prev.next = next;</span><br><span class="line">            x.prev = <span class="hljs-keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">if</span> (next == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            last = prev;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            next.prev = prev;</span><br><span class="line">            x.next = <span class="hljs-keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        x.item = <span class="hljs-keyword">null</span>;</span><br><span class="line">        size--;</span><br><span class="line">        modCount++;</span><br><span class="line">        <span class="hljs-keyword">return</span> element;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the first element in this list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the first element in this list</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> NoSuchElementException if this list is empty</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">getFirst</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; f = first;</span><br><span class="line">        <span class="hljs-keyword">if</span> (f == <span class="hljs-keyword">null</span>)</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NoSuchElementException();</span><br><span class="line">        <span class="hljs-keyword">return</span> f.item;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the last element in this list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the last element in this list</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> NoSuchElementException if this list is empty</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">getLast</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; l = last;</span><br><span class="line">        <span class="hljs-keyword">if</span> (l == <span class="hljs-keyword">null</span>)</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NoSuchElementException();</span><br><span class="line">        <span class="hljs-keyword">return</span> l.item;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Removes and returns the first element from this list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the first element from this list</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> NoSuchElementException if this list is empty</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">removeFirst</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; f = first;</span><br><span class="line">        <span class="hljs-keyword">if</span> (f == <span class="hljs-keyword">null</span>)</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NoSuchElementException();</span><br><span class="line">        <span class="hljs-keyword">return</span> unlinkFirst(f);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Removes and returns the last element from this list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the last element from this list</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> NoSuchElementException if this list is empty</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">removeLast</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; l = last;</span><br><span class="line">        <span class="hljs-keyword">if</span> (l == <span class="hljs-keyword">null</span>)</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NoSuchElementException();</span><br><span class="line">        <span class="hljs-keyword">return</span> unlinkLast(l);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Inserts the specified element at the beginning of this list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> e the element to add</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addFirst</span><span class="hljs-params">(E e)</span> </span>&#123;</span><br><span class="line">        linkFirst(e);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Appends the specified element to the end of this list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;This method is equivalent to &#123;<span class="hljs-doctag">@link</span> #add&#125;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> e the element to add</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addLast</span><span class="hljs-params">(E e)</span> </span>&#123;</span><br><span class="line">        linkLast(e);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns &#123;<span class="hljs-doctag">@code</span> true&#125; if this list contains the specified element.</span></span><br><span class="line"><span class="hljs-comment">     * More formally, returns &#123;<span class="hljs-doctag">@code</span> true&#125; if and only if this list contains</span></span><br><span class="line"><span class="hljs-comment">     * at least one element &#123;<span class="hljs-doctag">@code</span> e&#125; such that</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tt&gt;(o==null&amp;nbsp;?&amp;nbsp;e==null&amp;nbsp;:&amp;nbsp;o.equals(e))&lt;/tt&gt;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> o element whose presence in this list is to be tested</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> &#123;<span class="hljs-doctag">@code</span> true&#125; if this list contains the specified element</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">contains</span><span class="hljs-params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> indexOf(o) != -<span class="hljs-number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the number of elements in this list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the number of elements in this list</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">size</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Appends the specified element to the end of this list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;This method is equivalent to &#123;<span class="hljs-doctag">@link</span> #addLast&#125;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> e element to be appended to this list</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> &#123;<span class="hljs-doctag">@code</span> true&#125; (as specified by &#123;<span class="hljs-doctag">@link</span> Collection#add&#125;)</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">add</span><span class="hljs-params">(E e)</span> </span>&#123;</span><br><span class="line">        linkLast(e);</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Removes the first occurrence of the specified element from this list,</span></span><br><span class="line"><span class="hljs-comment">     * if it is present.  If this list does not contain the element, it is</span></span><br><span class="line"><span class="hljs-comment">     * unchanged.  More formally, removes the element with the lowest index</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@code</span> i&#125; such that</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tt&gt;(o==null&amp;nbsp;?&amp;nbsp;get(i)==null&amp;nbsp;:&amp;nbsp;o.equals(get(i)))&lt;/tt&gt;</span></span><br><span class="line"><span class="hljs-comment">     * (if such an element exists).  Returns &#123;<span class="hljs-doctag">@code</span> true&#125; if this list</span></span><br><span class="line"><span class="hljs-comment">     * contained the specified element (or equivalently, if this list</span></span><br><span class="line"><span class="hljs-comment">     * changed as a result of the call).</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> o element to be removed from this list, if present</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> &#123;<span class="hljs-doctag">@code</span> true&#125; if this list contained the specified element</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">remove</span><span class="hljs-params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="hljs-keyword">null</span>; x = x.next) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (x.item == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                    unlink(x);</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="hljs-keyword">null</span>; x = x.next) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (o.equals(x.item)) &#123;</span><br><span class="line">                    unlink(x);</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Appends all of the elements in the specified collection to the end of</span></span><br><span class="line"><span class="hljs-comment">     * this list, in the order that they are returned by the specified</span></span><br><span class="line"><span class="hljs-comment">     * collection's iterator.  The behavior of this operation is undefined if</span></span><br><span class="line"><span class="hljs-comment">     * the specified collection is modified while the operation is in</span></span><br><span class="line"><span class="hljs-comment">     * progress.  (Note that this will occur if the specified collection is</span></span><br><span class="line"><span class="hljs-comment">     * this list, and it's nonempty.)</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> c collection containing elements to be added to this list</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> &#123;<span class="hljs-doctag">@code</span> true&#125; if this list changed as a result of the call</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> NullPointerException if the specified collection is null</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">addAll</span><span class="hljs-params">(Collection&lt;? extends E&gt; c)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> addAll(size, c);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Inserts all of the elements in the specified collection into this</span></span><br><span class="line"><span class="hljs-comment">     * list, starting at the specified position.  Shifts the element</span></span><br><span class="line"><span class="hljs-comment">     * currently at that position (if any) and any subsequent elements to</span></span><br><span class="line"><span class="hljs-comment">     * the right (increases their indices).  The new elements will appear</span></span><br><span class="line"><span class="hljs-comment">     * in the list in the order that they are returned by the</span></span><br><span class="line"><span class="hljs-comment">     * specified collection's iterator.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> index index at which to insert the first element</span></span><br><span class="line"><span class="hljs-comment">     *              from the specified collection</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> c collection containing elements to be added to this list</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> &#123;<span class="hljs-doctag">@code</span> true&#125; if this list changed as a result of the call</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IndexOutOfBoundsException &#123;<span class="hljs-doctag">@inheritDoc</span>&#125;</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> NullPointerException if the specified collection is null</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">addAll</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index, Collection&lt;? extends E&gt; c)</span> </span>&#123;</span><br><span class="line">        checkPositionIndex(index);</span><br><span class="line"></span><br><span class="line">        Object[] a = c.toArray();</span><br><span class="line">        <span class="hljs-keyword">int</span> numNew = a.length;</span><br><span class="line">        <span class="hljs-keyword">if</span> (numNew == <span class="hljs-number">0</span>)</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line"></span><br><span class="line">        Node&lt;E&gt; pred, succ;</span><br><span class="line">        <span class="hljs-keyword">if</span> (index == size) &#123;</span><br><span class="line">            succ = <span class="hljs-keyword">null</span>;</span><br><span class="line">            pred = last;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            succ = node(index);</span><br><span class="line">            pred = succ.prev;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span> (Object o : a) &#123;</span><br><span class="line">            <span class="hljs-meta">@SuppressWarnings</span>(<span class="hljs-string">"unchecked"</span>) E e = (E) o;</span><br><span class="line">            Node&lt;E&gt; newNode = <span class="hljs-keyword">new</span> Node&lt;&gt;(pred, e, <span class="hljs-keyword">null</span>);</span><br><span class="line">            <span class="hljs-keyword">if</span> (pred == <span class="hljs-keyword">null</span>)</span><br><span class="line">                first = newNode;</span><br><span class="line">            <span class="hljs-keyword">else</span></span><br><span class="line">                pred.next = newNode;</span><br><span class="line">            pred = newNode;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">if</span> (succ == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            last = pred;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            pred.next = succ;</span><br><span class="line">            succ.prev = pred;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        size += numNew;</span><br><span class="line">        modCount++;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Removes all of the elements from this list.</span></span><br><span class="line"><span class="hljs-comment">     * The list will be empty after this call returns.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-comment">// Clearing all of the links between nodes is "unnecessary", but:</span></span><br><span class="line">        <span class="hljs-comment">// - helps a generational GC if the discarded nodes inhabit</span></span><br><span class="line">        <span class="hljs-comment">//   more than one generation</span></span><br><span class="line">        <span class="hljs-comment">// - is sure to free memory even if there is a reachable Iterator</span></span><br><span class="line">        <span class="hljs-keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="hljs-keyword">null</span>; ) &#123;</span><br><span class="line">            Node&lt;E&gt; next = x.next;</span><br><span class="line">            x.item = <span class="hljs-keyword">null</span>;</span><br><span class="line">            x.next = <span class="hljs-keyword">null</span>;</span><br><span class="line">            x.prev = <span class="hljs-keyword">null</span>;</span><br><span class="line">            x = next;</span><br><span class="line">        &#125;</span><br><span class="line">        first = last = <span class="hljs-keyword">null</span>;</span><br><span class="line">        size = <span class="hljs-number">0</span>;</span><br><span class="line">        modCount++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// Positional Access Operations</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the element at the specified position in this list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> index index of the element to return</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the element at the specified position in this list</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IndexOutOfBoundsException &#123;<span class="hljs-doctag">@inheritDoc</span>&#125;</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        checkElementIndex(index);</span><br><span class="line">        <span class="hljs-keyword">return</span> node(index).item;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Replaces the element at the specified position in this list with the</span></span><br><span class="line"><span class="hljs-comment">     * specified element.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> index index of the element to replace</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> element element to be stored at the specified position</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the element previously at the specified position</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IndexOutOfBoundsException &#123;<span class="hljs-doctag">@inheritDoc</span>&#125;</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">set</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index, E element)</span> </span>&#123;</span><br><span class="line">        checkElementIndex(index);</span><br><span class="line">        Node&lt;E&gt; x = node(index);</span><br><span class="line">        E oldVal = x.item;</span><br><span class="line">        x.item = element;</span><br><span class="line">        <span class="hljs-keyword">return</span> oldVal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Inserts the specified element at the specified position in this list.</span></span><br><span class="line"><span class="hljs-comment">     * Shifts the element currently at that position (if any) and any</span></span><br><span class="line"><span class="hljs-comment">     * subsequent elements to the right (adds one to their indices).</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> index index at which the specified element is to be inserted</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> element element to be inserted</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IndexOutOfBoundsException &#123;<span class="hljs-doctag">@inheritDoc</span>&#125;</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index, E element)</span> </span>&#123;</span><br><span class="line">        checkPositionIndex(index);</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">if</span> (index == size)</span><br><span class="line">            linkLast(element);</span><br><span class="line">        <span class="hljs-keyword">else</span></span><br><span class="line">            linkBefore(element, node(index));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Removes the element at the specified position in this list.  Shifts any</span></span><br><span class="line"><span class="hljs-comment">     * subsequent elements to the left (subtracts one from their indices).</span></span><br><span class="line"><span class="hljs-comment">     * Returns the element that was removed from the list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> index the index of the element to be removed</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the element previously at the specified position</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IndexOutOfBoundsException &#123;<span class="hljs-doctag">@inheritDoc</span>&#125;</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        checkElementIndex(index);</span><br><span class="line">        <span class="hljs-keyword">return</span> unlink(node(index));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Tells if the argument is the index of an existing element.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isElementIndex</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> index &gt;= <span class="hljs-number">0</span> &amp;&amp; index &lt; size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Tells if the argument is the index of a valid position for an</span></span><br><span class="line"><span class="hljs-comment">     * iterator or an add operation.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isPositionIndex</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> index &gt;= <span class="hljs-number">0</span> &amp;&amp; index &lt;= size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Constructs an IndexOutOfBoundsException detail message.</span></span><br><span class="line"><span class="hljs-comment">     * Of the many possible refactorings of the error handling code,</span></span><br><span class="line"><span class="hljs-comment">     * this "outlining" performs best with both server and client VMs.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> String <span class="hljs-title">outOfBoundsMsg</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-string">"Index: "</span>+index+<span class="hljs-string">", Size: "</span>+size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">checkElementIndex</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (!isElementIndex(index))</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IndexOutOfBoundsException(outOfBoundsMsg(index));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">checkPositionIndex</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (!isPositionIndex(index))</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IndexOutOfBoundsException(outOfBoundsMsg(index));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the (non-null) Node at the specified element index.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function">Node&lt;E&gt; <span class="hljs-title">node</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-comment">// assert isElementIndex(index);</span></span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">if</span> (index &lt; (size &gt;&gt; <span class="hljs-number">1</span>)) &#123;</span><br><span class="line">            Node&lt;E&gt; x = first;</span><br><span class="line">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; index; i++)</span><br><span class="line">                x = x.next;</span><br><span class="line">            <span class="hljs-keyword">return</span> x;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            Node&lt;E&gt; x = last;</span><br><span class="line">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = size - <span class="hljs-number">1</span>; i &gt; index; i--)</span><br><span class="line">                x = x.prev;</span><br><span class="line">            <span class="hljs-keyword">return</span> x;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// Search Operations</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the index of the first occurrence of the specified element</span></span><br><span class="line"><span class="hljs-comment">     * in this list, or -1 if this list does not contain the element.</span></span><br><span class="line"><span class="hljs-comment">     * More formally, returns the lowest index &#123;<span class="hljs-doctag">@code</span> i&#125; such that</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tt&gt;(o==null&amp;nbsp;?&amp;nbsp;get(i)==null&amp;nbsp;:&amp;nbsp;o.equals(get(i)))&lt;/tt&gt;,</span></span><br><span class="line"><span class="hljs-comment">     * or -1 if there is no such index.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> o element to search for</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the index of the first occurrence of the specified element in</span></span><br><span class="line"><span class="hljs-comment">     *         this list, or -1 if this list does not contain the element</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">indexOf</span><span class="hljs-params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> index = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="hljs-keyword">null</span>; x = x.next) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (x.item == <span class="hljs-keyword">null</span>)</span><br><span class="line">                    <span class="hljs-keyword">return</span> index;</span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="hljs-keyword">null</span>; x = x.next) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (o.equals(x.item))</span><br><span class="line">                    <span class="hljs-keyword">return</span> index;</span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the index of the last occurrence of the specified element</span></span><br><span class="line"><span class="hljs-comment">     * in this list, or -1 if this list does not contain the element.</span></span><br><span class="line"><span class="hljs-comment">     * More formally, returns the highest index &#123;<span class="hljs-doctag">@code</span> i&#125; such that</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tt&gt;(o==null&amp;nbsp;?&amp;nbsp;get(i)==null&amp;nbsp;:&amp;nbsp;o.equals(get(i)))&lt;/tt&gt;,</span></span><br><span class="line"><span class="hljs-comment">     * or -1 if there is no such index.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> o element to search for</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the index of the last occurrence of the specified element in</span></span><br><span class="line"><span class="hljs-comment">     *         this list, or -1 if this list does not contain the element</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">lastIndexOf</span><span class="hljs-params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> index = size;</span><br><span class="line">        <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">for</span> (Node&lt;E&gt; x = last; x != <span class="hljs-keyword">null</span>; x = x.prev) &#123;</span><br><span class="line">                index--;</span><br><span class="line">                <span class="hljs-keyword">if</span> (x.item == <span class="hljs-keyword">null</span>)</span><br><span class="line">                    <span class="hljs-keyword">return</span> index;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">for</span> (Node&lt;E&gt; x = last; x != <span class="hljs-keyword">null</span>; x = x.prev) &#123;</span><br><span class="line">                index--;</span><br><span class="line">                <span class="hljs-keyword">if</span> (o.equals(x.item))</span><br><span class="line">                    <span class="hljs-keyword">return</span> index;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// Queue operations.</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Retrieves, but does not remove, the head (first element) of this list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the head of this list, or &#123;<span class="hljs-doctag">@code</span> null&#125; if this list is empty</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.5</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">peek</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; f = first;</span><br><span class="line">        <span class="hljs-keyword">return</span> (f == <span class="hljs-keyword">null</span>) ? <span class="hljs-keyword">null</span> : f.item;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Retrieves, but does not remove, the head (first element) of this list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the head of this list</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> NoSuchElementException if this list is empty</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.5</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">element</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> getFirst();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Retrieves and removes the head (first element) of this list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the head of this list, or &#123;<span class="hljs-doctag">@code</span> null&#125; if this list is empty</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.5</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">poll</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; f = first;</span><br><span class="line">        <span class="hljs-keyword">return</span> (f == <span class="hljs-keyword">null</span>) ? <span class="hljs-keyword">null</span> : unlinkFirst(f);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Retrieves and removes the head (first element) of this list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the head of this list</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> NoSuchElementException if this list is empty</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.5</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">remove</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> removeFirst();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Adds the specified element as the tail (last element) of this list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> e the element to add</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> &#123;<span class="hljs-doctag">@code</span> true&#125; (as specified by &#123;<span class="hljs-doctag">@link</span> Queue#offer&#125;)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.5</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">offer</span><span class="hljs-params">(E e)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> add(e);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// Deque operations</span></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Inserts the specified element at the front of this list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> e the element to insert</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> &#123;<span class="hljs-doctag">@code</span> true&#125; (as specified by &#123;<span class="hljs-doctag">@link</span> Deque#offerFirst&#125;)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.6</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">offerFirst</span><span class="hljs-params">(E e)</span> </span>&#123;</span><br><span class="line">        addFirst(e);</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Inserts the specified element at the end of this list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> e the element to insert</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> &#123;<span class="hljs-doctag">@code</span> true&#125; (as specified by &#123;<span class="hljs-doctag">@link</span> Deque#offerLast&#125;)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.6</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">offerLast</span><span class="hljs-params">(E e)</span> </span>&#123;</span><br><span class="line">        addLast(e);</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Retrieves, but does not remove, the first element of this list,</span></span><br><span class="line"><span class="hljs-comment">     * or returns &#123;<span class="hljs-doctag">@code</span> null&#125; if this list is empty.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the first element of this list, or &#123;<span class="hljs-doctag">@code</span> null&#125;</span></span><br><span class="line"><span class="hljs-comment">     *         if this list is empty</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.6</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">peekFirst</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; f = first;</span><br><span class="line">        <span class="hljs-keyword">return</span> (f == <span class="hljs-keyword">null</span>) ? <span class="hljs-keyword">null</span> : f.item;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Retrieves, but does not remove, the last element of this list,</span></span><br><span class="line"><span class="hljs-comment">     * or returns &#123;<span class="hljs-doctag">@code</span> null&#125; if this list is empty.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the last element of this list, or &#123;<span class="hljs-doctag">@code</span> null&#125;</span></span><br><span class="line"><span class="hljs-comment">     *         if this list is empty</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.6</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">peekLast</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; l = last;</span><br><span class="line">        <span class="hljs-keyword">return</span> (l == <span class="hljs-keyword">null</span>) ? <span class="hljs-keyword">null</span> : l.item;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Retrieves and removes the first element of this list,</span></span><br><span class="line"><span class="hljs-comment">     * or returns &#123;<span class="hljs-doctag">@code</span> null&#125; if this list is empty.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the first element of this list, or &#123;<span class="hljs-doctag">@code</span> null&#125; if</span></span><br><span class="line"><span class="hljs-comment">     *     this list is empty</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.6</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">pollFirst</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; f = first;</span><br><span class="line">        <span class="hljs-keyword">return</span> (f == <span class="hljs-keyword">null</span>) ? <span class="hljs-keyword">null</span> : unlinkFirst(f);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Retrieves and removes the last element of this list,</span></span><br><span class="line"><span class="hljs-comment">     * or returns &#123;<span class="hljs-doctag">@code</span> null&#125; if this list is empty.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the last element of this list, or &#123;<span class="hljs-doctag">@code</span> null&#125; if</span></span><br><span class="line"><span class="hljs-comment">     *     this list is empty</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.6</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">pollLast</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">final</span> Node&lt;E&gt; l = last;</span><br><span class="line">        <span class="hljs-keyword">return</span> (l == <span class="hljs-keyword">null</span>) ? <span class="hljs-keyword">null</span> : unlinkLast(l);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Pushes an element onto the stack represented by this list.  In other</span></span><br><span class="line"><span class="hljs-comment">     * words, inserts the element at the front of this list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;This method is equivalent to &#123;<span class="hljs-doctag">@link</span> #addFirst&#125;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> e the element to push</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.6</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">push</span><span class="hljs-params">(E e)</span> </span>&#123;</span><br><span class="line">        addFirst(e);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Pops an element from the stack represented by this list.  In other</span></span><br><span class="line"><span class="hljs-comment">     * words, removes and returns the first element of this list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;This method is equivalent to &#123;<span class="hljs-doctag">@link</span> #removeFirst()&#125;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the element at the front of this list (which is the top</span></span><br><span class="line"><span class="hljs-comment">     *         of the stack represented by this list)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> NoSuchElementException if this list is empty</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.6</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">pop</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> removeFirst();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Removes the first occurrence of the specified element in this</span></span><br><span class="line"><span class="hljs-comment">     * list (when traversing the list from head to tail).  If the list</span></span><br><span class="line"><span class="hljs-comment">     * does not contain the element, it is unchanged.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> o element to be removed from this list, if present</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> &#123;<span class="hljs-doctag">@code</span> true&#125; if the list contained the specified element</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.6</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">removeFirstOccurrence</span><span class="hljs-params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> remove(o);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Removes the last occurrence of the specified element in this</span></span><br><span class="line"><span class="hljs-comment">     * list (when traversing the list from head to tail).  If the list</span></span><br><span class="line"><span class="hljs-comment">     * does not contain the element, it is unchanged.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> o element to be removed from this list, if present</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> &#123;<span class="hljs-doctag">@code</span> true&#125; if the list contained the specified element</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.6</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">removeLastOccurrence</span><span class="hljs-params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">for</span> (Node&lt;E&gt; x = last; x != <span class="hljs-keyword">null</span>; x = x.prev) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (x.item == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                    unlink(x);</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">for</span> (Node&lt;E&gt; x = last; x != <span class="hljs-keyword">null</span>; x = x.prev) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (o.equals(x.item)) &#123;</span><br><span class="line">                    unlink(x);</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns a list-iterator of the elements in this list (in proper</span></span><br><span class="line"><span class="hljs-comment">     * sequence), starting at the specified position in the list.</span></span><br><span class="line"><span class="hljs-comment">     * Obeys the general contract of &#123;<span class="hljs-doctag">@code</span> List.listIterator(int)&#125;.&lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * The list-iterator is &lt;i&gt;fail-fast&lt;/i&gt;: if the list is structurally</span></span><br><span class="line"><span class="hljs-comment">     * modified at any time after the Iterator is created, in any way except</span></span><br><span class="line"><span class="hljs-comment">     * through the list-iterator's own &#123;<span class="hljs-doctag">@code</span> remove&#125; or &#123;<span class="hljs-doctag">@code</span> add&#125;</span></span><br><span class="line"><span class="hljs-comment">     * methods, the list-iterator will throw a</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@code</span> ConcurrentModificationException&#125;.  Thus, in the face of</span></span><br><span class="line"><span class="hljs-comment">     * concurrent modification, the iterator fails quickly and cleanly, rather</span></span><br><span class="line"><span class="hljs-comment">     * than risking arbitrary, non-deterministic behavior at an undetermined</span></span><br><span class="line"><span class="hljs-comment">     * time in the future.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> index index of the first element to be returned from the</span></span><br><span class="line"><span class="hljs-comment">     *              list-iterator (by a call to &#123;<span class="hljs-doctag">@code</span> next&#125;)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> a ListIterator of the elements in this list (in proper</span></span><br><span class="line"><span class="hljs-comment">     *         sequence), starting at the specified position in the list</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IndexOutOfBoundsException &#123;<span class="hljs-doctag">@inheritDoc</span>&#125;</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> List#listIterator(int)</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> ListIterator&lt;E&gt; <span class="hljs-title">listIterator</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        checkPositionIndex(index);</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ListItr(index);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ListItr</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">ListIterator</span>&lt;<span class="hljs-title">E</span>&gt; </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">private</span> Node&lt;E&gt; lastReturned;</span><br><span class="line">        <span class="hljs-keyword">private</span> Node&lt;E&gt; next;</span><br><span class="line">        <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> nextIndex;</span><br><span class="line">        <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> expectedModCount = modCount;</span><br><span class="line"></span><br><span class="line">        ListItr(<span class="hljs-keyword">int</span> index) &#123;</span><br><span class="line">            <span class="hljs-comment">// assert isPositionIndex(index);</span></span><br><span class="line">            next = (index == size) ? <span class="hljs-keyword">null</span> : node(index);</span><br><span class="line">            nextIndex = index;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hasNext</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> nextIndex &lt; size;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">next</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            checkForComodification();</span><br><span class="line">            <span class="hljs-keyword">if</span> (!hasNext())</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NoSuchElementException();</span><br><span class="line"></span><br><span class="line">            lastReturned = next;</span><br><span class="line">            next = next.next;</span><br><span class="line">            nextIndex++;</span><br><span class="line">            <span class="hljs-keyword">return</span> lastReturned.item;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hasPrevious</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> nextIndex &gt; <span class="hljs-number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">previous</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            checkForComodification();</span><br><span class="line">            <span class="hljs-keyword">if</span> (!hasPrevious())</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NoSuchElementException();</span><br><span class="line"></span><br><span class="line">            lastReturned = next = (next == <span class="hljs-keyword">null</span>) ? last : next.prev;</span><br><span class="line">            nextIndex--;</span><br><span class="line">            <span class="hljs-keyword">return</span> lastReturned.item;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">nextIndex</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> nextIndex;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">previousIndex</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> nextIndex - <span class="hljs-number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">remove</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            checkForComodification();</span><br><span class="line">            <span class="hljs-keyword">if</span> (lastReturned == <span class="hljs-keyword">null</span>)</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalStateException();</span><br><span class="line"></span><br><span class="line">            Node&lt;E&gt; lastNext = lastReturned.next;</span><br><span class="line">            unlink(lastReturned);</span><br><span class="line">            <span class="hljs-keyword">if</span> (next == lastReturned)</span><br><span class="line">                next = lastNext;</span><br><span class="line">            <span class="hljs-keyword">else</span></span><br><span class="line">                nextIndex--;</span><br><span class="line">            lastReturned = <span class="hljs-keyword">null</span>;</span><br><span class="line">            expectedModCount++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">set</span><span class="hljs-params">(E e)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (lastReturned == <span class="hljs-keyword">null</span>)</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalStateException();</span><br><span class="line">            checkForComodification();</span><br><span class="line">            lastReturned.item = e;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(E e)</span> </span>&#123;</span><br><span class="line">            checkForComodification();</span><br><span class="line">            lastReturned = <span class="hljs-keyword">null</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (next == <span class="hljs-keyword">null</span>)</span><br><span class="line">                linkLast(e);</span><br><span class="line">            <span class="hljs-keyword">else</span></span><br><span class="line">                linkBefore(e, next);</span><br><span class="line">            nextIndex++;</span><br><span class="line">            expectedModCount++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">forEachRemaining</span><span class="hljs-params">(Consumer&lt;? <span class="hljs-keyword">super</span> E&gt; action)</span> </span>&#123;</span><br><span class="line">            Objects.requireNonNull(action);</span><br><span class="line">            <span class="hljs-keyword">while</span> (modCount == expectedModCount &amp;&amp; nextIndex &lt; size) &#123;</span><br><span class="line">                action.accept(next.item);</span><br><span class="line">                lastReturned = next;</span><br><span class="line">                next = next.next;</span><br><span class="line">                nextIndex++;</span><br><span class="line">            &#125;</span><br><span class="line">            checkForComodification();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">checkForComodification</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (modCount != expectedModCount)</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Node</span>&lt;<span class="hljs-title">E</span>&gt; </span>&#123;</span><br><span class="line">        E item;</span><br><span class="line">        Node&lt;E&gt; next;</span><br><span class="line">        Node&lt;E&gt; prev;</span><br><span class="line"></span><br><span class="line">        Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.item = element;</span><br><span class="line">            <span class="hljs-keyword">this</span>.next = next;</span><br><span class="line">            <span class="hljs-keyword">this</span>.prev = prev;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.6</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> Iterator&lt;E&gt; <span class="hljs-title">descendingIterator</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> DescendingIterator();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Adapter to provide descending iterators via ListItr.previous</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DescendingIterator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Iterator</span>&lt;<span class="hljs-title">E</span>&gt; </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ListItr itr = <span class="hljs-keyword">new</span> ListItr(size());</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hasNext</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> itr.hasPrevious();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">next</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> itr.previous();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">remove</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            itr.remove();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@SuppressWarnings</span>(<span class="hljs-string">"unchecked"</span>)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> LinkedList&lt;E&gt; <span class="hljs-title">superClone</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> (LinkedList&lt;E&gt;) <span class="hljs-keyword">super</span>.clone();</span><br><span class="line">        &#125; <span class="hljs-keyword">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> InternalError(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns a shallow copy of this &#123;<span class="hljs-doctag">@code</span> LinkedList&#125;. (The elements</span></span><br><span class="line"><span class="hljs-comment">     * themselves are not cloned.)</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> a shallow copy of this &#123;<span class="hljs-doctag">@code</span> LinkedList&#125; instance</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">clone</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        LinkedList&lt;E&gt; clone = superClone();</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// Put clone into "virgin" state</span></span><br><span class="line">        clone.first = clone.last = <span class="hljs-keyword">null</span>;</span><br><span class="line">        clone.size = <span class="hljs-number">0</span>;</span><br><span class="line">        clone.modCount = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// Initialize clone with our elements</span></span><br><span class="line">        <span class="hljs-keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="hljs-keyword">null</span>; x = x.next)</span><br><span class="line">            clone.add(x.item);</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> clone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns an array containing all of the elements in this list</span></span><br><span class="line"><span class="hljs-comment">     * in proper sequence (from first to last element).</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;The returned array will be "safe" in that no references to it are</span></span><br><span class="line"><span class="hljs-comment">     * maintained by this list.  (In other words, this method must allocate</span></span><br><span class="line"><span class="hljs-comment">     * a new array).  The caller is thus free to modify the returned array.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;This method acts as bridge between array-based and collection-based</span></span><br><span class="line"><span class="hljs-comment">     * APIs.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> an array containing all of the elements in this list</span></span><br><span class="line"><span class="hljs-comment">     *         in proper sequence</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">public</span> Object[] toArray() &#123;</span><br><span class="line">        Object[] result = <span class="hljs-keyword">new</span> Object[size];</span><br><span class="line">        <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="hljs-keyword">null</span>; x = x.next)</span><br><span class="line">            result[i++] = x.item;</span><br><span class="line">        <span class="hljs-keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns an array containing all of the elements in this list in</span></span><br><span class="line"><span class="hljs-comment">     * proper sequence (from first to last element); the runtime type of</span></span><br><span class="line"><span class="hljs-comment">     * the returned array is that of the specified array.  If the list fits</span></span><br><span class="line"><span class="hljs-comment">     * in the specified array, it is returned therein.  Otherwise, a new</span></span><br><span class="line"><span class="hljs-comment">     * array is allocated with the runtime type of the specified array and</span></span><br><span class="line"><span class="hljs-comment">     * the size of this list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;If the list fits in the specified array with room to spare (i.e.,</span></span><br><span class="line"><span class="hljs-comment">     * the array has more elements than the list), the element in the array</span></span><br><span class="line"><span class="hljs-comment">     * immediately following the end of the list is set to &#123;<span class="hljs-doctag">@code</span> null&#125;.</span></span><br><span class="line"><span class="hljs-comment">     * (This is useful in determining the length of the list &lt;i&gt;only&lt;/i&gt; if</span></span><br><span class="line"><span class="hljs-comment">     * the caller knows that the list does not contain any null elements.)</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;Like the &#123;<span class="hljs-doctag">@link</span> #toArray()&#125; method, this method acts as bridge between</span></span><br><span class="line"><span class="hljs-comment">     * array-based and collection-based APIs.  Further, this method allows</span></span><br><span class="line"><span class="hljs-comment">     * precise control over the runtime type of the output array, and may,</span></span><br><span class="line"><span class="hljs-comment">     * under certain circumstances, be used to save allocation costs.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;Suppose &#123;<span class="hljs-doctag">@code</span> x&#125; is a list known to contain only strings.</span></span><br><span class="line"><span class="hljs-comment">     * The following code can be used to dump the list into a newly</span></span><br><span class="line"><span class="hljs-comment">     * allocated array of &#123;<span class="hljs-doctag">@code</span> String&#125;:</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;pre&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     String[] y = x.toArray(new String[0]);&lt;/pre&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * Note that &#123;<span class="hljs-doctag">@code</span> toArray(new Object[0])&#125; is identical in function to</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@code</span> toArray()&#125;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> a the array into which the elements of the list are to</span></span><br><span class="line"><span class="hljs-comment">     *          be stored, if it is big enough; otherwise, a new array of the</span></span><br><span class="line"><span class="hljs-comment">     *          same runtime type is allocated for this purpose.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> an array containing the elements of the list</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> ArrayStoreException if the runtime type of the specified array</span></span><br><span class="line"><span class="hljs-comment">     *         is not a supertype of the runtime type of every element in</span></span><br><span class="line"><span class="hljs-comment">     *         this list</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> NullPointerException if the specified array is null</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-meta">@SuppressWarnings</span>(<span class="hljs-string">"unchecked"</span>)</span><br><span class="line">    <span class="hljs-keyword">public</span> &lt;T&gt; T[] toArray(T[] a) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (a.length &lt; size)</span><br><span class="line">            a = (T[])java.lang.reflect.Array.newInstance(</span><br><span class="line">                                a.getClass().getComponentType(), size);</span><br><span class="line">        <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;</span><br><span class="line">        Object[] result = a;</span><br><span class="line">        <span class="hljs-keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="hljs-keyword">null</span>; x = x.next)</span><br><span class="line">            result[i++] = x.item;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">if</span> (a.length &gt; size)</span><br><span class="line">            a[size] = <span class="hljs-keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> serialVersionUID = <span class="hljs-number">876323262645176354L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Saves the state of this &#123;<span class="hljs-doctag">@code</span> LinkedList&#125; instance to a stream</span></span><br><span class="line"><span class="hljs-comment">     * (that is, serializes it).</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@serialData</span> The size of the list (the number of elements it</span></span><br><span class="line"><span class="hljs-comment">     *             contains) is emitted (int), followed by all of its</span></span><br><span class="line"><span class="hljs-comment">     *             elements (each an Object) in the proper order.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">writeObject</span><span class="hljs-params">(java.io.ObjectOutputStream s)</span></span></span><br><span class="line"><span class="hljs-function">        <span class="hljs-keyword">throws</span> java.io.IOException </span>&#123;</span><br><span class="line">        <span class="hljs-comment">// Write out any hidden serialization magic</span></span><br><span class="line">        s.defaultWriteObject();</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// Write out size</span></span><br><span class="line">        s.writeInt(size);</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// Write out all elements in the proper order.</span></span><br><span class="line">        <span class="hljs-keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="hljs-keyword">null</span>; x = x.next)</span><br><span class="line">            s.writeObject(x.item);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Reconstitutes this &#123;<span class="hljs-doctag">@code</span> LinkedList&#125; instance from a stream</span></span><br><span class="line"><span class="hljs-comment">     * (that is, deserializes it).</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-meta">@SuppressWarnings</span>(<span class="hljs-string">"unchecked"</span>)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">readObject</span><span class="hljs-params">(java.io.ObjectInputStream s)</span></span></span><br><span class="line"><span class="hljs-function">        <span class="hljs-keyword">throws</span> java.io.IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">        <span class="hljs-comment">// Read in any hidden serialization magic</span></span><br><span class="line">        s.defaultReadObject();</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// Read in size</span></span><br><span class="line">        <span class="hljs-keyword">int</span> size = s.readInt();</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// Read in all elements in the proper order.</span></span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++)</span><br><span class="line">            linkLast((E)s.readObject());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Creates a &lt;em&gt;&lt;a href="Spliterator.html#binding"&gt;late-binding&lt;/a&gt;&lt;/em&gt;</span></span><br><span class="line"><span class="hljs-comment">     * and &lt;em&gt;fail-fast&lt;/em&gt; &#123;<span class="hljs-doctag">@link</span> Spliterator&#125; over the elements in this</span></span><br><span class="line"><span class="hljs-comment">     * list.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;The &#123;<span class="hljs-doctag">@code</span> Spliterator&#125; reports &#123;<span class="hljs-doctag">@link</span> Spliterator#SIZED&#125; and</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@link</span> Spliterator#ORDERED&#125;.  Overriding implementations should document</span></span><br><span class="line"><span class="hljs-comment">     * the reporting of additional characteristic values.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@implNote</span></span></span><br><span class="line"><span class="hljs-comment">     * The &#123;<span class="hljs-doctag">@code</span> Spliterator&#125; additionally reports &#123;<span class="hljs-doctag">@link</span> Spliterator#SUBSIZED&#125;</span></span><br><span class="line"><span class="hljs-comment">     * and implements &#123;<span class="hljs-doctag">@code</span> trySplit&#125; to permit limited parallelism..</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> a &#123;<span class="hljs-doctag">@code</span> Spliterator&#125; over the elements in this list</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.8</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> Spliterator&lt;E&gt; <span class="hljs-title">spliterator</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> LLSpliterator&lt;E&gt;(<span class="hljs-keyword">this</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/** A customized variant of Spliterators.IteratorSpliterator */</span></span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LLSpliterator</span>&lt;<span class="hljs-title">E</span>&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title">Spliterator</span>&lt;<span class="hljs-title">E</span>&gt; </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> BATCH_UNIT = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">10</span>;  <span class="hljs-comment">// batch array size increment</span></span><br><span class="line">        <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> MAX_BATCH = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">25</span>;  <span class="hljs-comment">// max batch array size;</span></span><br><span class="line">        <span class="hljs-keyword">final</span> LinkedList&lt;E&gt; list; <span class="hljs-comment">// null OK unless traversed</span></span><br><span class="line">        Node&lt;E&gt; current;      <span class="hljs-comment">// current node; null until initialized</span></span><br><span class="line">        <span class="hljs-keyword">int</span> est;              <span class="hljs-comment">// size estimate; -1 until first needed</span></span><br><span class="line">        <span class="hljs-keyword">int</span> expectedModCount; <span class="hljs-comment">// initialized when est set</span></span><br><span class="line">        <span class="hljs-keyword">int</span> batch;            <span class="hljs-comment">// batch size for splits</span></span><br><span class="line"></span><br><span class="line">        LLSpliterator(LinkedList&lt;E&gt; list, <span class="hljs-keyword">int</span> est, <span class="hljs-keyword">int</span> expectedModCount) &#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.list = list;</span><br><span class="line">            <span class="hljs-keyword">this</span>.est = est;</span><br><span class="line">            <span class="hljs-keyword">this</span>.expectedModCount = expectedModCount;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getEst</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> s; <span class="hljs-comment">// force initialization</span></span><br><span class="line">            <span class="hljs-keyword">final</span> LinkedList&lt;E&gt; lst;</span><br><span class="line">            <span class="hljs-keyword">if</span> ((s = est) &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> ((lst = list) == <span class="hljs-keyword">null</span>)</span><br><span class="line">                    s = est = <span class="hljs-number">0</span>;</span><br><span class="line">                <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    expectedModCount = lst.modCount;</span><br><span class="line">                    current = lst.first;</span><br><span class="line">                    s = est = lst.size;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">return</span> s;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> <span class="hljs-title">estimateSize</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-keyword">return</span> (<span class="hljs-keyword">long</span>) getEst(); &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> Spliterator&lt;E&gt; <span class="hljs-title">trySplit</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            Node&lt;E&gt; p;</span><br><span class="line">            <span class="hljs-keyword">int</span> s = getEst();</span><br><span class="line">            <span class="hljs-keyword">if</span> (s &gt; <span class="hljs-number">1</span> &amp;&amp; (p = current) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> n = batch + BATCH_UNIT;</span><br><span class="line">                <span class="hljs-keyword">if</span> (n &gt; s)</span><br><span class="line">                    n = s;</span><br><span class="line">                <span class="hljs-keyword">if</span> (n &gt; MAX_BATCH)</span><br><span class="line">                    n = MAX_BATCH;</span><br><span class="line">                Object[] a = <span class="hljs-keyword">new</span> Object[n];</span><br><span class="line">                <span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>;</span><br><span class="line">                <span class="hljs-keyword">do</span> &#123; a[j++] = p.item; &#125; <span class="hljs-keyword">while</span> ((p = p.next) != <span class="hljs-keyword">null</span> &amp;&amp; j &lt; n);</span><br><span class="line">                current = p;</span><br><span class="line">                batch = j;</span><br><span class="line">                est = s - j;</span><br><span class="line">                <span class="hljs-keyword">return</span> Spliterators.spliterator(a, <span class="hljs-number">0</span>, j, Spliterator.ORDERED);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">forEachRemaining</span><span class="hljs-params">(Consumer&lt;? <span class="hljs-keyword">super</span> E&gt; action)</span> </span>&#123;</span><br><span class="line">            Node&lt;E&gt; p; <span class="hljs-keyword">int</span> n;</span><br><span class="line">            <span class="hljs-keyword">if</span> (action == <span class="hljs-keyword">null</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();</span><br><span class="line">            <span class="hljs-keyword">if</span> ((n = getEst()) &gt; <span class="hljs-number">0</span> &amp;&amp; (p = current) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                current = <span class="hljs-keyword">null</span>;</span><br><span class="line">                est = <span class="hljs-number">0</span>;</span><br><span class="line">                <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">                    E e = p.item;</span><br><span class="line">                    p = p.next;</span><br><span class="line">                    action.accept(e);</span><br><span class="line">                &#125; <span class="hljs-keyword">while</span> (p != <span class="hljs-keyword">null</span> &amp;&amp; --n &gt; <span class="hljs-number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">if</span> (list.modCount != expectedModCount)</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">tryAdvance</span><span class="hljs-params">(Consumer&lt;? <span class="hljs-keyword">super</span> E&gt; action)</span> </span>&#123;</span><br><span class="line">            Node&lt;E&gt; p;</span><br><span class="line">            <span class="hljs-keyword">if</span> (action == <span class="hljs-keyword">null</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();</span><br><span class="line">            <span class="hljs-keyword">if</span> (getEst() &gt; <span class="hljs-number">0</span> &amp;&amp; (p = current) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                --est;</span><br><span class="line">                E e = p.item;</span><br><span class="line">                current = p.next;</span><br><span class="line">                action.accept(e);</span><br><span class="line">                <span class="hljs-keyword">if</span> (list.modCount != expectedModCount)</span><br><span class="line">                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">characteristics</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> Spliterator.ORDERED | Spliterator.SIZED | Spliterator.SUBSIZED;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-23T03:50:26.000Z">2019-09-23</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    1 小时 读完 (大约 9054 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/23/HashMap类/">HashMap类</a>
            
        </h1>
        <div class="content">
            <h1 id="HashMap类"><a href="#HashMap类" class="headerlink" title="HashMap类"></a>HashMap类</h1><p><img src="/images/2019/09/23/2728b8b0-ddb5-11e9-82dd-cd65309cd62c.png" alt="image.png"></p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br><span class="line">1257</span><br><span class="line">1258</span><br><span class="line">1259</span><br><span class="line">1260</span><br><span class="line">1261</span><br><span class="line">1262</span><br><span class="line">1263</span><br><span class="line">1264</span><br><span class="line">1265</span><br><span class="line">1266</span><br><span class="line">1267</span><br><span class="line">1268</span><br><span class="line">1269</span><br><span class="line">1270</span><br><span class="line">1271</span><br><span class="line">1272</span><br><span class="line">1273</span><br><span class="line">1274</span><br><span class="line">1275</span><br><span class="line">1276</span><br><span class="line">1277</span><br><span class="line">1278</span><br><span class="line">1279</span><br><span class="line">1280</span><br><span class="line">1281</span><br><span class="line">1282</span><br><span class="line">1283</span><br><span class="line">1284</span><br><span class="line">1285</span><br><span class="line">1286</span><br><span class="line">1287</span><br><span class="line">1288</span><br><span class="line">1289</span><br><span class="line">1290</span><br><span class="line">1291</span><br><span class="line">1292</span><br><span class="line">1293</span><br><span class="line">1294</span><br><span class="line">1295</span><br><span class="line">1296</span><br><span class="line">1297</span><br><span class="line">1298</span><br><span class="line">1299</span><br><span class="line">1300</span><br><span class="line">1301</span><br><span class="line">1302</span><br><span class="line">1303</span><br><span class="line">1304</span><br><span class="line">1305</span><br><span class="line">1306</span><br><span class="line">1307</span><br><span class="line">1308</span><br><span class="line">1309</span><br><span class="line">1310</span><br><span class="line">1311</span><br><span class="line">1312</span><br><span class="line">1313</span><br><span class="line">1314</span><br><span class="line">1315</span><br><span class="line">1316</span><br><span class="line">1317</span><br><span class="line">1318</span><br><span class="line">1319</span><br><span class="line">1320</span><br><span class="line">1321</span><br><span class="line">1322</span><br><span class="line">1323</span><br><span class="line">1324</span><br><span class="line">1325</span><br><span class="line">1326</span><br><span class="line">1327</span><br><span class="line">1328</span><br><span class="line">1329</span><br><span class="line">1330</span><br><span class="line">1331</span><br><span class="line">1332</span><br><span class="line">1333</span><br><span class="line">1334</span><br><span class="line">1335</span><br><span class="line">1336</span><br><span class="line">1337</span><br><span class="line">1338</span><br><span class="line">1339</span><br><span class="line">1340</span><br><span class="line">1341</span><br><span class="line">1342</span><br><span class="line">1343</span><br><span class="line">1344</span><br><span class="line">1345</span><br><span class="line">1346</span><br><span class="line">1347</span><br><span class="line">1348</span><br><span class="line">1349</span><br><span class="line">1350</span><br><span class="line">1351</span><br><span class="line">1352</span><br><span class="line">1353</span><br><span class="line">1354</span><br><span class="line">1355</span><br><span class="line">1356</span><br><span class="line">1357</span><br><span class="line">1358</span><br><span class="line">1359</span><br><span class="line">1360</span><br><span class="line">1361</span><br><span class="line">1362</span><br><span class="line">1363</span><br><span class="line">1364</span><br><span class="line">1365</span><br><span class="line">1366</span><br><span class="line">1367</span><br><span class="line">1368</span><br><span class="line">1369</span><br><span class="line">1370</span><br><span class="line">1371</span><br><span class="line">1372</span><br><span class="line">1373</span><br><span class="line">1374</span><br><span class="line">1375</span><br><span class="line">1376</span><br><span class="line">1377</span><br><span class="line">1378</span><br><span class="line">1379</span><br><span class="line">1380</span><br><span class="line">1381</span><br><span class="line">1382</span><br><span class="line">1383</span><br><span class="line">1384</span><br><span class="line">1385</span><br><span class="line">1386</span><br><span class="line">1387</span><br><span class="line">1388</span><br><span class="line">1389</span><br><span class="line">1390</span><br><span class="line">1391</span><br><span class="line">1392</span><br><span class="line">1393</span><br><span class="line">1394</span><br><span class="line">1395</span><br><span class="line">1396</span><br><span class="line">1397</span><br><span class="line">1398</span><br><span class="line">1399</span><br><span class="line">1400</span><br><span class="line">1401</span><br><span class="line">1402</span><br><span class="line">1403</span><br><span class="line">1404</span><br><span class="line">1405</span><br><span class="line">1406</span><br><span class="line">1407</span><br><span class="line">1408</span><br><span class="line">1409</span><br><span class="line">1410</span><br><span class="line">1411</span><br><span class="line">1412</span><br><span class="line">1413</span><br><span class="line">1414</span><br><span class="line">1415</span><br><span class="line">1416</span><br><span class="line">1417</span><br><span class="line">1418</span><br><span class="line">1419</span><br><span class="line">1420</span><br><span class="line">1421</span><br><span class="line">1422</span><br><span class="line">1423</span><br><span class="line">1424</span><br><span class="line">1425</span><br><span class="line">1426</span><br><span class="line">1427</span><br><span class="line">1428</span><br><span class="line">1429</span><br><span class="line">1430</span><br><span class="line">1431</span><br><span class="line">1432</span><br><span class="line">1433</span><br><span class="line">1434</span><br><span class="line">1435</span><br><span class="line">1436</span><br><span class="line">1437</span><br><span class="line">1438</span><br><span class="line">1439</span><br><span class="line">1440</span><br><span class="line">1441</span><br><span class="line">1442</span><br><span class="line">1443</span><br><span class="line">1444</span><br><span class="line">1445</span><br><span class="line">1446</span><br><span class="line">1447</span><br><span class="line">1448</span><br><span class="line">1449</span><br><span class="line">1450</span><br><span class="line">1451</span><br><span class="line">1452</span><br><span class="line">1453</span><br><span class="line">1454</span><br><span class="line">1455</span><br><span class="line">1456</span><br><span class="line">1457</span><br><span class="line">1458</span><br><span class="line">1459</span><br><span class="line">1460</span><br><span class="line">1461</span><br><span class="line">1462</span><br><span class="line">1463</span><br><span class="line">1464</span><br><span class="line">1465</span><br><span class="line">1466</span><br><span class="line">1467</span><br><span class="line">1468</span><br><span class="line">1469</span><br><span class="line">1470</span><br><span class="line">1471</span><br><span class="line">1472</span><br><span class="line">1473</span><br><span class="line">1474</span><br><span class="line">1475</span><br><span class="line">1476</span><br><span class="line">1477</span><br><span class="line">1478</span><br><span class="line">1479</span><br><span class="line">1480</span><br><span class="line">1481</span><br><span class="line">1482</span><br><span class="line">1483</span><br><span class="line">1484</span><br><span class="line">1485</span><br><span class="line">1486</span><br><span class="line">1487</span><br><span class="line">1488</span><br><span class="line">1489</span><br><span class="line">1490</span><br><span class="line">1491</span><br><span class="line">1492</span><br><span class="line">1493</span><br><span class="line">1494</span><br><span class="line">1495</span><br><span class="line">1496</span><br><span class="line">1497</span><br><span class="line">1498</span><br><span class="line">1499</span><br><span class="line">1500</span><br><span class="line">1501</span><br><span class="line">1502</span><br><span class="line">1503</span><br><span class="line">1504</span><br><span class="line">1505</span><br><span class="line">1506</span><br><span class="line">1507</span><br><span class="line">1508</span><br><span class="line">1509</span><br><span class="line">1510</span><br><span class="line">1511</span><br><span class="line">1512</span><br><span class="line">1513</span><br><span class="line">1514</span><br><span class="line">1515</span><br><span class="line">1516</span><br><span class="line">1517</span><br><span class="line">1518</span><br><span class="line">1519</span><br><span class="line">1520</span><br><span class="line">1521</span><br><span class="line">1522</span><br><span class="line">1523</span><br><span class="line">1524</span><br><span class="line">1525</span><br><span class="line">1526</span><br><span class="line">1527</span><br><span class="line">1528</span><br><span class="line">1529</span><br><span class="line">1530</span><br><span class="line">1531</span><br><span class="line">1532</span><br><span class="line">1533</span><br><span class="line">1534</span><br><span class="line">1535</span><br><span class="line">1536</span><br><span class="line">1537</span><br><span class="line">1538</span><br><span class="line">1539</span><br><span class="line">1540</span><br><span class="line">1541</span><br><span class="line">1542</span><br><span class="line">1543</span><br><span class="line">1544</span><br><span class="line">1545</span><br><span class="line">1546</span><br><span class="line">1547</span><br><span class="line">1548</span><br><span class="line">1549</span><br><span class="line">1550</span><br><span class="line">1551</span><br><span class="line">1552</span><br><span class="line">1553</span><br><span class="line">1554</span><br><span class="line">1555</span><br><span class="line">1556</span><br><span class="line">1557</span><br><span class="line">1558</span><br><span class="line">1559</span><br><span class="line">1560</span><br><span class="line">1561</span><br><span class="line">1562</span><br><span class="line">1563</span><br><span class="line">1564</span><br><span class="line">1565</span><br><span class="line">1566</span><br><span class="line">1567</span><br><span class="line">1568</span><br><span class="line">1569</span><br><span class="line">1570</span><br><span class="line">1571</span><br><span class="line">1572</span><br><span class="line">1573</span><br><span class="line">1574</span><br><span class="line">1575</span><br><span class="line">1576</span><br><span class="line">1577</span><br><span class="line">1578</span><br><span class="line">1579</span><br><span class="line">1580</span><br><span class="line">1581</span><br><span class="line">1582</span><br><span class="line">1583</span><br><span class="line">1584</span><br><span class="line">1585</span><br><span class="line">1586</span><br><span class="line">1587</span><br><span class="line">1588</span><br><span class="line">1589</span><br><span class="line">1590</span><br><span class="line">1591</span><br><span class="line">1592</span><br><span class="line">1593</span><br><span class="line">1594</span><br><span class="line">1595</span><br><span class="line">1596</span><br><span class="line">1597</span><br><span class="line">1598</span><br><span class="line">1599</span><br><span class="line">1600</span><br><span class="line">1601</span><br><span class="line">1602</span><br><span class="line">1603</span><br><span class="line">1604</span><br><span class="line">1605</span><br><span class="line">1606</span><br><span class="line">1607</span><br><span class="line">1608</span><br><span class="line">1609</span><br><span class="line">1610</span><br><span class="line">1611</span><br><span class="line">1612</span><br><span class="line">1613</span><br><span class="line">1614</span><br><span class="line">1615</span><br><span class="line">1616</span><br><span class="line">1617</span><br><span class="line">1618</span><br><span class="line">1619</span><br><span class="line">1620</span><br><span class="line">1621</span><br><span class="line">1622</span><br><span class="line">1623</span><br><span class="line">1624</span><br><span class="line">1625</span><br><span class="line">1626</span><br><span class="line">1627</span><br><span class="line">1628</span><br><span class="line">1629</span><br><span class="line">1630</span><br><span class="line">1631</span><br><span class="line">1632</span><br><span class="line">1633</span><br><span class="line">1634</span><br><span class="line">1635</span><br><span class="line">1636</span><br><span class="line">1637</span><br><span class="line">1638</span><br><span class="line">1639</span><br><span class="line">1640</span><br><span class="line">1641</span><br><span class="line">1642</span><br><span class="line">1643</span><br><span class="line">1644</span><br><span class="line">1645</span><br><span class="line">1646</span><br><span class="line">1647</span><br><span class="line">1648</span><br><span class="line">1649</span><br><span class="line">1650</span><br><span class="line">1651</span><br><span class="line">1652</span><br><span class="line">1653</span><br><span class="line">1654</span><br><span class="line">1655</span><br><span class="line">1656</span><br><span class="line">1657</span><br><span class="line">1658</span><br><span class="line">1659</span><br><span class="line">1660</span><br><span class="line">1661</span><br><span class="line">1662</span><br><span class="line">1663</span><br><span class="line">1664</span><br><span class="line">1665</span><br><span class="line">1666</span><br><span class="line">1667</span><br><span class="line">1668</span><br><span class="line">1669</span><br><span class="line">1670</span><br><span class="line">1671</span><br><span class="line">1672</span><br><span class="line">1673</span><br><span class="line">1674</span><br><span class="line">1675</span><br><span class="line">1676</span><br><span class="line">1677</span><br><span class="line">1678</span><br><span class="line">1679</span><br><span class="line">1680</span><br><span class="line">1681</span><br><span class="line">1682</span><br><span class="line">1683</span><br><span class="line">1684</span><br><span class="line">1685</span><br><span class="line">1686</span><br><span class="line">1687</span><br><span class="line">1688</span><br><span class="line">1689</span><br><span class="line">1690</span><br><span class="line">1691</span><br><span class="line">1692</span><br><span class="line">1693</span><br><span class="line">1694</span><br><span class="line">1695</span><br><span class="line">1696</span><br><span class="line">1697</span><br><span class="line">1698</span><br><span class="line">1699</span><br><span class="line">1700</span><br><span class="line">1701</span><br><span class="line">1702</span><br><span class="line">1703</span><br><span class="line">1704</span><br><span class="line">1705</span><br><span class="line">1706</span><br><span class="line">1707</span><br><span class="line">1708</span><br><span class="line">1709</span><br><span class="line">1710</span><br><span class="line">1711</span><br><span class="line">1712</span><br><span class="line">1713</span><br><span class="line">1714</span><br><span class="line">1715</span><br><span class="line">1716</span><br><span class="line">1717</span><br><span class="line">1718</span><br><span class="line">1719</span><br><span class="line">1720</span><br><span class="line">1721</span><br><span class="line">1722</span><br><span class="line">1723</span><br><span class="line">1724</span><br><span class="line">1725</span><br><span class="line">1726</span><br><span class="line">1727</span><br><span class="line">1728</span><br><span class="line">1729</span><br><span class="line">1730</span><br><span class="line">1731</span><br><span class="line">1732</span><br><span class="line">1733</span><br><span class="line">1734</span><br><span class="line">1735</span><br><span class="line">1736</span><br><span class="line">1737</span><br><span class="line">1738</span><br><span class="line">1739</span><br><span class="line">1740</span><br><span class="line">1741</span><br><span class="line">1742</span><br><span class="line">1743</span><br><span class="line">1744</span><br><span class="line">1745</span><br><span class="line">1746</span><br><span class="line">1747</span><br><span class="line">1748</span><br><span class="line">1749</span><br><span class="line">1750</span><br><span class="line">1751</span><br><span class="line">1752</span><br><span class="line">1753</span><br><span class="line">1754</span><br><span class="line">1755</span><br><span class="line">1756</span><br><span class="line">1757</span><br><span class="line">1758</span><br><span class="line">1759</span><br><span class="line">1760</span><br><span class="line">1761</span><br><span class="line">1762</span><br><span class="line">1763</span><br><span class="line">1764</span><br><span class="line">1765</span><br><span class="line">1766</span><br><span class="line">1767</span><br><span class="line">1768</span><br><span class="line">1769</span><br><span class="line">1770</span><br><span class="line">1771</span><br><span class="line">1772</span><br><span class="line">1773</span><br><span class="line">1774</span><br><span class="line">1775</span><br><span class="line">1776</span><br><span class="line">1777</span><br><span class="line">1778</span><br><span class="line">1779</span><br><span class="line">1780</span><br><span class="line">1781</span><br><span class="line">1782</span><br><span class="line">1783</span><br><span class="line">1784</span><br><span class="line">1785</span><br><span class="line">1786</span><br><span class="line">1787</span><br><span class="line">1788</span><br><span class="line">1789</span><br><span class="line">1790</span><br><span class="line">1791</span><br><span class="line">1792</span><br><span class="line">1793</span><br><span class="line">1794</span><br><span class="line">1795</span><br><span class="line">1796</span><br><span class="line">1797</span><br><span class="line">1798</span><br><span class="line">1799</span><br><span class="line">1800</span><br><span class="line">1801</span><br><span class="line">1802</span><br><span class="line">1803</span><br><span class="line">1804</span><br><span class="line">1805</span><br><span class="line">1806</span><br><span class="line">1807</span><br><span class="line">1808</span><br><span class="line">1809</span><br><span class="line">1810</span><br><span class="line">1811</span><br><span class="line">1812</span><br><span class="line">1813</span><br><span class="line">1814</span><br><span class="line">1815</span><br><span class="line">1816</span><br><span class="line">1817</span><br><span class="line">1818</span><br><span class="line">1819</span><br><span class="line">1820</span><br><span class="line">1821</span><br><span class="line">1822</span><br><span class="line">1823</span><br><span class="line">1824</span><br><span class="line">1825</span><br><span class="line">1826</span><br><span class="line">1827</span><br><span class="line">1828</span><br><span class="line">1829</span><br><span class="line">1830</span><br><span class="line">1831</span><br><span class="line">1832</span><br><span class="line">1833</span><br><span class="line">1834</span><br><span class="line">1835</span><br><span class="line">1836</span><br><span class="line">1837</span><br><span class="line">1838</span><br><span class="line">1839</span><br><span class="line">1840</span><br><span class="line">1841</span><br><span class="line">1842</span><br><span class="line">1843</span><br><span class="line">1844</span><br><span class="line">1845</span><br><span class="line">1846</span><br><span class="line">1847</span><br><span class="line">1848</span><br><span class="line">1849</span><br><span class="line">1850</span><br><span class="line">1851</span><br><span class="line">1852</span><br><span class="line">1853</span><br><span class="line">1854</span><br><span class="line">1855</span><br><span class="line">1856</span><br><span class="line">1857</span><br><span class="line">1858</span><br><span class="line">1859</span><br><span class="line">1860</span><br><span class="line">1861</span><br><span class="line">1862</span><br><span class="line">1863</span><br><span class="line">1864</span><br><span class="line">1865</span><br><span class="line">1866</span><br><span class="line">1867</span><br><span class="line">1868</span><br><span class="line">1869</span><br><span class="line">1870</span><br><span class="line">1871</span><br><span class="line">1872</span><br><span class="line">1873</span><br><span class="line">1874</span><br><span class="line">1875</span><br><span class="line">1876</span><br><span class="line">1877</span><br><span class="line">1878</span><br><span class="line">1879</span><br><span class="line">1880</span><br><span class="line">1881</span><br><span class="line">1882</span><br><span class="line">1883</span><br><span class="line">1884</span><br><span class="line">1885</span><br><span class="line">1886</span><br><span class="line">1887</span><br><span class="line">1888</span><br><span class="line">1889</span><br><span class="line">1890</span><br><span class="line">1891</span><br><span class="line">1892</span><br><span class="line">1893</span><br><span class="line">1894</span><br><span class="line">1895</span><br><span class="line">1896</span><br><span class="line">1897</span><br><span class="line">1898</span><br><span class="line">1899</span><br><span class="line">1900</span><br><span class="line">1901</span><br><span class="line">1902</span><br><span class="line">1903</span><br><span class="line">1904</span><br><span class="line">1905</span><br><span class="line">1906</span><br><span class="line">1907</span><br><span class="line">1908</span><br><span class="line">1909</span><br><span class="line">1910</span><br><span class="line">1911</span><br><span class="line">1912</span><br><span class="line">1913</span><br><span class="line">1914</span><br><span class="line">1915</span><br><span class="line">1916</span><br><span class="line">1917</span><br><span class="line">1918</span><br><span class="line">1919</span><br><span class="line">1920</span><br><span class="line">1921</span><br><span class="line">1922</span><br><span class="line">1923</span><br><span class="line">1924</span><br><span class="line">1925</span><br><span class="line">1926</span><br><span class="line">1927</span><br><span class="line">1928</span><br><span class="line">1929</span><br><span class="line">1930</span><br><span class="line">1931</span><br><span class="line">1932</span><br><span class="line">1933</span><br><span class="line">1934</span><br><span class="line">1935</span><br><span class="line">1936</span><br><span class="line">1937</span><br><span class="line">1938</span><br><span class="line">1939</span><br><span class="line">1940</span><br><span class="line">1941</span><br><span class="line">1942</span><br><span class="line">1943</span><br><span class="line">1944</span><br><span class="line">1945</span><br><span class="line">1946</span><br><span class="line">1947</span><br><span class="line">1948</span><br><span class="line">1949</span><br><span class="line">1950</span><br><span class="line">1951</span><br><span class="line">1952</span><br><span class="line">1953</span><br><span class="line">1954</span><br><span class="line">1955</span><br><span class="line">1956</span><br><span class="line">1957</span><br><span class="line">1958</span><br><span class="line">1959</span><br><span class="line">1960</span><br><span class="line">1961</span><br><span class="line">1962</span><br><span class="line">1963</span><br><span class="line">1964</span><br><span class="line">1965</span><br><span class="line">1966</span><br><span class="line">1967</span><br><span class="line">1968</span><br><span class="line">1969</span><br><span class="line">1970</span><br><span class="line">1971</span><br><span class="line">1972</span><br><span class="line">1973</span><br><span class="line">1974</span><br><span class="line">1975</span><br><span class="line">1976</span><br><span class="line">1977</span><br><span class="line">1978</span><br><span class="line">1979</span><br><span class="line">1980</span><br><span class="line">1981</span><br><span class="line">1982</span><br><span class="line">1983</span><br><span class="line">1984</span><br><span class="line">1985</span><br><span class="line">1986</span><br><span class="line">1987</span><br><span class="line">1988</span><br><span class="line">1989</span><br><span class="line">1990</span><br><span class="line">1991</span><br><span class="line">1992</span><br><span class="line">1993</span><br><span class="line">1994</span><br><span class="line">1995</span><br><span class="line">1996</span><br><span class="line">1997</span><br><span class="line">1998</span><br><span class="line">1999</span><br><span class="line">2000</span><br><span class="line">2001</span><br><span class="line">2002</span><br><span class="line">2003</span><br><span class="line">2004</span><br><span class="line">2005</span><br><span class="line">2006</span><br><span class="line">2007</span><br><span class="line">2008</span><br><span class="line">2009</span><br><span class="line">2010</span><br><span class="line">2011</span><br><span class="line">2012</span><br><span class="line">2013</span><br><span class="line">2014</span><br><span class="line">2015</span><br><span class="line">2016</span><br><span class="line">2017</span><br><span class="line">2018</span><br><span class="line">2019</span><br><span class="line">2020</span><br><span class="line">2021</span><br><span class="line">2022</span><br><span class="line">2023</span><br><span class="line">2024</span><br><span class="line">2025</span><br><span class="line">2026</span><br><span class="line">2027</span><br><span class="line">2028</span><br><span class="line">2029</span><br><span class="line">2030</span><br><span class="line">2031</span><br><span class="line">2032</span><br><span class="line">2033</span><br><span class="line">2034</span><br><span class="line">2035</span><br><span class="line">2036</span><br><span class="line">2037</span><br><span class="line">2038</span><br><span class="line">2039</span><br><span class="line">2040</span><br><span class="line">2041</span><br><span class="line">2042</span><br><span class="line">2043</span><br><span class="line">2044</span><br><span class="line">2045</span><br><span class="line">2046</span><br><span class="line">2047</span><br><span class="line">2048</span><br><span class="line">2049</span><br><span class="line">2050</span><br><span class="line">2051</span><br><span class="line">2052</span><br><span class="line">2053</span><br><span class="line">2054</span><br><span class="line">2055</span><br><span class="line">2056</span><br><span class="line">2057</span><br><span class="line">2058</span><br><span class="line">2059</span><br><span class="line">2060</span><br><span class="line">2061</span><br><span class="line">2062</span><br><span class="line">2063</span><br><span class="line">2064</span><br><span class="line">2065</span><br><span class="line">2066</span><br><span class="line">2067</span><br><span class="line">2068</span><br><span class="line">2069</span><br><span class="line">2070</span><br><span class="line">2071</span><br><span class="line">2072</span><br><span class="line">2073</span><br><span class="line">2074</span><br><span class="line">2075</span><br><span class="line">2076</span><br><span class="line">2077</span><br><span class="line">2078</span><br><span class="line">2079</span><br><span class="line">2080</span><br><span class="line">2081</span><br><span class="line">2082</span><br><span class="line">2083</span><br><span class="line">2084</span><br><span class="line">2085</span><br><span class="line">2086</span><br><span class="line">2087</span><br><span class="line">2088</span><br><span class="line">2089</span><br><span class="line">2090</span><br><span class="line">2091</span><br><span class="line">2092</span><br><span class="line">2093</span><br><span class="line">2094</span><br><span class="line">2095</span><br><span class="line">2096</span><br><span class="line">2097</span><br><span class="line">2098</span><br><span class="line">2099</span><br><span class="line">2100</span><br><span class="line">2101</span><br><span class="line">2102</span><br><span class="line">2103</span><br><span class="line">2104</span><br><span class="line">2105</span><br><span class="line">2106</span><br><span class="line">2107</span><br><span class="line">2108</span><br><span class="line">2109</span><br><span class="line">2110</span><br><span class="line">2111</span><br><span class="line">2112</span><br><span class="line">2113</span><br><span class="line">2114</span><br><span class="line">2115</span><br><span class="line">2116</span><br><span class="line">2117</span><br><span class="line">2118</span><br><span class="line">2119</span><br><span class="line">2120</span><br><span class="line">2121</span><br><span class="line">2122</span><br><span class="line">2123</span><br><span class="line">2124</span><br><span class="line">2125</span><br><span class="line">2126</span><br><span class="line">2127</span><br><span class="line">2128</span><br><span class="line">2129</span><br><span class="line">2130</span><br><span class="line">2131</span><br><span class="line">2132</span><br><span class="line">2133</span><br><span class="line">2134</span><br><span class="line">2135</span><br><span class="line">2136</span><br><span class="line">2137</span><br><span class="line">2138</span><br><span class="line">2139</span><br><span class="line">2140</span><br><span class="line">2141</span><br><span class="line">2142</span><br><span class="line">2143</span><br><span class="line">2144</span><br><span class="line">2145</span><br><span class="line">2146</span><br><span class="line">2147</span><br><span class="line">2148</span><br><span class="line">2149</span><br><span class="line">2150</span><br><span class="line">2151</span><br><span class="line">2152</span><br><span class="line">2153</span><br><span class="line">2154</span><br><span class="line">2155</span><br><span class="line">2156</span><br><span class="line">2157</span><br><span class="line">2158</span><br><span class="line">2159</span><br><span class="line">2160</span><br><span class="line">2161</span><br><span class="line">2162</span><br><span class="line">2163</span><br><span class="line">2164</span><br><span class="line">2165</span><br><span class="line">2166</span><br><span class="line">2167</span><br><span class="line">2168</span><br><span class="line">2169</span><br><span class="line">2170</span><br><span class="line">2171</span><br><span class="line">2172</span><br><span class="line">2173</span><br><span class="line">2174</span><br><span class="line">2175</span><br><span class="line">2176</span><br><span class="line">2177</span><br><span class="line">2178</span><br><span class="line">2179</span><br><span class="line">2180</span><br><span class="line">2181</span><br><span class="line">2182</span><br><span class="line">2183</span><br><span class="line">2184</span><br><span class="line">2185</span><br><span class="line">2186</span><br><span class="line">2187</span><br><span class="line">2188</span><br><span class="line">2189</span><br><span class="line">2190</span><br><span class="line">2191</span><br><span class="line">2192</span><br><span class="line">2193</span><br><span class="line">2194</span><br><span class="line">2195</span><br><span class="line">2196</span><br><span class="line">2197</span><br><span class="line">2198</span><br><span class="line">2199</span><br><span class="line">2200</span><br><span class="line">2201</span><br><span class="line">2202</span><br><span class="line">2203</span><br><span class="line">2204</span><br><span class="line">2205</span><br><span class="line">2206</span><br><span class="line">2207</span><br><span class="line">2208</span><br><span class="line">2209</span><br><span class="line">2210</span><br><span class="line">2211</span><br><span class="line">2212</span><br><span class="line">2213</span><br><span class="line">2214</span><br><span class="line">2215</span><br><span class="line">2216</span><br><span class="line">2217</span><br><span class="line">2218</span><br><span class="line">2219</span><br><span class="line">2220</span><br><span class="line">2221</span><br><span class="line">2222</span><br><span class="line">2223</span><br><span class="line">2224</span><br><span class="line">2225</span><br><span class="line">2226</span><br><span class="line">2227</span><br><span class="line">2228</span><br><span class="line">2229</span><br><span class="line">2230</span><br><span class="line">2231</span><br><span class="line">2232</span><br><span class="line">2233</span><br><span class="line">2234</span><br><span class="line">2235</span><br><span class="line">2236</span><br><span class="line">2237</span><br><span class="line">2238</span><br><span class="line">2239</span><br><span class="line">2240</span><br><span class="line">2241</span><br><span class="line">2242</span><br><span class="line">2243</span><br><span class="line">2244</span><br><span class="line">2245</span><br><span class="line">2246</span><br><span class="line">2247</span><br><span class="line">2248</span><br><span class="line">2249</span><br><span class="line">2250</span><br><span class="line">2251</span><br><span class="line">2252</span><br><span class="line">2253</span><br><span class="line">2254</span><br><span class="line">2255</span><br><span class="line">2256</span><br><span class="line">2257</span><br><span class="line">2258</span><br><span class="line">2259</span><br><span class="line">2260</span><br><span class="line">2261</span><br><span class="line">2262</span><br><span class="line">2263</span><br><span class="line">2264</span><br><span class="line">2265</span><br><span class="line">2266</span><br><span class="line">2267</span><br><span class="line">2268</span><br><span class="line">2269</span><br><span class="line">2270</span><br><span class="line">2271</span><br><span class="line">2272</span><br><span class="line">2273</span><br><span class="line">2274</span><br><span class="line">2275</span><br><span class="line">2276</span><br><span class="line">2277</span><br><span class="line">2278</span><br><span class="line">2279</span><br><span class="line">2280</span><br><span class="line">2281</span><br><span class="line">2282</span><br><span class="line">2283</span><br><span class="line">2284</span><br><span class="line">2285</span><br><span class="line">2286</span><br><span class="line">2287</span><br><span class="line">2288</span><br><span class="line">2289</span><br><span class="line">2290</span><br><span class="line">2291</span><br><span class="line">2292</span><br><span class="line">2293</span><br><span class="line">2294</span><br><span class="line">2295</span><br><span class="line">2296</span><br><span class="line">2297</span><br><span class="line">2298</span><br><span class="line">2299</span><br><span class="line">2300</span><br><span class="line">2301</span><br><span class="line">2302</span><br><span class="line">2303</span><br><span class="line">2304</span><br><span class="line">2305</span><br><span class="line">2306</span><br><span class="line">2307</span><br><span class="line">2308</span><br><span class="line">2309</span><br><span class="line">2310</span><br><span class="line">2311</span><br><span class="line">2312</span><br><span class="line">2313</span><br><span class="line">2314</span><br><span class="line">2315</span><br><span class="line">2316</span><br><span class="line">2317</span><br><span class="line">2318</span><br><span class="line">2319</span><br><span class="line">2320</span><br><span class="line">2321</span><br><span class="line">2322</span><br><span class="line">2323</span><br><span class="line">2324</span><br><span class="line">2325</span><br><span class="line">2326</span><br><span class="line">2327</span><br><span class="line">2328</span><br><span class="line">2329</span><br><span class="line">2330</span><br><span class="line">2331</span><br><span class="line">2332</span><br><span class="line">2333</span><br><span class="line">2334</span><br><span class="line">2335</span><br><span class="line">2336</span><br><span class="line">2337</span><br><span class="line">2338</span><br><span class="line">2339</span><br><span class="line">2340</span><br><span class="line">2341</span><br><span class="line">2342</span><br><span class="line">2343</span><br><span class="line">2344</span><br><span class="line">2345</span><br><span class="line">2346</span><br><span class="line">2347</span><br><span class="line">2348</span><br><span class="line">2349</span><br><span class="line">2350</span><br><span class="line">2351</span><br><span class="line">2352</span><br><span class="line">2353</span><br><span class="line">2354</span><br><span class="line">2355</span><br><span class="line">2356</span><br><span class="line">2357</span><br><span class="line">2358</span><br><span class="line">2359</span><br><span class="line">2360</span><br><span class="line">2361</span><br><span class="line">2362</span><br><span class="line">2363</span><br><span class="line">2364</span><br><span class="line">2365</span><br><span class="line">2366</span><br><span class="line">2367</span><br><span class="line">2368</span><br><span class="line">2369</span><br><span class="line">2370</span><br><span class="line">2371</span><br><span class="line">2372</span><br><span class="line">2373</span><br><span class="line">2374</span><br><span class="line">2375</span><br><span class="line">2376</span><br><span class="line">2377</span><br><span class="line">2378</span><br><span class="line">2379</span><br><span class="line">2380</span><br><span class="line">2381</span><br><span class="line">2382</span><br><span class="line">2383</span><br><span class="line">2384</span><br><span class="line">2385</span><br><span class="line">2386</span><br><span class="line">2387</span><br><span class="line">2388</span><br><span class="line">2389</span><br><span class="line">2390</span><br><span class="line">2391</span><br><span class="line">2392</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">/*</span></span><br><span class="line"><span class="hljs-comment"> * Copyright (c) 1997, 2017, Oracle and/or its affiliates. All rights reserved.</span></span><br><span class="line"><span class="hljs-comment"> * ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">package</span> java.util;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="hljs-keyword">import</span> java.io.InvalidObjectException;</span><br><span class="line"><span class="hljs-keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="hljs-keyword">import</span> java.lang.reflect.ParameterizedType;</span><br><span class="line"><span class="hljs-keyword">import</span> java.lang.reflect.Type;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.function.BiConsumer;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.function.BiFunction;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.function.Consumer;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.function.Function;</span><br><span class="line"><span class="hljs-keyword">import</span> sun.misc.SharedSecrets;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * Hash table based implementation of the &lt;tt&gt;Map&lt;/tt&gt; interface.  This</span></span><br><span class="line"><span class="hljs-comment"> * implementation provides all of the optional map operations, and permits</span></span><br><span class="line"><span class="hljs-comment"> * &lt;tt&gt;null&lt;/tt&gt; values and the &lt;tt&gt;null&lt;/tt&gt; key.  (The &lt;tt&gt;HashMap&lt;/tt&gt;</span></span><br><span class="line"><span class="hljs-comment"> * class is roughly equivalent to &lt;tt&gt;Hashtable&lt;/tt&gt;, except that it is</span></span><br><span class="line"><span class="hljs-comment"> * unsynchronized and permits nulls.)  This class makes no guarantees as to</span></span><br><span class="line"><span class="hljs-comment"> * the order of the map; in particular, it does not guarantee that the order</span></span><br><span class="line"><span class="hljs-comment"> * will remain constant over time.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * &lt;p&gt;This implementation provides constant-time performance for the basic</span></span><br><span class="line"><span class="hljs-comment"> * operations (&lt;tt&gt;get&lt;/tt&gt; and &lt;tt&gt;put&lt;/tt&gt;), assuming the hash function</span></span><br><span class="line"><span class="hljs-comment"> * disperses the elements properly among the buckets.  Iteration over</span></span><br><span class="line"><span class="hljs-comment"> * collection views requires time proportional to the "capacity" of the</span></span><br><span class="line"><span class="hljs-comment"> * &lt;tt&gt;HashMap&lt;/tt&gt; instance (the number of buckets) plus its size (the number</span></span><br><span class="line"><span class="hljs-comment"> * of key-value mappings).  Thus, it's very important not to set the initial</span></span><br><span class="line"><span class="hljs-comment"> * capacity too high (or the load factor too low) if iteration performance is</span></span><br><span class="line"><span class="hljs-comment"> * important.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * &lt;p&gt;An instance of &lt;tt&gt;HashMap&lt;/tt&gt; has two parameters that affect its</span></span><br><span class="line"><span class="hljs-comment"> * performance: &lt;i&gt;initial capacity&lt;/i&gt; and &lt;i&gt;load factor&lt;/i&gt;.  The</span></span><br><span class="line"><span class="hljs-comment"> * &lt;i&gt;capacity&lt;/i&gt; is the number of buckets in the hash table, and the initial</span></span><br><span class="line"><span class="hljs-comment"> * capacity is simply the capacity at the time the hash table is created.  The</span></span><br><span class="line"><span class="hljs-comment"> * &lt;i&gt;load factor&lt;/i&gt; is a measure of how full the hash table is allowed to</span></span><br><span class="line"><span class="hljs-comment"> * get before its capacity is automatically increased.  When the number of</span></span><br><span class="line"><span class="hljs-comment"> * entries in the hash table exceeds the product of the load factor and the</span></span><br><span class="line"><span class="hljs-comment"> * current capacity, the hash table is &lt;i&gt;rehashed&lt;/i&gt; (that is, internal data</span></span><br><span class="line"><span class="hljs-comment"> * structures are rebuilt) so that the hash table has approximately twice the</span></span><br><span class="line"><span class="hljs-comment"> * number of buckets.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * &lt;p&gt;As a general rule, the default load factor (.75) offers a good</span></span><br><span class="line"><span class="hljs-comment"> * tradeoff between time and space costs.  Higher values decrease the</span></span><br><span class="line"><span class="hljs-comment"> * space overhead but increase the lookup cost (reflected in most of</span></span><br><span class="line"><span class="hljs-comment"> * the operations of the &lt;tt&gt;HashMap&lt;/tt&gt; class, including</span></span><br><span class="line"><span class="hljs-comment"> * &lt;tt&gt;get&lt;/tt&gt; and &lt;tt&gt;put&lt;/tt&gt;).  The expected number of entries in</span></span><br><span class="line"><span class="hljs-comment"> * the map and its load factor should be taken into account when</span></span><br><span class="line"><span class="hljs-comment"> * setting its initial capacity, so as to minimize the number of</span></span><br><span class="line"><span class="hljs-comment"> * rehash operations.  If the initial capacity is greater than the</span></span><br><span class="line"><span class="hljs-comment"> * maximum number of entries divided by the load factor, no rehash</span></span><br><span class="line"><span class="hljs-comment"> * operations will ever occur.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * &lt;p&gt;If many mappings are to be stored in a &lt;tt&gt;HashMap&lt;/tt&gt;</span></span><br><span class="line"><span class="hljs-comment"> * instance, creating it with a sufficiently large capacity will allow</span></span><br><span class="line"><span class="hljs-comment"> * the mappings to be stored more efficiently than letting it perform</span></span><br><span class="line"><span class="hljs-comment"> * automatic rehashing as needed to grow the table.  Note that using</span></span><br><span class="line"><span class="hljs-comment"> * many keys with the same &#123;<span class="hljs-doctag">@code</span> hashCode()&#125; is a sure way to slow</span></span><br><span class="line"><span class="hljs-comment"> * down performance of any hash table. To ameliorate impact, when keys</span></span><br><span class="line"><span class="hljs-comment"> * are &#123;<span class="hljs-doctag">@link</span> Comparable&#125;, this class may use comparison order among</span></span><br><span class="line"><span class="hljs-comment"> * keys to help break ties.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * &lt;p&gt;&lt;strong&gt;Note that this implementation is not synchronized.&lt;/strong&gt;</span></span><br><span class="line"><span class="hljs-comment"> * If multiple threads access a hash map concurrently, and at least one of</span></span><br><span class="line"><span class="hljs-comment"> * the threads modifies the map structurally, it &lt;i&gt;must&lt;/i&gt; be</span></span><br><span class="line"><span class="hljs-comment"> * synchronized externally.  (A structural modification is any operation</span></span><br><span class="line"><span class="hljs-comment"> * that adds or deletes one or more mappings; merely changing the value</span></span><br><span class="line"><span class="hljs-comment"> * associated with a key that an instance already contains is not a</span></span><br><span class="line"><span class="hljs-comment"> * structural modification.)  This is typically accomplished by</span></span><br><span class="line"><span class="hljs-comment"> * synchronizing on some object that naturally encapsulates the map.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * If no such object exists, the map should be "wrapped" using the</span></span><br><span class="line"><span class="hljs-comment"> * &#123;<span class="hljs-doctag">@link</span> Collections#synchronizedMap Collections.synchronizedMap&#125;</span></span><br><span class="line"><span class="hljs-comment"> * method.  This is best done at creation time, to prevent accidental</span></span><br><span class="line"><span class="hljs-comment"> * unsynchronized access to the map:&lt;pre&gt;</span></span><br><span class="line"><span class="hljs-comment"> *   Map m = Collections.synchronizedMap(new HashMap(...));&lt;/pre&gt;</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * &lt;p&gt;The iterators returned by all of this class's "collection view methods"</span></span><br><span class="line"><span class="hljs-comment"> * are &lt;i&gt;fail-fast&lt;/i&gt;: if the map is structurally modified at any time after</span></span><br><span class="line"><span class="hljs-comment"> * the iterator is created, in any way except through the iterator's own</span></span><br><span class="line"><span class="hljs-comment"> * &lt;tt&gt;remove&lt;/tt&gt; method, the iterator will throw a</span></span><br><span class="line"><span class="hljs-comment"> * &#123;<span class="hljs-doctag">@link</span> ConcurrentModificationException&#125;.  Thus, in the face of concurrent</span></span><br><span class="line"><span class="hljs-comment"> * modification, the iterator fails quickly and cleanly, rather than risking</span></span><br><span class="line"><span class="hljs-comment"> * arbitrary, non-deterministic behavior at an undetermined time in the</span></span><br><span class="line"><span class="hljs-comment"> * future.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * &lt;p&gt;Note that the fail-fast behavior of an iterator cannot be guaranteed</span></span><br><span class="line"><span class="hljs-comment"> * as it is, generally speaking, impossible to make any hard guarantees in the</span></span><br><span class="line"><span class="hljs-comment"> * presence of unsynchronized concurrent modification.  Fail-fast iterators</span></span><br><span class="line"><span class="hljs-comment"> * throw &lt;tt&gt;ConcurrentModificationException&lt;/tt&gt; on a best-effort basis.</span></span><br><span class="line"><span class="hljs-comment"> * Therefore, it would be wrong to write a program that depended on this</span></span><br><span class="line"><span class="hljs-comment"> * exception for its correctness: &lt;i&gt;the fail-fast behavior of iterators</span></span><br><span class="line"><span class="hljs-comment"> * should be used only to detect bugs.&lt;/i&gt;</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * &lt;p&gt;This class is a member of the</span></span><br><span class="line"><span class="hljs-comment"> * &lt;a href="&#123;<span class="hljs-doctag">@docRoot</span>&#125;/../technotes/guides/collections/index.html"&gt;</span></span><br><span class="line"><span class="hljs-comment"> * Java Collections Framework&lt;/a&gt;.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &lt;K&gt; the type of keys maintained by this map</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &lt;V&gt; the type of mapped values</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>  Doug Lea</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>  Josh Bloch</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>  Arthur van Hoff</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>  Neal Gafter</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@see</span>     Object#hashCode()</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@see</span>     Collection</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@see</span>     Map</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@see</span>     TreeMap</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@see</span>     Hashtable</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@since</span>   1.2</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HashMap</span>&lt;<span class="hljs-title">K</span>,<span class="hljs-title">V</span>&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractMap</span>&lt;<span class="hljs-title">K</span>,<span class="hljs-title">V</span>&gt;</span></span><br><span class="line"><span class="hljs-class">    <span class="hljs-keyword">implements</span> <span class="hljs-title">Map</span>&lt;<span class="hljs-title">K</span>,<span class="hljs-title">V</span>&gt;, <span class="hljs-title">Cloneable</span>, <span class="hljs-title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> serialVersionUID = <span class="hljs-number">362498820763181265L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/*</span></span><br><span class="line"><span class="hljs-comment">     * Implementation notes.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * This map usually acts as a binned (bucketed) hash table, but</span></span><br><span class="line"><span class="hljs-comment">     * when bins get too large, they are transformed into bins of</span></span><br><span class="line"><span class="hljs-comment">     * TreeNodes, each structured similarly to those in</span></span><br><span class="line"><span class="hljs-comment">     * java.util.TreeMap. Most methods try to use normal bins, but</span></span><br><span class="line"><span class="hljs-comment">     * relay to TreeNode methods when applicable (simply by checking</span></span><br><span class="line"><span class="hljs-comment">     * instanceof a node).  Bins of TreeNodes may be traversed and</span></span><br><span class="line"><span class="hljs-comment">     * used like any others, but additionally support faster lookup</span></span><br><span class="line"><span class="hljs-comment">     * when overpopulated. However, since the vast majority of bins in</span></span><br><span class="line"><span class="hljs-comment">     * normal use are not overpopulated, checking for existence of</span></span><br><span class="line"><span class="hljs-comment">     * tree bins may be delayed in the course of table methods.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * Tree bins (i.e., bins whose elements are all TreeNodes) are</span></span><br><span class="line"><span class="hljs-comment">     * ordered primarily by hashCode, but in the case of ties, if two</span></span><br><span class="line"><span class="hljs-comment">     * elements are of the same "class C implements Comparable&lt;C&gt;",</span></span><br><span class="line"><span class="hljs-comment">     * type then their compareTo method is used for ordering. (We</span></span><br><span class="line"><span class="hljs-comment">     * conservatively check generic types via reflection to validate</span></span><br><span class="line"><span class="hljs-comment">     * this -- see method comparableClassFor).  The added complexity</span></span><br><span class="line"><span class="hljs-comment">     * of tree bins is worthwhile in providing worst-case O(log n)</span></span><br><span class="line"><span class="hljs-comment">     * operations when keys either have distinct hashes or are</span></span><br><span class="line"><span class="hljs-comment">     * orderable, Thus, performance degrades gracefully under</span></span><br><span class="line"><span class="hljs-comment">     * accidental or malicious usages in which hashCode() methods</span></span><br><span class="line"><span class="hljs-comment">     * return values that are poorly distributed, as well as those in</span></span><br><span class="line"><span class="hljs-comment">     * which many keys share a hashCode, so long as they are also</span></span><br><span class="line"><span class="hljs-comment">     * Comparable. (If neither of these apply, we may waste about a</span></span><br><span class="line"><span class="hljs-comment">     * factor of two in time and space compared to taking no</span></span><br><span class="line"><span class="hljs-comment">     * precautions. But the only known cases stem from poor user</span></span><br><span class="line"><span class="hljs-comment">     * programming practices that are already so slow that this makes</span></span><br><span class="line"><span class="hljs-comment">     * little difference.)</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * Because TreeNodes are about twice the size of regular nodes, we</span></span><br><span class="line"><span class="hljs-comment">     * use them only when bins contain enough nodes to warrant use</span></span><br><span class="line"><span class="hljs-comment">     * (see TREEIFY_THRESHOLD). And when they become too small (due to</span></span><br><span class="line"><span class="hljs-comment">     * removal or resizing) they are converted back to plain bins.  In</span></span><br><span class="line"><span class="hljs-comment">     * usages with well-distributed user hashCodes, tree bins are</span></span><br><span class="line"><span class="hljs-comment">     * rarely used.  Ideally, under random hashCodes, the frequency of</span></span><br><span class="line"><span class="hljs-comment">     * nodes in bins follows a Poisson distribution</span></span><br><span class="line"><span class="hljs-comment">     * (http://en.wikipedia.org/wiki/Poisson_distribution) with a</span></span><br><span class="line"><span class="hljs-comment">     * parameter of about 0.5 on average for the default resizing</span></span><br><span class="line"><span class="hljs-comment">     * threshold of 0.75, although with a large variance because of</span></span><br><span class="line"><span class="hljs-comment">     * resizing granularity. Ignoring variance, the expected</span></span><br><span class="line"><span class="hljs-comment">     * occurrences of list size k are (exp(-0.5) * pow(0.5, k) /</span></span><br><span class="line"><span class="hljs-comment">     * factorial(k)). The first values are:</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * 0:    0.60653066</span></span><br><span class="line"><span class="hljs-comment">     * 1:    0.30326533</span></span><br><span class="line"><span class="hljs-comment">     * 2:    0.07581633</span></span><br><span class="line"><span class="hljs-comment">     * 3:    0.01263606</span></span><br><span class="line"><span class="hljs-comment">     * 4:    0.00157952</span></span><br><span class="line"><span class="hljs-comment">     * 5:    0.00015795</span></span><br><span class="line"><span class="hljs-comment">     * 6:    0.00001316</span></span><br><span class="line"><span class="hljs-comment">     * 7:    0.00000094</span></span><br><span class="line"><span class="hljs-comment">     * 8:    0.00000006</span></span><br><span class="line"><span class="hljs-comment">     * more: less than 1 in ten million</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * The root of a tree bin is normally its first node.  However,</span></span><br><span class="line"><span class="hljs-comment">     * sometimes (currently only upon Iterator.remove), the root might</span></span><br><span class="line"><span class="hljs-comment">     * be elsewhere, but can be recovered following parent links</span></span><br><span class="line"><span class="hljs-comment">     * (method TreeNode.root()).</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * All applicable internal methods accept a hash code as an</span></span><br><span class="line"><span class="hljs-comment">     * argument (as normally supplied from a public method), allowing</span></span><br><span class="line"><span class="hljs-comment">     * them to call each other without recomputing user hashCodes.</span></span><br><span class="line"><span class="hljs-comment">     * Most internal methods also accept a "tab" argument, that is</span></span><br><span class="line"><span class="hljs-comment">     * normally the current table, but may be a new or old one when</span></span><br><span class="line"><span class="hljs-comment">     * resizing or converting.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * When bin lists are treeified, split, or untreeified, we keep</span></span><br><span class="line"><span class="hljs-comment">     * them in the same relative access/traversal order (i.e., field</span></span><br><span class="line"><span class="hljs-comment">     * Node.next) to better preserve locality, and to slightly</span></span><br><span class="line"><span class="hljs-comment">     * simplify handling of splits and traversals that invoke</span></span><br><span class="line"><span class="hljs-comment">     * iterator.remove. When using comparators on insertion, to keep a</span></span><br><span class="line"><span class="hljs-comment">     * total ordering (or as close as is required here) across</span></span><br><span class="line"><span class="hljs-comment">     * rebalancings, we compare classes and identityHashCodes as</span></span><br><span class="line"><span class="hljs-comment">     * tie-breakers.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * The use and transitions among plain vs tree modes is</span></span><br><span class="line"><span class="hljs-comment">     * complicated by the existence of subclass LinkedHashMap. See</span></span><br><span class="line"><span class="hljs-comment">     * below for hook methods defined to be invoked upon insertion,</span></span><br><span class="line"><span class="hljs-comment">     * removal and access that allow LinkedHashMap internals to</span></span><br><span class="line"><span class="hljs-comment">     * otherwise remain independent of these mechanics. (This also</span></span><br><span class="line"><span class="hljs-comment">     * requires that a map instance be passed to some utility methods</span></span><br><span class="line"><span class="hljs-comment">     * that may create new nodes.)</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * The concurrent-programming-like SSA-based coding style helps</span></span><br><span class="line"><span class="hljs-comment">     * avoid aliasing errors amid all of the twisty pointer operations.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * The default initial capacity - MUST be a power of two.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> DEFAULT_INITIAL_CAPACITY = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">4</span>; <span class="hljs-comment">// aka 16</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * The maximum capacity, used if a higher value is implicitly specified</span></span><br><span class="line"><span class="hljs-comment">     * by either of the constructors with arguments.</span></span><br><span class="line"><span class="hljs-comment">     * MUST be a power of two &lt;= 1&lt;&lt;30.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> MAXIMUM_CAPACITY = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">30</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * The load factor used when none specified in constructor.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">float</span> DEFAULT_LOAD_FACTOR = <span class="hljs-number">0.75f</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * The bin count threshold for using a tree rather than list for a</span></span><br><span class="line"><span class="hljs-comment">     * bin.  Bins are converted to trees when adding an element to a</span></span><br><span class="line"><span class="hljs-comment">     * bin with at least this many nodes. The value must be greater</span></span><br><span class="line"><span class="hljs-comment">     * than 2 and should be at least 8 to mesh with assumptions in</span></span><br><span class="line"><span class="hljs-comment">     * tree removal about conversion back to plain bins upon</span></span><br><span class="line"><span class="hljs-comment">     * shrinkage.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> TREEIFY_THRESHOLD = <span class="hljs-number">8</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * The bin count threshold for untreeifying a (split) bin during a</span></span><br><span class="line"><span class="hljs-comment">     * resize operation. Should be less than TREEIFY_THRESHOLD, and at</span></span><br><span class="line"><span class="hljs-comment">     * most 6 to mesh with shrinkage detection under removal.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> UNTREEIFY_THRESHOLD = <span class="hljs-number">6</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * The smallest table capacity for which bins may be treeified.</span></span><br><span class="line"><span class="hljs-comment">     * (Otherwise the table is resized if too many nodes in a bin.)</span></span><br><span class="line"><span class="hljs-comment">     * Should be at least 4 * TREEIFY_THRESHOLD to avoid conflicts</span></span><br><span class="line"><span class="hljs-comment">     * between resizing and treeification thresholds.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> MIN_TREEIFY_CAPACITY = <span class="hljs-number">64</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Basic hash bin node, used for most entries.  (See below for</span></span><br><span class="line"><span class="hljs-comment">     * TreeNode subclass, and in LinkedHashMap for its Entry subclass.)</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Node</span>&lt;<span class="hljs-title">K</span>,<span class="hljs-title">V</span>&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title">Map</span>.<span class="hljs-title">Entry</span>&lt;<span class="hljs-title">K</span>,<span class="hljs-title">V</span>&gt; </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> hash;</span><br><span class="line">        <span class="hljs-keyword">final</span> K key;</span><br><span class="line">        V value;</span><br><span class="line">        Node&lt;K,V&gt; next;</span><br><span class="line"></span><br><span class="line">        Node(<span class="hljs-keyword">int</span> hash, K key, V value, Node&lt;K,V&gt; next) &#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.hash = hash;</span><br><span class="line">            <span class="hljs-keyword">this</span>.key = key;</span><br><span class="line">            <span class="hljs-keyword">this</span>.value = value;</span><br><span class="line">            <span class="hljs-keyword">this</span>.next = next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> K <span class="hljs-title">getKey</span><span class="hljs-params">()</span>        </span>&#123; <span class="hljs-keyword">return</span> key; &#125;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> V <span class="hljs-title">getValue</span><span class="hljs-params">()</span>      </span>&#123; <span class="hljs-keyword">return</span> value; &#125;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-keyword">return</span> key + <span class="hljs-string">"="</span> + value; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hashCode</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> Objects.hashCode(key) ^ Objects.hashCode(value);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> V <span class="hljs-title">setValue</span><span class="hljs-params">(V newValue)</span> </span>&#123;</span><br><span class="line">            V oldValue = value;</span><br><span class="line">            value = newValue;</span><br><span class="line">            <span class="hljs-keyword">return</span> oldValue;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">equals</span><span class="hljs-params">(Object o)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">this</span>)</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (o <span class="hljs-keyword">instanceof</span> Map.Entry) &#123;</span><br><span class="line">                Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;)o;</span><br><span class="line">                <span class="hljs-keyword">if</span> (Objects.equals(key, e.getKey()) &amp;&amp;</span><br><span class="line">                    Objects.equals(value, e.getValue()))</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* ---------------- Static utilities -------------- */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Computes key.hashCode() and spreads (XORs) higher bits of hash</span></span><br><span class="line"><span class="hljs-comment">     * to lower.  Because the table uses power-of-two masking, sets of</span></span><br><span class="line"><span class="hljs-comment">     * hashes that vary only in bits above the current mask will</span></span><br><span class="line"><span class="hljs-comment">     * always collide. (Among known examples are sets of Float keys</span></span><br><span class="line"><span class="hljs-comment">     * holding consecutive whole numbers in small tables.)  So we</span></span><br><span class="line"><span class="hljs-comment">     * apply a transform that spreads the impact of higher bits</span></span><br><span class="line"><span class="hljs-comment">     * downward. There is a tradeoff between speed, utility, and</span></span><br><span class="line"><span class="hljs-comment">     * quality of bit-spreading. Because many common sets of hashes</span></span><br><span class="line"><span class="hljs-comment">     * are already reasonably distributed (so don't benefit from</span></span><br><span class="line"><span class="hljs-comment">     * spreading), and because we use trees to handle large sets of</span></span><br><span class="line"><span class="hljs-comment">     * collisions in bins, we just XOR some shifted bits in the</span></span><br><span class="line"><span class="hljs-comment">     * cheapest possible way to reduce systematic lossage, as well as</span></span><br><span class="line"><span class="hljs-comment">     * to incorporate impact of the highest bits that would otherwise</span></span><br><span class="line"><span class="hljs-comment">     * never be used in index calculations because of table bounds.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hash</span><span class="hljs-params">(Object key)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> h;</span><br><span class="line">        <span class="hljs-keyword">return</span> (key == <span class="hljs-keyword">null</span>) ? <span class="hljs-number">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="hljs-number">16</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns x's Class if it is of the form "class C implements</span></span><br><span class="line"><span class="hljs-comment">     * Comparable&lt;C&gt;", else null.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">static</span> Class&lt;?&gt; comparableClassFor(Object x) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (x <span class="hljs-keyword">instanceof</span> Comparable) &#123;</span><br><span class="line">            Class&lt;?&gt; c; Type[] ts, as; Type t; ParameterizedType p;</span><br><span class="line">            <span class="hljs-keyword">if</span> ((c = x.getClass()) == String.class) <span class="hljs-comment">// bypass checks</span></span><br><span class="line">                <span class="hljs-keyword">return</span> c;</span><br><span class="line">            <span class="hljs-keyword">if</span> ((ts = c.getGenericInterfaces()) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; ts.length; ++i) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (((t = ts[i]) <span class="hljs-keyword">instanceof</span> ParameterizedType) &amp;&amp;</span><br><span class="line">                        ((p = (ParameterizedType)t).getRawType() ==</span><br><span class="line">                         Comparable.class) &amp;&amp;</span><br><span class="line">                        (as = p.getActualTypeArguments()) != <span class="hljs-keyword">null</span> &amp;&amp;</span><br><span class="line">                        as.length == <span class="hljs-number">1</span> &amp;&amp; as[<span class="hljs-number">0</span>] == c) <span class="hljs-comment">// type arg is c</span></span><br><span class="line">                        <span class="hljs-keyword">return</span> c;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns k.compareTo(x) if x matches kc (k's screened comparable</span></span><br><span class="line"><span class="hljs-comment">     * class), else 0.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-meta">@SuppressWarnings</span>(&#123;<span class="hljs-string">"rawtypes"</span>,<span class="hljs-string">"unchecked"</span>&#125;) <span class="hljs-comment">// for cast to Comparable</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compareComparables</span><span class="hljs-params">(Class&lt;?&gt; kc, Object k, Object x)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> (x == <span class="hljs-keyword">null</span> || x.getClass() != kc ? <span class="hljs-number">0</span> :</span><br><span class="line">                ((Comparable)k).compareTo(x));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns a power of two size for the given target capacity.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">tableSizeFor</span><span class="hljs-params">(<span class="hljs-keyword">int</span> cap)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> n = cap - <span class="hljs-number">1</span>;</span><br><span class="line">        n |= n &gt;&gt;&gt; <span class="hljs-number">1</span>;</span><br><span class="line">        n |= n &gt;&gt;&gt; <span class="hljs-number">2</span>;</span><br><span class="line">        n |= n &gt;&gt;&gt; <span class="hljs-number">4</span>;</span><br><span class="line">        n |= n &gt;&gt;&gt; <span class="hljs-number">8</span>;</span><br><span class="line">        n |= n &gt;&gt;&gt; <span class="hljs-number">16</span>;</span><br><span class="line">        <span class="hljs-keyword">return</span> (n &lt; <span class="hljs-number">0</span>) ? <span class="hljs-number">1</span> : (n &gt;= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + <span class="hljs-number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* ---------------- Fields -------------- */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * The table, initialized on first use, and resized as</span></span><br><span class="line"><span class="hljs-comment">     * necessary. When allocated, length is always a power of two.</span></span><br><span class="line"><span class="hljs-comment">     * (We also tolerate length zero in some operations to allow</span></span><br><span class="line"><span class="hljs-comment">     * bootstrapping mechanics that are currently not needed.)</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">transient</span> Node&lt;K,V&gt;[] table;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Holds cached entrySet(). Note that AbstractMap fields are used</span></span><br><span class="line"><span class="hljs-comment">     * for keySet() and values().</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">transient</span> Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * The number of key-value mappings contained in this map.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">transient</span> <span class="hljs-keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * The number of times this HashMap has been structurally modified</span></span><br><span class="line"><span class="hljs-comment">     * Structural modifications are those that change the number of mappings in</span></span><br><span class="line"><span class="hljs-comment">     * the HashMap or otherwise modify its internal structure (e.g.,</span></span><br><span class="line"><span class="hljs-comment">     * rehash).  This field is used to make iterators on Collection-views of</span></span><br><span class="line"><span class="hljs-comment">     * the HashMap fail-fast.  (See ConcurrentModificationException).</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">transient</span> <span class="hljs-keyword">int</span> modCount;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * The next size value at which to resize (capacity * load factor).</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@serial</span></span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-comment">// (The javadoc description is true upon serialization.</span></span><br><span class="line">    <span class="hljs-comment">// Additionally, if the table array has not been allocated, this</span></span><br><span class="line">    <span class="hljs-comment">// field holds the initial array capacity, or zero signifying</span></span><br><span class="line">    <span class="hljs-comment">// DEFAULT_INITIAL_CAPACITY.)</span></span><br><span class="line">    <span class="hljs-keyword">int</span> threshold;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * The load factor for the hash table.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@serial</span></span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">final</span> <span class="hljs-keyword">float</span> loadFactor;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* ---------------- Public operations -------------- */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Constructs an empty &lt;tt&gt;HashMap&lt;/tt&gt; with the specified initial</span></span><br><span class="line"><span class="hljs-comment">     * capacity and load factor.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>  initialCapacity the initial capacity</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>  loadFactor      the load factor</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IllegalArgumentException if the initial capacity is negative</span></span><br><span class="line"><span class="hljs-comment">     *         or the load factor is nonpositive</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">HashMap</span><span class="hljs-params">(<span class="hljs-keyword">int</span> initialCapacity, <span class="hljs-keyword">float</span> loadFactor)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (initialCapacity &lt; <span class="hljs-number">0</span>)</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"Illegal initial capacity: "</span> +</span><br><span class="line">                                               initialCapacity);</span><br><span class="line">        <span class="hljs-keyword">if</span> (initialCapacity &gt; MAXIMUM_CAPACITY)</span><br><span class="line">            initialCapacity = MAXIMUM_CAPACITY;</span><br><span class="line">        <span class="hljs-keyword">if</span> (loadFactor &lt;= <span class="hljs-number">0</span> || Float.isNaN(loadFactor))</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"Illegal load factor: "</span> +</span><br><span class="line">                                               loadFactor);</span><br><span class="line">        <span class="hljs-keyword">this</span>.loadFactor = loadFactor;</span><br><span class="line">        <span class="hljs-keyword">this</span>.threshold = tableSizeFor(initialCapacity);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Constructs an empty &lt;tt&gt;HashMap&lt;/tt&gt; with the specified initial</span></span><br><span class="line"><span class="hljs-comment">     * capacity and the default load factor (0.75).</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>  initialCapacity the initial capacity.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IllegalArgumentException if the initial capacity is negative.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">HashMap</span><span class="hljs-params">(<span class="hljs-keyword">int</span> initialCapacity)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>(initialCapacity, DEFAULT_LOAD_FACTOR);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Constructs an empty &lt;tt&gt;HashMap&lt;/tt&gt; with the default initial capacity</span></span><br><span class="line"><span class="hljs-comment">     * (16) and the default load factor (0.75).</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">HashMap</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.loadFactor = DEFAULT_LOAD_FACTOR; <span class="hljs-comment">// all other fields defaulted</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Constructs a new &lt;tt&gt;HashMap&lt;/tt&gt; with the same mappings as the</span></span><br><span class="line"><span class="hljs-comment">     * specified &lt;tt&gt;Map&lt;/tt&gt;.  The &lt;tt&gt;HashMap&lt;/tt&gt; is created with</span></span><br><span class="line"><span class="hljs-comment">     * default load factor (0.75) and an initial capacity sufficient to</span></span><br><span class="line"><span class="hljs-comment">     * hold the mappings in the specified &lt;tt&gt;Map&lt;/tt&gt;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>   m the map whose mappings are to be placed in this map</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span>  NullPointerException if the specified map is null</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">HashMap</span><span class="hljs-params">(Map&lt;? extends K, ? extends V&gt; m)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.loadFactor = DEFAULT_LOAD_FACTOR;</span><br><span class="line">        putMapEntries(m, <span class="hljs-keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Implements Map.putAll and Map constructor</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> m the map</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> evict false when initially constructing this map, else</span></span><br><span class="line"><span class="hljs-comment">     * true (relayed to method afterNodeInsertion).</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">putMapEntries</span><span class="hljs-params">(Map&lt;? extends K, ? extends V&gt; m, <span class="hljs-keyword">boolean</span> evict)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> s = m.size();</span><br><span class="line">        <span class="hljs-keyword">if</span> (s &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (table == <span class="hljs-keyword">null</span>) &#123; <span class="hljs-comment">// pre-size</span></span><br><span class="line">                <span class="hljs-keyword">float</span> ft = ((<span class="hljs-keyword">float</span>)s / loadFactor) + <span class="hljs-number">1.0F</span>;</span><br><span class="line">                <span class="hljs-keyword">int</span> t = ((ft &lt; (<span class="hljs-keyword">float</span>)MAXIMUM_CAPACITY) ?</span><br><span class="line">                         (<span class="hljs-keyword">int</span>)ft : MAXIMUM_CAPACITY);</span><br><span class="line">                <span class="hljs-keyword">if</span> (t &gt; threshold)</span><br><span class="line">                    threshold = tableSizeFor(t);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s &gt; threshold)</span><br><span class="line">                resize();</span><br><span class="line">            <span class="hljs-keyword">for</span> (Map.Entry&lt;? extends K, ? extends V&gt; e : m.entrySet()) &#123;</span><br><span class="line">                K key = e.getKey();</span><br><span class="line">                V value = e.getValue();</span><br><span class="line">                putVal(hash(key), key, value, <span class="hljs-keyword">false</span>, evict);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the number of key-value mappings in this map.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the number of key-value mappings in this map</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">size</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns &lt;tt&gt;true&lt;/tt&gt; if this map contains no key-value mappings.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> &lt;tt&gt;true&lt;/tt&gt; if this map contains no key-value mappings</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isEmpty</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> size == <span class="hljs-number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the value to which the specified key is mapped,</span></span><br><span class="line"><span class="hljs-comment">     * or &#123;<span class="hljs-doctag">@code</span> null&#125; if this map contains no mapping for the key.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;More formally, if this map contains a mapping from a key</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@code</span> k&#125; to a value &#123;<span class="hljs-doctag">@code</span> v&#125; such that &#123;<span class="hljs-doctag">@code</span> (key==null ? k==null :</span></span><br><span class="line"><span class="hljs-comment">     * key.equals(k))&#125;, then this method returns &#123;<span class="hljs-doctag">@code</span> v&#125;; otherwise</span></span><br><span class="line"><span class="hljs-comment">     * it returns &#123;<span class="hljs-doctag">@code</span> null&#125;.  (There can be at most one such mapping.)</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;A return value of &#123;<span class="hljs-doctag">@code</span> null&#125; does not &lt;i&gt;necessarily&lt;/i&gt;</span></span><br><span class="line"><span class="hljs-comment">     * indicate that the map contains no mapping for the key; it's also</span></span><br><span class="line"><span class="hljs-comment">     * possible that the map explicitly maps the key to &#123;<span class="hljs-doctag">@code</span> null&#125;.</span></span><br><span class="line"><span class="hljs-comment">     * The &#123;<span class="hljs-doctag">@link</span> #containsKey containsKey&#125; operation may be used to</span></span><br><span class="line"><span class="hljs-comment">     * distinguish these two cases.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> #put(Object, Object)</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> V <span class="hljs-title">get</span><span class="hljs-params">(Object key)</span> </span>&#123;</span><br><span class="line">        Node&lt;K,V&gt; e;</span><br><span class="line">        <span class="hljs-keyword">return</span> (e = getNode(hash(key), key)) == <span class="hljs-keyword">null</span> ? <span class="hljs-keyword">null</span> : e.value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Implements Map.get and related methods</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> hash hash for key</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> key the key</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the node, or null if none</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">final</span> Node&lt;K,V&gt; <span class="hljs-title">getNode</span><span class="hljs-params">(<span class="hljs-keyword">int</span> hash, Object key)</span> </span>&#123;</span><br><span class="line">        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; <span class="hljs-keyword">int</span> n; K k;</span><br><span class="line">        <span class="hljs-keyword">if</span> ((tab = table) != <span class="hljs-keyword">null</span> &amp;&amp; (n = tab.length) &gt; <span class="hljs-number">0</span> &amp;&amp;</span><br><span class="line">            (first = tab[(n - <span class="hljs-number">1</span>) &amp; hash]) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (first.hash == hash &amp;&amp; <span class="hljs-comment">// always check first node</span></span><br><span class="line">                ((k = first.key) == key || (key != <span class="hljs-keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                <span class="hljs-keyword">return</span> first;</span><br><span class="line">            <span class="hljs-keyword">if</span> ((e = first.next) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (first <span class="hljs-keyword">instanceof</span> TreeNode)</span><br><span class="line">                    <span class="hljs-keyword">return</span> ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);</span><br><span class="line">                <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                        ((k = e.key) == key || (key != <span class="hljs-keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                        <span class="hljs-keyword">return</span> e;</span><br><span class="line">                &#125; <span class="hljs-keyword">while</span> ((e = e.next) != <span class="hljs-keyword">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns &lt;tt&gt;true&lt;/tt&gt; if this map contains a mapping for the</span></span><br><span class="line"><span class="hljs-comment">     * specified key.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>   key   The key whose presence in this map is to be tested</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> &lt;tt&gt;true&lt;/tt&gt; if this map contains a mapping for the specified</span></span><br><span class="line"><span class="hljs-comment">     * key.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">containsKey</span><span class="hljs-params">(Object key)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> getNode(hash(key), key) != <span class="hljs-keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Associates the specified value with the specified key in this map.</span></span><br><span class="line"><span class="hljs-comment">     * If the map previously contained a mapping for the key, the old</span></span><br><span class="line"><span class="hljs-comment">     * value is replaced.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> key key with which the specified value is to be associated</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> value value to be associated with the specified key</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the previous value associated with &lt;tt&gt;key&lt;/tt&gt;, or</span></span><br><span class="line"><span class="hljs-comment">     *         &lt;tt&gt;null&lt;/tt&gt; if there was no mapping for &lt;tt&gt;key&lt;/tt&gt;.</span></span><br><span class="line"><span class="hljs-comment">     *         (A &lt;tt&gt;null&lt;/tt&gt; return can also indicate that the map</span></span><br><span class="line"><span class="hljs-comment">     *         previously associated &lt;tt&gt;null&lt;/tt&gt; with &lt;tt&gt;key&lt;/tt&gt;.)</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> V <span class="hljs-title">put</span><span class="hljs-params">(K key, V value)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> putVal(hash(key), key, value, <span class="hljs-keyword">false</span>, <span class="hljs-keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Implements Map.put and related methods</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> hash hash for key</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> key the key</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> value the value to put</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> onlyIfAbsent if true, don't change existing value</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> evict if false, the table is in creation mode.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> previous value, or null if none</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">final</span> V <span class="hljs-title">putVal</span><span class="hljs-params">(<span class="hljs-keyword">int</span> hash, K key, V value, <span class="hljs-keyword">boolean</span> onlyIfAbsent,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">                   <span class="hljs-keyword">boolean</span> evict)</span> </span>&#123;</span><br><span class="line">        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="hljs-keyword">int</span> n, i;</span><br><span class="line">        <span class="hljs-keyword">if</span> ((tab = table) == <span class="hljs-keyword">null</span> || (n = tab.length) == <span class="hljs-number">0</span>)</span><br><span class="line">            n = (tab = resize()).length;</span><br><span class="line">        <span class="hljs-keyword">if</span> ((p = tab[i = (n - <span class="hljs-number">1</span>) &amp; hash]) == <span class="hljs-keyword">null</span>)</span><br><span class="line">            tab[i] = newNode(hash, key, value, <span class="hljs-keyword">null</span>);</span><br><span class="line">        <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            Node&lt;K,V&gt; e; K k;</span><br><span class="line">            <span class="hljs-keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">                ((k = p.key) == key || (key != <span class="hljs-keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                e = p;</span><br><span class="line">            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (p <span class="hljs-keyword">instanceof</span> TreeNode)</span><br><span class="line">                e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="hljs-keyword">this</span>, tab, hash, key, value);</span><br><span class="line">            <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> binCount = <span class="hljs-number">0</span>; ; ++binCount) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> ((e = p.next) == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                        p.next = newNode(hash, key, value, <span class="hljs-keyword">null</span>);</span><br><span class="line">                        <span class="hljs-keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="hljs-number">1</span>) <span class="hljs-comment">// -1 for 1st</span></span><br><span class="line">                            treeifyBin(tab, hash);</span><br><span class="line">                        <span class="hljs-keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                        ((k = e.key) == key || (key != <span class="hljs-keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                        <span class="hljs-keyword">break</span>;</span><br><span class="line">                    p = e;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">if</span> (e != <span class="hljs-keyword">null</span>) &#123; <span class="hljs-comment">// existing mapping for key</span></span><br><span class="line">                V oldValue = e.value;</span><br><span class="line">                <span class="hljs-keyword">if</span> (!onlyIfAbsent || oldValue == <span class="hljs-keyword">null</span>)</span><br><span class="line">                    e.value = value;</span><br><span class="line">                afterNodeAccess(e);</span><br><span class="line">                <span class="hljs-keyword">return</span> oldValue;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ++modCount;</span><br><span class="line">        <span class="hljs-keyword">if</span> (++size &gt; threshold)</span><br><span class="line">            resize();</span><br><span class="line">        afterNodeInsertion(evict);</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Initializes or doubles table size.  If null, allocates in</span></span><br><span class="line"><span class="hljs-comment">     * accord with initial capacity target held in field threshold.</span></span><br><span class="line"><span class="hljs-comment">     * Otherwise, because we are using power-of-two expansion, the</span></span><br><span class="line"><span class="hljs-comment">     * elements from each bin must either stay at same index, or move</span></span><br><span class="line"><span class="hljs-comment">     * with a power of two offset in the new table.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the table</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">final</span> Node&lt;K,V&gt;[] resize() &#123;</span><br><span class="line">        Node&lt;K,V&gt;[] oldTab = table;</span><br><span class="line">        <span class="hljs-keyword">int</span> oldCap = (oldTab == <span class="hljs-keyword">null</span>) ? <span class="hljs-number">0</span> : oldTab.length;</span><br><span class="line">        <span class="hljs-keyword">int</span> oldThr = threshold;</span><br><span class="line">        <span class="hljs-keyword">int</span> newCap, newThr = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">if</span> (oldCap &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (oldCap &gt;= MAXIMUM_CAPACITY) &#123;</span><br><span class="line">                threshold = Integer.MAX_VALUE;</span><br><span class="line">                <span class="hljs-keyword">return</span> oldTab;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((newCap = oldCap &lt;&lt; <span class="hljs-number">1</span>) &lt; MAXIMUM_CAPACITY &amp;&amp;</span><br><span class="line">                     oldCap &gt;= DEFAULT_INITIAL_CAPACITY)</span><br><span class="line">                newThr = oldThr &lt;&lt; <span class="hljs-number">1</span>; <span class="hljs-comment">// double threshold</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (oldThr &gt; <span class="hljs-number">0</span>) <span class="hljs-comment">// initial capacity was placed in threshold</span></span><br><span class="line">            newCap = oldThr;</span><br><span class="line">        <span class="hljs-keyword">else</span> &#123;               <span class="hljs-comment">// zero initial threshold signifies using defaults</span></span><br><span class="line">            newCap = DEFAULT_INITIAL_CAPACITY;</span><br><span class="line">            newThr = (<span class="hljs-keyword">int</span>)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">if</span> (newThr == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">float</span> ft = (<span class="hljs-keyword">float</span>)newCap * loadFactor;</span><br><span class="line">            newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (<span class="hljs-keyword">float</span>)MAXIMUM_CAPACITY ?</span><br><span class="line">                      (<span class="hljs-keyword">int</span>)ft : Integer.MAX_VALUE);</span><br><span class="line">        &#125;</span><br><span class="line">        threshold = newThr;</span><br><span class="line">        <span class="hljs-meta">@SuppressWarnings</span>(&#123;<span class="hljs-string">"rawtypes"</span>,<span class="hljs-string">"unchecked"</span>&#125;)</span><br><span class="line">            Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])<span class="hljs-keyword">new</span> Node[newCap];</span><br><span class="line">        table = newTab;</span><br><span class="line">        <span class="hljs-keyword">if</span> (oldTab != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; oldCap; ++j) &#123;</span><br><span class="line">                Node&lt;K,V&gt; e;</span><br><span class="line">                <span class="hljs-keyword">if</span> ((e = oldTab[j]) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                    oldTab[j] = <span class="hljs-keyword">null</span>;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (e.next == <span class="hljs-keyword">null</span>)</span><br><span class="line">                        newTab[e.hash &amp; (newCap - <span class="hljs-number">1</span>)] = e;</span><br><span class="line">                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e <span class="hljs-keyword">instanceof</span> TreeNode)</span><br><span class="line">                        ((TreeNode&lt;K,V&gt;)e).split(<span class="hljs-keyword">this</span>, newTab, j, oldCap);</span><br><span class="line">                    <span class="hljs-keyword">else</span> &#123; <span class="hljs-comment">// preserve order</span></span><br><span class="line">                        Node&lt;K,V&gt; loHead = <span class="hljs-keyword">null</span>, loTail = <span class="hljs-keyword">null</span>;</span><br><span class="line">                        Node&lt;K,V&gt; hiHead = <span class="hljs-keyword">null</span>, hiTail = <span class="hljs-keyword">null</span>;</span><br><span class="line">                        Node&lt;K,V&gt; next;</span><br><span class="line">                        <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">                            next = e.next;</span><br><span class="line">                            <span class="hljs-keyword">if</span> ((e.hash &amp; oldCap) == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                                <span class="hljs-keyword">if</span> (loTail == <span class="hljs-keyword">null</span>)</span><br><span class="line">                                    loHead = e;</span><br><span class="line">                                <span class="hljs-keyword">else</span></span><br><span class="line">                                    loTail.next = e;</span><br><span class="line">                                loTail = e;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                                <span class="hljs-keyword">if</span> (hiTail == <span class="hljs-keyword">null</span>)</span><br><span class="line">                                    hiHead = e;</span><br><span class="line">                                <span class="hljs-keyword">else</span></span><br><span class="line">                                    hiTail.next = e;</span><br><span class="line">                                hiTail = e;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125; <span class="hljs-keyword">while</span> ((e = next) != <span class="hljs-keyword">null</span>);</span><br><span class="line">                        <span class="hljs-keyword">if</span> (loTail != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                            loTail.next = <span class="hljs-keyword">null</span>;</span><br><span class="line">                            newTab[j] = loHead;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="hljs-keyword">if</span> (hiTail != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                            hiTail.next = <span class="hljs-keyword">null</span>;</span><br><span class="line">                            newTab[j + oldCap] = hiHead;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> newTab;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Replaces all linked nodes in bin at index for given hash unless</span></span><br><span class="line"><span class="hljs-comment">     * table is too small, in which case resizes instead.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">treeifyBin</span><span class="hljs-params">(Node&lt;K,V&gt;[] tab, <span class="hljs-keyword">int</span> hash)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> n, index; Node&lt;K,V&gt; e;</span><br><span class="line">        <span class="hljs-keyword">if</span> (tab == <span class="hljs-keyword">null</span> || (n = tab.length) &lt; MIN_TREEIFY_CAPACITY)</span><br><span class="line">            resize();</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((e = tab[index = (n - <span class="hljs-number">1</span>) &amp; hash]) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            TreeNode&lt;K,V&gt; hd = <span class="hljs-keyword">null</span>, tl = <span class="hljs-keyword">null</span>;</span><br><span class="line">            <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">                TreeNode&lt;K,V&gt; p = replacementTreeNode(e, <span class="hljs-keyword">null</span>);</span><br><span class="line">                <span class="hljs-keyword">if</span> (tl == <span class="hljs-keyword">null</span>)</span><br><span class="line">                    hd = p;</span><br><span class="line">                <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    p.prev = tl;</span><br><span class="line">                    tl.next = p;</span><br><span class="line">                &#125;</span><br><span class="line">                tl = p;</span><br><span class="line">            &#125; <span class="hljs-keyword">while</span> ((e = e.next) != <span class="hljs-keyword">null</span>);</span><br><span class="line">            <span class="hljs-keyword">if</span> ((tab[index] = hd) != <span class="hljs-keyword">null</span>)</span><br><span class="line">                hd.treeify(tab);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Copies all of the mappings from the specified map to this map.</span></span><br><span class="line"><span class="hljs-comment">     * These mappings will replace any mappings that this map had for</span></span><br><span class="line"><span class="hljs-comment">     * any of the keys currently in the specified map.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> m mappings to be stored in this map</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> NullPointerException if the specified map is null</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">putAll</span><span class="hljs-params">(Map&lt;? extends K, ? extends V&gt; m)</span> </span>&#123;</span><br><span class="line">        putMapEntries(m, <span class="hljs-keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Removes the mapping for the specified key from this map if present.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>  key key whose mapping is to be removed from the map</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the previous value associated with &lt;tt&gt;key&lt;/tt&gt;, or</span></span><br><span class="line"><span class="hljs-comment">     *         &lt;tt&gt;null&lt;/tt&gt; if there was no mapping for &lt;tt&gt;key&lt;/tt&gt;.</span></span><br><span class="line"><span class="hljs-comment">     *         (A &lt;tt&gt;null&lt;/tt&gt; return can also indicate that the map</span></span><br><span class="line"><span class="hljs-comment">     *         previously associated &lt;tt&gt;null&lt;/tt&gt; with &lt;tt&gt;key&lt;/tt&gt;.)</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> V <span class="hljs-title">remove</span><span class="hljs-params">(Object key)</span> </span>&#123;</span><br><span class="line">        Node&lt;K,V&gt; e;</span><br><span class="line">        <span class="hljs-keyword">return</span> (e = removeNode(hash(key), key, <span class="hljs-keyword">null</span>, <span class="hljs-keyword">false</span>, <span class="hljs-keyword">true</span>)) == <span class="hljs-keyword">null</span> ?</span><br><span class="line">            <span class="hljs-keyword">null</span> : e.value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Implements Map.remove and related methods</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> hash hash for key</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> key the key</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> value the value to match if matchValue, else ignored</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> matchValue if true only remove if value is equal</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> movable if false do not move other nodes while removing</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the node, or null if none</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">final</span> Node&lt;K,V&gt; <span class="hljs-title">removeNode</span><span class="hljs-params">(<span class="hljs-keyword">int</span> hash, Object key, Object value,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">                               <span class="hljs-keyword">boolean</span> matchValue, <span class="hljs-keyword">boolean</span> movable)</span> </span>&#123;</span><br><span class="line">        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="hljs-keyword">int</span> n, index;</span><br><span class="line">        <span class="hljs-keyword">if</span> ((tab = table) != <span class="hljs-keyword">null</span> &amp;&amp; (n = tab.length) &gt; <span class="hljs-number">0</span> &amp;&amp;</span><br><span class="line">            (p = tab[index = (n - <span class="hljs-number">1</span>) &amp; hash]) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            Node&lt;K,V&gt; node = <span class="hljs-keyword">null</span>, e; K k; V v;</span><br><span class="line">            <span class="hljs-keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">                ((k = p.key) == key || (key != <span class="hljs-keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                node = p;</span><br><span class="line">            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((e = p.next) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (p <span class="hljs-keyword">instanceof</span> TreeNode)</span><br><span class="line">                    node = ((TreeNode&lt;K,V&gt;)p).getTreeNode(hash, key);</span><br><span class="line">                <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">                        <span class="hljs-keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                            ((k = e.key) == key ||</span><br><span class="line">                             (key != <span class="hljs-keyword">null</span> &amp;&amp; key.equals(k)))) &#123;</span><br><span class="line">                            node = e;</span><br><span class="line">                            <span class="hljs-keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        p = e;</span><br><span class="line">                    &#125; <span class="hljs-keyword">while</span> ((e = e.next) != <span class="hljs-keyword">null</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">if</span> (node != <span class="hljs-keyword">null</span> &amp;&amp; (!matchValue || (v = node.value) == value ||</span><br><span class="line">                                 (value != <span class="hljs-keyword">null</span> &amp;&amp; value.equals(v)))) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (node <span class="hljs-keyword">instanceof</span> TreeNode)</span><br><span class="line">                    ((TreeNode&lt;K,V&gt;)node).removeTreeNode(<span class="hljs-keyword">this</span>, tab, movable);</span><br><span class="line">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (node == p)</span><br><span class="line">                    tab[index] = node.next;</span><br><span class="line">                <span class="hljs-keyword">else</span></span><br><span class="line">                    p.next = node.next;</span><br><span class="line">                ++modCount;</span><br><span class="line">                --size;</span><br><span class="line">                afterNodeRemoval(node);</span><br><span class="line">                <span class="hljs-keyword">return</span> node;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Removes all of the mappings from this map.</span></span><br><span class="line"><span class="hljs-comment">     * The map will be empty after this call returns.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        Node&lt;K,V&gt;[] tab;</span><br><span class="line">        modCount++;</span><br><span class="line">        <span class="hljs-keyword">if</span> ((tab = table) != <span class="hljs-keyword">null</span> &amp;&amp; size &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            size = <span class="hljs-number">0</span>;</span><br><span class="line">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; tab.length; ++i)</span><br><span class="line">                tab[i] = <span class="hljs-keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns &lt;tt&gt;true&lt;/tt&gt; if this map maps one or more keys to the</span></span><br><span class="line"><span class="hljs-comment">     * specified value.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> value value whose presence in this map is to be tested</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> &lt;tt&gt;true&lt;/tt&gt; if this map maps one or more keys to the</span></span><br><span class="line"><span class="hljs-comment">     *         specified value</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">containsValue</span><span class="hljs-params">(Object value)</span> </span>&#123;</span><br><span class="line">        Node&lt;K,V&gt;[] tab; V v;</span><br><span class="line">        <span class="hljs-keyword">if</span> ((tab = table) != <span class="hljs-keyword">null</span> &amp;&amp; size &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; tab.length; ++i) &#123;</span><br><span class="line">                <span class="hljs-keyword">for</span> (Node&lt;K,V&gt; e = tab[i]; e != <span class="hljs-keyword">null</span>; e = e.next) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> ((v = e.value) == value ||</span><br><span class="line">                        (value != <span class="hljs-keyword">null</span> &amp;&amp; value.equals(v)))</span><br><span class="line">                        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns a &#123;<span class="hljs-doctag">@link</span> Set&#125; view of the keys contained in this map.</span></span><br><span class="line"><span class="hljs-comment">     * The set is backed by the map, so changes to the map are</span></span><br><span class="line"><span class="hljs-comment">     * reflected in the set, and vice-versa.  If the map is modified</span></span><br><span class="line"><span class="hljs-comment">     * while an iteration over the set is in progress (except through</span></span><br><span class="line"><span class="hljs-comment">     * the iterator's own &lt;tt&gt;remove&lt;/tt&gt; operation), the results of</span></span><br><span class="line"><span class="hljs-comment">     * the iteration are undefined.  The set supports element removal,</span></span><br><span class="line"><span class="hljs-comment">     * which removes the corresponding mapping from the map, via the</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tt&gt;Iterator.remove&lt;/tt&gt;, &lt;tt&gt;Set.remove&lt;/tt&gt;,</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tt&gt;removeAll&lt;/tt&gt;, &lt;tt&gt;retainAll&lt;/tt&gt;, and &lt;tt&gt;clear&lt;/tt&gt;</span></span><br><span class="line"><span class="hljs-comment">     * operations.  It does not support the &lt;tt&gt;add&lt;/tt&gt; or &lt;tt&gt;addAll&lt;/tt&gt;</span></span><br><span class="line"><span class="hljs-comment">     * operations.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> a set view of the keys contained in this map</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> Set&lt;K&gt; <span class="hljs-title">keySet</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        Set&lt;K&gt; ks = keySet;</span><br><span class="line">        <span class="hljs-keyword">if</span> (ks == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            ks = <span class="hljs-keyword">new</span> KeySet();</span><br><span class="line">            keySet = ks;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> ks;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">KeySet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractSet</span>&lt;<span class="hljs-title">K</span>&gt; </span>&#123;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">size</span><span class="hljs-params">()</span>                 </span>&#123; <span class="hljs-keyword">return</span> size; &#125;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span>               </span>&#123; HashMap.<span class="hljs-keyword">this</span>.clear(); &#125;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> Iterator&lt;K&gt; <span class="hljs-title">iterator</span><span class="hljs-params">()</span>     </span>&#123; <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> KeyIterator(); &#125;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">contains</span><span class="hljs-params">(Object o)</span> </span>&#123; <span class="hljs-keyword">return</span> containsKey(o); &#125;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">remove</span><span class="hljs-params">(Object key)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> removeNode(hash(key), key, <span class="hljs-keyword">null</span>, <span class="hljs-keyword">false</span>, <span class="hljs-keyword">true</span>) != <span class="hljs-keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> Spliterator&lt;K&gt; <span class="hljs-title">spliterator</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> KeySpliterator&lt;&gt;(HashMap.<span class="hljs-keyword">this</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">forEach</span><span class="hljs-params">(Consumer&lt;? <span class="hljs-keyword">super</span> K&gt; action)</span> </span>&#123;</span><br><span class="line">            Node&lt;K,V&gt;[] tab;</span><br><span class="line">            <span class="hljs-keyword">if</span> (action == <span class="hljs-keyword">null</span>)</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();</span><br><span class="line">            <span class="hljs-keyword">if</span> (size &gt; <span class="hljs-number">0</span> &amp;&amp; (tab = table) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> mc = modCount;</span><br><span class="line">                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; tab.length; ++i) &#123;</span><br><span class="line">                    <span class="hljs-keyword">for</span> (Node&lt;K,V&gt; e = tab[i]; e != <span class="hljs-keyword">null</span>; e = e.next)</span><br><span class="line">                        action.accept(e.key);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">if</span> (modCount != mc)</span><br><span class="line">                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns a &#123;<span class="hljs-doctag">@link</span> Collection&#125; view of the values contained in this map.</span></span><br><span class="line"><span class="hljs-comment">     * The collection is backed by the map, so changes to the map are</span></span><br><span class="line"><span class="hljs-comment">     * reflected in the collection, and vice-versa.  If the map is</span></span><br><span class="line"><span class="hljs-comment">     * modified while an iteration over the collection is in progress</span></span><br><span class="line"><span class="hljs-comment">     * (except through the iterator's own &lt;tt&gt;remove&lt;/tt&gt; operation),</span></span><br><span class="line"><span class="hljs-comment">     * the results of the iteration are undefined.  The collection</span></span><br><span class="line"><span class="hljs-comment">     * supports element removal, which removes the corresponding</span></span><br><span class="line"><span class="hljs-comment">     * mapping from the map, via the &lt;tt&gt;Iterator.remove&lt;/tt&gt;,</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tt&gt;Collection.remove&lt;/tt&gt;, &lt;tt&gt;removeAll&lt;/tt&gt;,</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tt&gt;retainAll&lt;/tt&gt; and &lt;tt&gt;clear&lt;/tt&gt; operations.  It does not</span></span><br><span class="line"><span class="hljs-comment">     * support the &lt;tt&gt;add&lt;/tt&gt; or &lt;tt&gt;addAll&lt;/tt&gt; operations.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> a view of the values contained in this map</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> Collection&lt;V&gt; <span class="hljs-title">values</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        Collection&lt;V&gt; vs = values;</span><br><span class="line">        <span class="hljs-keyword">if</span> (vs == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            vs = <span class="hljs-keyword">new</span> Values();</span><br><span class="line">            values = vs;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> vs;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Values</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractCollection</span>&lt;<span class="hljs-title">V</span>&gt; </span>&#123;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">size</span><span class="hljs-params">()</span>                 </span>&#123; <span class="hljs-keyword">return</span> size; &#125;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span>               </span>&#123; HashMap.<span class="hljs-keyword">this</span>.clear(); &#125;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> Iterator&lt;V&gt; <span class="hljs-title">iterator</span><span class="hljs-params">()</span>     </span>&#123; <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ValueIterator(); &#125;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">contains</span><span class="hljs-params">(Object o)</span> </span>&#123; <span class="hljs-keyword">return</span> containsValue(o); &#125;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> Spliterator&lt;V&gt; <span class="hljs-title">spliterator</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ValueSpliterator&lt;&gt;(HashMap.<span class="hljs-keyword">this</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">forEach</span><span class="hljs-params">(Consumer&lt;? <span class="hljs-keyword">super</span> V&gt; action)</span> </span>&#123;</span><br><span class="line">            Node&lt;K,V&gt;[] tab;</span><br><span class="line">            <span class="hljs-keyword">if</span> (action == <span class="hljs-keyword">null</span>)</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();</span><br><span class="line">            <span class="hljs-keyword">if</span> (size &gt; <span class="hljs-number">0</span> &amp;&amp; (tab = table) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> mc = modCount;</span><br><span class="line">                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; tab.length; ++i) &#123;</span><br><span class="line">                    <span class="hljs-keyword">for</span> (Node&lt;K,V&gt; e = tab[i]; e != <span class="hljs-keyword">null</span>; e = e.next)</span><br><span class="line">                        action.accept(e.value);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">if</span> (modCount != mc)</span><br><span class="line">                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns a &#123;<span class="hljs-doctag">@link</span> Set&#125; view of the mappings contained in this map.</span></span><br><span class="line"><span class="hljs-comment">     * The set is backed by the map, so changes to the map are</span></span><br><span class="line"><span class="hljs-comment">     * reflected in the set, and vice-versa.  If the map is modified</span></span><br><span class="line"><span class="hljs-comment">     * while an iteration over the set is in progress (except through</span></span><br><span class="line"><span class="hljs-comment">     * the iterator's own &lt;tt&gt;remove&lt;/tt&gt; operation, or through the</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tt&gt;setValue&lt;/tt&gt; operation on a map entry returned by the</span></span><br><span class="line"><span class="hljs-comment">     * iterator) the results of the iteration are undefined.  The set</span></span><br><span class="line"><span class="hljs-comment">     * supports element removal, which removes the corresponding</span></span><br><span class="line"><span class="hljs-comment">     * mapping from the map, via the &lt;tt&gt;Iterator.remove&lt;/tt&gt;,</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tt&gt;Set.remove&lt;/tt&gt;, &lt;tt&gt;removeAll&lt;/tt&gt;, &lt;tt&gt;retainAll&lt;/tt&gt; and</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tt&gt;clear&lt;/tt&gt; operations.  It does not support the</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tt&gt;add&lt;/tt&gt; or &lt;tt&gt;addAll&lt;/tt&gt; operations.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> a set view of the mappings contained in this map</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">public</span> Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() &#123;</span><br><span class="line">        Set&lt;Map.Entry&lt;K,V&gt;&gt; es;</span><br><span class="line">        <span class="hljs-keyword">return</span> (es = entrySet) == <span class="hljs-keyword">null</span> ? (entrySet = <span class="hljs-keyword">new</span> EntrySet()) : es;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EntrySet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractSet</span>&lt;<span class="hljs-title">Map</span>.<span class="hljs-title">Entry</span>&lt;<span class="hljs-title">K</span>,<span class="hljs-title">V</span>&gt;&gt; </span>&#123;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">size</span><span class="hljs-params">()</span>                 </span>&#123; <span class="hljs-keyword">return</span> size; &#125;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span>               </span>&#123; HashMap.<span class="hljs-keyword">this</span>.clear(); &#125;</span><br><span class="line">        <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> Iterator&lt;Map.Entry&lt;K,V&gt;&gt; iterator() &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> EntryIterator();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">contains</span><span class="hljs-params">(Object o)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (!(o <span class="hljs-keyword">instanceof</span> Map.Entry))</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">            Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;) o;</span><br><span class="line">            Object key = e.getKey();</span><br><span class="line">            Node&lt;K,V&gt; candidate = getNode(hash(key), key);</span><br><span class="line">            <span class="hljs-keyword">return</span> candidate != <span class="hljs-keyword">null</span> &amp;&amp; candidate.equals(e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">remove</span><span class="hljs-params">(Object o)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (o <span class="hljs-keyword">instanceof</span> Map.Entry) &#123;</span><br><span class="line">                Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;) o;</span><br><span class="line">                Object key = e.getKey();</span><br><span class="line">                Object value = e.getValue();</span><br><span class="line">                <span class="hljs-keyword">return</span> removeNode(hash(key), key, value, <span class="hljs-keyword">true</span>, <span class="hljs-keyword">true</span>) != <span class="hljs-keyword">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> Spliterator&lt;Map.Entry&lt;K,V&gt;&gt; spliterator() &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> EntrySpliterator&lt;&gt;(HashMap.<span class="hljs-keyword">this</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">forEach</span><span class="hljs-params">(Consumer&lt;? <span class="hljs-keyword">super</span> Map.Entry&lt;K,V&gt;&gt; action)</span> </span>&#123;</span><br><span class="line">            Node&lt;K,V&gt;[] tab;</span><br><span class="line">            <span class="hljs-keyword">if</span> (action == <span class="hljs-keyword">null</span>)</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();</span><br><span class="line">            <span class="hljs-keyword">if</span> (size &gt; <span class="hljs-number">0</span> &amp;&amp; (tab = table) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> mc = modCount;</span><br><span class="line">                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; tab.length; ++i) &#123;</span><br><span class="line">                    <span class="hljs-keyword">for</span> (Node&lt;K,V&gt; e = tab[i]; e != <span class="hljs-keyword">null</span>; e = e.next)</span><br><span class="line">                        action.accept(e);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">if</span> (modCount != mc)</span><br><span class="line">                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// Overrides of JDK8 Map extension methods</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> V <span class="hljs-title">getOrDefault</span><span class="hljs-params">(Object key, V defaultValue)</span> </span>&#123;</span><br><span class="line">        Node&lt;K,V&gt; e;</span><br><span class="line">        <span class="hljs-keyword">return</span> (e = getNode(hash(key), key)) == <span class="hljs-keyword">null</span> ? defaultValue : e.value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> V <span class="hljs-title">putIfAbsent</span><span class="hljs-params">(K key, V value)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> putVal(hash(key), key, value, <span class="hljs-keyword">true</span>, <span class="hljs-keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">remove</span><span class="hljs-params">(Object key, Object value)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> removeNode(hash(key), key, value, <span class="hljs-keyword">true</span>, <span class="hljs-keyword">true</span>) != <span class="hljs-keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">replace</span><span class="hljs-params">(K key, V oldValue, V newValue)</span> </span>&#123;</span><br><span class="line">        Node&lt;K,V&gt; e; V v;</span><br><span class="line">        <span class="hljs-keyword">if</span> ((e = getNode(hash(key), key)) != <span class="hljs-keyword">null</span> &amp;&amp;</span><br><span class="line">            ((v = e.value) == oldValue || (v != <span class="hljs-keyword">null</span> &amp;&amp; v.equals(oldValue)))) &#123;</span><br><span class="line">            e.value = newValue;</span><br><span class="line">            afterNodeAccess(e);</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> V <span class="hljs-title">replace</span><span class="hljs-params">(K key, V value)</span> </span>&#123;</span><br><span class="line">        Node&lt;K,V&gt; e;</span><br><span class="line">        <span class="hljs-keyword">if</span> ((e = getNode(hash(key), key)) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            V oldValue = e.value;</span><br><span class="line">            e.value = value;</span><br><span class="line">            afterNodeAccess(e);</span><br><span class="line">            <span class="hljs-keyword">return</span> oldValue;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> V <span class="hljs-title">computeIfAbsent</span><span class="hljs-params">(K key,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">                             Function&lt;? <span class="hljs-keyword">super</span> K, ? extends V&gt; mappingFunction)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (mappingFunction == <span class="hljs-keyword">null</span>)</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();</span><br><span class="line">        <span class="hljs-keyword">int</span> hash = hash(key);</span><br><span class="line">        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first; <span class="hljs-keyword">int</span> n, i;</span><br><span class="line">        <span class="hljs-keyword">int</span> binCount = <span class="hljs-number">0</span>;</span><br><span class="line">        TreeNode&lt;K,V&gt; t = <span class="hljs-keyword">null</span>;</span><br><span class="line">        Node&lt;K,V&gt; old = <span class="hljs-keyword">null</span>;</span><br><span class="line">        <span class="hljs-keyword">if</span> (size &gt; threshold || (tab = table) == <span class="hljs-keyword">null</span> ||</span><br><span class="line">            (n = tab.length) == <span class="hljs-number">0</span>)</span><br><span class="line">            n = (tab = resize()).length;</span><br><span class="line">        <span class="hljs-keyword">if</span> ((first = tab[i = (n - <span class="hljs-number">1</span>) &amp; hash]) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (first <span class="hljs-keyword">instanceof</span> TreeNode)</span><br><span class="line">                old = (t = (TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);</span><br><span class="line">            <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                Node&lt;K,V&gt; e = first; K k;</span><br><span class="line">                <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                        ((k = e.key) == key || (key != <span class="hljs-keyword">null</span> &amp;&amp; key.equals(k)))) &#123;</span><br><span class="line">                        old = e;</span><br><span class="line">                        <span class="hljs-keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    ++binCount;</span><br><span class="line">                &#125; <span class="hljs-keyword">while</span> ((e = e.next) != <span class="hljs-keyword">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            V oldValue;</span><br><span class="line">            <span class="hljs-keyword">if</span> (old != <span class="hljs-keyword">null</span> &amp;&amp; (oldValue = old.value) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                afterNodeAccess(old);</span><br><span class="line">                <span class="hljs-keyword">return</span> oldValue;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        V v = mappingFunction.apply(key);</span><br><span class="line">        <span class="hljs-keyword">if</span> (v == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (old != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            old.value = v;</span><br><span class="line">            afterNodeAccess(old);</span><br><span class="line">            <span class="hljs-keyword">return</span> v;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (t != <span class="hljs-keyword">null</span>)</span><br><span class="line">            t.putTreeVal(<span class="hljs-keyword">this</span>, tab, hash, key, v);</span><br><span class="line">        <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            tab[i] = newNode(hash, key, v, first);</span><br><span class="line">            <span class="hljs-keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="hljs-number">1</span>)</span><br><span class="line">                treeifyBin(tab, hash);</span><br><span class="line">        &#125;</span><br><span class="line">        ++modCount;</span><br><span class="line">        ++size;</span><br><span class="line">        afterNodeInsertion(<span class="hljs-keyword">true</span>);</span><br><span class="line">        <span class="hljs-keyword">return</span> v;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> V <span class="hljs-title">computeIfPresent</span><span class="hljs-params">(K key,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">                              BiFunction&lt;? <span class="hljs-keyword">super</span> K, ? <span class="hljs-keyword">super</span> V, ? extends V&gt; remappingFunction)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (remappingFunction == <span class="hljs-keyword">null</span>)</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();</span><br><span class="line">        Node&lt;K,V&gt; e; V oldValue;</span><br><span class="line">        <span class="hljs-keyword">int</span> hash = hash(key);</span><br><span class="line">        <span class="hljs-keyword">if</span> ((e = getNode(hash, key)) != <span class="hljs-keyword">null</span> &amp;&amp;</span><br><span class="line">            (oldValue = e.value) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            V v = remappingFunction.apply(key, oldValue);</span><br><span class="line">            <span class="hljs-keyword">if</span> (v != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                e.value = v;</span><br><span class="line">                afterNodeAccess(e);</span><br><span class="line">                <span class="hljs-keyword">return</span> v;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">else</span></span><br><span class="line">                removeNode(hash, key, <span class="hljs-keyword">null</span>, <span class="hljs-keyword">false</span>, <span class="hljs-keyword">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> V <span class="hljs-title">compute</span><span class="hljs-params">(K key,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">                     BiFunction&lt;? <span class="hljs-keyword">super</span> K, ? <span class="hljs-keyword">super</span> V, ? extends V&gt; remappingFunction)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (remappingFunction == <span class="hljs-keyword">null</span>)</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();</span><br><span class="line">        <span class="hljs-keyword">int</span> hash = hash(key);</span><br><span class="line">        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first; <span class="hljs-keyword">int</span> n, i;</span><br><span class="line">        <span class="hljs-keyword">int</span> binCount = <span class="hljs-number">0</span>;</span><br><span class="line">        TreeNode&lt;K,V&gt; t = <span class="hljs-keyword">null</span>;</span><br><span class="line">        Node&lt;K,V&gt; old = <span class="hljs-keyword">null</span>;</span><br><span class="line">        <span class="hljs-keyword">if</span> (size &gt; threshold || (tab = table) == <span class="hljs-keyword">null</span> ||</span><br><span class="line">            (n = tab.length) == <span class="hljs-number">0</span>)</span><br><span class="line">            n = (tab = resize()).length;</span><br><span class="line">        <span class="hljs-keyword">if</span> ((first = tab[i = (n - <span class="hljs-number">1</span>) &amp; hash]) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (first <span class="hljs-keyword">instanceof</span> TreeNode)</span><br><span class="line">                old = (t = (TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);</span><br><span class="line">            <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                Node&lt;K,V&gt; e = first; K k;</span><br><span class="line">                <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                        ((k = e.key) == key || (key != <span class="hljs-keyword">null</span> &amp;&amp; key.equals(k)))) &#123;</span><br><span class="line">                        old = e;</span><br><span class="line">                        <span class="hljs-keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    ++binCount;</span><br><span class="line">                &#125; <span class="hljs-keyword">while</span> ((e = e.next) != <span class="hljs-keyword">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        V oldValue = (old == <span class="hljs-keyword">null</span>) ? <span class="hljs-keyword">null</span> : old.value;</span><br><span class="line">        V v = remappingFunction.apply(key, oldValue);</span><br><span class="line">        <span class="hljs-keyword">if</span> (old != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (v != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                old.value = v;</span><br><span class="line">                afterNodeAccess(old);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">else</span></span><br><span class="line">                removeNode(hash, key, <span class="hljs-keyword">null</span>, <span class="hljs-keyword">false</span>, <span class="hljs-keyword">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (v != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (t != <span class="hljs-keyword">null</span>)</span><br><span class="line">                t.putTreeVal(<span class="hljs-keyword">this</span>, tab, hash, key, v);</span><br><span class="line">            <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                tab[i] = newNode(hash, key, v, first);</span><br><span class="line">                <span class="hljs-keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="hljs-number">1</span>)</span><br><span class="line">                    treeifyBin(tab, hash);</span><br><span class="line">            &#125;</span><br><span class="line">            ++modCount;</span><br><span class="line">            ++size;</span><br><span class="line">            afterNodeInsertion(<span class="hljs-keyword">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> v;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> V <span class="hljs-title">merge</span><span class="hljs-params">(K key, V value,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">                   BiFunction&lt;? <span class="hljs-keyword">super</span> V, ? <span class="hljs-keyword">super</span> V, ? extends V&gt; remappingFunction)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (value == <span class="hljs-keyword">null</span>)</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();</span><br><span class="line">        <span class="hljs-keyword">if</span> (remappingFunction == <span class="hljs-keyword">null</span>)</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();</span><br><span class="line">        <span class="hljs-keyword">int</span> hash = hash(key);</span><br><span class="line">        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first; <span class="hljs-keyword">int</span> n, i;</span><br><span class="line">        <span class="hljs-keyword">int</span> binCount = <span class="hljs-number">0</span>;</span><br><span class="line">        TreeNode&lt;K,V&gt; t = <span class="hljs-keyword">null</span>;</span><br><span class="line">        Node&lt;K,V&gt; old = <span class="hljs-keyword">null</span>;</span><br><span class="line">        <span class="hljs-keyword">if</span> (size &gt; threshold || (tab = table) == <span class="hljs-keyword">null</span> ||</span><br><span class="line">            (n = tab.length) == <span class="hljs-number">0</span>)</span><br><span class="line">            n = (tab = resize()).length;</span><br><span class="line">        <span class="hljs-keyword">if</span> ((first = tab[i = (n - <span class="hljs-number">1</span>) &amp; hash]) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (first <span class="hljs-keyword">instanceof</span> TreeNode)</span><br><span class="line">                old = (t = (TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);</span><br><span class="line">            <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                Node&lt;K,V&gt; e = first; K k;</span><br><span class="line">                <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                        ((k = e.key) == key || (key != <span class="hljs-keyword">null</span> &amp;&amp; key.equals(k)))) &#123;</span><br><span class="line">                        old = e;</span><br><span class="line">                        <span class="hljs-keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    ++binCount;</span><br><span class="line">                &#125; <span class="hljs-keyword">while</span> ((e = e.next) != <span class="hljs-keyword">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">if</span> (old != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            V v;</span><br><span class="line">            <span class="hljs-keyword">if</span> (old.value != <span class="hljs-keyword">null</span>)</span><br><span class="line">                v = remappingFunction.apply(old.value, value);</span><br><span class="line">            <span class="hljs-keyword">else</span></span><br><span class="line">                v = value;</span><br><span class="line">            <span class="hljs-keyword">if</span> (v != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                old.value = v;</span><br><span class="line">                afterNodeAccess(old);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">else</span></span><br><span class="line">                removeNode(hash, key, <span class="hljs-keyword">null</span>, <span class="hljs-keyword">false</span>, <span class="hljs-keyword">true</span>);</span><br><span class="line">            <span class="hljs-keyword">return</span> v;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">if</span> (value != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (t != <span class="hljs-keyword">null</span>)</span><br><span class="line">                t.putTreeVal(<span class="hljs-keyword">this</span>, tab, hash, key, value);</span><br><span class="line">            <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                tab[i] = newNode(hash, key, value, first);</span><br><span class="line">                <span class="hljs-keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="hljs-number">1</span>)</span><br><span class="line">                    treeifyBin(tab, hash);</span><br><span class="line">            &#125;</span><br><span class="line">            ++modCount;</span><br><span class="line">            ++size;</span><br><span class="line">            afterNodeInsertion(<span class="hljs-keyword">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">forEach</span><span class="hljs-params">(BiConsumer&lt;? <span class="hljs-keyword">super</span> K, ? <span class="hljs-keyword">super</span> V&gt; action)</span> </span>&#123;</span><br><span class="line">        Node&lt;K,V&gt;[] tab;</span><br><span class="line">        <span class="hljs-keyword">if</span> (action == <span class="hljs-keyword">null</span>)</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();</span><br><span class="line">        <span class="hljs-keyword">if</span> (size &gt; <span class="hljs-number">0</span> &amp;&amp; (tab = table) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> mc = modCount;</span><br><span class="line">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; tab.length; ++i) &#123;</span><br><span class="line">                <span class="hljs-keyword">for</span> (Node&lt;K,V&gt; e = tab[i]; e != <span class="hljs-keyword">null</span>; e = e.next)</span><br><span class="line">                    action.accept(e.key, e.value);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">if</span> (modCount != mc)</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">replaceAll</span><span class="hljs-params">(BiFunction&lt;? <span class="hljs-keyword">super</span> K, ? <span class="hljs-keyword">super</span> V, ? extends V&gt; function)</span> </span>&#123;</span><br><span class="line">        Node&lt;K,V&gt;[] tab;</span><br><span class="line">        <span class="hljs-keyword">if</span> (function == <span class="hljs-keyword">null</span>)</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();</span><br><span class="line">        <span class="hljs-keyword">if</span> (size &gt; <span class="hljs-number">0</span> &amp;&amp; (tab = table) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> mc = modCount;</span><br><span class="line">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; tab.length; ++i) &#123;</span><br><span class="line">                <span class="hljs-keyword">for</span> (Node&lt;K,V&gt; e = tab[i]; e != <span class="hljs-keyword">null</span>; e = e.next) &#123;</span><br><span class="line">                    e.value = function.apply(e.key, e.value);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">if</span> (modCount != mc)</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* ------------------------------------------------------------ */</span></span><br><span class="line">    <span class="hljs-comment">// Cloning and serialization</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns a shallow copy of this &lt;tt&gt;HashMap&lt;/tt&gt; instance: the keys and</span></span><br><span class="line"><span class="hljs-comment">     * values themselves are not cloned.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> a shallow copy of this map</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-meta">@SuppressWarnings</span>(<span class="hljs-string">"unchecked"</span>)</span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">clone</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        HashMap&lt;K,V&gt; result;</span><br><span class="line">        <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">            result = (HashMap&lt;K,V&gt;)<span class="hljs-keyword">super</span>.clone();</span><br><span class="line">        &#125; <span class="hljs-keyword">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class="line">            <span class="hljs-comment">// this shouldn't happen, since we are Cloneable</span></span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> InternalError(e);</span><br><span class="line">        &#125;</span><br><span class="line">        result.reinitialize();</span><br><span class="line">        result.putMapEntries(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">false</span>);</span><br><span class="line">        <span class="hljs-keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// These methods are also used when serializing HashSets</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">final</span> <span class="hljs-keyword">float</span> <span class="hljs-title">loadFactor</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-keyword">return</span> loadFactor; &#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">capacity</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> (table != <span class="hljs-keyword">null</span>) ? table.length :</span><br><span class="line">            (threshold &gt; <span class="hljs-number">0</span>) ? threshold :</span><br><span class="line">            DEFAULT_INITIAL_CAPACITY;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Save the state of the &lt;tt&gt;HashMap&lt;/tt&gt; instance to a stream (i.e.,</span></span><br><span class="line"><span class="hljs-comment">     * serialize it).</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@serialData</span> The &lt;i&gt;capacity&lt;/i&gt; of the HashMap (the length of the</span></span><br><span class="line"><span class="hljs-comment">     *             bucket array) is emitted (int), followed by the</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;i&gt;size&lt;/i&gt; (an int, the number of key-value</span></span><br><span class="line"><span class="hljs-comment">     *             mappings), followed by the key (Object) and value (Object)</span></span><br><span class="line"><span class="hljs-comment">     *             for each key-value mapping.  The key-value mappings are</span></span><br><span class="line"><span class="hljs-comment">     *             emitted in no particular order.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">writeObject</span><span class="hljs-params">(java.io.ObjectOutputStream s)</span></span></span><br><span class="line"><span class="hljs-function">        <span class="hljs-keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> buckets = capacity();</span><br><span class="line">        <span class="hljs-comment">// Write out the threshold, loadfactor, and any hidden stuff</span></span><br><span class="line">        s.defaultWriteObject();</span><br><span class="line">        s.writeInt(buckets);</span><br><span class="line">        s.writeInt(size);</span><br><span class="line">        internalWriteEntries(s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Reconstitute the &#123;<span class="hljs-doctag">@code</span> HashMap&#125; instance from a stream (i.e.,</span></span><br><span class="line"><span class="hljs-comment">     * deserialize it).</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">readObject</span><span class="hljs-params">(java.io.ObjectInputStream s)</span></span></span><br><span class="line"><span class="hljs-function">        <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">        <span class="hljs-comment">// Read in the threshold (ignored), loadfactor, and any hidden stuff</span></span><br><span class="line">        s.defaultReadObject();</span><br><span class="line">        reinitialize();</span><br><span class="line">        <span class="hljs-keyword">if</span> (loadFactor &lt;= <span class="hljs-number">0</span> || Float.isNaN(loadFactor))</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> InvalidObjectException(<span class="hljs-string">"Illegal load factor: "</span> +</span><br><span class="line">                                             loadFactor);</span><br><span class="line">        s.readInt();                <span class="hljs-comment">// Read and ignore number of buckets</span></span><br><span class="line">        <span class="hljs-keyword">int</span> mappings = s.readInt(); <span class="hljs-comment">// Read number of mappings (size)</span></span><br><span class="line">        <span class="hljs-keyword">if</span> (mappings &lt; <span class="hljs-number">0</span>)</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> InvalidObjectException(<span class="hljs-string">"Illegal mappings count: "</span> +</span><br><span class="line">                                             mappings);</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (mappings &gt; <span class="hljs-number">0</span>) &#123; <span class="hljs-comment">// (if zero, use defaults)</span></span><br><span class="line">            <span class="hljs-comment">// Size the table using given load factor only if within</span></span><br><span class="line">            <span class="hljs-comment">// range of 0.25...4.0</span></span><br><span class="line">            <span class="hljs-keyword">float</span> lf = Math.min(Math.max(<span class="hljs-number">0.25f</span>, loadFactor), <span class="hljs-number">4.0f</span>);</span><br><span class="line">            <span class="hljs-keyword">float</span> fc = (<span class="hljs-keyword">float</span>)mappings / lf + <span class="hljs-number">1.0f</span>;</span><br><span class="line">            <span class="hljs-keyword">int</span> cap = ((fc &lt; DEFAULT_INITIAL_CAPACITY) ?</span><br><span class="line">                       DEFAULT_INITIAL_CAPACITY :</span><br><span class="line">                       (fc &gt;= MAXIMUM_CAPACITY) ?</span><br><span class="line">                       MAXIMUM_CAPACITY :</span><br><span class="line">                       tableSizeFor((<span class="hljs-keyword">int</span>)fc));</span><br><span class="line">            <span class="hljs-keyword">float</span> ft = (<span class="hljs-keyword">float</span>)cap * lf;</span><br><span class="line">            threshold = ((cap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; MAXIMUM_CAPACITY) ?</span><br><span class="line">                         (<span class="hljs-keyword">int</span>)ft : Integer.MAX_VALUE);</span><br><span class="line"></span><br><span class="line">            <span class="hljs-comment">// Check Map.Entry[].class since it's the nearest public type to</span></span><br><span class="line">            <span class="hljs-comment">// what we're actually creating.</span></span><br><span class="line">            SharedSecrets.getJavaOISAccess().checkArray(s, Map.Entry[].class, cap);</span><br><span class="line">            <span class="hljs-meta">@SuppressWarnings</span>(&#123;<span class="hljs-string">"rawtypes"</span>,<span class="hljs-string">"unchecked"</span>&#125;)</span><br><span class="line">            Node&lt;K,V&gt;[] tab = (Node&lt;K,V&gt;[])<span class="hljs-keyword">new</span> Node[cap];</span><br><span class="line">            table = tab;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-comment">// Read the keys and values, and put the mappings in the HashMap</span></span><br><span class="line">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; mappings; i++) &#123;</span><br><span class="line">                <span class="hljs-meta">@SuppressWarnings</span>(<span class="hljs-string">"unchecked"</span>)</span><br><span class="line">                    K key = (K) s.readObject();</span><br><span class="line">                <span class="hljs-meta">@SuppressWarnings</span>(<span class="hljs-string">"unchecked"</span>)</span><br><span class="line">                    V value = (V) s.readObject();</span><br><span class="line">                putVal(hash(key), key, value, <span class="hljs-keyword">false</span>, <span class="hljs-keyword">false</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* ------------------------------------------------------------ */</span></span><br><span class="line">    <span class="hljs-comment">// iterators</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HashIterator</span> </span>&#123;</span><br><span class="line">        Node&lt;K,V&gt; next;        <span class="hljs-comment">// next entry to return</span></span><br><span class="line">        Node&lt;K,V&gt; current;     <span class="hljs-comment">// current entry</span></span><br><span class="line">        <span class="hljs-keyword">int</span> expectedModCount;  <span class="hljs-comment">// for fast-fail</span></span><br><span class="line">        <span class="hljs-keyword">int</span> index;             <span class="hljs-comment">// current slot</span></span><br><span class="line"></span><br><span class="line">        HashIterator() &#123;</span><br><span class="line">            expectedModCount = modCount;</span><br><span class="line">            Node&lt;K,V&gt;[] t = table;</span><br><span class="line">            current = next = <span class="hljs-keyword">null</span>;</span><br><span class="line">            index = <span class="hljs-number">0</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (t != <span class="hljs-keyword">null</span> &amp;&amp; size &gt; <span class="hljs-number">0</span>) &#123; <span class="hljs-comment">// advance to first entry</span></span><br><span class="line">                <span class="hljs-keyword">do</span> &#123;&#125; <span class="hljs-keyword">while</span> (index &lt; t.length &amp;&amp; (next = t[index++]) == <span class="hljs-keyword">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hasNext</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> next != <span class="hljs-keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">final</span> Node&lt;K,V&gt; <span class="hljs-title">nextNode</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            Node&lt;K,V&gt;[] t;</span><br><span class="line">            Node&lt;K,V&gt; e = next;</span><br><span class="line">            <span class="hljs-keyword">if</span> (modCount != expectedModCount)</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();</span><br><span class="line">            <span class="hljs-keyword">if</span> (e == <span class="hljs-keyword">null</span>)</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NoSuchElementException();</span><br><span class="line">            <span class="hljs-keyword">if</span> ((next = (current = e).next) == <span class="hljs-keyword">null</span> &amp;&amp; (t = table) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">do</span> &#123;&#125; <span class="hljs-keyword">while</span> (index &lt; t.length &amp;&amp; (next = t[index++]) == <span class="hljs-keyword">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">return</span> e;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">remove</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            Node&lt;K,V&gt; p = current;</span><br><span class="line">            <span class="hljs-keyword">if</span> (p == <span class="hljs-keyword">null</span>)</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalStateException();</span><br><span class="line">            <span class="hljs-keyword">if</span> (modCount != expectedModCount)</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();</span><br><span class="line">            current = <span class="hljs-keyword">null</span>;</span><br><span class="line">            K key = p.key;</span><br><span class="line">            removeNode(hash(key), key, <span class="hljs-keyword">null</span>, <span class="hljs-keyword">false</span>, <span class="hljs-keyword">false</span>);</span><br><span class="line">            expectedModCount = modCount;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">KeyIterator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HashIterator</span></span></span><br><span class="line"><span class="hljs-class">        <span class="hljs-keyword">implements</span> <span class="hljs-title">Iterator</span>&lt;<span class="hljs-title">K</span>&gt; </span>&#123;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> K <span class="hljs-title">next</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-keyword">return</span> nextNode().key; &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ValueIterator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HashIterator</span></span></span><br><span class="line"><span class="hljs-class">        <span class="hljs-keyword">implements</span> <span class="hljs-title">Iterator</span>&lt;<span class="hljs-title">V</span>&gt; </span>&#123;</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> V <span class="hljs-title">next</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-keyword">return</span> nextNode().value; &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EntryIterator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HashIterator</span></span></span><br><span class="line"><span class="hljs-class">        <span class="hljs-keyword">implements</span> <span class="hljs-title">Iterator</span>&lt;<span class="hljs-title">Map</span>.<span class="hljs-title">Entry</span>&lt;<span class="hljs-title">K</span>,<span class="hljs-title">V</span>&gt;&gt; </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> Map.<span class="hljs-function">Entry&lt;K,V&gt; <span class="hljs-title">next</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-keyword">return</span> nextNode(); &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* ------------------------------------------------------------ */</span></span><br><span class="line">    <span class="hljs-comment">// spliterators</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HashMapSpliterator</span>&lt;<span class="hljs-title">K</span>,<span class="hljs-title">V</span>&gt; </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">final</span> HashMap&lt;K,V&gt; map;</span><br><span class="line">        Node&lt;K,V&gt; current;          <span class="hljs-comment">// current node</span></span><br><span class="line">        <span class="hljs-keyword">int</span> index;                  <span class="hljs-comment">// current index, modified on advance/split</span></span><br><span class="line">        <span class="hljs-keyword">int</span> fence;                  <span class="hljs-comment">// one past last index</span></span><br><span class="line">        <span class="hljs-keyword">int</span> est;                    <span class="hljs-comment">// size estimate</span></span><br><span class="line">        <span class="hljs-keyword">int</span> expectedModCount;       <span class="hljs-comment">// for comodification checks</span></span><br><span class="line"></span><br><span class="line">        HashMapSpliterator(HashMap&lt;K,V&gt; m, <span class="hljs-keyword">int</span> origin,</span><br><span class="line">                           <span class="hljs-keyword">int</span> fence, <span class="hljs-keyword">int</span> est,</span><br><span class="line">                           <span class="hljs-keyword">int</span> expectedModCount) &#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.map = m;</span><br><span class="line">            <span class="hljs-keyword">this</span>.index = origin;</span><br><span class="line">            <span class="hljs-keyword">this</span>.fence = fence;</span><br><span class="line">            <span class="hljs-keyword">this</span>.est = est;</span><br><span class="line">            <span class="hljs-keyword">this</span>.expectedModCount = expectedModCount;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getFence</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-comment">// initialize fence and size on first use</span></span><br><span class="line">            <span class="hljs-keyword">int</span> hi;</span><br><span class="line">            <span class="hljs-keyword">if</span> ((hi = fence) &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                HashMap&lt;K,V&gt; m = map;</span><br><span class="line">                est = m.size;</span><br><span class="line">                expectedModCount = m.modCount;</span><br><span class="line">                Node&lt;K,V&gt;[] tab = m.table;</span><br><span class="line">                hi = fence = (tab == <span class="hljs-keyword">null</span>) ? <span class="hljs-number">0</span> : tab.length;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">return</span> hi;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> <span class="hljs-title">estimateSize</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            getFence(); <span class="hljs-comment">// force init</span></span><br><span class="line">            <span class="hljs-keyword">return</span> (<span class="hljs-keyword">long</span>) est;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">KeySpliterator</span>&lt;<span class="hljs-title">K</span>,<span class="hljs-title">V</span>&gt;</span></span><br><span class="line"><span class="hljs-class">        <span class="hljs-keyword">extends</span> <span class="hljs-title">HashMapSpliterator</span>&lt;<span class="hljs-title">K</span>,<span class="hljs-title">V</span>&gt;</span></span><br><span class="line"><span class="hljs-class">        <span class="hljs-keyword">implements</span> <span class="hljs-title">Spliterator</span>&lt;<span class="hljs-title">K</span>&gt; </span>&#123;</span><br><span class="line">        KeySpliterator(HashMap&lt;K,V&gt; m, <span class="hljs-keyword">int</span> origin, <span class="hljs-keyword">int</span> fence, <span class="hljs-keyword">int</span> est,</span><br><span class="line">                       <span class="hljs-keyword">int</span> expectedModCount) &#123;</span><br><span class="line">            <span class="hljs-keyword">super</span>(m, origin, fence, est, expectedModCount);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> KeySpliterator&lt;K,V&gt; <span class="hljs-title">trySplit</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> hi = getFence(), lo = index, mid = (lo + hi) &gt;&gt;&gt; <span class="hljs-number">1</span>;</span><br><span class="line">            <span class="hljs-keyword">return</span> (lo &gt;= mid || current != <span class="hljs-keyword">null</span>) ? <span class="hljs-keyword">null</span> :</span><br><span class="line">                <span class="hljs-keyword">new</span> KeySpliterator&lt;&gt;(map, lo, index = mid, est &gt;&gt;&gt;= <span class="hljs-number">1</span>,</span><br><span class="line">                                        expectedModCount);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">forEachRemaining</span><span class="hljs-params">(Consumer&lt;? <span class="hljs-keyword">super</span> K&gt; action)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> i, hi, mc;</span><br><span class="line">            <span class="hljs-keyword">if</span> (action == <span class="hljs-keyword">null</span>)</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();</span><br><span class="line">            HashMap&lt;K,V&gt; m = map;</span><br><span class="line">            Node&lt;K,V&gt;[] tab = m.table;</span><br><span class="line">            <span class="hljs-keyword">if</span> ((hi = fence) &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                mc = expectedModCount = m.modCount;</span><br><span class="line">                hi = fence = (tab == <span class="hljs-keyword">null</span>) ? <span class="hljs-number">0</span> : tab.length;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">else</span></span><br><span class="line">                mc = expectedModCount;</span><br><span class="line">            <span class="hljs-keyword">if</span> (tab != <span class="hljs-keyword">null</span> &amp;&amp; tab.length &gt;= hi &amp;&amp;</span><br><span class="line">                (i = index) &gt;= <span class="hljs-number">0</span> &amp;&amp; (i &lt; (index = hi) || current != <span class="hljs-keyword">null</span>)) &#123;</span><br><span class="line">                Node&lt;K,V&gt; p = current;</span><br><span class="line">                current = <span class="hljs-keyword">null</span>;</span><br><span class="line">                <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (p == <span class="hljs-keyword">null</span>)</span><br><span class="line">                        p = tab[i++];</span><br><span class="line">                    <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                        action.accept(p.key);</span><br><span class="line">                        p = p.next;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="hljs-keyword">while</span> (p != <span class="hljs-keyword">null</span> || i &lt; hi);</span><br><span class="line">                <span class="hljs-keyword">if</span> (m.modCount != mc)</span><br><span class="line">                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">tryAdvance</span><span class="hljs-params">(Consumer&lt;? <span class="hljs-keyword">super</span> K&gt; action)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> hi;</span><br><span class="line">            <span class="hljs-keyword">if</span> (action == <span class="hljs-keyword">null</span>)</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();</span><br><span class="line">            Node&lt;K,V&gt;[] tab = map.table;</span><br><span class="line">            <span class="hljs-keyword">if</span> (tab != <span class="hljs-keyword">null</span> &amp;&amp; tab.length &gt;= (hi = getFence()) &amp;&amp; index &gt;= <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">while</span> (current != <span class="hljs-keyword">null</span> || index &lt; hi) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (current == <span class="hljs-keyword">null</span>)</span><br><span class="line">                        current = tab[index++];</span><br><span class="line">                    <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                        K k = current.key;</span><br><span class="line">                        current = current.next;</span><br><span class="line">                        action.accept(k);</span><br><span class="line">                        <span class="hljs-keyword">if</span> (map.modCount != expectedModCount)</span><br><span class="line">                            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();</span><br><span class="line">                        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">characteristics</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> (fence &lt; <span class="hljs-number">0</span> || est == map.size ? Spliterator.SIZED : <span class="hljs-number">0</span>) |</span><br><span class="line">                Spliterator.DISTINCT;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ValueSpliterator</span>&lt;<span class="hljs-title">K</span>,<span class="hljs-title">V</span>&gt;</span></span><br><span class="line"><span class="hljs-class">        <span class="hljs-keyword">extends</span> <span class="hljs-title">HashMapSpliterator</span>&lt;<span class="hljs-title">K</span>,<span class="hljs-title">V</span>&gt;</span></span><br><span class="line"><span class="hljs-class">        <span class="hljs-keyword">implements</span> <span class="hljs-title">Spliterator</span>&lt;<span class="hljs-title">V</span>&gt; </span>&#123;</span><br><span class="line">        ValueSpliterator(HashMap&lt;K,V&gt; m, <span class="hljs-keyword">int</span> origin, <span class="hljs-keyword">int</span> fence, <span class="hljs-keyword">int</span> est,</span><br><span class="line">                         <span class="hljs-keyword">int</span> expectedModCount) &#123;</span><br><span class="line">            <span class="hljs-keyword">super</span>(m, origin, fence, est, expectedModCount);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> ValueSpliterator&lt;K,V&gt; <span class="hljs-title">trySplit</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> hi = getFence(), lo = index, mid = (lo + hi) &gt;&gt;&gt; <span class="hljs-number">1</span>;</span><br><span class="line">            <span class="hljs-keyword">return</span> (lo &gt;= mid || current != <span class="hljs-keyword">null</span>) ? <span class="hljs-keyword">null</span> :</span><br><span class="line">                <span class="hljs-keyword">new</span> ValueSpliterator&lt;&gt;(map, lo, index = mid, est &gt;&gt;&gt;= <span class="hljs-number">1</span>,</span><br><span class="line">                                          expectedModCount);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">forEachRemaining</span><span class="hljs-params">(Consumer&lt;? <span class="hljs-keyword">super</span> V&gt; action)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> i, hi, mc;</span><br><span class="line">            <span class="hljs-keyword">if</span> (action == <span class="hljs-keyword">null</span>)</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();</span><br><span class="line">            HashMap&lt;K,V&gt; m = map;</span><br><span class="line">            Node&lt;K,V&gt;[] tab = m.table;</span><br><span class="line">            <span class="hljs-keyword">if</span> ((hi = fence) &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                mc = expectedModCount = m.modCount;</span><br><span class="line">                hi = fence = (tab == <span class="hljs-keyword">null</span>) ? <span class="hljs-number">0</span> : tab.length;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">else</span></span><br><span class="line">                mc = expectedModCount;</span><br><span class="line">            <span class="hljs-keyword">if</span> (tab != <span class="hljs-keyword">null</span> &amp;&amp; tab.length &gt;= hi &amp;&amp;</span><br><span class="line">                (i = index) &gt;= <span class="hljs-number">0</span> &amp;&amp; (i &lt; (index = hi) || current != <span class="hljs-keyword">null</span>)) &#123;</span><br><span class="line">                Node&lt;K,V&gt; p = current;</span><br><span class="line">                current = <span class="hljs-keyword">null</span>;</span><br><span class="line">                <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (p == <span class="hljs-keyword">null</span>)</span><br><span class="line">                        p = tab[i++];</span><br><span class="line">                    <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                        action.accept(p.value);</span><br><span class="line">                        p = p.next;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="hljs-keyword">while</span> (p != <span class="hljs-keyword">null</span> || i &lt; hi);</span><br><span class="line">                <span class="hljs-keyword">if</span> (m.modCount != mc)</span><br><span class="line">                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">tryAdvance</span><span class="hljs-params">(Consumer&lt;? <span class="hljs-keyword">super</span> V&gt; action)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> hi;</span><br><span class="line">            <span class="hljs-keyword">if</span> (action == <span class="hljs-keyword">null</span>)</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();</span><br><span class="line">            Node&lt;K,V&gt;[] tab = map.table;</span><br><span class="line">            <span class="hljs-keyword">if</span> (tab != <span class="hljs-keyword">null</span> &amp;&amp; tab.length &gt;= (hi = getFence()) &amp;&amp; index &gt;= <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">while</span> (current != <span class="hljs-keyword">null</span> || index &lt; hi) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (current == <span class="hljs-keyword">null</span>)</span><br><span class="line">                        current = tab[index++];</span><br><span class="line">                    <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                        V v = current.value;</span><br><span class="line">                        current = current.next;</span><br><span class="line">                        action.accept(v);</span><br><span class="line">                        <span class="hljs-keyword">if</span> (map.modCount != expectedModCount)</span><br><span class="line">                            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();</span><br><span class="line">                        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">characteristics</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> (fence &lt; <span class="hljs-number">0</span> || est == map.size ? Spliterator.SIZED : <span class="hljs-number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EntrySpliterator</span>&lt;<span class="hljs-title">K</span>,<span class="hljs-title">V</span>&gt;</span></span><br><span class="line"><span class="hljs-class">        <span class="hljs-keyword">extends</span> <span class="hljs-title">HashMapSpliterator</span>&lt;<span class="hljs-title">K</span>,<span class="hljs-title">V</span>&gt;</span></span><br><span class="line"><span class="hljs-class">        <span class="hljs-keyword">implements</span> <span class="hljs-title">Spliterator</span>&lt;<span class="hljs-title">Map</span>.<span class="hljs-title">Entry</span>&lt;<span class="hljs-title">K</span>,<span class="hljs-title">V</span>&gt;&gt; </span>&#123;</span><br><span class="line">        EntrySpliterator(HashMap&lt;K,V&gt; m, <span class="hljs-keyword">int</span> origin, <span class="hljs-keyword">int</span> fence, <span class="hljs-keyword">int</span> est,</span><br><span class="line">                         <span class="hljs-keyword">int</span> expectedModCount) &#123;</span><br><span class="line">            <span class="hljs-keyword">super</span>(m, origin, fence, est, expectedModCount);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> EntrySpliterator&lt;K,V&gt; <span class="hljs-title">trySplit</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> hi = getFence(), lo = index, mid = (lo + hi) &gt;&gt;&gt; <span class="hljs-number">1</span>;</span><br><span class="line">            <span class="hljs-keyword">return</span> (lo &gt;= mid || current != <span class="hljs-keyword">null</span>) ? <span class="hljs-keyword">null</span> :</span><br><span class="line">                <span class="hljs-keyword">new</span> EntrySpliterator&lt;&gt;(map, lo, index = mid, est &gt;&gt;&gt;= <span class="hljs-number">1</span>,</span><br><span class="line">                                          expectedModCount);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">forEachRemaining</span><span class="hljs-params">(Consumer&lt;? <span class="hljs-keyword">super</span> Map.Entry&lt;K,V&gt;&gt; action)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> i, hi, mc;</span><br><span class="line">            <span class="hljs-keyword">if</span> (action == <span class="hljs-keyword">null</span>)</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();</span><br><span class="line">            HashMap&lt;K,V&gt; m = map;</span><br><span class="line">            Node&lt;K,V&gt;[] tab = m.table;</span><br><span class="line">            <span class="hljs-keyword">if</span> ((hi = fence) &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                mc = expectedModCount = m.modCount;</span><br><span class="line">                hi = fence = (tab == <span class="hljs-keyword">null</span>) ? <span class="hljs-number">0</span> : tab.length;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">else</span></span><br><span class="line">                mc = expectedModCount;</span><br><span class="line">            <span class="hljs-keyword">if</span> (tab != <span class="hljs-keyword">null</span> &amp;&amp; tab.length &gt;= hi &amp;&amp;</span><br><span class="line">                (i = index) &gt;= <span class="hljs-number">0</span> &amp;&amp; (i &lt; (index = hi) || current != <span class="hljs-keyword">null</span>)) &#123;</span><br><span class="line">                Node&lt;K,V&gt; p = current;</span><br><span class="line">                current = <span class="hljs-keyword">null</span>;</span><br><span class="line">                <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (p == <span class="hljs-keyword">null</span>)</span><br><span class="line">                        p = tab[i++];</span><br><span class="line">                    <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                        action.accept(p);</span><br><span class="line">                        p = p.next;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="hljs-keyword">while</span> (p != <span class="hljs-keyword">null</span> || i &lt; hi);</span><br><span class="line">                <span class="hljs-keyword">if</span> (m.modCount != mc)</span><br><span class="line">                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">tryAdvance</span><span class="hljs-params">(Consumer&lt;? <span class="hljs-keyword">super</span> Map.Entry&lt;K,V&gt;&gt; action)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> hi;</span><br><span class="line">            <span class="hljs-keyword">if</span> (action == <span class="hljs-keyword">null</span>)</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();</span><br><span class="line">            Node&lt;K,V&gt;[] tab = map.table;</span><br><span class="line">            <span class="hljs-keyword">if</span> (tab != <span class="hljs-keyword">null</span> &amp;&amp; tab.length &gt;= (hi = getFence()) &amp;&amp; index &gt;= <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">while</span> (current != <span class="hljs-keyword">null</span> || index &lt; hi) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (current == <span class="hljs-keyword">null</span>)</span><br><span class="line">                        current = tab[index++];</span><br><span class="line">                    <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                        Node&lt;K,V&gt; e = current;</span><br><span class="line">                        current = current.next;</span><br><span class="line">                        action.accept(e);</span><br><span class="line">                        <span class="hljs-keyword">if</span> (map.modCount != expectedModCount)</span><br><span class="line">                            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ConcurrentModificationException();</span><br><span class="line">                        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">characteristics</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> (fence &lt; <span class="hljs-number">0</span> || est == map.size ? Spliterator.SIZED : <span class="hljs-number">0</span>) |</span><br><span class="line">                Spliterator.DISTINCT;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* ------------------------------------------------------------ */</span></span><br><span class="line">    <span class="hljs-comment">// LinkedHashMap support</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/*</span></span><br><span class="line"><span class="hljs-comment">     * The following package-protected methods are designed to be</span></span><br><span class="line"><span class="hljs-comment">     * overridden by LinkedHashMap, but not by any other subclass.</span></span><br><span class="line"><span class="hljs-comment">     * Nearly all other internal methods are also package-protected</span></span><br><span class="line"><span class="hljs-comment">     * but are declared final, so can be used by LinkedHashMap, view</span></span><br><span class="line"><span class="hljs-comment">     * classes, and HashSet.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// Create a regular (non-tree) node</span></span><br><span class="line">    <span class="hljs-function">Node&lt;K,V&gt; <span class="hljs-title">newNode</span><span class="hljs-params">(<span class="hljs-keyword">int</span> hash, K key, V value, Node&lt;K,V&gt; next)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Node&lt;&gt;(hash, key, value, next);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// For conversion from TreeNodes to plain nodes</span></span><br><span class="line">    <span class="hljs-function">Node&lt;K,V&gt; <span class="hljs-title">replacementNode</span><span class="hljs-params">(Node&lt;K,V&gt; p, Node&lt;K,V&gt; next)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Node&lt;&gt;(p.hash, p.key, p.value, next);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// Create a tree bin node</span></span><br><span class="line">    <span class="hljs-function">TreeNode&lt;K,V&gt; <span class="hljs-title">newTreeNode</span><span class="hljs-params">(<span class="hljs-keyword">int</span> hash, K key, V value, Node&lt;K,V&gt; next)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> TreeNode&lt;&gt;(hash, key, value, next);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// For treeifyBin</span></span><br><span class="line">    <span class="hljs-function">TreeNode&lt;K,V&gt; <span class="hljs-title">replacementTreeNode</span><span class="hljs-params">(Node&lt;K,V&gt; p, Node&lt;K,V&gt; next)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> TreeNode&lt;&gt;(p.hash, p.key, p.value, next);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Reset to initial default state.  Called by clone and readObject.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">reinitialize</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        table = <span class="hljs-keyword">null</span>;</span><br><span class="line">        entrySet = <span class="hljs-keyword">null</span>;</span><br><span class="line">        keySet = <span class="hljs-keyword">null</span>;</span><br><span class="line">        values = <span class="hljs-keyword">null</span>;</span><br><span class="line">        modCount = <span class="hljs-number">0</span>;</span><br><span class="line">        threshold = <span class="hljs-number">0</span>;</span><br><span class="line">        size = <span class="hljs-number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// Callbacks to allow LinkedHashMap post-actions</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">afterNodeAccess</span><span class="hljs-params">(Node&lt;K,V&gt; p)</span> </span>&#123; &#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">afterNodeInsertion</span><span class="hljs-params">(<span class="hljs-keyword">boolean</span> evict)</span> </span>&#123; &#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">afterNodeRemoval</span><span class="hljs-params">(Node&lt;K,V&gt; p)</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// Called only from writeObject, to ensure compatible ordering.</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">internalWriteEntries</span><span class="hljs-params">(java.io.ObjectOutputStream s)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        Node&lt;K,V&gt;[] tab;</span><br><span class="line">        <span class="hljs-keyword">if</span> (size &gt; <span class="hljs-number">0</span> &amp;&amp; (tab = table) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; tab.length; ++i) &#123;</span><br><span class="line">                <span class="hljs-keyword">for</span> (Node&lt;K,V&gt; e = tab[i]; e != <span class="hljs-keyword">null</span>; e = e.next) &#123;</span><br><span class="line">                    s.writeObject(e.key);</span><br><span class="line">                    s.writeObject(e.value);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* ------------------------------------------------------------ */</span></span><br><span class="line">    <span class="hljs-comment">// Tree bins</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Entry for Tree bins. Extends LinkedHashMap.Entry (which in turn</span></span><br><span class="line"><span class="hljs-comment">     * extends Node) so can be used as extension of either regular or</span></span><br><span class="line"><span class="hljs-comment">     * linked node.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TreeNode</span>&lt;<span class="hljs-title">K</span>,<span class="hljs-title">V</span>&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title">LinkedHashMap</span>.<span class="hljs-title">Entry</span>&lt;<span class="hljs-title">K</span>,<span class="hljs-title">V</span>&gt; </span>&#123;</span><br><span class="line">        TreeNode&lt;K,V&gt; parent;  <span class="hljs-comment">// red-black tree links</span></span><br><span class="line">        TreeNode&lt;K,V&gt; left;</span><br><span class="line">        TreeNode&lt;K,V&gt; right;</span><br><span class="line">        TreeNode&lt;K,V&gt; prev;    <span class="hljs-comment">// needed to unlink next upon deletion</span></span><br><span class="line">        <span class="hljs-keyword">boolean</span> red;</span><br><span class="line">        TreeNode(<span class="hljs-keyword">int</span> hash, K key, V val, Node&lt;K,V&gt; next) &#123;</span><br><span class="line">            <span class="hljs-keyword">super</span>(hash, key, val, next);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">         * Returns root of tree containing this node.</span></span><br><span class="line"><span class="hljs-comment">         */</span></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">final</span> TreeNode&lt;K,V&gt; <span class="hljs-title">root</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">for</span> (TreeNode&lt;K,V&gt; r = <span class="hljs-keyword">this</span>, p;;) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> ((p = r.parent) == <span class="hljs-keyword">null</span>)</span><br><span class="line">                    <span class="hljs-keyword">return</span> r;</span><br><span class="line">                r = p;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">         * Ensures that the given root is the first node of its bin.</span></span><br><span class="line"><span class="hljs-comment">         */</span></span><br><span class="line">        <span class="hljs-keyword">static</span> &lt;K,V&gt; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">moveRootToFront</span><span class="hljs-params">(Node&lt;K,V&gt;[] tab, TreeNode&lt;K,V&gt; root)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> n;</span><br><span class="line">            <span class="hljs-keyword">if</span> (root != <span class="hljs-keyword">null</span> &amp;&amp; tab != <span class="hljs-keyword">null</span> &amp;&amp; (n = tab.length) &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> index = (n - <span class="hljs-number">1</span>) &amp; root.hash;</span><br><span class="line">                TreeNode&lt;K,V&gt; first = (TreeNode&lt;K,V&gt;)tab[index];</span><br><span class="line">                <span class="hljs-keyword">if</span> (root != first) &#123;</span><br><span class="line">                    Node&lt;K,V&gt; rn;</span><br><span class="line">                    tab[index] = root;</span><br><span class="line">                    TreeNode&lt;K,V&gt; rp = root.prev;</span><br><span class="line">                    <span class="hljs-keyword">if</span> ((rn = root.next) != <span class="hljs-keyword">null</span>)</span><br><span class="line">                        ((TreeNode&lt;K,V&gt;)rn).prev = rp;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (rp != <span class="hljs-keyword">null</span>)</span><br><span class="line">                        rp.next = rn;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (first != <span class="hljs-keyword">null</span>)</span><br><span class="line">                        first.prev = root;</span><br><span class="line">                    root.next = first;</span><br><span class="line">                    root.prev = <span class="hljs-keyword">null</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-function"><span class="hljs-keyword">assert</span> <span class="hljs-title">checkInvariants</span><span class="hljs-params">(root)</span></span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">         * Finds the node starting at root p with the given hash and key.</span></span><br><span class="line"><span class="hljs-comment">         * The kc argument caches comparableClassFor(key) upon first use</span></span><br><span class="line"><span class="hljs-comment">         * comparing keys.</span></span><br><span class="line"><span class="hljs-comment">         */</span></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">final</span> TreeNode&lt;K,V&gt; <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> h, Object k, Class&lt;?&gt; kc)</span> </span>&#123;</span><br><span class="line">            TreeNode&lt;K,V&gt; p = <span class="hljs-keyword">this</span>;</span><br><span class="line">            <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> ph, dir; K pk;</span><br><span class="line">                TreeNode&lt;K,V&gt; pl = p.left, pr = p.right, q;</span><br><span class="line">                <span class="hljs-keyword">if</span> ((ph = p.hash) &gt; h)</span><br><span class="line">                    p = pl;</span><br><span class="line">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ph &lt; h)</span><br><span class="line">                    p = pr;</span><br><span class="line">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((pk = p.key) == k || (k != <span class="hljs-keyword">null</span> &amp;&amp; k.equals(pk)))</span><br><span class="line">                    <span class="hljs-keyword">return</span> p;</span><br><span class="line">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pl == <span class="hljs-keyword">null</span>)</span><br><span class="line">                    p = pr;</span><br><span class="line">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pr == <span class="hljs-keyword">null</span>)</span><br><span class="line">                    p = pl;</span><br><span class="line">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((kc != <span class="hljs-keyword">null</span> ||</span><br><span class="line">                          (kc = comparableClassFor(k)) != <span class="hljs-keyword">null</span>) &amp;&amp;</span><br><span class="line">                         (dir = compareComparables(kc, k, pk)) != <span class="hljs-number">0</span>)</span><br><span class="line">                    p = (dir &lt; <span class="hljs-number">0</span>) ? pl : pr;</span><br><span class="line">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((q = pr.find(h, k, kc)) != <span class="hljs-keyword">null</span>)</span><br><span class="line">                    <span class="hljs-keyword">return</span> q;</span><br><span class="line">                <span class="hljs-keyword">else</span></span><br><span class="line">                    p = pl;</span><br><span class="line">            &#125; <span class="hljs-keyword">while</span> (p != <span class="hljs-keyword">null</span>);</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">         * Calls find for root node.</span></span><br><span class="line"><span class="hljs-comment">         */</span></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">final</span> TreeNode&lt;K,V&gt; <span class="hljs-title">getTreeNode</span><span class="hljs-params">(<span class="hljs-keyword">int</span> h, Object k)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> ((parent != <span class="hljs-keyword">null</span>) ? root() : <span class="hljs-keyword">this</span>).find(h, k, <span class="hljs-keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">         * Tie-breaking utility for ordering insertions when equal</span></span><br><span class="line"><span class="hljs-comment">         * hashCodes and non-comparable. We don't require a total</span></span><br><span class="line"><span class="hljs-comment">         * order, just a consistent insertion rule to maintain</span></span><br><span class="line"><span class="hljs-comment">         * equivalence across rebalancings. Tie-breaking further than</span></span><br><span class="line"><span class="hljs-comment">         * necessary simplifies testing a bit.</span></span><br><span class="line"><span class="hljs-comment">         */</span></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">tieBreakOrder</span><span class="hljs-params">(Object a, Object b)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> d;</span><br><span class="line">            <span class="hljs-keyword">if</span> (a == <span class="hljs-keyword">null</span> || b == <span class="hljs-keyword">null</span> ||</span><br><span class="line">                (d = a.getClass().getName().</span><br><span class="line">                 compareTo(b.getClass().getName())) == <span class="hljs-number">0</span>)</span><br><span class="line">                d = (System.identityHashCode(a) &lt;= System.identityHashCode(b) ?</span><br><span class="line">                     -<span class="hljs-number">1</span> : <span class="hljs-number">1</span>);</span><br><span class="line">            <span class="hljs-keyword">return</span> d;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">         * Forms tree of the nodes linked from this node.</span></span><br><span class="line"><span class="hljs-comment">         * <span class="hljs-doctag">@return</span> root of tree</span></span><br><span class="line"><span class="hljs-comment">         */</span></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">treeify</span><span class="hljs-params">(Node&lt;K,V&gt;[] tab)</span> </span>&#123;</span><br><span class="line">            TreeNode&lt;K,V&gt; root = <span class="hljs-keyword">null</span>;</span><br><span class="line">            <span class="hljs-keyword">for</span> (TreeNode&lt;K,V&gt; x = <span class="hljs-keyword">this</span>, next; x != <span class="hljs-keyword">null</span>; x = next) &#123;</span><br><span class="line">                next = (TreeNode&lt;K,V&gt;)x.next;</span><br><span class="line">                x.left = x.right = <span class="hljs-keyword">null</span>;</span><br><span class="line">                <span class="hljs-keyword">if</span> (root == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                    x.parent = <span class="hljs-keyword">null</span>;</span><br><span class="line">                    x.red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                    root = x;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    K k = x.key;</span><br><span class="line">                    <span class="hljs-keyword">int</span> h = x.hash;</span><br><span class="line">                    Class&lt;?&gt; kc = <span class="hljs-keyword">null</span>;</span><br><span class="line">                    <span class="hljs-keyword">for</span> (TreeNode&lt;K,V&gt; p = root;;) &#123;</span><br><span class="line">                        <span class="hljs-keyword">int</span> dir, ph;</span><br><span class="line">                        K pk = p.key;</span><br><span class="line">                        <span class="hljs-keyword">if</span> ((ph = p.hash) &gt; h)</span><br><span class="line">                            dir = -<span class="hljs-number">1</span>;</span><br><span class="line">                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ph &lt; h)</span><br><span class="line">                            dir = <span class="hljs-number">1</span>;</span><br><span class="line">                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((kc == <span class="hljs-keyword">null</span> &amp;&amp;</span><br><span class="line">                                  (kc = comparableClassFor(k)) == <span class="hljs-keyword">null</span>) ||</span><br><span class="line">                                 (dir = compareComparables(kc, k, pk)) == <span class="hljs-number">0</span>)</span><br><span class="line">                            dir = tieBreakOrder(k, pk);</span><br><span class="line"></span><br><span class="line">                        TreeNode&lt;K,V&gt; xp = p;</span><br><span class="line">                        <span class="hljs-keyword">if</span> ((p = (dir &lt;= <span class="hljs-number">0</span>) ? p.left : p.right) == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                            x.parent = xp;</span><br><span class="line">                            <span class="hljs-keyword">if</span> (dir &lt;= <span class="hljs-number">0</span>)</span><br><span class="line">                                xp.left = x;</span><br><span class="line">                            <span class="hljs-keyword">else</span></span><br><span class="line">                                xp.right = x;</span><br><span class="line">                            root = balanceInsertion(root, x);</span><br><span class="line">                            <span class="hljs-keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            moveRootToFront(tab, root);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">         * Returns a list of non-TreeNodes replacing those linked from</span></span><br><span class="line"><span class="hljs-comment">         * this node.</span></span><br><span class="line"><span class="hljs-comment">         */</span></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">final</span> Node&lt;K,V&gt; <span class="hljs-title">untreeify</span><span class="hljs-params">(HashMap&lt;K,V&gt; map)</span> </span>&#123;</span><br><span class="line">            Node&lt;K,V&gt; hd = <span class="hljs-keyword">null</span>, tl = <span class="hljs-keyword">null</span>;</span><br><span class="line">            <span class="hljs-keyword">for</span> (Node&lt;K,V&gt; q = <span class="hljs-keyword">this</span>; q != <span class="hljs-keyword">null</span>; q = q.next) &#123;</span><br><span class="line">                Node&lt;K,V&gt; p = map.replacementNode(q, <span class="hljs-keyword">null</span>);</span><br><span class="line">                <span class="hljs-keyword">if</span> (tl == <span class="hljs-keyword">null</span>)</span><br><span class="line">                    hd = p;</span><br><span class="line">                <span class="hljs-keyword">else</span></span><br><span class="line">                    tl.next = p;</span><br><span class="line">                tl = p;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">return</span> hd;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">         * Tree version of putVal.</span></span><br><span class="line"><span class="hljs-comment">         */</span></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">final</span> TreeNode&lt;K,V&gt; <span class="hljs-title">putTreeVal</span><span class="hljs-params">(HashMap&lt;K,V&gt; map, Node&lt;K,V&gt;[] tab,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">                                       <span class="hljs-keyword">int</span> h, K k, V v)</span> </span>&#123;</span><br><span class="line">            Class&lt;?&gt; kc = <span class="hljs-keyword">null</span>;</span><br><span class="line">            <span class="hljs-keyword">boolean</span> searched = <span class="hljs-keyword">false</span>;</span><br><span class="line">            TreeNode&lt;K,V&gt; root = (parent != <span class="hljs-keyword">null</span>) ? root() : <span class="hljs-keyword">this</span>;</span><br><span class="line">            <span class="hljs-keyword">for</span> (TreeNode&lt;K,V&gt; p = root;;) &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> dir, ph; K pk;</span><br><span class="line">                <span class="hljs-keyword">if</span> ((ph = p.hash) &gt; h)</span><br><span class="line">                    dir = -<span class="hljs-number">1</span>;</span><br><span class="line">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ph &lt; h)</span><br><span class="line">                    dir = <span class="hljs-number">1</span>;</span><br><span class="line">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((pk = p.key) == k || (k != <span class="hljs-keyword">null</span> &amp;&amp; k.equals(pk)))</span><br><span class="line">                    <span class="hljs-keyword">return</span> p;</span><br><span class="line">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((kc == <span class="hljs-keyword">null</span> &amp;&amp;</span><br><span class="line">                          (kc = comparableClassFor(k)) == <span class="hljs-keyword">null</span>) ||</span><br><span class="line">                         (dir = compareComparables(kc, k, pk)) == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (!searched) &#123;</span><br><span class="line">                        TreeNode&lt;K,V&gt; q, ch;</span><br><span class="line">                        searched = <span class="hljs-keyword">true</span>;</span><br><span class="line">                        <span class="hljs-keyword">if</span> (((ch = p.left) != <span class="hljs-keyword">null</span> &amp;&amp;</span><br><span class="line">                             (q = ch.find(h, k, kc)) != <span class="hljs-keyword">null</span>) ||</span><br><span class="line">                            ((ch = p.right) != <span class="hljs-keyword">null</span> &amp;&amp;</span><br><span class="line">                             (q = ch.find(h, k, kc)) != <span class="hljs-keyword">null</span>))</span><br><span class="line">                            <span class="hljs-keyword">return</span> q;</span><br><span class="line">                    &#125;</span><br><span class="line">                    dir = tieBreakOrder(k, pk);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                TreeNode&lt;K,V&gt; xp = p;</span><br><span class="line">                <span class="hljs-keyword">if</span> ((p = (dir &lt;= <span class="hljs-number">0</span>) ? p.left : p.right) == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                    Node&lt;K,V&gt; xpn = xp.next;</span><br><span class="line">                    TreeNode&lt;K,V&gt; x = map.newTreeNode(h, k, v, xpn);</span><br><span class="line">                    <span class="hljs-keyword">if</span> (dir &lt;= <span class="hljs-number">0</span>)</span><br><span class="line">                        xp.left = x;</span><br><span class="line">                    <span class="hljs-keyword">else</span></span><br><span class="line">                        xp.right = x;</span><br><span class="line">                    xp.next = x;</span><br><span class="line">                    x.parent = x.prev = xp;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (xpn != <span class="hljs-keyword">null</span>)</span><br><span class="line">                        ((TreeNode&lt;K,V&gt;)xpn).prev = x;</span><br><span class="line">                    moveRootToFront(tab, balanceInsertion(root, x));</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">         * Removes the given node, that must be present before this call.</span></span><br><span class="line"><span class="hljs-comment">         * This is messier than typical red-black deletion code because we</span></span><br><span class="line"><span class="hljs-comment">         * cannot swap the contents of an interior node with a leaf</span></span><br><span class="line"><span class="hljs-comment">         * successor that is pinned by "next" pointers that are accessible</span></span><br><span class="line"><span class="hljs-comment">         * independently during traversal. So instead we swap the tree</span></span><br><span class="line"><span class="hljs-comment">         * linkages. If the current tree appears to have too few nodes,</span></span><br><span class="line"><span class="hljs-comment">         * the bin is converted back to a plain bin. (The test triggers</span></span><br><span class="line"><span class="hljs-comment">         * somewhere between 2 and 6 nodes, depending on tree structure).</span></span><br><span class="line"><span class="hljs-comment">         */</span></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">removeTreeNode</span><span class="hljs-params">(HashMap&lt;K,V&gt; map, Node&lt;K,V&gt;[] tab,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">                                  <span class="hljs-keyword">boolean</span> movable)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> n;</span><br><span class="line">            <span class="hljs-keyword">if</span> (tab == <span class="hljs-keyword">null</span> || (n = tab.length) == <span class="hljs-number">0</span>)</span><br><span class="line">                <span class="hljs-keyword">return</span>;</span><br><span class="line">            <span class="hljs-keyword">int</span> index = (n - <span class="hljs-number">1</span>) &amp; hash;</span><br><span class="line">            TreeNode&lt;K,V&gt; first = (TreeNode&lt;K,V&gt;)tab[index], root = first, rl;</span><br><span class="line">            TreeNode&lt;K,V&gt; succ = (TreeNode&lt;K,V&gt;)next, pred = prev;</span><br><span class="line">            <span class="hljs-keyword">if</span> (pred == <span class="hljs-keyword">null</span>)</span><br><span class="line">                tab[index] = first = succ;</span><br><span class="line">            <span class="hljs-keyword">else</span></span><br><span class="line">                pred.next = succ;</span><br><span class="line">            <span class="hljs-keyword">if</span> (succ != <span class="hljs-keyword">null</span>)</span><br><span class="line">                succ.prev = pred;</span><br><span class="line">            <span class="hljs-keyword">if</span> (first == <span class="hljs-keyword">null</span>)</span><br><span class="line">                <span class="hljs-keyword">return</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (root.parent != <span class="hljs-keyword">null</span>)</span><br><span class="line">                root = root.root();</span><br><span class="line">            <span class="hljs-keyword">if</span> (root == <span class="hljs-keyword">null</span> || root.right == <span class="hljs-keyword">null</span> ||</span><br><span class="line">                (rl = root.left) == <span class="hljs-keyword">null</span> || rl.left == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                tab[index] = first.untreeify(map);  <span class="hljs-comment">// too small</span></span><br><span class="line">                <span class="hljs-keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            TreeNode&lt;K,V&gt; p = <span class="hljs-keyword">this</span>, pl = left, pr = right, replacement;</span><br><span class="line">            <span class="hljs-keyword">if</span> (pl != <span class="hljs-keyword">null</span> &amp;&amp; pr != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                TreeNode&lt;K,V&gt; s = pr, sl;</span><br><span class="line">                <span class="hljs-keyword">while</span> ((sl = s.left) != <span class="hljs-keyword">null</span>) <span class="hljs-comment">// find successor</span></span><br><span class="line">                    s = sl;</span><br><span class="line">                <span class="hljs-keyword">boolean</span> c = s.red; s.red = p.red; p.red = c; <span class="hljs-comment">// swap colors</span></span><br><span class="line">                TreeNode&lt;K,V&gt; sr = s.right;</span><br><span class="line">                TreeNode&lt;K,V&gt; pp = p.parent;</span><br><span class="line">                <span class="hljs-keyword">if</span> (s == pr) &#123; <span class="hljs-comment">// p was s's direct parent</span></span><br><span class="line">                    p.parent = s;</span><br><span class="line">                    s.right = p;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    TreeNode&lt;K,V&gt; sp = s.parent;</span><br><span class="line">                    <span class="hljs-keyword">if</span> ((p.parent = sp) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                        <span class="hljs-keyword">if</span> (s == sp.left)</span><br><span class="line">                            sp.left = p;</span><br><span class="line">                        <span class="hljs-keyword">else</span></span><br><span class="line">                            sp.right = p;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="hljs-keyword">if</span> ((s.right = pr) != <span class="hljs-keyword">null</span>)</span><br><span class="line">                        pr.parent = s;</span><br><span class="line">                &#125;</span><br><span class="line">                p.left = <span class="hljs-keyword">null</span>;</span><br><span class="line">                <span class="hljs-keyword">if</span> ((p.right = sr) != <span class="hljs-keyword">null</span>)</span><br><span class="line">                    sr.parent = p;</span><br><span class="line">                <span class="hljs-keyword">if</span> ((s.left = pl) != <span class="hljs-keyword">null</span>)</span><br><span class="line">                    pl.parent = s;</span><br><span class="line">                <span class="hljs-keyword">if</span> ((s.parent = pp) == <span class="hljs-keyword">null</span>)</span><br><span class="line">                    root = s;</span><br><span class="line">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (p == pp.left)</span><br><span class="line">                    pp.left = s;</span><br><span class="line">                <span class="hljs-keyword">else</span></span><br><span class="line">                    pp.right = s;</span><br><span class="line">                <span class="hljs-keyword">if</span> (sr != <span class="hljs-keyword">null</span>)</span><br><span class="line">                    replacement = sr;</span><br><span class="line">                <span class="hljs-keyword">else</span></span><br><span class="line">                    replacement = p;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pl != <span class="hljs-keyword">null</span>)</span><br><span class="line">                replacement = pl;</span><br><span class="line">            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pr != <span class="hljs-keyword">null</span>)</span><br><span class="line">                replacement = pr;</span><br><span class="line">            <span class="hljs-keyword">else</span></span><br><span class="line">                replacement = p;</span><br><span class="line">            <span class="hljs-keyword">if</span> (replacement != p) &#123;</span><br><span class="line">                TreeNode&lt;K,V&gt; pp = replacement.parent = p.parent;</span><br><span class="line">                <span class="hljs-keyword">if</span> (pp == <span class="hljs-keyword">null</span>)</span><br><span class="line">                    root = replacement;</span><br><span class="line">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (p == pp.left)</span><br><span class="line">                    pp.left = replacement;</span><br><span class="line">                <span class="hljs-keyword">else</span></span><br><span class="line">                    pp.right = replacement;</span><br><span class="line">                p.left = p.right = p.parent = <span class="hljs-keyword">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            TreeNode&lt;K,V&gt; r = p.red ? root : balanceDeletion(root, replacement);</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">if</span> (replacement == p) &#123;  <span class="hljs-comment">// detach</span></span><br><span class="line">                TreeNode&lt;K,V&gt; pp = p.parent;</span><br><span class="line">                p.parent = <span class="hljs-keyword">null</span>;</span><br><span class="line">                <span class="hljs-keyword">if</span> (pp != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (p == pp.left)</span><br><span class="line">                        pp.left = <span class="hljs-keyword">null</span>;</span><br><span class="line">                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (p == pp.right)</span><br><span class="line">                        pp.right = <span class="hljs-keyword">null</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">if</span> (movable)</span><br><span class="line">                moveRootToFront(tab, r);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">         * Splits nodes in a tree bin into lower and upper tree bins,</span></span><br><span class="line"><span class="hljs-comment">         * or untreeifies if now too small. Called only from resize;</span></span><br><span class="line"><span class="hljs-comment">         * see above discussion about split bits and indices.</span></span><br><span class="line"><span class="hljs-comment">         *</span></span><br><span class="line"><span class="hljs-comment">         * <span class="hljs-doctag">@param</span> map the map</span></span><br><span class="line"><span class="hljs-comment">         * <span class="hljs-doctag">@param</span> tab the table for recording bin heads</span></span><br><span class="line"><span class="hljs-comment">         * <span class="hljs-doctag">@param</span> index the index of the table being split</span></span><br><span class="line"><span class="hljs-comment">         * <span class="hljs-doctag">@param</span> bit the bit of hash to split on</span></span><br><span class="line"><span class="hljs-comment">         */</span></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">split</span><span class="hljs-params">(HashMap&lt;K,V&gt; map, Node&lt;K,V&gt;[] tab, <span class="hljs-keyword">int</span> index, <span class="hljs-keyword">int</span> bit)</span> </span>&#123;</span><br><span class="line">            TreeNode&lt;K,V&gt; b = <span class="hljs-keyword">this</span>;</span><br><span class="line">            <span class="hljs-comment">// Relink into lo and hi lists, preserving order</span></span><br><span class="line">            TreeNode&lt;K,V&gt; loHead = <span class="hljs-keyword">null</span>, loTail = <span class="hljs-keyword">null</span>;</span><br><span class="line">            TreeNode&lt;K,V&gt; hiHead = <span class="hljs-keyword">null</span>, hiTail = <span class="hljs-keyword">null</span>;</span><br><span class="line">            <span class="hljs-keyword">int</span> lc = <span class="hljs-number">0</span>, hc = <span class="hljs-number">0</span>;</span><br><span class="line">            <span class="hljs-keyword">for</span> (TreeNode&lt;K,V&gt; e = b, next; e != <span class="hljs-keyword">null</span>; e = next) &#123;</span><br><span class="line">                next = (TreeNode&lt;K,V&gt;)e.next;</span><br><span class="line">                e.next = <span class="hljs-keyword">null</span>;</span><br><span class="line">                <span class="hljs-keyword">if</span> ((e.hash &amp; bit) == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> ((e.prev = loTail) == <span class="hljs-keyword">null</span>)</span><br><span class="line">                        loHead = e;</span><br><span class="line">                    <span class="hljs-keyword">else</span></span><br><span class="line">                        loTail.next = e;</span><br><span class="line">                    loTail = e;</span><br><span class="line">                    ++lc;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> ((e.prev = hiTail) == <span class="hljs-keyword">null</span>)</span><br><span class="line">                        hiHead = e;</span><br><span class="line">                    <span class="hljs-keyword">else</span></span><br><span class="line">                        hiTail.next = e;</span><br><span class="line">                    hiTail = e;</span><br><span class="line">                    ++hc;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">if</span> (loHead != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (lc &lt;= UNTREEIFY_THRESHOLD)</span><br><span class="line">                    tab[index] = loHead.untreeify(map);</span><br><span class="line">                <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    tab[index] = loHead;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (hiHead != <span class="hljs-keyword">null</span>) <span class="hljs-comment">// (else is already treeified)</span></span><br><span class="line">                        loHead.treeify(tab);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">if</span> (hiHead != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (hc &lt;= UNTREEIFY_THRESHOLD)</span><br><span class="line">                    tab[index + bit] = hiHead.untreeify(map);</span><br><span class="line">                <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    tab[index + bit] = hiHead;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (loHead != <span class="hljs-keyword">null</span>)</span><br><span class="line">                        hiHead.treeify(tab);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">/* ------------------------------------------------------------ */</span></span><br><span class="line">        <span class="hljs-comment">// Red-black tree methods, all adapted from CLR</span></span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">static</span> &lt;K,V&gt; <span class="hljs-function">TreeNode&lt;K,V&gt; <span class="hljs-title">rotateLeft</span><span class="hljs-params">(TreeNode&lt;K,V&gt; root,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">                                              TreeNode&lt;K,V&gt; p)</span> </span>&#123;</span><br><span class="line">            TreeNode&lt;K,V&gt; r, pp, rl;</span><br><span class="line">            <span class="hljs-keyword">if</span> (p != <span class="hljs-keyword">null</span> &amp;&amp; (r = p.right) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> ((rl = p.right = r.left) != <span class="hljs-keyword">null</span>)</span><br><span class="line">                    rl.parent = p;</span><br><span class="line">                <span class="hljs-keyword">if</span> ((pp = r.parent = p.parent) == <span class="hljs-keyword">null</span>)</span><br><span class="line">                    (root = r).red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pp.left == p)</span><br><span class="line">                    pp.left = r;</span><br><span class="line">                <span class="hljs-keyword">else</span></span><br><span class="line">                    pp.right = r;</span><br><span class="line">                r.left = p;</span><br><span class="line">                p.parent = r;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">static</span> &lt;K,V&gt; <span class="hljs-function">TreeNode&lt;K,V&gt; <span class="hljs-title">rotateRight</span><span class="hljs-params">(TreeNode&lt;K,V&gt; root,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">                                               TreeNode&lt;K,V&gt; p)</span> </span>&#123;</span><br><span class="line">            TreeNode&lt;K,V&gt; l, pp, lr;</span><br><span class="line">            <span class="hljs-keyword">if</span> (p != <span class="hljs-keyword">null</span> &amp;&amp; (l = p.left) != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> ((lr = p.left = l.right) != <span class="hljs-keyword">null</span>)</span><br><span class="line">                    lr.parent = p;</span><br><span class="line">                <span class="hljs-keyword">if</span> ((pp = l.parent = p.parent) == <span class="hljs-keyword">null</span>)</span><br><span class="line">                    (root = l).red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pp.right == p)</span><br><span class="line">                    pp.right = l;</span><br><span class="line">                <span class="hljs-keyword">else</span></span><br><span class="line">                    pp.left = l;</span><br><span class="line">                l.right = p;</span><br><span class="line">                p.parent = l;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">static</span> &lt;K,V&gt; <span class="hljs-function">TreeNode&lt;K,V&gt; <span class="hljs-title">balanceInsertion</span><span class="hljs-params">(TreeNode&lt;K,V&gt; root,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">                                                    TreeNode&lt;K,V&gt; x)</span> </span>&#123;</span><br><span class="line">            x.red = <span class="hljs-keyword">true</span>;</span><br><span class="line">            <span class="hljs-keyword">for</span> (TreeNode&lt;K,V&gt; xp, xpp, xppl, xppr;;) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> ((xp = x.parent) == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                    x.red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                    <span class="hljs-keyword">return</span> x;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!xp.red || (xpp = xp.parent) == <span class="hljs-keyword">null</span>)</span><br><span class="line">                    <span class="hljs-keyword">return</span> root;</span><br><span class="line">                <span class="hljs-keyword">if</span> (xp == (xppl = xpp.left)) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> ((xppr = xpp.right) != <span class="hljs-keyword">null</span> &amp;&amp; xppr.red) &#123;</span><br><span class="line">                        xppr.red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                        xp.red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                        xpp.red = <span class="hljs-keyword">true</span>;</span><br><span class="line">                        x = xpp;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                        <span class="hljs-keyword">if</span> (x == xp.right) &#123;</span><br><span class="line">                            root = rotateLeft(root, x = xp);</span><br><span class="line">                            xpp = (xp = x.parent) == <span class="hljs-keyword">null</span> ? <span class="hljs-keyword">null</span> : xp.parent;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="hljs-keyword">if</span> (xp != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                            xp.red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                            <span class="hljs-keyword">if</span> (xpp != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                                xpp.red = <span class="hljs-keyword">true</span>;</span><br><span class="line">                                root = rotateRight(root, xpp);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (xppl != <span class="hljs-keyword">null</span> &amp;&amp; xppl.red) &#123;</span><br><span class="line">                        xppl.red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                        xp.red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                        xpp.red = <span class="hljs-keyword">true</span>;</span><br><span class="line">                        x = xpp;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                        <span class="hljs-keyword">if</span> (x == xp.left) &#123;</span><br><span class="line">                            root = rotateRight(root, x = xp);</span><br><span class="line">                            xpp = (xp = x.parent) == <span class="hljs-keyword">null</span> ? <span class="hljs-keyword">null</span> : xp.parent;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="hljs-keyword">if</span> (xp != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                            xp.red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                            <span class="hljs-keyword">if</span> (xpp != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                                xpp.red = <span class="hljs-keyword">true</span>;</span><br><span class="line">                                root = rotateLeft(root, xpp);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">static</span> &lt;K,V&gt; <span class="hljs-function">TreeNode&lt;K,V&gt; <span class="hljs-title">balanceDeletion</span><span class="hljs-params">(TreeNode&lt;K,V&gt; root,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">                                                   TreeNode&lt;K,V&gt; x)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">for</span> (TreeNode&lt;K,V&gt; xp, xpl, xpr;;)  &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (x == <span class="hljs-keyword">null</span> || x == root)</span><br><span class="line">                    <span class="hljs-keyword">return</span> root;</span><br><span class="line">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((xp = x.parent) == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                    x.red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                    <span class="hljs-keyword">return</span> x;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x.red) &#123;</span><br><span class="line">                    x.red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                    <span class="hljs-keyword">return</span> root;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((xpl = xp.left) == x) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> ((xpr = xp.right) != <span class="hljs-keyword">null</span> &amp;&amp; xpr.red) &#123;</span><br><span class="line">                        xpr.red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                        xp.red = <span class="hljs-keyword">true</span>;</span><br><span class="line">                        root = rotateLeft(root, xp);</span><br><span class="line">                        xpr = (xp = x.parent) == <span class="hljs-keyword">null</span> ? <span class="hljs-keyword">null</span> : xp.right;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (xpr == <span class="hljs-keyword">null</span>)</span><br><span class="line">                        x = xp;</span><br><span class="line">                    <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                        TreeNode&lt;K,V&gt; sl = xpr.left, sr = xpr.right;</span><br><span class="line">                        <span class="hljs-keyword">if</span> ((sr == <span class="hljs-keyword">null</span> || !sr.red) &amp;&amp;</span><br><span class="line">                            (sl == <span class="hljs-keyword">null</span> || !sl.red)) &#123;</span><br><span class="line">                            xpr.red = <span class="hljs-keyword">true</span>;</span><br><span class="line">                            x = xp;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                            <span class="hljs-keyword">if</span> (sr == <span class="hljs-keyword">null</span> || !sr.red) &#123;</span><br><span class="line">                                <span class="hljs-keyword">if</span> (sl != <span class="hljs-keyword">null</span>)</span><br><span class="line">                                    sl.red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                                xpr.red = <span class="hljs-keyword">true</span>;</span><br><span class="line">                                root = rotateRight(root, xpr);</span><br><span class="line">                                xpr = (xp = x.parent) == <span class="hljs-keyword">null</span> ?</span><br><span class="line">                                    <span class="hljs-keyword">null</span> : xp.right;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="hljs-keyword">if</span> (xpr != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                                xpr.red = (xp == <span class="hljs-keyword">null</span>) ? <span class="hljs-keyword">false</span> : xp.red;</span><br><span class="line">                                <span class="hljs-keyword">if</span> ((sr = xpr.right) != <span class="hljs-keyword">null</span>)</span><br><span class="line">                                    sr.red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="hljs-keyword">if</span> (xp != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                                xp.red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                                root = rotateLeft(root, xp);</span><br><span class="line">                            &#125;</span><br><span class="line">                            x = root;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">else</span> &#123; <span class="hljs-comment">// symmetric</span></span><br><span class="line">                    <span class="hljs-keyword">if</span> (xpl != <span class="hljs-keyword">null</span> &amp;&amp; xpl.red) &#123;</span><br><span class="line">                        xpl.red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                        xp.red = <span class="hljs-keyword">true</span>;</span><br><span class="line">                        root = rotateRight(root, xp);</span><br><span class="line">                        xpl = (xp = x.parent) == <span class="hljs-keyword">null</span> ? <span class="hljs-keyword">null</span> : xp.left;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (xpl == <span class="hljs-keyword">null</span>)</span><br><span class="line">                        x = xp;</span><br><span class="line">                    <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                        TreeNode&lt;K,V&gt; sl = xpl.left, sr = xpl.right;</span><br><span class="line">                        <span class="hljs-keyword">if</span> ((sl == <span class="hljs-keyword">null</span> || !sl.red) &amp;&amp;</span><br><span class="line">                            (sr == <span class="hljs-keyword">null</span> || !sr.red)) &#123;</span><br><span class="line">                            xpl.red = <span class="hljs-keyword">true</span>;</span><br><span class="line">                            x = xp;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                            <span class="hljs-keyword">if</span> (sl == <span class="hljs-keyword">null</span> || !sl.red) &#123;</span><br><span class="line">                                <span class="hljs-keyword">if</span> (sr != <span class="hljs-keyword">null</span>)</span><br><span class="line">                                    sr.red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                                xpl.red = <span class="hljs-keyword">true</span>;</span><br><span class="line">                                root = rotateLeft(root, xpl);</span><br><span class="line">                                xpl = (xp = x.parent) == <span class="hljs-keyword">null</span> ?</span><br><span class="line">                                    <span class="hljs-keyword">null</span> : xp.left;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="hljs-keyword">if</span> (xpl != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                                xpl.red = (xp == <span class="hljs-keyword">null</span>) ? <span class="hljs-keyword">false</span> : xp.red;</span><br><span class="line">                                <span class="hljs-keyword">if</span> ((sl = xpl.left) != <span class="hljs-keyword">null</span>)</span><br><span class="line">                                    sl.red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="hljs-keyword">if</span> (xp != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                                xp.red = <span class="hljs-keyword">false</span>;</span><br><span class="line">                                root = rotateRight(root, xp);</span><br><span class="line">                            &#125;</span><br><span class="line">                            x = root;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">         * Recursive invariant check</span></span><br><span class="line"><span class="hljs-comment">         */</span></span><br><span class="line">        <span class="hljs-keyword">static</span> &lt;K,V&gt; <span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">checkInvariants</span><span class="hljs-params">(TreeNode&lt;K,V&gt; t)</span> </span>&#123;</span><br><span class="line">            TreeNode&lt;K,V&gt; tp = t.parent, tl = t.left, tr = t.right,</span><br><span class="line">                tb = t.prev, tn = (TreeNode&lt;K,V&gt;)t.next;</span><br><span class="line">            <span class="hljs-keyword">if</span> (tb != <span class="hljs-keyword">null</span> &amp;&amp; tb.next != t)</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (tn != <span class="hljs-keyword">null</span> &amp;&amp; tn.prev != t)</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (tp != <span class="hljs-keyword">null</span> &amp;&amp; t != tp.left &amp;&amp; t != tp.right)</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (tl != <span class="hljs-keyword">null</span> &amp;&amp; (tl.parent != t || tl.hash &gt; t.hash))</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (tr != <span class="hljs-keyword">null</span> &amp;&amp; (tr.parent != t || tr.hash &lt; t.hash))</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (t.red &amp;&amp; tl != <span class="hljs-keyword">null</span> &amp;&amp; tl.red &amp;&amp; tr != <span class="hljs-keyword">null</span> &amp;&amp; tr.red)</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (tl != <span class="hljs-keyword">null</span> &amp;&amp; !checkInvariants(tl))</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (tr != <span class="hljs-keyword">null</span> &amp;&amp; !checkInvariants(tr))</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-21T11:00:03.000Z">2019-09-21</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    1 小时 读完 (大约 8837 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/21/BigInteger类/">BigInteger类</a>
            
        </h1>
        <div class="content">
            <h1 id="BigInteger类"><a href="#BigInteger类" class="headerlink" title="BigInteger类"></a>BigInteger类</h1><p><img src="/images/2019/09/21/f1ae7690-dc5e-11e9-8024-c70d44c51336.png" alt="image.png"></p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br><span class="line">1257</span><br><span class="line">1258</span><br><span class="line">1259</span><br><span class="line">1260</span><br><span class="line">1261</span><br><span class="line">1262</span><br><span class="line">1263</span><br><span class="line">1264</span><br><span class="line">1265</span><br><span class="line">1266</span><br><span class="line">1267</span><br><span class="line">1268</span><br><span class="line">1269</span><br><span class="line">1270</span><br><span class="line">1271</span><br><span class="line">1272</span><br><span class="line">1273</span><br><span class="line">1274</span><br><span class="line">1275</span><br><span class="line">1276</span><br><span class="line">1277</span><br><span class="line">1278</span><br><span class="line">1279</span><br><span class="line">1280</span><br><span class="line">1281</span><br><span class="line">1282</span><br><span class="line">1283</span><br><span class="line">1284</span><br><span class="line">1285</span><br><span class="line">1286</span><br><span class="line">1287</span><br><span class="line">1288</span><br><span class="line">1289</span><br><span class="line">1290</span><br><span class="line">1291</span><br><span class="line">1292</span><br><span class="line">1293</span><br><span class="line">1294</span><br><span class="line">1295</span><br><span class="line">1296</span><br><span class="line">1297</span><br><span class="line">1298</span><br><span class="line">1299</span><br><span class="line">1300</span><br><span class="line">1301</span><br><span class="line">1302</span><br><span class="line">1303</span><br><span class="line">1304</span><br><span class="line">1305</span><br><span class="line">1306</span><br><span class="line">1307</span><br><span class="line">1308</span><br><span class="line">1309</span><br><span class="line">1310</span><br><span class="line">1311</span><br><span class="line">1312</span><br><span class="line">1313</span><br><span class="line">1314</span><br><span class="line">1315</span><br><span class="line">1316</span><br><span class="line">1317</span><br><span class="line">1318</span><br><span class="line">1319</span><br><span class="line">1320</span><br><span class="line">1321</span><br><span class="line">1322</span><br><span class="line">1323</span><br><span class="line">1324</span><br><span class="line">1325</span><br><span class="line">1326</span><br><span class="line">1327</span><br><span class="line">1328</span><br><span class="line">1329</span><br><span class="line">1330</span><br><span class="line">1331</span><br><span class="line">1332</span><br><span class="line">1333</span><br><span class="line">1334</span><br><span class="line">1335</span><br><span class="line">1336</span><br><span class="line">1337</span><br><span class="line">1338</span><br><span class="line">1339</span><br><span class="line">1340</span><br><span class="line">1341</span><br><span class="line">1342</span><br><span class="line">1343</span><br><span class="line">1344</span><br><span class="line">1345</span><br><span class="line">1346</span><br><span class="line">1347</span><br><span class="line">1348</span><br><span class="line">1349</span><br><span class="line">1350</span><br><span class="line">1351</span><br><span class="line">1352</span><br><span class="line">1353</span><br><span class="line">1354</span><br><span class="line">1355</span><br><span class="line">1356</span><br><span class="line">1357</span><br><span class="line">1358</span><br><span class="line">1359</span><br><span class="line">1360</span><br><span class="line">1361</span><br><span class="line">1362</span><br><span class="line">1363</span><br><span class="line">1364</span><br><span class="line">1365</span><br><span class="line">1366</span><br><span class="line">1367</span><br><span class="line">1368</span><br><span class="line">1369</span><br><span class="line">1370</span><br><span class="line">1371</span><br><span class="line">1372</span><br><span class="line">1373</span><br><span class="line">1374</span><br><span class="line">1375</span><br><span class="line">1376</span><br><span class="line">1377</span><br><span class="line">1378</span><br><span class="line">1379</span><br><span class="line">1380</span><br><span class="line">1381</span><br><span class="line">1382</span><br><span class="line">1383</span><br><span class="line">1384</span><br><span class="line">1385</span><br><span class="line">1386</span><br><span class="line">1387</span><br><span class="line">1388</span><br><span class="line">1389</span><br><span class="line">1390</span><br><span class="line">1391</span><br><span class="line">1392</span><br><span class="line">1393</span><br><span class="line">1394</span><br><span class="line">1395</span><br><span class="line">1396</span><br><span class="line">1397</span><br><span class="line">1398</span><br><span class="line">1399</span><br><span class="line">1400</span><br><span class="line">1401</span><br><span class="line">1402</span><br><span class="line">1403</span><br><span class="line">1404</span><br><span class="line">1405</span><br><span class="line">1406</span><br><span class="line">1407</span><br><span class="line">1408</span><br><span class="line">1409</span><br><span class="line">1410</span><br><span class="line">1411</span><br><span class="line">1412</span><br><span class="line">1413</span><br><span class="line">1414</span><br><span class="line">1415</span><br><span class="line">1416</span><br><span class="line">1417</span><br><span class="line">1418</span><br><span class="line">1419</span><br><span class="line">1420</span><br><span class="line">1421</span><br><span class="line">1422</span><br><span class="line">1423</span><br><span class="line">1424</span><br><span class="line">1425</span><br><span class="line">1426</span><br><span class="line">1427</span><br><span class="line">1428</span><br><span class="line">1429</span><br><span class="line">1430</span><br><span class="line">1431</span><br><span class="line">1432</span><br><span class="line">1433</span><br><span class="line">1434</span><br><span class="line">1435</span><br><span class="line">1436</span><br><span class="line">1437</span><br><span class="line">1438</span><br><span class="line">1439</span><br><span class="line">1440</span><br><span class="line">1441</span><br><span class="line">1442</span><br><span class="line">1443</span><br><span class="line">1444</span><br><span class="line">1445</span><br><span class="line">1446</span><br><span class="line">1447</span><br><span class="line">1448</span><br><span class="line">1449</span><br><span class="line">1450</span><br><span class="line">1451</span><br><span class="line">1452</span><br><span class="line">1453</span><br><span class="line">1454</span><br><span class="line">1455</span><br><span class="line">1456</span><br><span class="line">1457</span><br><span class="line">1458</span><br><span class="line">1459</span><br><span class="line">1460</span><br><span class="line">1461</span><br><span class="line">1462</span><br><span class="line">1463</span><br><span class="line">1464</span><br><span class="line">1465</span><br><span class="line">1466</span><br><span class="line">1467</span><br><span class="line">1468</span><br><span class="line">1469</span><br><span class="line">1470</span><br><span class="line">1471</span><br><span class="line">1472</span><br><span class="line">1473</span><br><span class="line">1474</span><br><span class="line">1475</span><br><span class="line">1476</span><br><span class="line">1477</span><br><span class="line">1478</span><br><span class="line">1479</span><br><span class="line">1480</span><br><span class="line">1481</span><br><span class="line">1482</span><br><span class="line">1483</span><br><span class="line">1484</span><br><span class="line">1485</span><br><span class="line">1486</span><br><span class="line">1487</span><br><span class="line">1488</span><br><span class="line">1489</span><br><span class="line">1490</span><br><span class="line">1491</span><br><span class="line">1492</span><br><span class="line">1493</span><br><span class="line">1494</span><br><span class="line">1495</span><br><span class="line">1496</span><br><span class="line">1497</span><br><span class="line">1498</span><br><span class="line">1499</span><br><span class="line">1500</span><br><span class="line">1501</span><br><span class="line">1502</span><br><span class="line">1503</span><br><span class="line">1504</span><br><span class="line">1505</span><br><span class="line">1506</span><br><span class="line">1507</span><br><span class="line">1508</span><br><span class="line">1509</span><br><span class="line">1510</span><br><span class="line">1511</span><br><span class="line">1512</span><br><span class="line">1513</span><br><span class="line">1514</span><br><span class="line">1515</span><br><span class="line">1516</span><br><span class="line">1517</span><br><span class="line">1518</span><br><span class="line">1519</span><br><span class="line">1520</span><br><span class="line">1521</span><br><span class="line">1522</span><br><span class="line">1523</span><br><span class="line">1524</span><br><span class="line">1525</span><br><span class="line">1526</span><br><span class="line">1527</span><br><span class="line">1528</span><br><span class="line">1529</span><br><span class="line">1530</span><br><span class="line">1531</span><br><span class="line">1532</span><br><span class="line">1533</span><br><span class="line">1534</span><br><span class="line">1535</span><br><span class="line">1536</span><br><span class="line">1537</span><br><span class="line">1538</span><br><span class="line">1539</span><br><span class="line">1540</span><br><span class="line">1541</span><br><span class="line">1542</span><br><span class="line">1543</span><br><span class="line">1544</span><br><span class="line">1545</span><br><span class="line">1546</span><br><span class="line">1547</span><br><span class="line">1548</span><br><span class="line">1549</span><br><span class="line">1550</span><br><span class="line">1551</span><br><span class="line">1552</span><br><span class="line">1553</span><br><span class="line">1554</span><br><span class="line">1555</span><br><span class="line">1556</span><br><span class="line">1557</span><br><span class="line">1558</span><br><span class="line">1559</span><br><span class="line">1560</span><br><span class="line">1561</span><br><span class="line">1562</span><br><span class="line">1563</span><br><span class="line">1564</span><br><span class="line">1565</span><br><span class="line">1566</span><br><span class="line">1567</span><br><span class="line">1568</span><br><span class="line">1569</span><br><span class="line">1570</span><br><span class="line">1571</span><br><span class="line">1572</span><br><span class="line">1573</span><br><span class="line">1574</span><br><span class="line">1575</span><br><span class="line">1576</span><br><span class="line">1577</span><br><span class="line">1578</span><br><span class="line">1579</span><br><span class="line">1580</span><br><span class="line">1581</span><br><span class="line">1582</span><br><span class="line">1583</span><br><span class="line">1584</span><br><span class="line">1585</span><br><span class="line">1586</span><br><span class="line">1587</span><br><span class="line">1588</span><br><span class="line">1589</span><br><span class="line">1590</span><br><span class="line">1591</span><br><span class="line">1592</span><br><span class="line">1593</span><br><span class="line">1594</span><br><span class="line">1595</span><br><span class="line">1596</span><br><span class="line">1597</span><br><span class="line">1598</span><br><span class="line">1599</span><br><span class="line">1600</span><br><span class="line">1601</span><br><span class="line">1602</span><br><span class="line">1603</span><br><span class="line">1604</span><br><span class="line">1605</span><br><span class="line">1606</span><br><span class="line">1607</span><br><span class="line">1608</span><br><span class="line">1609</span><br><span class="line">1610</span><br><span class="line">1611</span><br><span class="line">1612</span><br><span class="line">1613</span><br><span class="line">1614</span><br><span class="line">1615</span><br><span class="line">1616</span><br><span class="line">1617</span><br><span class="line">1618</span><br><span class="line">1619</span><br><span class="line">1620</span><br><span class="line">1621</span><br><span class="line">1622</span><br><span class="line">1623</span><br><span class="line">1624</span><br><span class="line">1625</span><br><span class="line">1626</span><br><span class="line">1627</span><br><span class="line">1628</span><br><span class="line">1629</span><br><span class="line">1630</span><br><span class="line">1631</span><br><span class="line">1632</span><br><span class="line">1633</span><br><span class="line">1634</span><br><span class="line">1635</span><br><span class="line">1636</span><br><span class="line">1637</span><br><span class="line">1638</span><br><span class="line">1639</span><br><span class="line">1640</span><br><span class="line">1641</span><br><span class="line">1642</span><br><span class="line">1643</span><br><span class="line">1644</span><br><span class="line">1645</span><br><span class="line">1646</span><br><span class="line">1647</span><br><span class="line">1648</span><br><span class="line">1649</span><br><span class="line">1650</span><br><span class="line">1651</span><br><span class="line">1652</span><br><span class="line">1653</span><br><span class="line">1654</span><br><span class="line">1655</span><br><span class="line">1656</span><br><span class="line">1657</span><br><span class="line">1658</span><br><span class="line">1659</span><br><span class="line">1660</span><br><span class="line">1661</span><br><span class="line">1662</span><br><span class="line">1663</span><br><span class="line">1664</span><br><span class="line">1665</span><br><span class="line">1666</span><br><span class="line">1667</span><br><span class="line">1668</span><br><span class="line">1669</span><br><span class="line">1670</span><br><span class="line">1671</span><br><span class="line">1672</span><br><span class="line">1673</span><br><span class="line">1674</span><br><span class="line">1675</span><br><span class="line">1676</span><br><span class="line">1677</span><br><span class="line">1678</span><br><span class="line">1679</span><br><span class="line">1680</span><br><span class="line">1681</span><br><span class="line">1682</span><br><span class="line">1683</span><br><span class="line">1684</span><br><span class="line">1685</span><br><span class="line">1686</span><br><span class="line">1687</span><br><span class="line">1688</span><br><span class="line">1689</span><br><span class="line">1690</span><br><span class="line">1691</span><br><span class="line">1692</span><br><span class="line">1693</span><br><span class="line">1694</span><br><span class="line">1695</span><br><span class="line">1696</span><br><span class="line">1697</span><br><span class="line">1698</span><br><span class="line">1699</span><br><span class="line">1700</span><br><span class="line">1701</span><br><span class="line">1702</span><br><span class="line">1703</span><br><span class="line">1704</span><br><span class="line">1705</span><br><span class="line">1706</span><br><span class="line">1707</span><br><span class="line">1708</span><br><span class="line">1709</span><br><span class="line">1710</span><br><span class="line">1711</span><br><span class="line">1712</span><br><span class="line">1713</span><br><span class="line">1714</span><br><span class="line">1715</span><br><span class="line">1716</span><br><span class="line">1717</span><br><span class="line">1718</span><br><span class="line">1719</span><br><span class="line">1720</span><br><span class="line">1721</span><br><span class="line">1722</span><br><span class="line">1723</span><br><span class="line">1724</span><br><span class="line">1725</span><br><span class="line">1726</span><br><span class="line">1727</span><br><span class="line">1728</span><br><span class="line">1729</span><br><span class="line">1730</span><br><span class="line">1731</span><br><span class="line">1732</span><br><span class="line">1733</span><br><span class="line">1734</span><br><span class="line">1735</span><br><span class="line">1736</span><br><span class="line">1737</span><br><span class="line">1738</span><br><span class="line">1739</span><br><span class="line">1740</span><br><span class="line">1741</span><br><span class="line">1742</span><br><span class="line">1743</span><br><span class="line">1744</span><br><span class="line">1745</span><br><span class="line">1746</span><br><span class="line">1747</span><br><span class="line">1748</span><br><span class="line">1749</span><br><span class="line">1750</span><br><span class="line">1751</span><br><span class="line">1752</span><br><span class="line">1753</span><br><span class="line">1754</span><br><span class="line">1755</span><br><span class="line">1756</span><br><span class="line">1757</span><br><span class="line">1758</span><br><span class="line">1759</span><br><span class="line">1760</span><br><span class="line">1761</span><br><span class="line">1762</span><br><span class="line">1763</span><br><span class="line">1764</span><br><span class="line">1765</span><br><span class="line">1766</span><br><span class="line">1767</span><br><span class="line">1768</span><br><span class="line">1769</span><br><span class="line">1770</span><br><span class="line">1771</span><br><span class="line">1772</span><br><span class="line">1773</span><br><span class="line">1774</span><br><span class="line">1775</span><br><span class="line">1776</span><br><span class="line">1777</span><br><span class="line">1778</span><br><span class="line">1779</span><br><span class="line">1780</span><br><span class="line">1781</span><br><span class="line">1782</span><br><span class="line">1783</span><br><span class="line">1784</span><br><span class="line">1785</span><br><span class="line">1786</span><br><span class="line">1787</span><br><span class="line">1788</span><br><span class="line">1789</span><br><span class="line">1790</span><br><span class="line">1791</span><br><span class="line">1792</span><br><span class="line">1793</span><br><span class="line">1794</span><br><span class="line">1795</span><br><span class="line">1796</span><br><span class="line">1797</span><br><span class="line">1798</span><br><span class="line">1799</span><br><span class="line">1800</span><br><span class="line">1801</span><br><span class="line">1802</span><br><span class="line">1803</span><br><span class="line">1804</span><br><span class="line">1805</span><br><span class="line">1806</span><br><span class="line">1807</span><br><span class="line">1808</span><br><span class="line">1809</span><br><span class="line">1810</span><br><span class="line">1811</span><br><span class="line">1812</span><br><span class="line">1813</span><br><span class="line">1814</span><br><span class="line">1815</span><br><span class="line">1816</span><br><span class="line">1817</span><br><span class="line">1818</span><br><span class="line">1819</span><br><span class="line">1820</span><br><span class="line">1821</span><br><span class="line">1822</span><br><span class="line">1823</span><br><span class="line">1824</span><br><span class="line">1825</span><br><span class="line">1826</span><br><span class="line">1827</span><br><span class="line">1828</span><br><span class="line">1829</span><br><span class="line">1830</span><br><span class="line">1831</span><br><span class="line">1832</span><br><span class="line">1833</span><br><span class="line">1834</span><br><span class="line">1835</span><br><span class="line">1836</span><br><span class="line">1837</span><br><span class="line">1838</span><br><span class="line">1839</span><br><span class="line">1840</span><br><span class="line">1841</span><br><span class="line">1842</span><br><span class="line">1843</span><br><span class="line">1844</span><br><span class="line">1845</span><br><span class="line">1846</span><br><span class="line">1847</span><br><span class="line">1848</span><br><span class="line">1849</span><br><span class="line">1850</span><br><span class="line">1851</span><br><span class="line">1852</span><br><span class="line">1853</span><br><span class="line">1854</span><br><span class="line">1855</span><br><span class="line">1856</span><br><span class="line">1857</span><br><span class="line">1858</span><br><span class="line">1859</span><br><span class="line">1860</span><br><span class="line">1861</span><br><span class="line">1862</span><br><span class="line">1863</span><br><span class="line">1864</span><br><span class="line">1865</span><br><span class="line">1866</span><br><span class="line">1867</span><br><span class="line">1868</span><br><span class="line">1869</span><br><span class="line">1870</span><br><span class="line">1871</span><br><span class="line">1872</span><br><span class="line">1873</span><br><span class="line">1874</span><br><span class="line">1875</span><br><span class="line">1876</span><br><span class="line">1877</span><br><span class="line">1878</span><br><span class="line">1879</span><br><span class="line">1880</span><br><span class="line">1881</span><br><span class="line">1882</span><br><span class="line">1883</span><br><span class="line">1884</span><br><span class="line">1885</span><br><span class="line">1886</span><br><span class="line">1887</span><br><span class="line">1888</span><br><span class="line">1889</span><br><span class="line">1890</span><br><span class="line">1891</span><br><span class="line">1892</span><br><span class="line">1893</span><br><span class="line">1894</span><br><span class="line">1895</span><br><span class="line">1896</span><br><span class="line">1897</span><br><span class="line">1898</span><br><span class="line">1899</span><br><span class="line">1900</span><br><span class="line">1901</span><br><span class="line">1902</span><br><span class="line">1903</span><br><span class="line">1904</span><br><span class="line">1905</span><br><span class="line">1906</span><br><span class="line">1907</span><br><span class="line">1908</span><br><span class="line">1909</span><br><span class="line">1910</span><br><span class="line">1911</span><br><span class="line">1912</span><br><span class="line">1913</span><br><span class="line">1914</span><br><span class="line">1915</span><br><span class="line">1916</span><br><span class="line">1917</span><br><span class="line">1918</span><br><span class="line">1919</span><br><span class="line">1920</span><br><span class="line">1921</span><br><span class="line">1922</span><br><span class="line">1923</span><br><span class="line">1924</span><br><span class="line">1925</span><br><span class="line">1926</span><br><span class="line">1927</span><br><span class="line">1928</span><br><span class="line">1929</span><br><span class="line">1930</span><br><span class="line">1931</span><br><span class="line">1932</span><br><span class="line">1933</span><br><span class="line">1934</span><br><span class="line">1935</span><br><span class="line">1936</span><br><span class="line">1937</span><br><span class="line">1938</span><br><span class="line">1939</span><br><span class="line">1940</span><br><span class="line">1941</span><br><span class="line">1942</span><br><span class="line">1943</span><br><span class="line">1944</span><br><span class="line">1945</span><br><span class="line">1946</span><br><span class="line">1947</span><br><span class="line">1948</span><br><span class="line">1949</span><br><span class="line">1950</span><br><span class="line">1951</span><br><span class="line">1952</span><br><span class="line">1953</span><br><span class="line">1954</span><br><span class="line">1955</span><br><span class="line">1956</span><br><span class="line">1957</span><br><span class="line">1958</span><br><span class="line">1959</span><br><span class="line">1960</span><br><span class="line">1961</span><br><span class="line">1962</span><br><span class="line">1963</span><br><span class="line">1964</span><br><span class="line">1965</span><br><span class="line">1966</span><br><span class="line">1967</span><br><span class="line">1968</span><br><span class="line">1969</span><br><span class="line">1970</span><br><span class="line">1971</span><br><span class="line">1972</span><br><span class="line">1973</span><br><span class="line">1974</span><br><span class="line">1975</span><br><span class="line">1976</span><br><span class="line">1977</span><br><span class="line">1978</span><br><span class="line">1979</span><br><span class="line">1980</span><br><span class="line">1981</span><br><span class="line">1982</span><br><span class="line">1983</span><br><span class="line">1984</span><br><span class="line">1985</span><br><span class="line">1986</span><br><span class="line">1987</span><br><span class="line">1988</span><br><span class="line">1989</span><br><span class="line">1990</span><br><span class="line">1991</span><br><span class="line">1992</span><br><span class="line">1993</span><br><span class="line">1994</span><br><span class="line">1995</span><br><span class="line">1996</span><br><span class="line">1997</span><br><span class="line">1998</span><br><span class="line">1999</span><br><span class="line">2000</span><br><span class="line">2001</span><br><span class="line">2002</span><br><span class="line">2003</span><br><span class="line">2004</span><br><span class="line">2005</span><br><span class="line">2006</span><br><span class="line">2007</span><br><span class="line">2008</span><br><span class="line">2009</span><br><span class="line">2010</span><br><span class="line">2011</span><br><span class="line">2012</span><br><span class="line">2013</span><br><span class="line">2014</span><br><span class="line">2015</span><br><span class="line">2016</span><br><span class="line">2017</span><br><span class="line">2018</span><br><span class="line">2019</span><br><span class="line">2020</span><br><span class="line">2021</span><br><span class="line">2022</span><br><span class="line">2023</span><br><span class="line">2024</span><br><span class="line">2025</span><br><span class="line">2026</span><br><span class="line">2027</span><br><span class="line">2028</span><br><span class="line">2029</span><br><span class="line">2030</span><br><span class="line">2031</span><br><span class="line">2032</span><br><span class="line">2033</span><br><span class="line">2034</span><br><span class="line">2035</span><br><span class="line">2036</span><br><span class="line">2037</span><br><span class="line">2038</span><br><span class="line">2039</span><br><span class="line">2040</span><br><span class="line">2041</span><br><span class="line">2042</span><br><span class="line">2043</span><br><span class="line">2044</span><br><span class="line">2045</span><br><span class="line">2046</span><br><span class="line">2047</span><br><span class="line">2048</span><br><span class="line">2049</span><br><span class="line">2050</span><br><span class="line">2051</span><br><span class="line">2052</span><br><span class="line">2053</span><br><span class="line">2054</span><br><span class="line">2055</span><br><span class="line">2056</span><br><span class="line">2057</span><br><span class="line">2058</span><br><span class="line">2059</span><br><span class="line">2060</span><br><span class="line">2061</span><br><span class="line">2062</span><br><span class="line">2063</span><br><span class="line">2064</span><br><span class="line">2065</span><br><span class="line">2066</span><br><span class="line">2067</span><br><span class="line">2068</span><br><span class="line">2069</span><br><span class="line">2070</span><br><span class="line">2071</span><br><span class="line">2072</span><br><span class="line">2073</span><br><span class="line">2074</span><br><span class="line">2075</span><br><span class="line">2076</span><br><span class="line">2077</span><br><span class="line">2078</span><br><span class="line">2079</span><br><span class="line">2080</span><br><span class="line">2081</span><br><span class="line">2082</span><br><span class="line">2083</span><br><span class="line">2084</span><br><span class="line">2085</span><br><span class="line">2086</span><br><span class="line">2087</span><br><span class="line">2088</span><br><span class="line">2089</span><br><span class="line">2090</span><br><span class="line">2091</span><br><span class="line">2092</span><br><span class="line">2093</span><br><span class="line">2094</span><br><span class="line">2095</span><br><span class="line">2096</span><br><span class="line">2097</span><br><span class="line">2098</span><br><span class="line">2099</span><br><span class="line">2100</span><br><span class="line">2101</span><br><span class="line">2102</span><br><span class="line">2103</span><br><span class="line">2104</span><br><span class="line">2105</span><br><span class="line">2106</span><br><span class="line">2107</span><br><span class="line">2108</span><br><span class="line">2109</span><br><span class="line">2110</span><br><span class="line">2111</span><br><span class="line">2112</span><br><span class="line">2113</span><br><span class="line">2114</span><br><span class="line">2115</span><br><span class="line">2116</span><br><span class="line">2117</span><br><span class="line">2118</span><br><span class="line">2119</span><br><span class="line">2120</span><br><span class="line">2121</span><br><span class="line">2122</span><br><span class="line">2123</span><br><span class="line">2124</span><br><span class="line">2125</span><br><span class="line">2126</span><br><span class="line">2127</span><br><span class="line">2128</span><br><span class="line">2129</span><br><span class="line">2130</span><br><span class="line">2131</span><br><span class="line">2132</span><br><span class="line">2133</span><br><span class="line">2134</span><br><span class="line">2135</span><br><span class="line">2136</span><br><span class="line">2137</span><br><span class="line">2138</span><br><span class="line">2139</span><br><span class="line">2140</span><br><span class="line">2141</span><br><span class="line">2142</span><br><span class="line">2143</span><br><span class="line">2144</span><br><span class="line">2145</span><br><span class="line">2146</span><br><span class="line">2147</span><br><span class="line">2148</span><br><span class="line">2149</span><br><span class="line">2150</span><br><span class="line">2151</span><br><span class="line">2152</span><br><span class="line">2153</span><br><span class="line">2154</span><br><span class="line">2155</span><br><span class="line">2156</span><br><span class="line">2157</span><br><span class="line">2158</span><br><span class="line">2159</span><br><span class="line">2160</span><br><span class="line">2161</span><br><span class="line">2162</span><br><span class="line">2163</span><br><span class="line">2164</span><br><span class="line">2165</span><br><span class="line">2166</span><br><span class="line">2167</span><br><span class="line">2168</span><br><span class="line">2169</span><br><span class="line">2170</span><br><span class="line">2171</span><br><span class="line">2172</span><br><span class="line">2173</span><br><span class="line">2174</span><br><span class="line">2175</span><br><span class="line">2176</span><br><span class="line">2177</span><br><span class="line">2178</span><br><span class="line">2179</span><br><span class="line">2180</span><br><span class="line">2181</span><br><span class="line">2182</span><br><span class="line">2183</span><br><span class="line">2184</span><br><span class="line">2185</span><br><span class="line">2186</span><br><span class="line">2187</span><br><span class="line">2188</span><br><span class="line">2189</span><br><span class="line">2190</span><br><span class="line">2191</span><br><span class="line">2192</span><br><span class="line">2193</span><br><span class="line">2194</span><br><span class="line">2195</span><br><span class="line">2196</span><br><span class="line">2197</span><br><span class="line">2198</span><br><span class="line">2199</span><br><span class="line">2200</span><br><span class="line">2201</span><br><span class="line">2202</span><br><span class="line">2203</span><br><span class="line">2204</span><br><span class="line">2205</span><br><span class="line">2206</span><br><span class="line">2207</span><br><span class="line">2208</span><br><span class="line">2209</span><br><span class="line">2210</span><br><span class="line">2211</span><br><span class="line">2212</span><br><span class="line">2213</span><br><span class="line">2214</span><br><span class="line">2215</span><br><span class="line">2216</span><br><span class="line">2217</span><br><span class="line">2218</span><br><span class="line">2219</span><br><span class="line">2220</span><br><span class="line">2221</span><br><span class="line">2222</span><br><span class="line">2223</span><br><span class="line">2224</span><br><span class="line">2225</span><br><span class="line">2226</span><br><span class="line">2227</span><br><span class="line">2228</span><br><span class="line">2229</span><br><span class="line">2230</span><br><span class="line">2231</span><br><span class="line">2232</span><br><span class="line">2233</span><br><span class="line">2234</span><br><span class="line">2235</span><br><span class="line">2236</span><br><span class="line">2237</span><br><span class="line">2238</span><br><span class="line">2239</span><br><span class="line">2240</span><br><span class="line">2241</span><br><span class="line">2242</span><br><span class="line">2243</span><br><span class="line">2244</span><br><span class="line">2245</span><br><span class="line">2246</span><br><span class="line">2247</span><br><span class="line">2248</span><br><span class="line">2249</span><br><span class="line">2250</span><br><span class="line">2251</span><br><span class="line">2252</span><br><span class="line">2253</span><br><span class="line">2254</span><br><span class="line">2255</span><br><span class="line">2256</span><br><span class="line">2257</span><br><span class="line">2258</span><br><span class="line">2259</span><br><span class="line">2260</span><br><span class="line">2261</span><br><span class="line">2262</span><br><span class="line">2263</span><br><span class="line">2264</span><br><span class="line">2265</span><br><span class="line">2266</span><br><span class="line">2267</span><br><span class="line">2268</span><br><span class="line">2269</span><br><span class="line">2270</span><br><span class="line">2271</span><br><span class="line">2272</span><br><span class="line">2273</span><br><span class="line">2274</span><br><span class="line">2275</span><br><span class="line">2276</span><br><span class="line">2277</span><br><span class="line">2278</span><br><span class="line">2279</span><br><span class="line">2280</span><br><span class="line">2281</span><br><span class="line">2282</span><br><span class="line">2283</span><br><span class="line">2284</span><br><span class="line">2285</span><br><span class="line">2286</span><br><span class="line">2287</span><br><span class="line">2288</span><br><span class="line">2289</span><br><span class="line">2290</span><br><span class="line">2291</span><br><span class="line">2292</span><br><span class="line">2293</span><br><span class="line">2294</span><br><span class="line">2295</span><br><span class="line">2296</span><br><span class="line">2297</span><br><span class="line">2298</span><br><span class="line">2299</span><br><span class="line">2300</span><br><span class="line">2301</span><br><span class="line">2302</span><br><span class="line">2303</span><br><span class="line">2304</span><br><span class="line">2305</span><br><span class="line">2306</span><br><span class="line">2307</span><br><span class="line">2308</span><br><span class="line">2309</span><br><span class="line">2310</span><br><span class="line">2311</span><br><span class="line">2312</span><br><span class="line">2313</span><br><span class="line">2314</span><br><span class="line">2315</span><br><span class="line">2316</span><br><span class="line">2317</span><br><span class="line">2318</span><br><span class="line">2319</span><br><span class="line">2320</span><br><span class="line">2321</span><br><span class="line">2322</span><br><span class="line">2323</span><br><span class="line">2324</span><br><span class="line">2325</span><br><span class="line">2326</span><br><span class="line">2327</span><br><span class="line">2328</span><br><span class="line">2329</span><br><span class="line">2330</span><br><span class="line">2331</span><br><span class="line">2332</span><br><span class="line">2333</span><br><span class="line">2334</span><br><span class="line">2335</span><br><span class="line">2336</span><br><span class="line">2337</span><br><span class="line">2338</span><br><span class="line">2339</span><br><span class="line">2340</span><br><span class="line">2341</span><br><span class="line">2342</span><br><span class="line">2343</span><br><span class="line">2344</span><br><span class="line">2345</span><br><span class="line">2346</span><br><span class="line">2347</span><br><span class="line">2348</span><br><span class="line">2349</span><br><span class="line">2350</span><br><span class="line">2351</span><br><span class="line">2352</span><br><span class="line">2353</span><br><span class="line">2354</span><br><span class="line">2355</span><br><span class="line">2356</span><br><span class="line">2357</span><br><span class="line">2358</span><br><span class="line">2359</span><br><span class="line">2360</span><br><span class="line">2361</span><br><span class="line">2362</span><br><span class="line">2363</span><br><span class="line">2364</span><br><span class="line">2365</span><br><span class="line">2366</span><br><span class="line">2367</span><br><span class="line">2368</span><br><span class="line">2369</span><br><span class="line">2370</span><br><span class="line">2371</span><br><span class="line">2372</span><br><span class="line">2373</span><br><span class="line">2374</span><br><span class="line">2375</span><br><span class="line">2376</span><br><span class="line">2377</span><br><span class="line">2378</span><br><span class="line">2379</span><br><span class="line">2380</span><br><span class="line">2381</span><br><span class="line">2382</span><br><span class="line">2383</span><br><span class="line">2384</span><br><span class="line">2385</span><br><span class="line">2386</span><br><span class="line">2387</span><br><span class="line">2388</span><br><span class="line">2389</span><br><span class="line">2390</span><br><span class="line">2391</span><br><span class="line">2392</span><br><span class="line">2393</span><br><span class="line">2394</span><br><span class="line">2395</span><br><span class="line">2396</span><br><span class="line">2397</span><br><span class="line">2398</span><br><span class="line">2399</span><br><span class="line">2400</span><br><span class="line">2401</span><br><span class="line">2402</span><br><span class="line">2403</span><br><span class="line">2404</span><br><span class="line">2405</span><br><span class="line">2406</span><br><span class="line">2407</span><br><span class="line">2408</span><br><span class="line">2409</span><br><span class="line">2410</span><br><span class="line">2411</span><br><span class="line">2412</span><br><span class="line">2413</span><br><span class="line">2414</span><br><span class="line">2415</span><br><span class="line">2416</span><br><span class="line">2417</span><br><span class="line">2418</span><br><span class="line">2419</span><br><span class="line">2420</span><br><span class="line">2421</span><br><span class="line">2422</span><br><span class="line">2423</span><br><span class="line">2424</span><br><span class="line">2425</span><br><span class="line">2426</span><br><span class="line">2427</span><br><span class="line">2428</span><br><span class="line">2429</span><br><span class="line">2430</span><br><span class="line">2431</span><br><span class="line">2432</span><br><span class="line">2433</span><br><span class="line">2434</span><br><span class="line">2435</span><br><span class="line">2436</span><br><span class="line">2437</span><br><span class="line">2438</span><br><span class="line">2439</span><br><span class="line">2440</span><br><span class="line">2441</span><br><span class="line">2442</span><br><span class="line">2443</span><br><span class="line">2444</span><br><span class="line">2445</span><br><span class="line">2446</span><br><span class="line">2447</span><br><span class="line">2448</span><br><span class="line">2449</span><br><span class="line">2450</span><br><span class="line">2451</span><br><span class="line">2452</span><br><span class="line">2453</span><br><span class="line">2454</span><br><span class="line">2455</span><br><span class="line">2456</span><br><span class="line">2457</span><br><span class="line">2458</span><br><span class="line">2459</span><br><span class="line">2460</span><br><span class="line">2461</span><br><span class="line">2462</span><br><span class="line">2463</span><br><span class="line">2464</span><br><span class="line">2465</span><br><span class="line">2466</span><br><span class="line">2467</span><br><span class="line">2468</span><br><span class="line">2469</span><br><span class="line">2470</span><br><span class="line">2471</span><br><span class="line">2472</span><br><span class="line">2473</span><br><span class="line">2474</span><br><span class="line">2475</span><br><span class="line">2476</span><br><span class="line">2477</span><br><span class="line">2478</span><br><span class="line">2479</span><br><span class="line">2480</span><br><span class="line">2481</span><br><span class="line">2482</span><br><span class="line">2483</span><br><span class="line">2484</span><br><span class="line">2485</span><br><span class="line">2486</span><br><span class="line">2487</span><br><span class="line">2488</span><br><span class="line">2489</span><br><span class="line">2490</span><br><span class="line">2491</span><br><span class="line">2492</span><br><span class="line">2493</span><br><span class="line">2494</span><br><span class="line">2495</span><br><span class="line">2496</span><br><span class="line">2497</span><br><span class="line">2498</span><br><span class="line">2499</span><br><span class="line">2500</span><br><span class="line">2501</span><br><span class="line">2502</span><br><span class="line">2503</span><br><span class="line">2504</span><br><span class="line">2505</span><br><span class="line">2506</span><br><span class="line">2507</span><br><span class="line">2508</span><br><span class="line">2509</span><br><span class="line">2510</span><br><span class="line">2511</span><br><span class="line">2512</span><br><span class="line">2513</span><br><span class="line">2514</span><br><span class="line">2515</span><br><span class="line">2516</span><br><span class="line">2517</span><br><span class="line">2518</span><br><span class="line">2519</span><br><span class="line">2520</span><br><span class="line">2521</span><br><span class="line">2522</span><br><span class="line">2523</span><br><span class="line">2524</span><br><span class="line">2525</span><br><span class="line">2526</span><br><span class="line">2527</span><br><span class="line">2528</span><br><span class="line">2529</span><br><span class="line">2530</span><br><span class="line">2531</span><br><span class="line">2532</span><br><span class="line">2533</span><br><span class="line">2534</span><br><span class="line">2535</span><br><span class="line">2536</span><br><span class="line">2537</span><br><span class="line">2538</span><br><span class="line">2539</span><br><span class="line">2540</span><br><span class="line">2541</span><br><span class="line">2542</span><br><span class="line">2543</span><br><span class="line">2544</span><br><span class="line">2545</span><br><span class="line">2546</span><br><span class="line">2547</span><br><span class="line">2548</span><br><span class="line">2549</span><br><span class="line">2550</span><br><span class="line">2551</span><br><span class="line">2552</span><br><span class="line">2553</span><br><span class="line">2554</span><br><span class="line">2555</span><br><span class="line">2556</span><br><span class="line">2557</span><br><span class="line">2558</span><br><span class="line">2559</span><br><span class="line">2560</span><br><span class="line">2561</span><br><span class="line">2562</span><br><span class="line">2563</span><br><span class="line">2564</span><br><span class="line">2565</span><br><span class="line">2566</span><br><span class="line">2567</span><br><span class="line">2568</span><br><span class="line">2569</span><br><span class="line">2570</span><br><span class="line">2571</span><br><span class="line">2572</span><br><span class="line">2573</span><br><span class="line">2574</span><br><span class="line">2575</span><br><span class="line">2576</span><br><span class="line">2577</span><br><span class="line">2578</span><br><span class="line">2579</span><br><span class="line">2580</span><br><span class="line">2581</span><br><span class="line">2582</span><br><span class="line">2583</span><br><span class="line">2584</span><br><span class="line">2585</span><br><span class="line">2586</span><br><span class="line">2587</span><br><span class="line">2588</span><br><span class="line">2589</span><br><span class="line">2590</span><br><span class="line">2591</span><br><span class="line">2592</span><br><span class="line">2593</span><br><span class="line">2594</span><br><span class="line">2595</span><br><span class="line">2596</span><br><span class="line">2597</span><br><span class="line">2598</span><br><span class="line">2599</span><br><span class="line">2600</span><br><span class="line">2601</span><br><span class="line">2602</span><br><span class="line">2603</span><br><span class="line">2604</span><br><span class="line">2605</span><br><span class="line">2606</span><br><span class="line">2607</span><br><span class="line">2608</span><br><span class="line">2609</span><br><span class="line">2610</span><br><span class="line">2611</span><br><span class="line">2612</span><br><span class="line">2613</span><br><span class="line">2614</span><br><span class="line">2615</span><br><span class="line">2616</span><br><span class="line">2617</span><br><span class="line">2618</span><br><span class="line">2619</span><br><span class="line">2620</span><br><span class="line">2621</span><br><span class="line">2622</span><br><span class="line">2623</span><br><span class="line">2624</span><br><span class="line">2625</span><br><span class="line">2626</span><br><span class="line">2627</span><br><span class="line">2628</span><br><span class="line">2629</span><br><span class="line">2630</span><br><span class="line">2631</span><br><span class="line">2632</span><br><span class="line">2633</span><br><span class="line">2634</span><br><span class="line">2635</span><br><span class="line">2636</span><br><span class="line">2637</span><br><span class="line">2638</span><br><span class="line">2639</span><br><span class="line">2640</span><br><span class="line">2641</span><br><span class="line">2642</span><br><span class="line">2643</span><br><span class="line">2644</span><br><span class="line">2645</span><br><span class="line">2646</span><br><span class="line">2647</span><br><span class="line">2648</span><br><span class="line">2649</span><br><span class="line">2650</span><br><span class="line">2651</span><br><span class="line">2652</span><br><span class="line">2653</span><br><span class="line">2654</span><br><span class="line">2655</span><br><span class="line">2656</span><br><span class="line">2657</span><br><span class="line">2658</span><br><span class="line">2659</span><br><span class="line">2660</span><br><span class="line">2661</span><br><span class="line">2662</span><br><span class="line">2663</span><br><span class="line">2664</span><br><span class="line">2665</span><br><span class="line">2666</span><br><span class="line">2667</span><br><span class="line">2668</span><br><span class="line">2669</span><br><span class="line">2670</span><br><span class="line">2671</span><br><span class="line">2672</span><br><span class="line">2673</span><br><span class="line">2674</span><br><span class="line">2675</span><br><span class="line">2676</span><br><span class="line">2677</span><br><span class="line">2678</span><br><span class="line">2679</span><br><span class="line">2680</span><br><span class="line">2681</span><br><span class="line">2682</span><br><span class="line">2683</span><br><span class="line">2684</span><br><span class="line">2685</span><br><span class="line">2686</span><br><span class="line">2687</span><br><span class="line">2688</span><br><span class="line">2689</span><br><span class="line">2690</span><br><span class="line">2691</span><br><span class="line">2692</span><br><span class="line">2693</span><br><span class="line">2694</span><br><span class="line">2695</span><br><span class="line">2696</span><br><span class="line">2697</span><br><span class="line">2698</span><br><span class="line">2699</span><br><span class="line">2700</span><br><span class="line">2701</span><br><span class="line">2702</span><br><span class="line">2703</span><br><span class="line">2704</span><br><span class="line">2705</span><br><span class="line">2706</span><br><span class="line">2707</span><br><span class="line">2708</span><br><span class="line">2709</span><br><span class="line">2710</span><br><span class="line">2711</span><br><span class="line">2712</span><br><span class="line">2713</span><br><span class="line">2714</span><br><span class="line">2715</span><br><span class="line">2716</span><br><span class="line">2717</span><br><span class="line">2718</span><br><span class="line">2719</span><br><span class="line">2720</span><br><span class="line">2721</span><br><span class="line">2722</span><br><span class="line">2723</span><br><span class="line">2724</span><br><span class="line">2725</span><br><span class="line">2726</span><br><span class="line">2727</span><br><span class="line">2728</span><br><span class="line">2729</span><br><span class="line">2730</span><br><span class="line">2731</span><br><span class="line">2732</span><br><span class="line">2733</span><br><span class="line">2734</span><br><span class="line">2735</span><br><span class="line">2736</span><br><span class="line">2737</span><br><span class="line">2738</span><br><span class="line">2739</span><br><span class="line">2740</span><br><span class="line">2741</span><br><span class="line">2742</span><br><span class="line">2743</span><br><span class="line">2744</span><br><span class="line">2745</span><br><span class="line">2746</span><br><span class="line">2747</span><br><span class="line">2748</span><br><span class="line">2749</span><br><span class="line">2750</span><br><span class="line">2751</span><br><span class="line">2752</span><br><span class="line">2753</span><br><span class="line">2754</span><br><span class="line">2755</span><br><span class="line">2756</span><br><span class="line">2757</span><br><span class="line">2758</span><br><span class="line">2759</span><br><span class="line">2760</span><br><span class="line">2761</span><br><span class="line">2762</span><br><span class="line">2763</span><br><span class="line">2764</span><br><span class="line">2765</span><br><span class="line">2766</span><br><span class="line">2767</span><br><span class="line">2768</span><br><span class="line">2769</span><br><span class="line">2770</span><br><span class="line">2771</span><br><span class="line">2772</span><br><span class="line">2773</span><br><span class="line">2774</span><br><span class="line">2775</span><br><span class="line">2776</span><br><span class="line">2777</span><br><span class="line">2778</span><br><span class="line">2779</span><br><span class="line">2780</span><br><span class="line">2781</span><br><span class="line">2782</span><br><span class="line">2783</span><br><span class="line">2784</span><br><span class="line">2785</span><br><span class="line">2786</span><br><span class="line">2787</span><br><span class="line">2788</span><br><span class="line">2789</span><br><span class="line">2790</span><br><span class="line">2791</span><br><span class="line">2792</span><br><span class="line">2793</span><br><span class="line">2794</span><br><span class="line">2795</span><br><span class="line">2796</span><br><span class="line">2797</span><br><span class="line">2798</span><br><span class="line">2799</span><br><span class="line">2800</span><br><span class="line">2801</span><br><span class="line">2802</span><br><span class="line">2803</span><br><span class="line">2804</span><br><span class="line">2805</span><br><span class="line">2806</span><br><span class="line">2807</span><br><span class="line">2808</span><br><span class="line">2809</span><br><span class="line">2810</span><br><span class="line">2811</span><br><span class="line">2812</span><br><span class="line">2813</span><br><span class="line">2814</span><br><span class="line">2815</span><br><span class="line">2816</span><br><span class="line">2817</span><br><span class="line">2818</span><br><span class="line">2819</span><br><span class="line">2820</span><br><span class="line">2821</span><br><span class="line">2822</span><br><span class="line">2823</span><br><span class="line">2824</span><br><span class="line">2825</span><br><span class="line">2826</span><br><span class="line">2827</span><br><span class="line">2828</span><br><span class="line">2829</span><br><span class="line">2830</span><br><span class="line">2831</span><br><span class="line">2832</span><br><span class="line">2833</span><br><span class="line">2834</span><br><span class="line">2835</span><br><span class="line">2836</span><br><span class="line">2837</span><br><span class="line">2838</span><br><span class="line">2839</span><br><span class="line">2840</span><br><span class="line">2841</span><br><span class="line">2842</span><br><span class="line">2843</span><br><span class="line">2844</span><br><span class="line">2845</span><br><span class="line">2846</span><br><span class="line">2847</span><br><span class="line">2848</span><br><span class="line">2849</span><br><span class="line">2850</span><br><span class="line">2851</span><br><span class="line">2852</span><br><span class="line">2853</span><br><span class="line">2854</span><br><span class="line">2855</span><br><span class="line">2856</span><br><span class="line">2857</span><br><span class="line">2858</span><br><span class="line">2859</span><br><span class="line">2860</span><br><span class="line">2861</span><br><span class="line">2862</span><br><span class="line">2863</span><br><span class="line">2864</span><br><span class="line">2865</span><br><span class="line">2866</span><br><span class="line">2867</span><br><span class="line">2868</span><br><span class="line">2869</span><br><span class="line">2870</span><br><span class="line">2871</span><br><span class="line">2872</span><br><span class="line">2873</span><br><span class="line">2874</span><br><span class="line">2875</span><br><span class="line">2876</span><br><span class="line">2877</span><br><span class="line">2878</span><br><span class="line">2879</span><br><span class="line">2880</span><br><span class="line">2881</span><br><span class="line">2882</span><br><span class="line">2883</span><br><span class="line">2884</span><br><span class="line">2885</span><br><span class="line">2886</span><br><span class="line">2887</span><br><span class="line">2888</span><br><span class="line">2889</span><br><span class="line">2890</span><br><span class="line">2891</span><br><span class="line">2892</span><br><span class="line">2893</span><br><span class="line">2894</span><br><span class="line">2895</span><br><span class="line">2896</span><br><span class="line">2897</span><br><span class="line">2898</span><br><span class="line">2899</span><br><span class="line">2900</span><br><span class="line">2901</span><br><span class="line">2902</span><br><span class="line">2903</span><br><span class="line">2904</span><br><span class="line">2905</span><br><span class="line">2906</span><br><span class="line">2907</span><br><span class="line">2908</span><br><span class="line">2909</span><br><span class="line">2910</span><br><span class="line">2911</span><br><span class="line">2912</span><br><span class="line">2913</span><br><span class="line">2914</span><br><span class="line">2915</span><br><span class="line">2916</span><br><span class="line">2917</span><br><span class="line">2918</span><br><span class="line">2919</span><br><span class="line">2920</span><br><span class="line">2921</span><br><span class="line">2922</span><br><span class="line">2923</span><br><span class="line">2924</span><br><span class="line">2925</span><br><span class="line">2926</span><br><span class="line">2927</span><br><span class="line">2928</span><br><span class="line">2929</span><br><span class="line">2930</span><br><span class="line">2931</span><br><span class="line">2932</span><br><span class="line">2933</span><br><span class="line">2934</span><br><span class="line">2935</span><br><span class="line">2936</span><br><span class="line">2937</span><br><span class="line">2938</span><br><span class="line">2939</span><br><span class="line">2940</span><br><span class="line">2941</span><br><span class="line">2942</span><br><span class="line">2943</span><br><span class="line">2944</span><br><span class="line">2945</span><br><span class="line">2946</span><br><span class="line">2947</span><br><span class="line">2948</span><br><span class="line">2949</span><br><span class="line">2950</span><br><span class="line">2951</span><br><span class="line">2952</span><br><span class="line">2953</span><br><span class="line">2954</span><br><span class="line">2955</span><br><span class="line">2956</span><br><span class="line">2957</span><br><span class="line">2958</span><br><span class="line">2959</span><br><span class="line">2960</span><br><span class="line">2961</span><br><span class="line">2962</span><br><span class="line">2963</span><br><span class="line">2964</span><br><span class="line">2965</span><br><span class="line">2966</span><br><span class="line">2967</span><br><span class="line">2968</span><br><span class="line">2969</span><br><span class="line">2970</span><br><span class="line">2971</span><br><span class="line">2972</span><br><span class="line">2973</span><br><span class="line">2974</span><br><span class="line">2975</span><br><span class="line">2976</span><br><span class="line">2977</span><br><span class="line">2978</span><br><span class="line">2979</span><br><span class="line">2980</span><br><span class="line">2981</span><br><span class="line">2982</span><br><span class="line">2983</span><br><span class="line">2984</span><br><span class="line">2985</span><br><span class="line">2986</span><br><span class="line">2987</span><br><span class="line">2988</span><br><span class="line">2989</span><br><span class="line">2990</span><br><span class="line">2991</span><br><span class="line">2992</span><br><span class="line">2993</span><br><span class="line">2994</span><br><span class="line">2995</span><br><span class="line">2996</span><br><span class="line">2997</span><br><span class="line">2998</span><br><span class="line">2999</span><br><span class="line">3000</span><br><span class="line">3001</span><br><span class="line">3002</span><br><span class="line">3003</span><br><span class="line">3004</span><br><span class="line">3005</span><br><span class="line">3006</span><br><span class="line">3007</span><br><span class="line">3008</span><br><span class="line">3009</span><br><span class="line">3010</span><br><span class="line">3011</span><br><span class="line">3012</span><br><span class="line">3013</span><br><span class="line">3014</span><br><span class="line">3015</span><br><span class="line">3016</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//</span></span><br><span class="line"><span class="hljs-comment">// Source code recreated from a .class file by IntelliJ IDEA</span></span><br><span class="line"><span class="hljs-comment">// (powered by Fernflower decompiler)</span></span><br><span class="line"><span class="hljs-comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">package</span> java.math;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="hljs-keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"><span class="hljs-keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"><span class="hljs-keyword">import</span> java.io.ObjectStreamField;</span><br><span class="line"><span class="hljs-keyword">import</span> java.io.StreamCorruptedException;</span><br><span class="line"><span class="hljs-keyword">import</span> java.io.ObjectInputStream.GetField;</span><br><span class="line"><span class="hljs-keyword">import</span> java.io.ObjectOutputStream.PutField;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.Objects;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.Random;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.concurrent.ThreadLocalRandom;</span><br><span class="line"><span class="hljs-keyword">import</span> jdk.internal.HotSpotIntrinsicCandidate;</span><br><span class="line"><span class="hljs-keyword">import</span> jdk.internal.misc.Unsafe;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BigInteger</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Number</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Comparable</span>&lt;<span class="hljs-title">BigInteger</span>&gt; </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> signum;</span><br><span class="line">    <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span>[] mag;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> bitCountPlusOne;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> bitLengthPlusOne;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> lowestSetBitPlusTwo;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> firstNonzeroIntNumPlusTwo;</span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> LONG_MASK = <span class="hljs-number">4294967295L</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> MAX_MAG_LENGTH = <span class="hljs-number">67108864</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> PRIME_SEARCH_BIT_LENGTH_LIMIT = <span class="hljs-number">500000000</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> KARATSUBA_THRESHOLD = <span class="hljs-number">80</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> TOOM_COOK_THRESHOLD = <span class="hljs-number">240</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> KARATSUBA_SQUARE_THRESHOLD = <span class="hljs-number">128</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> TOOM_COOK_SQUARE_THRESHOLD = <span class="hljs-number">216</span>;</span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> BURNIKEL_ZIEGLER_THRESHOLD = <span class="hljs-number">80</span>;</span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> BURNIKEL_ZIEGLER_OFFSET = <span class="hljs-number">40</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> SCHOENHAGE_BASE_CONVERSION_THRESHOLD = <span class="hljs-number">20</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> MULTIPLY_SQUARE_THRESHOLD = <span class="hljs-number">20</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> MONTGOMERY_INTRINSIC_THRESHOLD = <span class="hljs-number">512</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">long</span>[] bitsPerDigit = <span class="hljs-keyword">new</span> <span class="hljs-keyword">long</span>[]&#123;<span class="hljs-number">0L</span>, <span class="hljs-number">0L</span>, <span class="hljs-number">1024L</span>, <span class="hljs-number">1624L</span>, <span class="hljs-number">2048L</span>, <span class="hljs-number">2378L</span>, <span class="hljs-number">2648L</span>, <span class="hljs-number">2875L</span>, <span class="hljs-number">3072L</span>, <span class="hljs-number">3247L</span>, <span class="hljs-number">3402L</span>, <span class="hljs-number">3543L</span>, <span class="hljs-number">3672L</span>, <span class="hljs-number">3790L</span>, <span class="hljs-number">3899L</span>, <span class="hljs-number">4001L</span>, <span class="hljs-number">4096L</span>, <span class="hljs-number">4186L</span>, <span class="hljs-number">4271L</span>, <span class="hljs-number">4350L</span>, <span class="hljs-number">4426L</span>, <span class="hljs-number">4498L</span>, <span class="hljs-number">4567L</span>, <span class="hljs-number">4633L</span>, <span class="hljs-number">4696L</span>, <span class="hljs-number">4756L</span>, <span class="hljs-number">4814L</span>, <span class="hljs-number">4870L</span>, <span class="hljs-number">4923L</span>, <span class="hljs-number">4975L</span>, <span class="hljs-number">5025L</span>, <span class="hljs-number">5074L</span>, <span class="hljs-number">5120L</span>, <span class="hljs-number">5166L</span>, <span class="hljs-number">5210L</span>, <span class="hljs-number">5253L</span>, <span class="hljs-number">5295L</span>&#125;;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> SMALL_PRIME_THRESHOLD = <span class="hljs-number">95</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> DEFAULT_PRIME_CERTAINTY = <span class="hljs-number">100</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> BigInteger SMALL_PRIME_PRODUCT = valueOf(<span class="hljs-number">152125131763605L</span>);</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> MAX_CONSTANT = <span class="hljs-number">16</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> BigInteger[] posConst = <span class="hljs-keyword">new</span> BigInteger[<span class="hljs-number">17</span>];</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> BigInteger[] negConst = <span class="hljs-keyword">new</span> BigInteger[<span class="hljs-number">17</span>];</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">volatile</span> BigInteger[][] powerCache;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">double</span>[] logCache;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">double</span> LOG_TWO = Math.log(<span class="hljs-number">2.0</span>D);</span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> BigInteger ZERO;</span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> BigInteger ONE;</span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> BigInteger TWO;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> BigInteger NEGATIVE_ONE;</span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> BigInteger TEN;</span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] bnExpModThreshTable;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String[] zeros;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] digitsPerLong;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> BigInteger[] longRadix;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] digitsPerInt;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] intRadix;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> serialVersionUID = -<span class="hljs-number">8287574255936472291L</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> ObjectStreamField[] serialPersistentFields;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BigInteger</span><span class="hljs-params">(<span class="hljs-keyword">byte</span>[] val, <span class="hljs-keyword">int</span> off, <span class="hljs-keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (val.length == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NumberFormatException(<span class="hljs-string">"Zero length BigInteger"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            Objects.checkFromIndexSize(off, len, val.length);</span><br><span class="line">            <span class="hljs-keyword">if</span> (val[off] &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">this</span>.mag = makePositive(val, off, len);</span><br><span class="line">                <span class="hljs-keyword">this</span>.signum = -<span class="hljs-number">1</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">this</span>.mag = stripLeadingZeroBytes(val, off, len);</span><br><span class="line">                <span class="hljs-keyword">this</span>.signum = <span class="hljs-keyword">this</span>.mag.length == <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mag.length &gt;= <span class="hljs-number">67108864</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">this</span>.checkRange();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BigInteger</span><span class="hljs-params">(<span class="hljs-keyword">byte</span>[] val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>((<span class="hljs-keyword">byte</span>[])val, <span class="hljs-number">0</span>, val.length);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">BigInteger</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (val.length == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NumberFormatException(<span class="hljs-string">"Zero length BigInteger"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (val[<span class="hljs-number">0</span>] &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">this</span>.mag = makePositive(val);</span><br><span class="line">                <span class="hljs-keyword">this</span>.signum = -<span class="hljs-number">1</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">this</span>.mag = trustedStripLeadingZeroInts(val);</span><br><span class="line">                <span class="hljs-keyword">this</span>.signum = <span class="hljs-keyword">this</span>.mag.length == <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mag.length &gt;= <span class="hljs-number">67108864</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">this</span>.checkRange();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BigInteger</span><span class="hljs-params">(<span class="hljs-keyword">int</span> signum, <span class="hljs-keyword">byte</span>[] magnitude, <span class="hljs-keyword">int</span> off, <span class="hljs-keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (signum &gt;= -<span class="hljs-number">1</span> &amp;&amp; signum &lt;= <span class="hljs-number">1</span>) &#123;</span><br><span class="line">            Objects.checkFromIndexSize(off, len, magnitude.length);</span><br><span class="line">            <span class="hljs-keyword">this</span>.mag = stripLeadingZeroBytes(magnitude, off, len);</span><br><span class="line">            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mag.length == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">this</span>.signum = <span class="hljs-number">0</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NumberFormatException(<span class="hljs-string">"signum-magnitude mismatch"</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">this</span>.signum = signum;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mag.length &gt;= <span class="hljs-number">67108864</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">this</span>.checkRange();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NumberFormatException(<span class="hljs-string">"Invalid signum value"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BigInteger</span><span class="hljs-params">(<span class="hljs-keyword">int</span> signum, <span class="hljs-keyword">byte</span>[] magnitude)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>(signum, magnitude, <span class="hljs-number">0</span>, magnitude.length);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">BigInteger</span><span class="hljs-params">(<span class="hljs-keyword">int</span> signum, <span class="hljs-keyword">int</span>[] magnitude)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.mag = stripLeadingZeroInts(magnitude);</span><br><span class="line">        <span class="hljs-keyword">if</span> (signum &gt;= -<span class="hljs-number">1</span> &amp;&amp; signum &lt;= <span class="hljs-number">1</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mag.length == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">this</span>.signum = <span class="hljs-number">0</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NumberFormatException(<span class="hljs-string">"signum-magnitude mismatch"</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">this</span>.signum = signum;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mag.length &gt;= <span class="hljs-number">67108864</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">this</span>.checkRange();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NumberFormatException(<span class="hljs-string">"Invalid signum value"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BigInteger</span><span class="hljs-params">(String val, <span class="hljs-keyword">int</span> radix)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> cursor = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> len = val.length();</span><br><span class="line">        <span class="hljs-keyword">if</span> (radix &gt;= <span class="hljs-number">2</span> &amp;&amp; radix &lt;= <span class="hljs-number">36</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (len == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NumberFormatException(<span class="hljs-string">"Zero length BigInteger"</span>);</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> sign = <span class="hljs-number">1</span>;</span><br><span class="line">                <span class="hljs-keyword">int</span> index1 = val.lastIndexOf(<span class="hljs-number">45</span>);</span><br><span class="line">                <span class="hljs-keyword">int</span> index2 = val.lastIndexOf(<span class="hljs-number">43</span>);</span><br><span class="line">                <span class="hljs-keyword">if</span> (index1 &gt;= <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (index1 != <span class="hljs-number">0</span> || index2 &gt;= <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NumberFormatException(<span class="hljs-string">"Illegal embedded sign character"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    sign = -<span class="hljs-number">1</span>;</span><br><span class="line">                    cursor = <span class="hljs-number">1</span>;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index2 &gt;= <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (index2 != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NumberFormatException(<span class="hljs-string">"Illegal embedded sign character"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    cursor = <span class="hljs-number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">if</span> (cursor == len) &#123;</span><br><span class="line">                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NumberFormatException(<span class="hljs-string">"Zero length BigInteger"</span>);</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">while</span>(cursor &lt; len &amp;&amp; Character.digit(val.charAt(cursor), radix) == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                        ++cursor;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="hljs-keyword">if</span> (cursor == len) &#123;</span><br><span class="line">                        <span class="hljs-keyword">this</span>.signum = <span class="hljs-number">0</span>;</span><br><span class="line">                        <span class="hljs-keyword">this</span>.mag = ZERO.mag;</span><br><span class="line">                    &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                        <span class="hljs-keyword">int</span> numDigits = len - cursor;</span><br><span class="line">                        <span class="hljs-keyword">this</span>.signum = sign;</span><br><span class="line">                        <span class="hljs-keyword">long</span> numBits = ((<span class="hljs-keyword">long</span>)numDigits * bitsPerDigit[radix] &gt;&gt;&gt; <span class="hljs-number">10</span>) + <span class="hljs-number">1L</span>;</span><br><span class="line">                        <span class="hljs-keyword">if</span> (numBits + <span class="hljs-number">31L</span> &gt;= <span class="hljs-number">4294967296L</span>) &#123;</span><br><span class="line">                            reportOverflow();</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        <span class="hljs-keyword">int</span> numWords = (<span class="hljs-keyword">int</span>)(numBits + <span class="hljs-number">31L</span>) &gt;&gt;&gt; <span class="hljs-number">5</span>;</span><br><span class="line">                        <span class="hljs-keyword">int</span>[] magnitude = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[numWords];</span><br><span class="line">                        <span class="hljs-keyword">int</span> firstGroupLen = numDigits % digitsPerInt[radix];</span><br><span class="line">                        <span class="hljs-keyword">if</span> (firstGroupLen == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                            firstGroupLen = digitsPerInt[radix];</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        String group = val.substring(cursor, cursor += firstGroupLen);</span><br><span class="line">                        magnitude[numWords - <span class="hljs-number">1</span>] = Integer.parseInt(group, radix);</span><br><span class="line">                        <span class="hljs-keyword">if</span> (magnitude[numWords - <span class="hljs-number">1</span>] &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NumberFormatException(<span class="hljs-string">"Illegal digit"</span>);</span><br><span class="line">                        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                            <span class="hljs-keyword">int</span> superRadix = intRadix[radix];</span><br><span class="line">                            <span class="hljs-keyword">boolean</span> var16 = <span class="hljs-keyword">false</span>;</span><br><span class="line"></span><br><span class="line">                            <span class="hljs-keyword">while</span>(cursor &lt; len) &#123;</span><br><span class="line">                                group = val.substring(cursor, cursor += digitsPerInt[radix]);</span><br><span class="line">                                <span class="hljs-keyword">int</span> groupVal = Integer.parseInt(group, radix);</span><br><span class="line">                                <span class="hljs-keyword">if</span> (groupVal &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NumberFormatException(<span class="hljs-string">"Illegal digit"</span>);</span><br><span class="line">                                &#125;</span><br><span class="line"></span><br><span class="line">                                destructiveMulAdd(magnitude, superRadix, groupVal);</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="hljs-keyword">this</span>.mag = trustedStripLeadingZeroInts(magnitude);</span><br><span class="line">                            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mag.length &gt;= <span class="hljs-number">67108864</span>) &#123;</span><br><span class="line">                                <span class="hljs-keyword">this</span>.checkRange();</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NumberFormatException(<span class="hljs-string">"Radix out of range"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    BigInteger(<span class="hljs-keyword">char</span>[] val, <span class="hljs-keyword">int</span> sign, <span class="hljs-keyword">int</span> len) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> cursor;</span><br><span class="line">        <span class="hljs-keyword">for</span>(cursor = <span class="hljs-number">0</span>; cursor &lt; len &amp;&amp; Character.digit(val[cursor], <span class="hljs-number">10</span>) == <span class="hljs-number">0</span>; ++cursor) &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">if</span> (cursor == len) &#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.signum = <span class="hljs-number">0</span>;</span><br><span class="line">            <span class="hljs-keyword">this</span>.mag = ZERO.mag;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> numDigits = len - cursor;</span><br><span class="line">            <span class="hljs-keyword">this</span>.signum = sign;</span><br><span class="line">            <span class="hljs-keyword">int</span> numWords;</span><br><span class="line">            <span class="hljs-keyword">if</span> (len &lt; <span class="hljs-number">10</span>) &#123;</span><br><span class="line">                numWords = <span class="hljs-number">1</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">long</span> numBits = ((<span class="hljs-keyword">long</span>)numDigits * bitsPerDigit[<span class="hljs-number">10</span>] &gt;&gt;&gt; <span class="hljs-number">10</span>) + <span class="hljs-number">1L</span>;</span><br><span class="line">                <span class="hljs-keyword">if</span> (numBits + <span class="hljs-number">31L</span> &gt;= <span class="hljs-number">4294967296L</span>) &#123;</span><br><span class="line">                    reportOverflow();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                numWords = (<span class="hljs-keyword">int</span>)(numBits + <span class="hljs-number">31L</span>) &gt;&gt;&gt; <span class="hljs-number">5</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">int</span>[] magnitude = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[numWords];</span><br><span class="line">            <span class="hljs-keyword">int</span> firstGroupLen = numDigits % digitsPerInt[<span class="hljs-number">10</span>];</span><br><span class="line">            <span class="hljs-keyword">if</span> (firstGroupLen == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                firstGroupLen = digitsPerInt[<span class="hljs-number">10</span>];</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            magnitude[numWords - <span class="hljs-number">1</span>] = <span class="hljs-keyword">this</span>.parseInt(val, cursor, cursor += firstGroupLen);</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">while</span>(cursor &lt; len) &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> groupVal = <span class="hljs-keyword">this</span>.parseInt(val, cursor, cursor += digitsPerInt[<span class="hljs-number">10</span>]);</span><br><span class="line">                destructiveMulAdd(magnitude, intRadix[<span class="hljs-number">10</span>], groupVal);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">this</span>.mag = trustedStripLeadingZeroInts(magnitude);</span><br><span class="line">            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mag.length &gt;= <span class="hljs-number">67108864</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">this</span>.checkRange();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> <span class="hljs-title">parseInt</span><span class="hljs-params">(<span class="hljs-keyword">char</span>[] source, <span class="hljs-keyword">int</span> start, <span class="hljs-keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> result = Character.digit(source[start++], <span class="hljs-number">10</span>);</span><br><span class="line">        <span class="hljs-keyword">if</span> (result == -<span class="hljs-number">1</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NumberFormatException(<span class="hljs-keyword">new</span> String(source));</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> index = start; index &lt; end; ++index) &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> nextVal = Character.digit(source[index], <span class="hljs-number">10</span>);</span><br><span class="line">                <span class="hljs-keyword">if</span> (nextVal == -<span class="hljs-number">1</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NumberFormatException(<span class="hljs-keyword">new</span> String(source));</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                result = <span class="hljs-number">10</span> * result + nextVal;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">destructiveMulAdd</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> z)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">long</span> ylong = (<span class="hljs-keyword">long</span>)y &amp; <span class="hljs-number">4294967295L</span>;</span><br><span class="line">        <span class="hljs-keyword">long</span> zlong = (<span class="hljs-keyword">long</span>)z &amp; <span class="hljs-number">4294967295L</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> len = x.length;</span><br><span class="line">        <span class="hljs-keyword">long</span> product = <span class="hljs-number">0L</span>;</span><br><span class="line">        <span class="hljs-keyword">long</span> carry = <span class="hljs-number">0L</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = len - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i) &#123;</span><br><span class="line">            product = ylong * ((<span class="hljs-keyword">long</span>)x[i] &amp; <span class="hljs-number">4294967295L</span>) + carry;</span><br><span class="line">            x[i] = (<span class="hljs-keyword">int</span>)product;</span><br><span class="line">            carry = product &gt;&gt;&gt; <span class="hljs-number">32</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">long</span> sum = ((<span class="hljs-keyword">long</span>)x[len - <span class="hljs-number">1</span>] &amp; <span class="hljs-number">4294967295L</span>) + zlong;</span><br><span class="line">        x[len - <span class="hljs-number">1</span>] = (<span class="hljs-keyword">int</span>)sum;</span><br><span class="line">        carry = sum &gt;&gt;&gt; <span class="hljs-number">32</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = len - <span class="hljs-number">2</span>; i &gt;= <span class="hljs-number">0</span>; --i) &#123;</span><br><span class="line">            sum = ((<span class="hljs-keyword">long</span>)x[i] &amp; <span class="hljs-number">4294967295L</span>) + carry;</span><br><span class="line">            x[i] = (<span class="hljs-keyword">int</span>)sum;</span><br><span class="line">            carry = sum &gt;&gt;&gt; <span class="hljs-number">32</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BigInteger</span><span class="hljs-params">(String val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>((String)val, <span class="hljs-number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BigInteger</span><span class="hljs-params">(<span class="hljs-keyword">int</span> numBits, Random rnd)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>(<span class="hljs-number">1</span>, (<span class="hljs-keyword">byte</span>[])randomBits(numBits, rnd));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">byte</span>[] randomBits(<span class="hljs-keyword">int</span> numBits, Random rnd) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (numBits &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"numBits must be non-negative"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> numBytes = (<span class="hljs-keyword">int</span>)(((<span class="hljs-keyword">long</span>)numBits + <span class="hljs-number">7L</span>) / <span class="hljs-number">8L</span>);</span><br><span class="line">            <span class="hljs-keyword">byte</span>[] randomBits = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[numBytes];</span><br><span class="line">            <span class="hljs-keyword">if</span> (numBytes &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                rnd.nextBytes(randomBits);</span><br><span class="line">                <span class="hljs-keyword">int</span> excessBits = <span class="hljs-number">8</span> * numBytes - numBits;</span><br><span class="line">                randomBits[<span class="hljs-number">0</span>] = (<span class="hljs-keyword">byte</span>)(randomBits[<span class="hljs-number">0</span>] &amp; (<span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">8</span> - excessBits) - <span class="hljs-number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">return</span> randomBits;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BigInteger</span><span class="hljs-params">(<span class="hljs-keyword">int</span> bitLength, <span class="hljs-keyword">int</span> certainty, Random rnd)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (bitLength &lt; <span class="hljs-number">2</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException(<span class="hljs-string">"bitLength &lt; 2"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            BigInteger prime = bitLength &lt; <span class="hljs-number">95</span> ? smallPrime(bitLength, certainty, rnd) : largePrime(bitLength, certainty, rnd);</span><br><span class="line">            <span class="hljs-keyword">this</span>.signum = <span class="hljs-number">1</span>;</span><br><span class="line">            <span class="hljs-keyword">this</span>.mag = prime.mag;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> BigInteger <span class="hljs-title">probablePrime</span><span class="hljs-params">(<span class="hljs-keyword">int</span> bitLength, Random rnd)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (bitLength &lt; <span class="hljs-number">2</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException(<span class="hljs-string">"bitLength &lt; 2"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> bitLength &lt; <span class="hljs-number">95</span> ? smallPrime(bitLength, <span class="hljs-number">100</span>, rnd) : largePrime(bitLength, <span class="hljs-number">100</span>, rnd);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> BigInteger <span class="hljs-title">smallPrime</span><span class="hljs-params">(<span class="hljs-keyword">int</span> bitLength, <span class="hljs-keyword">int</span> certainty, Random rnd)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> magLen = bitLength + <span class="hljs-number">31</span> &gt;&gt;&gt; <span class="hljs-number">5</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span>[] temp = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[magLen];</span><br><span class="line">        <span class="hljs-keyword">int</span> highBit = <span class="hljs-number">1</span> &lt;&lt; (bitLength + <span class="hljs-number">31</span> &amp; <span class="hljs-number">31</span>);</span><br><span class="line">        <span class="hljs-keyword">int</span> highMask = (highBit &lt;&lt; <span class="hljs-number">1</span>) - <span class="hljs-number">1</span>;</span><br><span class="line"></span><br><span class="line">        BigInteger p;</span><br><span class="line">        <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">long</span> r;</span><br><span class="line">            <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; magLen; ++i) &#123;</span><br><span class="line">                    temp[i] = rnd.nextInt();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                temp[<span class="hljs-number">0</span>] = temp[<span class="hljs-number">0</span>] &amp; highMask | highBit;</span><br><span class="line">                <span class="hljs-keyword">if</span> (bitLength &gt; <span class="hljs-number">2</span>) &#123;</span><br><span class="line">                    temp[magLen - <span class="hljs-number">1</span>] |= <span class="hljs-number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                p = <span class="hljs-keyword">new</span> BigInteger(temp, <span class="hljs-number">1</span>);</span><br><span class="line">                <span class="hljs-keyword">if</span> (bitLength &lt;= <span class="hljs-number">6</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                r = p.remainder(SMALL_PRIME_PRODUCT).longValue();</span><br><span class="line">            &#125; <span class="hljs-keyword">while</span>(r % <span class="hljs-number">3L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">5L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">7L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">11L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">13L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">17L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">19L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">23L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">29L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">31L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">37L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">41L</span> == <span class="hljs-number">0L</span>);</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">if</span> (bitLength &lt; <span class="hljs-number">4</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> p;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="hljs-keyword">while</span>(!p.primeToCertainty(certainty, rnd));</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> BigInteger <span class="hljs-title">largePrime</span><span class="hljs-params">(<span class="hljs-keyword">int</span> bitLength, <span class="hljs-keyword">int</span> certainty, Random rnd)</span> </span>&#123;</span><br><span class="line">        BigInteger p = (<span class="hljs-keyword">new</span> BigInteger(bitLength, rnd)).setBit(bitLength - <span class="hljs-number">1</span>);</span><br><span class="line">        <span class="hljs-keyword">int</span>[] var10000 = p.mag;</span><br><span class="line">        <span class="hljs-keyword">int</span> var10001 = p.mag.length - <span class="hljs-number">1</span>;</span><br><span class="line">        var10000[var10001] &amp;= -<span class="hljs-number">2</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> searchLen = getPrimeSearchLen(bitLength);</span><br><span class="line">        BitSieve searchSieve = <span class="hljs-keyword">new</span> BitSieve(p, searchLen);</span><br><span class="line"></span><br><span class="line">        BigInteger candidate;</span><br><span class="line">        <span class="hljs-keyword">for</span>(candidate = searchSieve.retrieve(p, certainty, rnd); candidate == <span class="hljs-keyword">null</span> || candidate.bitLength() != bitLength; candidate = searchSieve.retrieve(p, certainty, rnd)) &#123;</span><br><span class="line">            p = p.add(valueOf((<span class="hljs-keyword">long</span>)(<span class="hljs-number">2</span> * searchLen)));</span><br><span class="line">            <span class="hljs-keyword">if</span> (p.bitLength() != bitLength) &#123;</span><br><span class="line">                p = (<span class="hljs-keyword">new</span> BigInteger(bitLength, rnd)).setBit(bitLength - <span class="hljs-number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            var10000 = p.mag;</span><br><span class="line">            var10001 = p.mag.length - <span class="hljs-number">1</span>;</span><br><span class="line">            var10000[var10001] &amp;= -<span class="hljs-number">2</span>;</span><br><span class="line">            searchSieve = <span class="hljs-keyword">new</span> BitSieve(p, searchLen);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> candidate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">nextProbablePrime</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException(<span class="hljs-string">"start &lt; 0: "</span> + <span class="hljs-keyword">this</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum != <span class="hljs-number">0</span> &amp;&amp; !<span class="hljs-keyword">this</span>.equals(ONE)) &#123;</span><br><span class="line">            BigInteger result = <span class="hljs-keyword">this</span>.add(ONE);</span><br><span class="line">            <span class="hljs-keyword">if</span> (result.bitLength() &lt; <span class="hljs-number">95</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (!result.testBit(<span class="hljs-number">0</span>)) &#123;</span><br><span class="line">                    result = result.add(ONE);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">while</span>(<span class="hljs-keyword">true</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">while</span>(<span class="hljs-keyword">true</span>) &#123;</span><br><span class="line">                        <span class="hljs-keyword">if</span> (result.bitLength() &gt; <span class="hljs-number">6</span>) &#123;</span><br><span class="line">                            <span class="hljs-keyword">long</span> r = result.remainder(SMALL_PRIME_PRODUCT).longValue();</span><br><span class="line">                            <span class="hljs-keyword">if</span> (r % <span class="hljs-number">3L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">5L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">7L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">11L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">13L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">17L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">19L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">23L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">29L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">31L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">37L</span> == <span class="hljs-number">0L</span> || r % <span class="hljs-number">41L</span> == <span class="hljs-number">0L</span>) &#123;</span><br><span class="line">                                result = result.add(TWO);</span><br><span class="line">                                <span class="hljs-keyword">continue</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        <span class="hljs-keyword">if</span> (result.bitLength() &lt; <span class="hljs-number">4</span>) &#123;</span><br><span class="line">                            <span class="hljs-keyword">return</span> result;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        <span class="hljs-keyword">if</span> (result.primeToCertainty(<span class="hljs-number">100</span>, (Random)<span class="hljs-keyword">null</span>)) &#123;</span><br><span class="line">                            <span class="hljs-keyword">return</span> result;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        result = result.add(TWO);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (result.testBit(<span class="hljs-number">0</span>)) &#123;</span><br><span class="line">                    result = result.subtract(ONE);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">int</span> searchLen = getPrimeSearchLen(result.bitLength());</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">while</span>(<span class="hljs-keyword">true</span>) &#123;</span><br><span class="line">                    BitSieve searchSieve = <span class="hljs-keyword">new</span> BitSieve(result, searchLen);</span><br><span class="line">                    BigInteger candidate = searchSieve.retrieve(result, <span class="hljs-number">100</span>, (Random)<span class="hljs-keyword">null</span>);</span><br><span class="line">                    <span class="hljs-keyword">if</span> (candidate != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                        <span class="hljs-keyword">return</span> candidate;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    result = result.add(valueOf((<span class="hljs-keyword">long</span>)(<span class="hljs-number">2</span> * searchLen)));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> TWO;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getPrimeSearchLen</span><span class="hljs-params">(<span class="hljs-keyword">int</span> bitLength)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (bitLength &gt; <span class="hljs-number">500000001</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException(<span class="hljs-string">"Prime search implementation restriction on bitLength"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> bitLength / <span class="hljs-number">20</span> * <span class="hljs-number">64</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">primeToCertainty</span><span class="hljs-params">(<span class="hljs-keyword">int</span> certainty, Random random)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> rounds = <span class="hljs-keyword">false</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> n = (Math.min(certainty, <span class="hljs-number">2147483646</span>) + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> sizeInBits = <span class="hljs-keyword">this</span>.bitLength();</span><br><span class="line">        <span class="hljs-keyword">byte</span> rounds;</span><br><span class="line">        <span class="hljs-keyword">int</span> rounds;</span><br><span class="line">        <span class="hljs-keyword">if</span> (sizeInBits &lt; <span class="hljs-number">100</span>) &#123;</span><br><span class="line">            rounds = <span class="hljs-number">50</span>;</span><br><span class="line">            rounds = n &lt; rounds ? n : rounds;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.passesMillerRabin(rounds, random);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (sizeInBits &lt; <span class="hljs-number">256</span>) &#123;</span><br><span class="line">                rounds = <span class="hljs-number">27</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sizeInBits &lt; <span class="hljs-number">512</span>) &#123;</span><br><span class="line">                rounds = <span class="hljs-number">15</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sizeInBits &lt; <span class="hljs-number">768</span>) &#123;</span><br><span class="line">                rounds = <span class="hljs-number">8</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sizeInBits &lt; <span class="hljs-number">1024</span>) &#123;</span><br><span class="line">                rounds = <span class="hljs-number">4</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                rounds = <span class="hljs-number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            rounds = n &lt; rounds ? n : rounds;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.passesMillerRabin(rounds, random) &amp;&amp; <span class="hljs-keyword">this</span>.passesLucasLehmer();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">passesLucasLehmer</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        BigInteger thisPlusOne = <span class="hljs-keyword">this</span>.add(ONE);</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">int</span> d;</span><br><span class="line">        <span class="hljs-keyword">for</span>(d = <span class="hljs-number">5</span>; jacobiSymbol(d, <span class="hljs-keyword">this</span>) != -<span class="hljs-number">1</span>; d = d &lt; <span class="hljs-number">0</span> ? Math.abs(d) + <span class="hljs-number">2</span> : -(d + <span class="hljs-number">2</span>)) &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        BigInteger u = lucasLehmerSequence(d, thisPlusOne, <span class="hljs-keyword">this</span>);</span><br><span class="line">        <span class="hljs-keyword">return</span> u.mod(<span class="hljs-keyword">this</span>).equals(ZERO);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">jacobiSymbol</span><span class="hljs-params">(<span class="hljs-keyword">int</span> p, BigInteger n)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (p == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>;</span><br><span class="line">            <span class="hljs-keyword">int</span> u = n.mag[n.mag.length - <span class="hljs-number">1</span>];</span><br><span class="line">            <span class="hljs-keyword">int</span> t;</span><br><span class="line">            <span class="hljs-keyword">if</span> (p &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                p = -p;</span><br><span class="line">                t = u &amp; <span class="hljs-number">7</span>;</span><br><span class="line">                <span class="hljs-keyword">if</span> (t == <span class="hljs-number">3</span> || t == <span class="hljs-number">7</span>) &#123;</span><br><span class="line">                    j = -j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">while</span>((p &amp; <span class="hljs-number">3</span>) == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                p &gt;&gt;= <span class="hljs-number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">if</span> ((p &amp; <span class="hljs-number">1</span>) == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                p &gt;&gt;= <span class="hljs-number">1</span>;</span><br><span class="line">                <span class="hljs-keyword">if</span> (((u ^ u &gt;&gt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">2</span>) != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    j = -j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">if</span> (p == <span class="hljs-number">1</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> j;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> ((p &amp; u &amp; <span class="hljs-number">2</span>) != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    j = -j;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">for</span>(u = n.mod(valueOf((<span class="hljs-keyword">long</span>)p)).intValue(); u != <span class="hljs-number">0</span>; u %= t) &#123;</span><br><span class="line">                    <span class="hljs-keyword">while</span>((u &amp; <span class="hljs-number">3</span>) == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                        u &gt;&gt;= <span class="hljs-number">2</span>;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="hljs-keyword">if</span> ((u &amp; <span class="hljs-number">1</span>) == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                        u &gt;&gt;= <span class="hljs-number">1</span>;</span><br><span class="line">                        <span class="hljs-keyword">if</span> (((p ^ p &gt;&gt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">2</span>) != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                            j = -j;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="hljs-keyword">if</span> (u == <span class="hljs-number">1</span>) &#123;</span><br><span class="line">                        <span class="hljs-keyword">return</span> j;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="hljs-keyword">assert</span> u &lt; p;</span><br><span class="line"></span><br><span class="line">                    t = u;</span><br><span class="line">                    u = p;</span><br><span class="line">                    p = t;</span><br><span class="line">                    <span class="hljs-keyword">if</span> ((u &amp; t &amp; <span class="hljs-number">2</span>) != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                        j = -j;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> BigInteger <span class="hljs-title">lucasLehmerSequence</span><span class="hljs-params">(<span class="hljs-keyword">int</span> z, BigInteger k, BigInteger n)</span> </span>&#123;</span><br><span class="line">        BigInteger d = valueOf((<span class="hljs-keyword">long</span>)z);</span><br><span class="line">        BigInteger u = ONE;</span><br><span class="line">        BigInteger v = ONE;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = k.bitLength() - <span class="hljs-number">2</span>; i &gt;= <span class="hljs-number">0</span>; --i) &#123;</span><br><span class="line">            BigInteger u2 = u.multiply(v).mod(n);</span><br><span class="line">            BigInteger v2 = v.square().add(d.multiply(u.square())).mod(n);</span><br><span class="line">            <span class="hljs-keyword">if</span> (v2.testBit(<span class="hljs-number">0</span>)) &#123;</span><br><span class="line">                v2 = v2.subtract(n);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            v2 = v2.shiftRight(<span class="hljs-number">1</span>);</span><br><span class="line">            u = u2;</span><br><span class="line">            v = v2;</span><br><span class="line">            <span class="hljs-keyword">if</span> (k.testBit(i)) &#123;</span><br><span class="line">                u2 = u2.add(v2).mod(n);</span><br><span class="line">                <span class="hljs-keyword">if</span> (u2.testBit(<span class="hljs-number">0</span>)) &#123;</span><br><span class="line">                    u2 = u2.subtract(n);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                u2 = u2.shiftRight(<span class="hljs-number">1</span>);</span><br><span class="line">                v2 = v2.add(d.multiply(u)).mod(n);</span><br><span class="line">                <span class="hljs-keyword">if</span> (v2.testBit(<span class="hljs-number">0</span>)) &#123;</span><br><span class="line">                    v2 = v2.subtract(n);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                v2 = v2.shiftRight(<span class="hljs-number">1</span>);</span><br><span class="line">                u = u2;</span><br><span class="line">                v = v2;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> u;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">passesMillerRabin</span><span class="hljs-params">(<span class="hljs-keyword">int</span> iterations, Random rnd)</span> </span>&#123;</span><br><span class="line">        BigInteger thisMinusOne = <span class="hljs-keyword">this</span>.subtract(ONE);</span><br><span class="line">        <span class="hljs-keyword">int</span> a = thisMinusOne.getLowestSetBit();</span><br><span class="line">        BigInteger m = thisMinusOne.shiftRight(a);</span><br><span class="line">        <span class="hljs-keyword">if</span> (rnd == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            rnd = ThreadLocalRandom.current();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; iterations; ++i) &#123;</span><br><span class="line">            BigInteger b;</span><br><span class="line">            <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">                    b = <span class="hljs-keyword">new</span> BigInteger(<span class="hljs-keyword">this</span>.bitLength(), (Random)rnd);</span><br><span class="line">                &#125; <span class="hljs-keyword">while</span>(b.compareTo(ONE) &lt;= <span class="hljs-number">0</span>);</span><br><span class="line">            &#125; <span class="hljs-keyword">while</span>(b.compareTo(<span class="hljs-keyword">this</span>) &gt;= <span class="hljs-number">0</span>);</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">for</span>(BigInteger z = b.modPow(m, <span class="hljs-keyword">this</span>); (j != <span class="hljs-number">0</span> || !z.equals(ONE)) &amp;&amp; !z.equals(thisMinusOne); z = z.modPow(TWO, <span class="hljs-keyword">this</span>)) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (j &gt; <span class="hljs-number">0</span> &amp;&amp; z.equals(ONE)) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                ++j;</span><br><span class="line">                <span class="hljs-keyword">if</span> (j == a) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    BigInteger(<span class="hljs-keyword">int</span>[] magnitude, <span class="hljs-keyword">int</span> signum) &#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.signum = magnitude.length == <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : signum;</span><br><span class="line">        <span class="hljs-keyword">this</span>.mag = magnitude;</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mag.length &gt;= <span class="hljs-number">67108864</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.checkRange();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">BigInteger</span><span class="hljs-params">(<span class="hljs-keyword">byte</span>[] magnitude, <span class="hljs-keyword">int</span> signum)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.signum = magnitude.length == <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : signum;</span><br><span class="line">        <span class="hljs-keyword">this</span>.mag = stripLeadingZeroBytes(magnitude, <span class="hljs-number">0</span>, magnitude.length);</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mag.length &gt;= <span class="hljs-number">67108864</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.checkRange();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">checkRange</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mag.length &gt; <span class="hljs-number">67108864</span> || <span class="hljs-keyword">this</span>.mag.length == <span class="hljs-number">67108864</span> &amp;&amp; <span class="hljs-keyword">this</span>.mag[<span class="hljs-number">0</span>] &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            reportOverflow();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">reportOverflow</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException(<span class="hljs-string">"BigInteger would overflow supported range"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> BigInteger <span class="hljs-title">valueOf</span><span class="hljs-params">(<span class="hljs-keyword">long</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (val == <span class="hljs-number">0L</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> ZERO;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (val &gt; <span class="hljs-number">0L</span> &amp;&amp; val &lt;= <span class="hljs-number">16L</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> posConst[(<span class="hljs-keyword">int</span>)val];</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> val &lt; <span class="hljs-number">0L</span> &amp;&amp; val &gt;= -<span class="hljs-number">16L</span> ? negConst[(<span class="hljs-keyword">int</span>)(-val)] : <span class="hljs-keyword">new</span> BigInteger(val);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">BigInteger</span><span class="hljs-params">(<span class="hljs-keyword">long</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (val &lt; <span class="hljs-number">0L</span>) &#123;</span><br><span class="line">            val = -val;</span><br><span class="line">            <span class="hljs-keyword">this</span>.signum = -<span class="hljs-number">1</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.signum = <span class="hljs-number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">int</span> highWord = (<span class="hljs-keyword">int</span>)(val &gt;&gt;&gt; <span class="hljs-number">32</span>);</span><br><span class="line">        <span class="hljs-keyword">if</span> (highWord == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.mag = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">1</span>];</span><br><span class="line">            <span class="hljs-keyword">this</span>.mag[<span class="hljs-number">0</span>] = (<span class="hljs-keyword">int</span>)val;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.mag = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">2</span>];</span><br><span class="line">            <span class="hljs-keyword">this</span>.mag[<span class="hljs-number">0</span>] = highWord;</span><br><span class="line">            <span class="hljs-keyword">this</span>.mag[<span class="hljs-number">1</span>] = (<span class="hljs-keyword">int</span>)val;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> BigInteger <span class="hljs-title">valueOf</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> val[<span class="hljs-number">0</span>] &gt; <span class="hljs-number">0</span> ? <span class="hljs-keyword">new</span> BigInteger(val, <span class="hljs-number">1</span>) : <span class="hljs-keyword">new</span> BigInteger(val);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">add</span><span class="hljs-params">(BigInteger val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (val.signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> val;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (val.signum == <span class="hljs-keyword">this</span>.signum) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(add(<span class="hljs-keyword">this</span>.mag, val.mag), <span class="hljs-keyword">this</span>.signum);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> cmp = <span class="hljs-keyword">this</span>.compareMagnitude(val);</span><br><span class="line">            <span class="hljs-keyword">if</span> (cmp == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> ZERO;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span>[] resultMag = cmp &gt; <span class="hljs-number">0</span> ? subtract(<span class="hljs-keyword">this</span>.mag, val.mag) : subtract(val.mag, <span class="hljs-keyword">this</span>.mag);</span><br><span class="line">                resultMag = trustedStripLeadingZeroInts(resultMag);</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(resultMag, cmp == <span class="hljs-keyword">this</span>.signum ? <span class="hljs-number">1</span> : -<span class="hljs-number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function">BigInteger <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">long</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (val == <span class="hljs-number">0L</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> valueOf(val);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (Long.signum(val) == <span class="hljs-keyword">this</span>.signum) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(add(<span class="hljs-keyword">this</span>.mag, Math.abs(val)), <span class="hljs-keyword">this</span>.signum);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> cmp = <span class="hljs-keyword">this</span>.compareMagnitude(val);</span><br><span class="line">            <span class="hljs-keyword">if</span> (cmp == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> ZERO;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span>[] resultMag = cmp &gt; <span class="hljs-number">0</span> ? subtract(<span class="hljs-keyword">this</span>.mag, Math.abs(val)) : subtract(Math.abs(val), <span class="hljs-keyword">this</span>.mag);</span><br><span class="line">                resultMag = trustedStripLeadingZeroInts(resultMag);</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(resultMag, cmp == <span class="hljs-keyword">this</span>.signum ? <span class="hljs-number">1</span> : -<span class="hljs-number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] add(<span class="hljs-keyword">int</span>[] x, <span class="hljs-keyword">long</span> val) &#123;</span><br><span class="line">        <span class="hljs-keyword">long</span> sum = <span class="hljs-number">0L</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> xIndex = x.length;</span><br><span class="line">        <span class="hljs-keyword">int</span> highWord = (<span class="hljs-keyword">int</span>)(val &gt;&gt;&gt; <span class="hljs-number">32</span>);</span><br><span class="line">        <span class="hljs-keyword">int</span>[] result;</span><br><span class="line">        <span class="hljs-keyword">if</span> (highWord == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[xIndex];</span><br><span class="line">            --xIndex;</span><br><span class="line">            sum = ((<span class="hljs-keyword">long</span>)x[xIndex] &amp; <span class="hljs-number">4294967295L</span>) + val;</span><br><span class="line">            result[xIndex] = (<span class="hljs-keyword">int</span>)sum;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (xIndex == <span class="hljs-number">1</span>) &#123;</span><br><span class="line">                result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">2</span>];</span><br><span class="line">                sum = val + ((<span class="hljs-keyword">long</span>)x[<span class="hljs-number">0</span>] &amp; <span class="hljs-number">4294967295L</span>);</span><br><span class="line">                result[<span class="hljs-number">1</span>] = (<span class="hljs-keyword">int</span>)sum;</span><br><span class="line">                result[<span class="hljs-number">0</span>] = (<span class="hljs-keyword">int</span>)(sum &gt;&gt;&gt; <span class="hljs-number">32</span>);</span><br><span class="line">                <span class="hljs-keyword">return</span> result;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[xIndex];</span><br><span class="line">            --xIndex;</span><br><span class="line">            sum = ((<span class="hljs-keyword">long</span>)x[xIndex] &amp; <span class="hljs-number">4294967295L</span>) + (val &amp; <span class="hljs-number">4294967295L</span>);</span><br><span class="line">            result[xIndex] = (<span class="hljs-keyword">int</span>)sum;</span><br><span class="line">            --xIndex;</span><br><span class="line">            sum = ((<span class="hljs-keyword">long</span>)x[xIndex] &amp; <span class="hljs-number">4294967295L</span>) + ((<span class="hljs-keyword">long</span>)highWord &amp; <span class="hljs-number">4294967295L</span>) + (sum &gt;&gt;&gt; <span class="hljs-number">32</span>);</span><br><span class="line">            result[xIndex] = (<span class="hljs-keyword">int</span>)sum;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">boolean</span> carry;</span><br><span class="line">        <span class="hljs-keyword">for</span>(carry = sum &gt;&gt;&gt; <span class="hljs-number">32</span> != <span class="hljs-number">0L</span>; xIndex &gt; <span class="hljs-number">0</span> &amp;&amp; carry; carry = (result[xIndex] = x[xIndex] + <span class="hljs-number">1</span>) == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            --xIndex;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">while</span>(xIndex &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            --xIndex;</span><br><span class="line">            result[xIndex] = x[xIndex];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">if</span> (carry) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span>[] bigger = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[result.length + <span class="hljs-number">1</span>];</span><br><span class="line">            System.arraycopy(result, <span class="hljs-number">0</span>, bigger, <span class="hljs-number">1</span>, result.length);</span><br><span class="line">            bigger[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;</span><br><span class="line">            <span class="hljs-keyword">return</span> bigger;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] add(<span class="hljs-keyword">int</span>[] x, <span class="hljs-keyword">int</span>[] y) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (x.length &lt; y.length) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span>[] tmp = x;</span><br><span class="line">            x = y;</span><br><span class="line">            y = tmp;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">int</span> xIndex = x.length;</span><br><span class="line">        <span class="hljs-keyword">int</span> yIndex = y.length;</span><br><span class="line">        <span class="hljs-keyword">int</span>[] result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[xIndex];</span><br><span class="line">        <span class="hljs-keyword">long</span> sum = <span class="hljs-number">0L</span>;</span><br><span class="line">        <span class="hljs-keyword">if</span> (yIndex == <span class="hljs-number">1</span>) &#123;</span><br><span class="line">            --xIndex;</span><br><span class="line">            sum = ((<span class="hljs-keyword">long</span>)x[xIndex] &amp; <span class="hljs-number">4294967295L</span>) + ((<span class="hljs-keyword">long</span>)y[<span class="hljs-number">0</span>] &amp; <span class="hljs-number">4294967295L</span>);</span><br><span class="line">            result[xIndex] = (<span class="hljs-keyword">int</span>)sum;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">while</span>(yIndex &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                --xIndex;</span><br><span class="line">                <span class="hljs-keyword">long</span> var10000 = (<span class="hljs-keyword">long</span>)x[xIndex] &amp; <span class="hljs-number">4294967295L</span>;</span><br><span class="line">                --yIndex;</span><br><span class="line">                sum = var10000 + ((<span class="hljs-keyword">long</span>)y[yIndex] &amp; <span class="hljs-number">4294967295L</span>) + (sum &gt;&gt;&gt; <span class="hljs-number">32</span>);</span><br><span class="line">                result[xIndex] = (<span class="hljs-keyword">int</span>)sum;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">boolean</span> carry;</span><br><span class="line">        <span class="hljs-keyword">for</span>(carry = sum &gt;&gt;&gt; <span class="hljs-number">32</span> != <span class="hljs-number">0L</span>; xIndex &gt; <span class="hljs-number">0</span> &amp;&amp; carry; carry = (result[xIndex] = x[xIndex] + <span class="hljs-number">1</span>) == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            --xIndex;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">while</span>(xIndex &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            --xIndex;</span><br><span class="line">            result[xIndex] = x[xIndex];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">if</span> (carry) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span>[] bigger = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[result.length + <span class="hljs-number">1</span>];</span><br><span class="line">            System.arraycopy(result, <span class="hljs-number">0</span>, bigger, <span class="hljs-number">1</span>, result.length);</span><br><span class="line">            bigger[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;</span><br><span class="line">            <span class="hljs-keyword">return</span> bigger;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] subtract(<span class="hljs-keyword">long</span> val, <span class="hljs-keyword">int</span>[] little) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> highWord = (<span class="hljs-keyword">int</span>)(val &gt;&gt;&gt; <span class="hljs-number">32</span>);</span><br><span class="line">        <span class="hljs-keyword">int</span>[] result;</span><br><span class="line">        <span class="hljs-keyword">if</span> (highWord == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]&#123;(<span class="hljs-keyword">int</span>)(val - ((<span class="hljs-keyword">long</span>)little[<span class="hljs-number">0</span>] &amp; <span class="hljs-number">4294967295L</span>))&#125;;</span><br><span class="line">            <span class="hljs-keyword">return</span> result;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">2</span>];</span><br><span class="line">            <span class="hljs-keyword">long</span> difference;</span><br><span class="line">            <span class="hljs-keyword">if</span> (little.length == <span class="hljs-number">1</span>) &#123;</span><br><span class="line">                difference = ((<span class="hljs-keyword">long</span>)((<span class="hljs-keyword">int</span>)val) &amp; <span class="hljs-number">4294967295L</span>) - ((<span class="hljs-keyword">long</span>)little[<span class="hljs-number">0</span>] &amp; <span class="hljs-number">4294967295L</span>);</span><br><span class="line">                result[<span class="hljs-number">1</span>] = (<span class="hljs-keyword">int</span>)difference;</span><br><span class="line">                <span class="hljs-keyword">boolean</span> borrow = difference &gt;&gt; <span class="hljs-number">32</span> != <span class="hljs-number">0L</span>;</span><br><span class="line">                <span class="hljs-keyword">if</span> (borrow) &#123;</span><br><span class="line">                    result[<span class="hljs-number">0</span>] = highWord - <span class="hljs-number">1</span>;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    result[<span class="hljs-number">0</span>] = highWord;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">return</span> result;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                difference = ((<span class="hljs-keyword">long</span>)((<span class="hljs-keyword">int</span>)val) &amp; <span class="hljs-number">4294967295L</span>) - ((<span class="hljs-keyword">long</span>)little[<span class="hljs-number">1</span>] &amp; <span class="hljs-number">4294967295L</span>);</span><br><span class="line">                result[<span class="hljs-number">1</span>] = (<span class="hljs-keyword">int</span>)difference;</span><br><span class="line">                difference = ((<span class="hljs-keyword">long</span>)highWord &amp; <span class="hljs-number">4294967295L</span>) - ((<span class="hljs-keyword">long</span>)little[<span class="hljs-number">0</span>] &amp; <span class="hljs-number">4294967295L</span>) + (difference &gt;&gt; <span class="hljs-number">32</span>);</span><br><span class="line">                result[<span class="hljs-number">0</span>] = (<span class="hljs-keyword">int</span>)difference;</span><br><span class="line">                <span class="hljs-keyword">return</span> result;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] subtract(<span class="hljs-keyword">int</span>[] big, <span class="hljs-keyword">long</span> val) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> highWord = (<span class="hljs-keyword">int</span>)(val &gt;&gt;&gt; <span class="hljs-number">32</span>);</span><br><span class="line">        <span class="hljs-keyword">int</span> bigIndex = big.length;</span><br><span class="line">        <span class="hljs-keyword">int</span>[] result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[bigIndex];</span><br><span class="line">        <span class="hljs-keyword">long</span> difference = <span class="hljs-number">0L</span>;</span><br><span class="line">        <span class="hljs-keyword">if</span> (highWord == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            --bigIndex;</span><br><span class="line">            difference = ((<span class="hljs-keyword">long</span>)big[bigIndex] &amp; <span class="hljs-number">4294967295L</span>) - val;</span><br><span class="line">            result[bigIndex] = (<span class="hljs-keyword">int</span>)difference;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            --bigIndex;</span><br><span class="line">            difference = ((<span class="hljs-keyword">long</span>)big[bigIndex] &amp; <span class="hljs-number">4294967295L</span>) - (val &amp; <span class="hljs-number">4294967295L</span>);</span><br><span class="line">            result[bigIndex] = (<span class="hljs-keyword">int</span>)difference;</span><br><span class="line">            --bigIndex;</span><br><span class="line">            difference = ((<span class="hljs-keyword">long</span>)big[bigIndex] &amp; <span class="hljs-number">4294967295L</span>) - ((<span class="hljs-keyword">long</span>)highWord &amp; <span class="hljs-number">4294967295L</span>) + (difference &gt;&gt; <span class="hljs-number">32</span>);</span><br><span class="line">            result[bigIndex] = (<span class="hljs-keyword">int</span>)difference;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">boolean</span> borrow = difference &gt;&gt; <span class="hljs-number">32</span> != <span class="hljs-number">0L</span>; bigIndex &gt; <span class="hljs-number">0</span> &amp;&amp; borrow; borrow = (result[bigIndex] = big[bigIndex] - <span class="hljs-number">1</span>) == -<span class="hljs-number">1</span>) &#123;</span><br><span class="line">            --bigIndex;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">while</span>(bigIndex &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            --bigIndex;</span><br><span class="line">            result[bigIndex] = big[bigIndex];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">subtract</span><span class="hljs-params">(BigInteger val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (val.signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> val.negate();</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (val.signum != <span class="hljs-keyword">this</span>.signum) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(add(<span class="hljs-keyword">this</span>.mag, val.mag), <span class="hljs-keyword">this</span>.signum);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> cmp = <span class="hljs-keyword">this</span>.compareMagnitude(val);</span><br><span class="line">            <span class="hljs-keyword">if</span> (cmp == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> ZERO;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span>[] resultMag = cmp &gt; <span class="hljs-number">0</span> ? subtract(<span class="hljs-keyword">this</span>.mag, val.mag) : subtract(val.mag, <span class="hljs-keyword">this</span>.mag);</span><br><span class="line">                resultMag = trustedStripLeadingZeroInts(resultMag);</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(resultMag, cmp == <span class="hljs-keyword">this</span>.signum ? <span class="hljs-number">1</span> : -<span class="hljs-number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] subtract(<span class="hljs-keyword">int</span>[] big, <span class="hljs-keyword">int</span>[] little) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> bigIndex = big.length;</span><br><span class="line">        <span class="hljs-keyword">int</span>[] result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[bigIndex];</span><br><span class="line">        <span class="hljs-keyword">int</span> littleIndex = little.length;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">long</span> difference;</span><br><span class="line">        <span class="hljs-keyword">for</span>(difference = <span class="hljs-number">0L</span>; littleIndex &gt; <span class="hljs-number">0</span>; result[bigIndex] = (<span class="hljs-keyword">int</span>)difference) &#123;</span><br><span class="line">            --bigIndex;</span><br><span class="line">            <span class="hljs-keyword">long</span> var10000 = (<span class="hljs-keyword">long</span>)big[bigIndex] &amp; <span class="hljs-number">4294967295L</span>;</span><br><span class="line">            --littleIndex;</span><br><span class="line">            difference = var10000 - ((<span class="hljs-keyword">long</span>)little[littleIndex] &amp; <span class="hljs-number">4294967295L</span>) + (difference &gt;&gt; <span class="hljs-number">32</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">boolean</span> borrow = difference &gt;&gt; <span class="hljs-number">32</span> != <span class="hljs-number">0L</span>; bigIndex &gt; <span class="hljs-number">0</span> &amp;&amp; borrow; borrow = (result[bigIndex] = big[bigIndex] - <span class="hljs-number">1</span>) == -<span class="hljs-number">1</span>) &#123;</span><br><span class="line">            --bigIndex;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">while</span>(bigIndex &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            --bigIndex;</span><br><span class="line">            result[bigIndex] = big[bigIndex];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">multiply</span><span class="hljs-params">(BigInteger val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.multiply(val, <span class="hljs-keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> BigInteger <span class="hljs-title">multiply</span><span class="hljs-params">(BigInteger val, <span class="hljs-keyword">boolean</span> isRecursion)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (val.signum != <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-keyword">this</span>.signum != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> xlen = <span class="hljs-keyword">this</span>.mag.length;</span><br><span class="line">            <span class="hljs-keyword">if</span> (val == <span class="hljs-keyword">this</span> &amp;&amp; xlen &gt; <span class="hljs-number">20</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.square();</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> ylen = val.mag.length;</span><br><span class="line">                <span class="hljs-keyword">if</span> (xlen &gt;= <span class="hljs-number">80</span> &amp;&amp; ylen &gt;= <span class="hljs-number">80</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (xlen &lt; <span class="hljs-number">240</span> &amp;&amp; ylen &lt; <span class="hljs-number">240</span>) &#123;</span><br><span class="line">                        <span class="hljs-keyword">return</span> multiplyKaratsuba(<span class="hljs-keyword">this</span>, val);</span><br><span class="line">                    &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                        <span class="hljs-keyword">if</span> (!isRecursion &amp;&amp; (<span class="hljs-keyword">long</span>)(bitLength(<span class="hljs-keyword">this</span>.mag, <span class="hljs-keyword">this</span>.mag.length) + bitLength(val.mag, val.mag.length)) &gt; <span class="hljs-number">2147483648L</span>) &#123;</span><br><span class="line">                            reportOverflow();</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        <span class="hljs-keyword">return</span> multiplyToomCook3(<span class="hljs-keyword">this</span>, val);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">int</span> resultSign = <span class="hljs-keyword">this</span>.signum == val.signum ? <span class="hljs-number">1</span> : -<span class="hljs-number">1</span>;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (val.mag.length == <span class="hljs-number">1</span>) &#123;</span><br><span class="line">                        <span class="hljs-keyword">return</span> multiplyByInt(<span class="hljs-keyword">this</span>.mag, val.mag[<span class="hljs-number">0</span>], resultSign);</span><br><span class="line">                    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mag.length == <span class="hljs-number">1</span>) &#123;</span><br><span class="line">                        <span class="hljs-keyword">return</span> multiplyByInt(val.mag, <span class="hljs-keyword">this</span>.mag[<span class="hljs-number">0</span>], resultSign);</span><br><span class="line">                    &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                        <span class="hljs-keyword">int</span>[] result = multiplyToLen(<span class="hljs-keyword">this</span>.mag, xlen, val.mag, ylen, (<span class="hljs-keyword">int</span>[])<span class="hljs-keyword">null</span>);</span><br><span class="line">                        result = trustedStripLeadingZeroInts(result);</span><br><span class="line">                        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(result, resultSign);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> ZERO;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> BigInteger <span class="hljs-title">multiplyByInt</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> sign)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (Integer.bitCount(y) == <span class="hljs-number">1</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(shiftLeft(x, Integer.numberOfTrailingZeros(y)), sign);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> xlen = x.length;</span><br><span class="line">            <span class="hljs-keyword">int</span>[] rmag = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[xlen + <span class="hljs-number">1</span>];</span><br><span class="line">            <span class="hljs-keyword">long</span> carry = <span class="hljs-number">0L</span>;</span><br><span class="line">            <span class="hljs-keyword">long</span> yl = (<span class="hljs-keyword">long</span>)y &amp; <span class="hljs-number">4294967295L</span>;</span><br><span class="line">            <span class="hljs-keyword">int</span> rstart = rmag.length - <span class="hljs-number">1</span>;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = xlen - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i) &#123;</span><br><span class="line">                <span class="hljs-keyword">long</span> product = ((<span class="hljs-keyword">long</span>)x[i] &amp; <span class="hljs-number">4294967295L</span>) * yl + carry;</span><br><span class="line">                rmag[rstart--] = (<span class="hljs-keyword">int</span>)product;</span><br><span class="line">                carry = product &gt;&gt;&gt; <span class="hljs-number">32</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">if</span> (carry == <span class="hljs-number">0L</span>) &#123;</span><br><span class="line">                rmag = Arrays.copyOfRange(rmag, <span class="hljs-number">1</span>, rmag.length);</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                rmag[rstart] = (<span class="hljs-keyword">int</span>)carry;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(rmag, sign);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function">BigInteger <span class="hljs-title">multiply</span><span class="hljs-params">(<span class="hljs-keyword">long</span> v)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (v != <span class="hljs-number">0L</span> &amp;&amp; <span class="hljs-keyword">this</span>.signum != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (v == -<span class="hljs-number">9223372036854775808L</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.multiply(valueOf(v));</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> rsign = v &gt; <span class="hljs-number">0L</span> ? <span class="hljs-keyword">this</span>.signum : -<span class="hljs-keyword">this</span>.signum;</span><br><span class="line">                <span class="hljs-keyword">if</span> (v &lt; <span class="hljs-number">0L</span>) &#123;</span><br><span class="line">                    v = -v;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">long</span> dh = v &gt;&gt;&gt; <span class="hljs-number">32</span>;</span><br><span class="line">                <span class="hljs-keyword">long</span> dl = v &amp; <span class="hljs-number">4294967295L</span>;</span><br><span class="line">                <span class="hljs-keyword">int</span> xlen = <span class="hljs-keyword">this</span>.mag.length;</span><br><span class="line">                <span class="hljs-keyword">int</span>[] value = <span class="hljs-keyword">this</span>.mag;</span><br><span class="line">                <span class="hljs-keyword">int</span>[] rmag = dh == <span class="hljs-number">0L</span> ? <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[xlen + <span class="hljs-number">1</span>] : <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[xlen + <span class="hljs-number">2</span>];</span><br><span class="line">                <span class="hljs-keyword">long</span> carry = <span class="hljs-number">0L</span>;</span><br><span class="line">                <span class="hljs-keyword">int</span> rstart = rmag.length - <span class="hljs-number">1</span>;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">int</span> i;</span><br><span class="line">                <span class="hljs-keyword">long</span> product;</span><br><span class="line">                <span class="hljs-keyword">for</span>(i = xlen - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i) &#123;</span><br><span class="line">                    product = ((<span class="hljs-keyword">long</span>)value[i] &amp; <span class="hljs-number">4294967295L</span>) * dl + carry;</span><br><span class="line">                    rmag[rstart--] = (<span class="hljs-keyword">int</span>)product;</span><br><span class="line">                    carry = product &gt;&gt;&gt; <span class="hljs-number">32</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                rmag[rstart] = (<span class="hljs-keyword">int</span>)carry;</span><br><span class="line">                <span class="hljs-keyword">if</span> (dh != <span class="hljs-number">0L</span>) &#123;</span><br><span class="line">                    carry = <span class="hljs-number">0L</span>;</span><br><span class="line">                    rstart = rmag.length - <span class="hljs-number">2</span>;</span><br><span class="line"></span><br><span class="line">                    <span class="hljs-keyword">for</span>(i = xlen - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i) &#123;</span><br><span class="line">                        product = ((<span class="hljs-keyword">long</span>)value[i] &amp; <span class="hljs-number">4294967295L</span>) * dh + ((<span class="hljs-keyword">long</span>)rmag[rstart] &amp; <span class="hljs-number">4294967295L</span>) + carry;</span><br><span class="line">                        rmag[rstart--] = (<span class="hljs-keyword">int</span>)product;</span><br><span class="line">                        carry = product &gt;&gt;&gt; <span class="hljs-number">32</span>;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    rmag[<span class="hljs-number">0</span>] = (<span class="hljs-keyword">int</span>)carry;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">if</span> (carry == <span class="hljs-number">0L</span>) &#123;</span><br><span class="line">                    rmag = Arrays.copyOfRange(rmag, <span class="hljs-number">1</span>, rmag.length);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(rmag, rsign);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> ZERO;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] multiplyToLen(<span class="hljs-keyword">int</span>[] x, <span class="hljs-keyword">int</span> xlen, <span class="hljs-keyword">int</span>[] y, <span class="hljs-keyword">int</span> ylen, <span class="hljs-keyword">int</span>[] z) &#123;</span><br><span class="line">        multiplyToLenCheck(x, xlen);</span><br><span class="line">        multiplyToLenCheck(y, ylen);</span><br><span class="line">        <span class="hljs-keyword">return</span> implMultiplyToLen(x, xlen, y, ylen, z);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@HotSpotIntrinsicCandidate</span></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] implMultiplyToLen(<span class="hljs-keyword">int</span>[] x, <span class="hljs-keyword">int</span> xlen, <span class="hljs-keyword">int</span>[] y, <span class="hljs-keyword">int</span> ylen, <span class="hljs-keyword">int</span>[] z) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> xstart = xlen - <span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> ystart = ylen - <span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">if</span> (z == <span class="hljs-keyword">null</span> || z.length &lt; xlen + ylen) &#123;</span><br><span class="line">            z = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[xlen + ylen];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">long</span> carry = <span class="hljs-number">0L</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> i = ystart;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">int</span> j;</span><br><span class="line">        <span class="hljs-keyword">for</span>(j = ystart + <span class="hljs-number">1</span> + xstart; i &gt;= <span class="hljs-number">0</span>; --j) &#123;</span><br><span class="line">            <span class="hljs-keyword">long</span> product = ((<span class="hljs-keyword">long</span>)y[i] &amp; <span class="hljs-number">4294967295L</span>) * ((<span class="hljs-keyword">long</span>)x[xstart] &amp; <span class="hljs-number">4294967295L</span>) + carry;</span><br><span class="line">            z[j] = (<span class="hljs-keyword">int</span>)product;</span><br><span class="line">            carry = product &gt;&gt;&gt; <span class="hljs-number">32</span>;</span><br><span class="line">            --i;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        z[xstart] = (<span class="hljs-keyword">int</span>)carry;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(i = xstart - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i) &#123;</span><br><span class="line">            carry = <span class="hljs-number">0L</span>;</span><br><span class="line">            j = ystart;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k = ystart + <span class="hljs-number">1</span> + i; j &gt;= <span class="hljs-number">0</span>; --k) &#123;</span><br><span class="line">                <span class="hljs-keyword">long</span> product = ((<span class="hljs-keyword">long</span>)y[j] &amp; <span class="hljs-number">4294967295L</span>) * ((<span class="hljs-keyword">long</span>)x[i] &amp; <span class="hljs-number">4294967295L</span>) + ((<span class="hljs-keyword">long</span>)z[k] &amp; <span class="hljs-number">4294967295L</span>) + carry;</span><br><span class="line">                z[k] = (<span class="hljs-keyword">int</span>)product;</span><br><span class="line">                carry = product &gt;&gt;&gt; <span class="hljs-number">32</span>;</span><br><span class="line">                --j;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            z[i] = (<span class="hljs-keyword">int</span>)carry;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> z;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">multiplyToLenCheck</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] array, <span class="hljs-keyword">int</span> length)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (length &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            Objects.requireNonNull(array);</span><br><span class="line">            <span class="hljs-keyword">if</span> (length &gt; array.length) &#123;</span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArrayIndexOutOfBoundsException(length - <span class="hljs-number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> BigInteger <span class="hljs-title">multiplyKaratsuba</span><span class="hljs-params">(BigInteger x, BigInteger y)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> xlen = x.mag.length;</span><br><span class="line">        <span class="hljs-keyword">int</span> ylen = y.mag.length;</span><br><span class="line">        <span class="hljs-keyword">int</span> half = (Math.max(xlen, ylen) + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>;</span><br><span class="line">        BigInteger xl = x.getLower(half);</span><br><span class="line">        BigInteger xh = x.getUpper(half);</span><br><span class="line">        BigInteger yl = y.getLower(half);</span><br><span class="line">        BigInteger yh = y.getUpper(half);</span><br><span class="line">        BigInteger p1 = xh.multiply(yh);</span><br><span class="line">        BigInteger p2 = xl.multiply(yl);</span><br><span class="line">        BigInteger p3 = xh.add(xl).multiply(yh.add(yl));</span><br><span class="line">        BigInteger result = p1.shiftLeft(<span class="hljs-number">32</span> * half).add(p3.subtract(p1).subtract(p2)).shiftLeft(<span class="hljs-number">32</span> * half).add(p2);</span><br><span class="line">        <span class="hljs-keyword">return</span> x.signum != y.signum ? result.negate() : result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> BigInteger <span class="hljs-title">multiplyToomCook3</span><span class="hljs-params">(BigInteger a, BigInteger b)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> alen = a.mag.length;</span><br><span class="line">        <span class="hljs-keyword">int</span> blen = b.mag.length;</span><br><span class="line">        <span class="hljs-keyword">int</span> largest = Math.max(alen, blen);</span><br><span class="line">        <span class="hljs-keyword">int</span> k = (largest + <span class="hljs-number">2</span>) / <span class="hljs-number">3</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> r = largest - <span class="hljs-number">2</span> * k;</span><br><span class="line">        BigInteger a2 = a.getToomSlice(k, r, <span class="hljs-number">0</span>, largest);</span><br><span class="line">        BigInteger a1 = a.getToomSlice(k, r, <span class="hljs-number">1</span>, largest);</span><br><span class="line">        BigInteger a0 = a.getToomSlice(k, r, <span class="hljs-number">2</span>, largest);</span><br><span class="line">        BigInteger b2 = b.getToomSlice(k, r, <span class="hljs-number">0</span>, largest);</span><br><span class="line">        BigInteger b1 = b.getToomSlice(k, r, <span class="hljs-number">1</span>, largest);</span><br><span class="line">        BigInteger b0 = b.getToomSlice(k, r, <span class="hljs-number">2</span>, largest);</span><br><span class="line">        BigInteger v0 = a0.multiply(b0, <span class="hljs-keyword">true</span>);</span><br><span class="line">        BigInteger da1 = a2.add(a0);</span><br><span class="line">        BigInteger db1 = b2.add(b0);</span><br><span class="line">        BigInteger vm1 = da1.subtract(a1).multiply(db1.subtract(b1), <span class="hljs-keyword">true</span>);</span><br><span class="line">        da1 = da1.add(a1);</span><br><span class="line">        db1 = db1.add(b1);</span><br><span class="line">        BigInteger v1 = da1.multiply(db1, <span class="hljs-keyword">true</span>);</span><br><span class="line">        BigInteger v2 = da1.add(a2).shiftLeft(<span class="hljs-number">1</span>).subtract(a0).multiply(db1.add(b2).shiftLeft(<span class="hljs-number">1</span>).subtract(b0), <span class="hljs-keyword">true</span>);</span><br><span class="line">        BigInteger vinf = a2.multiply(b2, <span class="hljs-keyword">true</span>);</span><br><span class="line">        BigInteger t2 = v2.subtract(vm1).exactDivideBy3();</span><br><span class="line">        BigInteger tm1 = v1.subtract(vm1).shiftRight(<span class="hljs-number">1</span>);</span><br><span class="line">        BigInteger t1 = v1.subtract(v0);</span><br><span class="line">        t2 = t2.subtract(t1).shiftRight(<span class="hljs-number">1</span>);</span><br><span class="line">        t1 = t1.subtract(tm1).subtract(vinf);</span><br><span class="line">        t2 = t2.subtract(vinf.shiftLeft(<span class="hljs-number">1</span>));</span><br><span class="line">        tm1 = tm1.subtract(t2);</span><br><span class="line">        <span class="hljs-keyword">int</span> ss = k * <span class="hljs-number">32</span>;</span><br><span class="line">        BigInteger result = vinf.shiftLeft(ss).add(t2).shiftLeft(ss).add(t1).shiftLeft(ss).add(tm1).shiftLeft(ss).add(v0);</span><br><span class="line">        <span class="hljs-keyword">return</span> a.signum != b.signum ? result.negate() : result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> BigInteger <span class="hljs-title">getToomSlice</span><span class="hljs-params">(<span class="hljs-keyword">int</span> lowerSize, <span class="hljs-keyword">int</span> upperSize, <span class="hljs-keyword">int</span> slice, <span class="hljs-keyword">int</span> fullsize)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> len = <span class="hljs-keyword">this</span>.mag.length;</span><br><span class="line">        <span class="hljs-keyword">int</span> offset = fullsize - len;</span><br><span class="line">        <span class="hljs-keyword">int</span> start;</span><br><span class="line">        <span class="hljs-keyword">int</span> end;</span><br><span class="line">        <span class="hljs-keyword">if</span> (slice == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            start = <span class="hljs-number">0</span> - offset;</span><br><span class="line">            end = upperSize - <span class="hljs-number">1</span> - offset;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            start = upperSize + (slice - <span class="hljs-number">1</span>) * lowerSize - offset;</span><br><span class="line">            end = start + lowerSize - <span class="hljs-number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">if</span> (start &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            start = <span class="hljs-number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">if</span> (end &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> ZERO;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> sliceSize = end - start + <span class="hljs-number">1</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (sliceSize &lt;= <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> ZERO;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (start == <span class="hljs-number">0</span> &amp;&amp; sliceSize &gt;= len) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.abs();</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span>[] intSlice = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[sliceSize];</span><br><span class="line">                System.arraycopy(<span class="hljs-keyword">this</span>.mag, start, intSlice, <span class="hljs-number">0</span>, sliceSize);</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(trustedStripLeadingZeroInts(intSlice), <span class="hljs-number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> BigInteger <span class="hljs-title">exactDivideBy3</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> len = <span class="hljs-keyword">this</span>.mag.length;</span><br><span class="line">        <span class="hljs-keyword">int</span>[] result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[len];</span><br><span class="line">        <span class="hljs-keyword">long</span> borrow = <span class="hljs-number">0L</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = len - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i) &#123;</span><br><span class="line">            <span class="hljs-keyword">long</span> x = (<span class="hljs-keyword">long</span>)<span class="hljs-keyword">this</span>.mag[i] &amp; <span class="hljs-number">4294967295L</span>;</span><br><span class="line">            <span class="hljs-keyword">long</span> w = x - borrow;</span><br><span class="line">            <span class="hljs-keyword">if</span> (borrow &gt; x) &#123;</span><br><span class="line">                borrow = <span class="hljs-number">1L</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                borrow = <span class="hljs-number">0L</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">long</span> q = w * <span class="hljs-number">2863311531L</span> &amp; <span class="hljs-number">4294967295L</span>;</span><br><span class="line">            result[i] = (<span class="hljs-keyword">int</span>)q;</span><br><span class="line">            <span class="hljs-keyword">if</span> (q &gt;= <span class="hljs-number">1431655766L</span>) &#123;</span><br><span class="line">                ++borrow;</span><br><span class="line">                <span class="hljs-keyword">if</span> (q &gt;= <span class="hljs-number">2863311531L</span>) &#123;</span><br><span class="line">                    ++borrow;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        result = trustedStripLeadingZeroInts(result);</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(result, <span class="hljs-keyword">this</span>.signum);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> BigInteger <span class="hljs-title">getLower</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> len = <span class="hljs-keyword">this</span>.mag.length;</span><br><span class="line">        <span class="hljs-keyword">if</span> (len &lt;= n) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.abs();</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span>[] lowerInts = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n];</span><br><span class="line">            System.arraycopy(<span class="hljs-keyword">this</span>.mag, len - n, lowerInts, <span class="hljs-number">0</span>, n);</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(trustedStripLeadingZeroInts(lowerInts), <span class="hljs-number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> BigInteger <span class="hljs-title">getUpper</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> len = <span class="hljs-keyword">this</span>.mag.length;</span><br><span class="line">        <span class="hljs-keyword">if</span> (len &lt;= n) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> ZERO;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> upperLen = len - n;</span><br><span class="line">            <span class="hljs-keyword">int</span>[] upperInts = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[upperLen];</span><br><span class="line">            System.arraycopy(<span class="hljs-keyword">this</span>.mag, <span class="hljs-number">0</span>, upperInts, <span class="hljs-number">0</span>, upperLen);</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(trustedStripLeadingZeroInts(upperInts), <span class="hljs-number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> BigInteger <span class="hljs-title">square</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.square(<span class="hljs-keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> BigInteger <span class="hljs-title">square</span><span class="hljs-params">(<span class="hljs-keyword">boolean</span> isRecursion)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> ZERO;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> len = <span class="hljs-keyword">this</span>.mag.length;</span><br><span class="line">            <span class="hljs-keyword">if</span> (len &lt; <span class="hljs-number">128</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span>[] z = squareToLen(<span class="hljs-keyword">this</span>.mag, len, (<span class="hljs-keyword">int</span>[])<span class="hljs-keyword">null</span>);</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(trustedStripLeadingZeroInts(z), <span class="hljs-number">1</span>);</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (len &lt; <span class="hljs-number">216</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.squareKaratsuba();</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (!isRecursion &amp;&amp; (<span class="hljs-keyword">long</span>)bitLength(<span class="hljs-keyword">this</span>.mag, <span class="hljs-keyword">this</span>.mag.length) &gt; <span class="hljs-number">1073741824L</span>) &#123;</span><br><span class="line">                    reportOverflow();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.squareToomCook3();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span>[] squareToLen(<span class="hljs-keyword">int</span>[] x, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">int</span>[] z) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> zlen = len &lt;&lt; <span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">if</span> (z == <span class="hljs-keyword">null</span> || z.length &lt; zlen) &#123;</span><br><span class="line">            z = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[zlen];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        implSquareToLenChecks(x, len, z, zlen);</span><br><span class="line">        <span class="hljs-keyword">return</span> implSquareToLen(x, len, z, zlen);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">implSquareToLenChecks</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] x, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">int</span>[] z, <span class="hljs-keyword">int</span> zlen)</span> <span class="hljs-keyword">throws</span> RuntimeException </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (len &lt; <span class="hljs-number">1</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"invalid input length: "</span> + len);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (len &gt; x.length) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"input length out of bound: "</span> + len + <span class="hljs-string">" &gt; "</span> + x.length);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (len * <span class="hljs-number">2</span> &gt; z.length) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"input length out of bound: "</span> + len * <span class="hljs-number">2</span> + <span class="hljs-string">" &gt; "</span> + z.length);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (zlen &lt; <span class="hljs-number">1</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"invalid input length: "</span> + zlen);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (zlen &gt; z.length) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"input length out of bound: "</span> + len + <span class="hljs-string">" &gt; "</span> + z.length);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@HotSpotIntrinsicCandidate</span></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span>[] implSquareToLen(<span class="hljs-keyword">int</span>[] x, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">int</span>[] z, <span class="hljs-keyword">int</span> zlen) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> lastProductLowWord = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">int</span> offset;</span><br><span class="line">        <span class="hljs-keyword">for</span>(offset = <span class="hljs-number">0</span>; i &lt; len; ++i) &#123;</span><br><span class="line">            <span class="hljs-keyword">long</span> piece = (<span class="hljs-keyword">long</span>)x[i] &amp; <span class="hljs-number">4294967295L</span>;</span><br><span class="line">            <span class="hljs-keyword">long</span> product = piece * piece;</span><br><span class="line">            z[offset++] = lastProductLowWord &lt;&lt; <span class="hljs-number">31</span> | (<span class="hljs-keyword">int</span>)(product &gt;&gt;&gt; <span class="hljs-number">33</span>);</span><br><span class="line">            z[offset++] = (<span class="hljs-keyword">int</span>)(product &gt;&gt;&gt; <span class="hljs-number">1</span>);</span><br><span class="line">            lastProductLowWord = (<span class="hljs-keyword">int</span>)product;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        i = len;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(offset = <span class="hljs-number">1</span>; i &gt; <span class="hljs-number">0</span>; offset += <span class="hljs-number">2</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> t = x[i - <span class="hljs-number">1</span>];</span><br><span class="line">            t = mulAdd(z, x, offset, i - <span class="hljs-number">1</span>, t);</span><br><span class="line">            addOne(z, offset - <span class="hljs-number">1</span>, i, t);</span><br><span class="line">            --i;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        primitiveLeftShift(z, zlen, <span class="hljs-number">1</span>);</span><br><span class="line">        z[zlen - <span class="hljs-number">1</span>] |= x[len - <span class="hljs-number">1</span>] &amp; <span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">return</span> z;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> BigInteger <span class="hljs-title">squareKaratsuba</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> half = (<span class="hljs-keyword">this</span>.mag.length + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>;</span><br><span class="line">        BigInteger xl = <span class="hljs-keyword">this</span>.getLower(half);</span><br><span class="line">        BigInteger xh = <span class="hljs-keyword">this</span>.getUpper(half);</span><br><span class="line">        BigInteger xhs = xh.square();</span><br><span class="line">        BigInteger xls = xl.square();</span><br><span class="line">        <span class="hljs-keyword">return</span> xhs.shiftLeft(half * <span class="hljs-number">32</span>).add(xl.add(xh).square().subtract(xhs.add(xls))).shiftLeft(half * <span class="hljs-number">32</span>).add(xls);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> BigInteger <span class="hljs-title">squareToomCook3</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> len = <span class="hljs-keyword">this</span>.mag.length;</span><br><span class="line">        <span class="hljs-keyword">int</span> k = (len + <span class="hljs-number">2</span>) / <span class="hljs-number">3</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> r = len - <span class="hljs-number">2</span> * k;</span><br><span class="line">        BigInteger a2 = <span class="hljs-keyword">this</span>.getToomSlice(k, r, <span class="hljs-number">0</span>, len);</span><br><span class="line">        BigInteger a1 = <span class="hljs-keyword">this</span>.getToomSlice(k, r, <span class="hljs-number">1</span>, len);</span><br><span class="line">        BigInteger a0 = <span class="hljs-keyword">this</span>.getToomSlice(k, r, <span class="hljs-number">2</span>, len);</span><br><span class="line">        BigInteger v0 = a0.square(<span class="hljs-keyword">true</span>);</span><br><span class="line">        BigInteger da1 = a2.add(a0);</span><br><span class="line">        BigInteger vm1 = da1.subtract(a1).square(<span class="hljs-keyword">true</span>);</span><br><span class="line">        da1 = da1.add(a1);</span><br><span class="line">        BigInteger v1 = da1.square(<span class="hljs-keyword">true</span>);</span><br><span class="line">        BigInteger vinf = a2.square(<span class="hljs-keyword">true</span>);</span><br><span class="line">        BigInteger v2 = da1.add(a2).shiftLeft(<span class="hljs-number">1</span>).subtract(a0).square(<span class="hljs-keyword">true</span>);</span><br><span class="line">        BigInteger t2 = v2.subtract(vm1).exactDivideBy3();</span><br><span class="line">        BigInteger tm1 = v1.subtract(vm1).shiftRight(<span class="hljs-number">1</span>);</span><br><span class="line">        BigInteger t1 = v1.subtract(v0);</span><br><span class="line">        t2 = t2.subtract(t1).shiftRight(<span class="hljs-number">1</span>);</span><br><span class="line">        t1 = t1.subtract(tm1).subtract(vinf);</span><br><span class="line">        t2 = t2.subtract(vinf.shiftLeft(<span class="hljs-number">1</span>));</span><br><span class="line">        tm1 = tm1.subtract(t2);</span><br><span class="line">        <span class="hljs-keyword">int</span> ss = k * <span class="hljs-number">32</span>;</span><br><span class="line">        <span class="hljs-keyword">return</span> vinf.shiftLeft(ss).add(t2).shiftLeft(ss).add(t1).shiftLeft(ss).add(tm1).shiftLeft(ss).add(v0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">divide</span><span class="hljs-params">(BigInteger val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> val.mag.length &gt;= <span class="hljs-number">80</span> &amp;&amp; <span class="hljs-keyword">this</span>.mag.length - val.mag.length &gt;= <span class="hljs-number">40</span> ? <span class="hljs-keyword">this</span>.divideBurnikelZiegler(val) : <span class="hljs-keyword">this</span>.divideKnuth(val);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> BigInteger <span class="hljs-title">divideKnuth</span><span class="hljs-params">(BigInteger val)</span> </span>&#123;</span><br><span class="line">        MutableBigInteger q = <span class="hljs-keyword">new</span> MutableBigInteger();</span><br><span class="line">        MutableBigInteger a = <span class="hljs-keyword">new</span> MutableBigInteger(<span class="hljs-keyword">this</span>.mag);</span><br><span class="line">        MutableBigInteger b = <span class="hljs-keyword">new</span> MutableBigInteger(val.mag);</span><br><span class="line">        a.divideKnuth(b, q, <span class="hljs-keyword">false</span>);</span><br><span class="line">        <span class="hljs-keyword">return</span> q.toBigInteger(<span class="hljs-keyword">this</span>.signum * val.signum);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> BigInteger[] divideAndRemainder(BigInteger val) &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> val.mag.length &gt;= <span class="hljs-number">80</span> &amp;&amp; <span class="hljs-keyword">this</span>.mag.length - val.mag.length &gt;= <span class="hljs-number">40</span> ? <span class="hljs-keyword">this</span>.divideAndRemainderBurnikelZiegler(val) : <span class="hljs-keyword">this</span>.divideAndRemainderKnuth(val);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> BigInteger[] divideAndRemainderKnuth(BigInteger val) &#123;</span><br><span class="line">        BigInteger[] result = <span class="hljs-keyword">new</span> BigInteger[<span class="hljs-number">2</span>];</span><br><span class="line">        MutableBigInteger q = <span class="hljs-keyword">new</span> MutableBigInteger();</span><br><span class="line">        MutableBigInteger a = <span class="hljs-keyword">new</span> MutableBigInteger(<span class="hljs-keyword">this</span>.mag);</span><br><span class="line">        MutableBigInteger b = <span class="hljs-keyword">new</span> MutableBigInteger(val.mag);</span><br><span class="line">        MutableBigInteger r = a.divideKnuth(b, q);</span><br><span class="line">        result[<span class="hljs-number">0</span>] = q.toBigInteger(<span class="hljs-keyword">this</span>.signum == val.signum ? <span class="hljs-number">1</span> : -<span class="hljs-number">1</span>);</span><br><span class="line">        result[<span class="hljs-number">1</span>] = r.toBigInteger(<span class="hljs-keyword">this</span>.signum);</span><br><span class="line">        <span class="hljs-keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">remainder</span><span class="hljs-params">(BigInteger val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> val.mag.length &gt;= <span class="hljs-number">80</span> &amp;&amp; <span class="hljs-keyword">this</span>.mag.length - val.mag.length &gt;= <span class="hljs-number">40</span> ? <span class="hljs-keyword">this</span>.remainderBurnikelZiegler(val) : <span class="hljs-keyword">this</span>.remainderKnuth(val);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> BigInteger <span class="hljs-title">remainderKnuth</span><span class="hljs-params">(BigInteger val)</span> </span>&#123;</span><br><span class="line">        MutableBigInteger q = <span class="hljs-keyword">new</span> MutableBigInteger();</span><br><span class="line">        MutableBigInteger a = <span class="hljs-keyword">new</span> MutableBigInteger(<span class="hljs-keyword">this</span>.mag);</span><br><span class="line">        MutableBigInteger b = <span class="hljs-keyword">new</span> MutableBigInteger(val.mag);</span><br><span class="line">        <span class="hljs-keyword">return</span> a.divideKnuth(b, q).toBigInteger(<span class="hljs-keyword">this</span>.signum);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> BigInteger <span class="hljs-title">divideBurnikelZiegler</span><span class="hljs-params">(BigInteger val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.divideAndRemainderBurnikelZiegler(val)[<span class="hljs-number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> BigInteger <span class="hljs-title">remainderBurnikelZiegler</span><span class="hljs-params">(BigInteger val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.divideAndRemainderBurnikelZiegler(val)[<span class="hljs-number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> BigInteger[] divideAndRemainderBurnikelZiegler(BigInteger val) &#123;</span><br><span class="line">        MutableBigInteger q = <span class="hljs-keyword">new</span> MutableBigInteger();</span><br><span class="line">        MutableBigInteger r = (<span class="hljs-keyword">new</span> MutableBigInteger(<span class="hljs-keyword">this</span>)).divideAndRemainderBurnikelZiegler(<span class="hljs-keyword">new</span> MutableBigInteger(val), q);</span><br><span class="line">        BigInteger qBigInt = q.isZero() ? ZERO : q.toBigInteger(<span class="hljs-keyword">this</span>.signum * val.signum);</span><br><span class="line">        BigInteger rBigInt = r.isZero() ? ZERO : r.toBigInteger(<span class="hljs-keyword">this</span>.signum);</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger[]&#123;qBigInt, rBigInt&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">pow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> exponent)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (exponent &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException(<span class="hljs-string">"Negative exponent"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> exponent == <span class="hljs-number">0</span> ? ONE : <span class="hljs-keyword">this</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            BigInteger partToSquare = <span class="hljs-keyword">this</span>.abs();</span><br><span class="line">            <span class="hljs-keyword">int</span> powersOfTwo = partToSquare.getLowestSetBit();</span><br><span class="line">            <span class="hljs-keyword">long</span> bitsToShiftLong = (<span class="hljs-keyword">long</span>)powersOfTwo * (<span class="hljs-keyword">long</span>)exponent;</span><br><span class="line">            <span class="hljs-keyword">if</span> (bitsToShiftLong &gt; <span class="hljs-number">2147483647L</span>) &#123;</span><br><span class="line">                reportOverflow();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">int</span> bitsToShift = (<span class="hljs-keyword">int</span>)bitsToShiftLong;</span><br><span class="line">            <span class="hljs-keyword">int</span> remainingBits;</span><br><span class="line">            <span class="hljs-keyword">if</span> (powersOfTwo &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                partToSquare = partToSquare.shiftRight(powersOfTwo);</span><br><span class="line">                remainingBits = partToSquare.bitLength();</span><br><span class="line">                <span class="hljs-keyword">if</span> (remainingBits == <span class="hljs-number">1</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum &lt; <span class="hljs-number">0</span> &amp;&amp; (exponent &amp; <span class="hljs-number">1</span>) == <span class="hljs-number">1</span>) &#123;</span><br><span class="line">                        <span class="hljs-keyword">return</span> NEGATIVE_ONE.shiftLeft(bitsToShift);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="hljs-keyword">return</span> ONE.shiftLeft(bitsToShift);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                remainingBits = partToSquare.bitLength();</span><br><span class="line">                <span class="hljs-keyword">if</span> (remainingBits == <span class="hljs-number">1</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum &lt; <span class="hljs-number">0</span> &amp;&amp; (exponent &amp; <span class="hljs-number">1</span>) == <span class="hljs-number">1</span>) &#123;</span><br><span class="line">                        <span class="hljs-keyword">return</span> NEGATIVE_ONE;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="hljs-keyword">return</span> ONE;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">long</span> scaleFactor = (<span class="hljs-keyword">long</span>)remainingBits * (<span class="hljs-keyword">long</span>)exponent;</span><br><span class="line">            <span class="hljs-keyword">if</span> (partToSquare.mag.length == <span class="hljs-number">1</span> &amp;&amp; scaleFactor &lt;= <span class="hljs-number">62L</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> newSign = <span class="hljs-keyword">this</span>.signum &lt; <span class="hljs-number">0</span> &amp;&amp; (exponent &amp; <span class="hljs-number">1</span>) == <span class="hljs-number">1</span> ? -<span class="hljs-number">1</span> : <span class="hljs-number">1</span>;</span><br><span class="line">                <span class="hljs-keyword">long</span> result = <span class="hljs-number">1L</span>;</span><br><span class="line">                <span class="hljs-keyword">long</span> baseToPow2 = (<span class="hljs-keyword">long</span>)partToSquare.mag[<span class="hljs-number">0</span>] &amp; <span class="hljs-number">4294967295L</span>;</span><br><span class="line">                <span class="hljs-keyword">int</span> workingExponent = exponent;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">while</span>(workingExponent != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> ((workingExponent &amp; <span class="hljs-number">1</span>) == <span class="hljs-number">1</span>) &#123;</span><br><span class="line">                        result *= baseToPow2;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="hljs-keyword">if</span> ((workingExponent &gt;&gt;&gt;= <span class="hljs-number">1</span>) != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                        baseToPow2 *= baseToPow2;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">if</span> (powersOfTwo &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> ((<span class="hljs-keyword">long</span>)bitsToShift + scaleFactor &lt;= <span class="hljs-number">62L</span>) &#123;</span><br><span class="line">                        <span class="hljs-keyword">return</span> valueOf((result &lt;&lt; bitsToShift) * (<span class="hljs-keyword">long</span>)newSign);</span><br><span class="line">                    &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                        <span class="hljs-keyword">return</span> valueOf(result * (<span class="hljs-keyword">long</span>)newSign).shiftLeft(bitsToShift);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> valueOf(result * (<span class="hljs-keyword">long</span>)newSign);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> ((<span class="hljs-keyword">long</span>)<span class="hljs-keyword">this</span>.bitLength() * (<span class="hljs-keyword">long</span>)exponent / <span class="hljs-number">32L</span> &gt; <span class="hljs-number">67108864L</span>) &#123;</span><br><span class="line">                    reportOverflow();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                BigInteger answer = ONE;</span><br><span class="line">                <span class="hljs-keyword">int</span> workingExponent = exponent;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">while</span>(workingExponent != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> ((workingExponent &amp; <span class="hljs-number">1</span>) == <span class="hljs-number">1</span>) &#123;</span><br><span class="line">                        answer = answer.multiply(partToSquare);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="hljs-keyword">if</span> ((workingExponent &gt;&gt;&gt;= <span class="hljs-number">1</span>) != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                        partToSquare = partToSquare.square();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">if</span> (powersOfTwo &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    answer = answer.shiftLeft(bitsToShift);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum &lt; <span class="hljs-number">0</span> &amp;&amp; (exponent &amp; <span class="hljs-number">1</span>) == <span class="hljs-number">1</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> answer.negate();</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> answer;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">sqrt</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException(<span class="hljs-string">"Negative BigInteger"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> (<span class="hljs-keyword">new</span> MutableBigInteger(<span class="hljs-keyword">this</span>.mag)).sqrt().toBigInteger();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> BigInteger[] sqrtAndRemainder() &#123;</span><br><span class="line">        BigInteger s = <span class="hljs-keyword">this</span>.sqrt();</span><br><span class="line">        BigInteger r = <span class="hljs-keyword">this</span>.subtract(s.square());</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">assert</span> r.compareTo(ZERO) &gt;= <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger[]&#123;s, r&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">gcd</span><span class="hljs-params">(BigInteger val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (val.signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.abs();</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> val.abs();</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            MutableBigInteger a = <span class="hljs-keyword">new</span> MutableBigInteger(<span class="hljs-keyword">this</span>);</span><br><span class="line">            MutableBigInteger b = <span class="hljs-keyword">new</span> MutableBigInteger(val);</span><br><span class="line">            MutableBigInteger result = a.hybridGCD(b);</span><br><span class="line">            <span class="hljs-keyword">return</span> result.toBigInteger(<span class="hljs-number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">bitLengthForInt</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-number">32</span> - Integer.numberOfLeadingZeros(n);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] leftShift(<span class="hljs-keyword">int</span>[] a, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">int</span> n) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> nInts = n &gt;&gt;&gt; <span class="hljs-number">5</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> nBits = n &amp; <span class="hljs-number">31</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> bitsInHighWord = bitLengthForInt(a[<span class="hljs-number">0</span>]);</span><br><span class="line">        <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">32</span> - bitsInHighWord) &#123;</span><br><span class="line">            primitiveLeftShift(a, len, nBits);</span><br><span class="line">            <span class="hljs-keyword">return</span> a;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span>[] result;</span><br><span class="line">            <span class="hljs-keyword">if</span> (nBits &lt;= <span class="hljs-number">32</span> - bitsInHighWord) &#123;</span><br><span class="line">                result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[nInts + len];</span><br><span class="line">                System.arraycopy(a, <span class="hljs-number">0</span>, result, <span class="hljs-number">0</span>, len);</span><br><span class="line">                primitiveLeftShift(result, result.length, nBits);</span><br><span class="line">                <span class="hljs-keyword">return</span> result;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[nInts + len + <span class="hljs-number">1</span>];</span><br><span class="line">                System.arraycopy(a, <span class="hljs-number">0</span>, result, <span class="hljs-number">0</span>, len);</span><br><span class="line">                primitiveRightShift(result, result.length, <span class="hljs-number">32</span> - nBits);</span><br><span class="line">                <span class="hljs-keyword">return</span> result;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">primitiveRightShift</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] a, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> n2 = <span class="hljs-number">32</span> - n;</span><br><span class="line">        <span class="hljs-keyword">int</span> i = len - <span class="hljs-number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> c = a[i]; i &gt; <span class="hljs-number">0</span>; --i) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> b = c;</span><br><span class="line">            c = a[i - <span class="hljs-number">1</span>];</span><br><span class="line">            a[i] = c &lt;&lt; n2 | b &gt;&gt;&gt; n;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        a[<span class="hljs-number">0</span>] &gt;&gt;&gt;= n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">primitiveLeftShift</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] a, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (len != <span class="hljs-number">0</span> &amp;&amp; n != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> n2 = <span class="hljs-number">32</span> - n;</span><br><span class="line">            <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;</span><br><span class="line">            <span class="hljs-keyword">int</span> c = a[i];</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> m = i + len - <span class="hljs-number">1</span>; i &lt; m; ++i) &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> b = c;</span><br><span class="line">                c = a[i + <span class="hljs-number">1</span>];</span><br><span class="line">                a[i] = b &lt;&lt; n | c &gt;&gt;&gt; n2;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            a[len - <span class="hljs-number">1</span>] &lt;&lt;= n;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">bitLength</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] val, <span class="hljs-keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> len == <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : (len - <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">5</span>) + bitLengthForInt(val[<span class="hljs-number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">abs</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.signum &gt;= <span class="hljs-number">0</span> ? <span class="hljs-keyword">this</span> : <span class="hljs-keyword">this</span>.negate();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">negate</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(<span class="hljs-keyword">this</span>.mag, -<span class="hljs-keyword">this</span>.signum);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">signum</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.signum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">mod</span><span class="hljs-params">(BigInteger m)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (m.signum &lt;= <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException(<span class="hljs-string">"BigInteger: modulus not positive"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            BigInteger result = <span class="hljs-keyword">this</span>.remainder(m);</span><br><span class="line">            <span class="hljs-keyword">return</span> result.signum &gt;= <span class="hljs-number">0</span> ? result : result.add(m);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">modPow</span><span class="hljs-params">(BigInteger exponent, BigInteger m)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (m.signum &lt;= <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException(<span class="hljs-string">"BigInteger: modulus not positive"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (exponent.signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> m.equals(ONE) ? ZERO : ONE;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.equals(ONE)) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> m.equals(ONE) ? ZERO : ONE;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.equals(ZERO) &amp;&amp; exponent.signum &gt;= <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> ZERO;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.equals(negConst[<span class="hljs-number">1</span>]) &amp;&amp; !exponent.testBit(<span class="hljs-number">0</span>)) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> m.equals(ONE) ? ZERO : ONE;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">boolean</span> invertResult;</span><br><span class="line">            <span class="hljs-keyword">if</span> (invertResult = exponent.signum &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                exponent = exponent.negate();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            BigInteger base = <span class="hljs-keyword">this</span>.signum &gt;= <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-keyword">this</span>.compareTo(m) &lt; <span class="hljs-number">0</span> ? <span class="hljs-keyword">this</span> : <span class="hljs-keyword">this</span>.mod(m);</span><br><span class="line">            BigInteger result;</span><br><span class="line">            <span class="hljs-keyword">if</span> (m.testBit(<span class="hljs-number">0</span>)) &#123;</span><br><span class="line">                result = base.oddModPow(exponent, m);</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> p = m.getLowestSetBit();</span><br><span class="line">                BigInteger m1 = m.shiftRight(p);</span><br><span class="line">                BigInteger m2 = ONE.shiftLeft(p);</span><br><span class="line">                BigInteger base2 = <span class="hljs-keyword">this</span>.signum &gt;= <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-keyword">this</span>.compareTo(m1) &lt; <span class="hljs-number">0</span> ? <span class="hljs-keyword">this</span> : <span class="hljs-keyword">this</span>.mod(m1);</span><br><span class="line">                BigInteger a1 = m1.equals(ONE) ? ZERO : base2.oddModPow(exponent, m1);</span><br><span class="line">                BigInteger a2 = base.modPow2(exponent, p);</span><br><span class="line">                BigInteger y1 = m2.modInverse(m1);</span><br><span class="line">                BigInteger y2 = m1.modInverse(m2);</span><br><span class="line">                <span class="hljs-keyword">if</span> (m.mag.length &lt; <span class="hljs-number">33554432</span>) &#123;</span><br><span class="line">                    result = a1.multiply(m2).multiply(y1).add(a2.multiply(m1).multiply(y2)).mod(m);</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    MutableBigInteger t1 = <span class="hljs-keyword">new</span> MutableBigInteger();</span><br><span class="line">                    (<span class="hljs-keyword">new</span> MutableBigInteger(a1.multiply(m2))).multiply(<span class="hljs-keyword">new</span> MutableBigInteger(y1), t1);</span><br><span class="line">                    MutableBigInteger t2 = <span class="hljs-keyword">new</span> MutableBigInteger();</span><br><span class="line">                    (<span class="hljs-keyword">new</span> MutableBigInteger(a2.multiply(m1))).multiply(<span class="hljs-keyword">new</span> MutableBigInteger(y2), t2);</span><br><span class="line">                    t1.add(t2);</span><br><span class="line">                    MutableBigInteger q = <span class="hljs-keyword">new</span> MutableBigInteger();</span><br><span class="line">                    result = t1.divide(<span class="hljs-keyword">new</span> MutableBigInteger(m), q).toBigInteger();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">return</span> invertResult ? result.modInverse(m) : result;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] montgomeryMultiply(<span class="hljs-keyword">int</span>[] a, <span class="hljs-keyword">int</span>[] b, <span class="hljs-keyword">int</span>[] n, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">long</span> inv, <span class="hljs-keyword">int</span>[] product) &#123;</span><br><span class="line">        implMontgomeryMultiplyChecks(a, b, n, len, product);</span><br><span class="line">        <span class="hljs-keyword">if</span> (len &gt; <span class="hljs-number">512</span>) &#123;</span><br><span class="line">            product = multiplyToLen(a, len, b, len, product);</span><br><span class="line">            <span class="hljs-keyword">return</span> montReduce(product, n, len, (<span class="hljs-keyword">int</span>)inv);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> implMontgomeryMultiply(a, b, n, len, inv, materialize(product, len));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] montgomerySquare(<span class="hljs-keyword">int</span>[] a, <span class="hljs-keyword">int</span>[] n, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">long</span> inv, <span class="hljs-keyword">int</span>[] product) &#123;</span><br><span class="line">        implMontgomeryMultiplyChecks(a, a, n, len, product);</span><br><span class="line">        <span class="hljs-keyword">if</span> (len &gt; <span class="hljs-number">512</span>) &#123;</span><br><span class="line">            product = squareToLen(a, len, product);</span><br><span class="line">            <span class="hljs-keyword">return</span> montReduce(product, n, len, (<span class="hljs-keyword">int</span>)inv);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> implMontgomerySquare(a, n, len, inv, materialize(product, len));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">implMontgomeryMultiplyChecks</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] a, <span class="hljs-keyword">int</span>[] b, <span class="hljs-keyword">int</span>[] n, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">int</span>[] product)</span> <span class="hljs-keyword">throws</span> RuntimeException </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (len % <span class="hljs-number">2</span> != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"input array length must be even: "</span> + len);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (len &lt; <span class="hljs-number">1</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"invalid input length: "</span> + len);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (len &gt; a.length || len &gt; b.length || len &gt; n.length || product != <span class="hljs-keyword">null</span> &amp;&amp; len &gt; product.length) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"input array length out of bound: "</span> + len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] materialize(<span class="hljs-keyword">int</span>[] z, <span class="hljs-keyword">int</span> len) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (z == <span class="hljs-keyword">null</span> || z.length &lt; len) &#123;</span><br><span class="line">            z = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[len];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> z;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@HotSpotIntrinsicCandidate</span></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] implMontgomeryMultiply(<span class="hljs-keyword">int</span>[] a, <span class="hljs-keyword">int</span>[] b, <span class="hljs-keyword">int</span>[] n, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">long</span> inv, <span class="hljs-keyword">int</span>[] product) &#123;</span><br><span class="line">        product = multiplyToLen(a, len, b, len, product);</span><br><span class="line">        <span class="hljs-keyword">return</span> montReduce(product, n, len, (<span class="hljs-keyword">int</span>)inv);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@HotSpotIntrinsicCandidate</span></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] implMontgomerySquare(<span class="hljs-keyword">int</span>[] a, <span class="hljs-keyword">int</span>[] n, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">long</span> inv, <span class="hljs-keyword">int</span>[] product) &#123;</span><br><span class="line">        product = squareToLen(a, len, product);</span><br><span class="line">        <span class="hljs-keyword">return</span> montReduce(product, n, len, (<span class="hljs-keyword">int</span>)inv);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> BigInteger <span class="hljs-title">oddModPow</span><span class="hljs-params">(BigInteger y, BigInteger z)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (y.equals(ONE)) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> ZERO;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span>[] base = (<span class="hljs-keyword">int</span>[])<span class="hljs-keyword">this</span>.mag.clone();</span><br><span class="line">            <span class="hljs-keyword">int</span>[] exp = y.mag;</span><br><span class="line">            <span class="hljs-keyword">int</span>[] mod = z.mag;</span><br><span class="line">            <span class="hljs-keyword">int</span> modLen = mod.length;</span><br><span class="line">            <span class="hljs-keyword">if</span> ((modLen &amp; <span class="hljs-number">1</span>) != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span>[] x = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[modLen + <span class="hljs-number">1</span>];</span><br><span class="line">                System.arraycopy(mod, <span class="hljs-number">0</span>, x, <span class="hljs-number">1</span>, modLen);</span><br><span class="line">                mod = x;</span><br><span class="line">                ++modLen;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">int</span> wbits = <span class="hljs-number">0</span>;</span><br><span class="line">            <span class="hljs-keyword">int</span> ebits = bitLength(exp, exp.length);</span><br><span class="line">            <span class="hljs-keyword">if</span> (ebits != <span class="hljs-number">17</span> || exp[<span class="hljs-number">0</span>] != <span class="hljs-number">65537</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">while</span>(ebits &gt; bnExpModThreshTable[wbits]) &#123;</span><br><span class="line">                    ++wbits;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">int</span> tblmask = <span class="hljs-number">1</span> &lt;&lt; wbits;</span><br><span class="line">            <span class="hljs-keyword">int</span>[][] table = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[tblmask][];</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; tblmask; ++i) &#123;</span><br><span class="line">                table[i] = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[modLen];</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">long</span> n0 = ((<span class="hljs-keyword">long</span>)mod[modLen - <span class="hljs-number">1</span>] &amp; <span class="hljs-number">4294967295L</span>) + (((<span class="hljs-keyword">long</span>)mod[modLen - <span class="hljs-number">2</span>] &amp; <span class="hljs-number">4294967295L</span>) &lt;&lt; <span class="hljs-number">32</span>);</span><br><span class="line">            <span class="hljs-keyword">long</span> inv = -MutableBigInteger.inverseMod64(n0);</span><br><span class="line">            <span class="hljs-keyword">int</span>[] a = leftShift(base, base.length, modLen &lt;&lt; <span class="hljs-number">5</span>);</span><br><span class="line">            MutableBigInteger q = <span class="hljs-keyword">new</span> MutableBigInteger();</span><br><span class="line">            MutableBigInteger a2 = <span class="hljs-keyword">new</span> MutableBigInteger(a);</span><br><span class="line">            MutableBigInteger b2 = <span class="hljs-keyword">new</span> MutableBigInteger(mod);</span><br><span class="line">            b2.normalize();</span><br><span class="line">            MutableBigInteger r = a2.divide(b2, q);</span><br><span class="line">            table[<span class="hljs-number">0</span>] = r.toIntArray();</span><br><span class="line">            <span class="hljs-keyword">int</span>[] t;</span><br><span class="line">            <span class="hljs-keyword">if</span> (table[<span class="hljs-number">0</span>].length &lt; modLen) &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> offset = modLen - table[<span class="hljs-number">0</span>].length;</span><br><span class="line">                t = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[modLen];</span><br><span class="line">                System.arraycopy(table[<span class="hljs-number">0</span>], <span class="hljs-number">0</span>, t, offset, table[<span class="hljs-number">0</span>].length);</span><br><span class="line">                table[<span class="hljs-number">0</span>] = t;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">int</span>[] b = montgomerySquare(table[<span class="hljs-number">0</span>], mod, modLen, inv, (<span class="hljs-keyword">int</span>[])<span class="hljs-keyword">null</span>);</span><br><span class="line">            t = Arrays.copyOf(b, modLen);</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">int</span> bitpos;</span><br><span class="line">            <span class="hljs-keyword">for</span>(bitpos = <span class="hljs-number">1</span>; bitpos &lt; tblmask; ++bitpos) &#123;</span><br><span class="line">                table[bitpos] = montgomeryMultiply(t, table[bitpos - <span class="hljs-number">1</span>], mod, modLen, inv, (<span class="hljs-keyword">int</span>[])<span class="hljs-keyword">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            bitpos = <span class="hljs-number">1</span> &lt;&lt; (ebits - <span class="hljs-number">1</span> &amp; <span class="hljs-number">31</span>);</span><br><span class="line">            <span class="hljs-keyword">int</span> buf = <span class="hljs-number">0</span>;</span><br><span class="line">            <span class="hljs-keyword">int</span> elen = exp.length;</span><br><span class="line">            <span class="hljs-keyword">int</span> eIndex = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">int</span> multpos;</span><br><span class="line">            <span class="hljs-keyword">for</span>(multpos = <span class="hljs-number">0</span>; multpos &lt;= wbits; ++multpos) &#123;</span><br><span class="line">                buf = buf &lt;&lt; <span class="hljs-number">1</span> | ((exp[eIndex] &amp; bitpos) != <span class="hljs-number">0</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);</span><br><span class="line">                bitpos &gt;&gt;&gt;= <span class="hljs-number">1</span>;</span><br><span class="line">                <span class="hljs-keyword">if</span> (bitpos == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    ++eIndex;</span><br><span class="line">                    bitpos = -<span class="hljs-number">2147483648</span>;</span><br><span class="line">                    --elen;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            --ebits;</span><br><span class="line">            <span class="hljs-keyword">boolean</span> isone = <span class="hljs-keyword">true</span>;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">for</span>(multpos = ebits - wbits; (buf &amp; <span class="hljs-number">1</span>) == <span class="hljs-number">0</span>; ++multpos) &#123;</span><br><span class="line">                buf &gt;&gt;&gt;= <span class="hljs-number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">int</span>[] mult = table[buf &gt;&gt;&gt; <span class="hljs-number">1</span>];</span><br><span class="line">            buf = <span class="hljs-number">0</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (multpos == ebits) &#123;</span><br><span class="line">                isone = <span class="hljs-keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">while</span>(<span class="hljs-keyword">true</span>) &#123;</span><br><span class="line">                --ebits;</span><br><span class="line">                buf &lt;&lt;= <span class="hljs-number">1</span>;</span><br><span class="line">                <span class="hljs-keyword">if</span> (elen != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    buf |= (exp[eIndex] &amp; bitpos) != <span class="hljs-number">0</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;</span><br><span class="line">                    bitpos &gt;&gt;&gt;= <span class="hljs-number">1</span>;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (bitpos == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                        ++eIndex;</span><br><span class="line">                        bitpos = -<span class="hljs-number">2147483648</span>;</span><br><span class="line">                        --elen;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">if</span> ((buf &amp; tblmask) != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">for</span>(multpos = ebits - wbits; (buf &amp; <span class="hljs-number">1</span>) == <span class="hljs-number">0</span>; ++multpos) &#123;</span><br><span class="line">                        buf &gt;&gt;&gt;= <span class="hljs-number">1</span>;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    mult = table[buf &gt;&gt;&gt; <span class="hljs-number">1</span>];</span><br><span class="line">                    buf = <span class="hljs-number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">if</span> (ebits == multpos) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (isone) &#123;</span><br><span class="line">                        b = (<span class="hljs-keyword">int</span>[])mult.clone();</span><br><span class="line">                        isone = <span class="hljs-keyword">false</span>;</span><br><span class="line">                    &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                        a = montgomeryMultiply(b, mult, mod, modLen, inv, a);</span><br><span class="line">                        t = a;</span><br><span class="line">                        a = b;</span><br><span class="line">                        b = t;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">if</span> (ebits == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">int</span>[] t2 = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">2</span> * modLen];</span><br><span class="line">                    System.arraycopy(b, <span class="hljs-number">0</span>, t2, modLen, modLen);</span><br><span class="line">                    b = montReduce(t2, mod, modLen, (<span class="hljs-keyword">int</span>)inv);</span><br><span class="line">                    t2 = Arrays.copyOf(b, modLen);</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(<span class="hljs-number">1</span>, t2);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">if</span> (!isone) &#123;</span><br><span class="line">                    a = montgomerySquare(b, mod, modLen, inv, a);</span><br><span class="line">                    t = a;</span><br><span class="line">                    a = b;</span><br><span class="line">                    b = t;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] montReduce(<span class="hljs-keyword">int</span>[] n, <span class="hljs-keyword">int</span>[] mod, <span class="hljs-keyword">int</span> mlen, <span class="hljs-keyword">int</span> inv) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> c = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> len = mlen;</span><br><span class="line">        <span class="hljs-keyword">int</span> offset = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> nEnd = n[n.length - <span class="hljs-number">1</span> - offset];</span><br><span class="line">            <span class="hljs-keyword">int</span> carry = mulAdd(n, mod, offset, mlen, inv * nEnd);</span><br><span class="line">            c += addOne(n, offset, mlen, carry);</span><br><span class="line">            ++offset;</span><br><span class="line">            --len;</span><br><span class="line">        &#125; <span class="hljs-keyword">while</span>(len &gt; <span class="hljs-number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">while</span>(c &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            c += subN(n, mod, mlen);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">while</span>(intArrayCmpToLen(n, mod, mlen) &gt;= <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            subN(n, mod, mlen);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">intArrayCmpToLen</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] arg1, <span class="hljs-keyword">int</span>[] arg2, <span class="hljs-keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len; ++i) &#123;</span><br><span class="line">            <span class="hljs-keyword">long</span> b1 = (<span class="hljs-keyword">long</span>)arg1[i] &amp; <span class="hljs-number">4294967295L</span>;</span><br><span class="line">            <span class="hljs-keyword">long</span> b2 = (<span class="hljs-keyword">long</span>)arg2[i] &amp; <span class="hljs-number">4294967295L</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (b1 &lt; b2) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">if</span> (b1 &gt; b2) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">subN</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] a, <span class="hljs-keyword">int</span>[] b, <span class="hljs-keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">long</span> sum = <span class="hljs-number">0L</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">while</span>(<span class="hljs-keyword">true</span>) &#123;</span><br><span class="line">            --len;</span><br><span class="line">            <span class="hljs-keyword">if</span> (len &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> (<span class="hljs-keyword">int</span>)(sum &gt;&gt; <span class="hljs-number">32</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            sum = ((<span class="hljs-keyword">long</span>)a[len] &amp; <span class="hljs-number">4294967295L</span>) - ((<span class="hljs-keyword">long</span>)b[len] &amp; <span class="hljs-number">4294967295L</span>) + (sum &gt;&gt; <span class="hljs-number">32</span>);</span><br><span class="line">            a[len] = (<span class="hljs-keyword">int</span>)sum;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">mulAdd</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] out, <span class="hljs-keyword">int</span>[] in, <span class="hljs-keyword">int</span> offset, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        implMulAddCheck(out, in, offset, len, k);</span><br><span class="line">        <span class="hljs-keyword">return</span> implMulAdd(out, in, offset, len, k);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">implMulAddCheck</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] out, <span class="hljs-keyword">int</span>[] in, <span class="hljs-keyword">int</span> offset, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (len &gt; in.length) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"input length is out of bound: "</span> + len + <span class="hljs-string">" &gt; "</span> + in.length);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (offset &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"input offset is invalid: "</span> + offset);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (offset &gt; out.length - <span class="hljs-number">1</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"input offset is out of bound: "</span> + offset + <span class="hljs-string">" &gt; "</span> + (out.length - <span class="hljs-number">1</span>));</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (len &gt; out.length - offset) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"input len is out of bound: "</span> + len + <span class="hljs-string">" &gt; "</span> + (out.length - offset));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@HotSpotIntrinsicCandidate</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">implMulAdd</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] out, <span class="hljs-keyword">int</span>[] in, <span class="hljs-keyword">int</span> offset, <span class="hljs-keyword">int</span> len, <span class="hljs-keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">long</span> kLong = (<span class="hljs-keyword">long</span>)k &amp; <span class="hljs-number">4294967295L</span>;</span><br><span class="line">        <span class="hljs-keyword">long</span> carry = <span class="hljs-number">0L</span>;</span><br><span class="line">        offset = out.length - offset - <span class="hljs-number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = len - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; --j) &#123;</span><br><span class="line">            <span class="hljs-keyword">long</span> product = ((<span class="hljs-keyword">long</span>)in[j] &amp; <span class="hljs-number">4294967295L</span>) * kLong + ((<span class="hljs-keyword">long</span>)out[offset] &amp; <span class="hljs-number">4294967295L</span>) + carry;</span><br><span class="line">            out[offset--] = (<span class="hljs-keyword">int</span>)product;</span><br><span class="line">            carry = product &gt;&gt;&gt; <span class="hljs-number">32</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">int</span>)carry;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">addOne</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] a, <span class="hljs-keyword">int</span> offset, <span class="hljs-keyword">int</span> mlen, <span class="hljs-keyword">int</span> carry)</span> </span>&#123;</span><br><span class="line">        offset = a.length - <span class="hljs-number">1</span> - mlen - offset;</span><br><span class="line">        <span class="hljs-keyword">long</span> t = ((<span class="hljs-keyword">long</span>)a[offset] &amp; <span class="hljs-number">4294967295L</span>) + ((<span class="hljs-keyword">long</span>)carry &amp; <span class="hljs-number">4294967295L</span>);</span><br><span class="line">        a[offset] = (<span class="hljs-keyword">int</span>)t;</span><br><span class="line">        <span class="hljs-keyword">if</span> (t &gt;&gt;&gt; <span class="hljs-number">32</span> == <span class="hljs-number">0L</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">do</span> &#123;</span><br><span class="line">                --mlen;</span><br><span class="line">                <span class="hljs-keyword">if</span> (mlen &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                --offset;</span><br><span class="line">                <span class="hljs-keyword">if</span> (offset &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">int</span> var10002 = a[offset]++;</span><br><span class="line">            &#125; <span class="hljs-keyword">while</span>(a[offset] == <span class="hljs-number">0</span>);</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> BigInteger <span class="hljs-title">modPow2</span><span class="hljs-params">(BigInteger exponent, <span class="hljs-keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">        BigInteger result = ONE;</span><br><span class="line">        BigInteger baseToPow2 = <span class="hljs-keyword">this</span>.mod2(p);</span><br><span class="line">        <span class="hljs-keyword">int</span> expOffset = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> limit = exponent.bitLength();</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.testBit(<span class="hljs-number">0</span>)) &#123;</span><br><span class="line">            limit = p - <span class="hljs-number">1</span> &lt; limit ? p - <span class="hljs-number">1</span> : limit;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">while</span>(expOffset &lt; limit) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (exponent.testBit(expOffset)) &#123;</span><br><span class="line">                result = result.multiply(baseToPow2).mod2(p);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            ++expOffset;</span><br><span class="line">            <span class="hljs-keyword">if</span> (expOffset &lt; limit) &#123;</span><br><span class="line">                baseToPow2 = baseToPow2.square().mod2(p);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> BigInteger <span class="hljs-title">mod2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.bitLength() &lt;= p) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> numInts = p + <span class="hljs-number">31</span> &gt;&gt;&gt; <span class="hljs-number">5</span>;</span><br><span class="line">            <span class="hljs-keyword">int</span>[] mag = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[numInts];</span><br><span class="line">            System.arraycopy(<span class="hljs-keyword">this</span>.mag, <span class="hljs-keyword">this</span>.mag.length - numInts, mag, <span class="hljs-number">0</span>, numInts);</span><br><span class="line">            <span class="hljs-keyword">int</span> excessBits = (numInts &lt;&lt; <span class="hljs-number">5</span>) - p;</span><br><span class="line">            mag[<span class="hljs-number">0</span>] = (<span class="hljs-keyword">int</span>)((<span class="hljs-keyword">long</span>)mag[<span class="hljs-number">0</span>] &amp; (<span class="hljs-number">1L</span> &lt;&lt; <span class="hljs-number">32</span> - excessBits) - <span class="hljs-number">1L</span>);</span><br><span class="line">            <span class="hljs-keyword">return</span> mag[<span class="hljs-number">0</span>] == <span class="hljs-number">0</span> ? <span class="hljs-keyword">new</span> BigInteger(<span class="hljs-number">1</span>, mag) : <span class="hljs-keyword">new</span> BigInteger(mag, <span class="hljs-number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">modInverse</span><span class="hljs-params">(BigInteger m)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (m.signum != <span class="hljs-number">1</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException(<span class="hljs-string">"BigInteger: modulus not positive"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (m.equals(ONE)) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> ZERO;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            BigInteger modVal = <span class="hljs-keyword">this</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum &lt; <span class="hljs-number">0</span> || <span class="hljs-keyword">this</span>.compareMagnitude(m) &gt;= <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                modVal = <span class="hljs-keyword">this</span>.mod(m);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">if</span> (modVal.equals(ONE)) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> ONE;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                MutableBigInteger a = <span class="hljs-keyword">new</span> MutableBigInteger(modVal);</span><br><span class="line">                MutableBigInteger b = <span class="hljs-keyword">new</span> MutableBigInteger(m);</span><br><span class="line">                MutableBigInteger result = a.mutableModInverse(b);</span><br><span class="line">                <span class="hljs-keyword">return</span> result.toBigInteger(<span class="hljs-number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">shiftLeft</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> ZERO;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(shiftLeft(<span class="hljs-keyword">this</span>.mag, n), <span class="hljs-keyword">this</span>.signum);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> n == <span class="hljs-number">0</span> ? <span class="hljs-keyword">this</span> : <span class="hljs-keyword">this</span>.shiftRightImpl(-n);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] shiftLeft(<span class="hljs-keyword">int</span>[] mag, <span class="hljs-keyword">int</span> n) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> nInts = n &gt;&gt;&gt; <span class="hljs-number">5</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> nBits = n &amp; <span class="hljs-number">31</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> magLen = mag.length;</span><br><span class="line">        <span class="hljs-keyword">int</span>[] newMag = <span class="hljs-keyword">null</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span>[] newMag;</span><br><span class="line">        <span class="hljs-keyword">if</span> (nBits == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            newMag = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[magLen + nInts];</span><br><span class="line">            System.arraycopy(mag, <span class="hljs-number">0</span>, newMag, <span class="hljs-number">0</span>, magLen);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;</span><br><span class="line">            <span class="hljs-keyword">int</span> nBits2 = <span class="hljs-number">32</span> - nBits;</span><br><span class="line">            <span class="hljs-keyword">int</span> highBits = mag[<span class="hljs-number">0</span>] &gt;&gt;&gt; nBits2;</span><br><span class="line">            <span class="hljs-keyword">if</span> (highBits != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                newMag = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[magLen + nInts + <span class="hljs-number">1</span>];</span><br><span class="line">                newMag[i++] = highBits;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                newMag = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[magLen + nInts];</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">int</span> j;</span><br><span class="line">            <span class="hljs-keyword">for</span>(j = <span class="hljs-number">0</span>; j &lt; magLen - <span class="hljs-number">1</span>; newMag[i++] = mag[j++] &lt;&lt; nBits | mag[j] &gt;&gt;&gt; nBits2) &#123;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            newMag[i] = mag[j] &lt;&lt; nBits;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> newMag;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">shiftRight</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> ZERO;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.shiftRightImpl(n);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> n == <span class="hljs-number">0</span> ? <span class="hljs-keyword">this</span> : <span class="hljs-keyword">new</span> BigInteger(shiftLeft(<span class="hljs-keyword">this</span>.mag, -n), <span class="hljs-keyword">this</span>.signum);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> BigInteger <span class="hljs-title">shiftRightImpl</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> nInts = n &gt;&gt;&gt; <span class="hljs-number">5</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> nBits = n &amp; <span class="hljs-number">31</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> magLen = <span class="hljs-keyword">this</span>.mag.length;</span><br><span class="line">        <span class="hljs-keyword">int</span>[] newMag = <span class="hljs-keyword">null</span>;</span><br><span class="line">        <span class="hljs-keyword">if</span> (nInts &gt;= magLen) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.signum &gt;= <span class="hljs-number">0</span> ? ZERO : negConst[<span class="hljs-number">1</span>];</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> newMagLen;</span><br><span class="line">            <span class="hljs-keyword">int</span> i;</span><br><span class="line">            <span class="hljs-keyword">int</span> nBits2;</span><br><span class="line">            <span class="hljs-keyword">int</span>[] newMag;</span><br><span class="line">            <span class="hljs-keyword">if</span> (nBits == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                newMagLen = magLen - nInts;</span><br><span class="line">                newMag = Arrays.copyOf(<span class="hljs-keyword">this</span>.mag, newMagLen);</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                newMagLen = <span class="hljs-number">0</span>;</span><br><span class="line">                i = <span class="hljs-keyword">this</span>.mag[<span class="hljs-number">0</span>] &gt;&gt;&gt; nBits;</span><br><span class="line">                <span class="hljs-keyword">if</span> (i != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    newMag = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[magLen - nInts];</span><br><span class="line">                    newMag[newMagLen++] = i;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    newMag = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[magLen - nInts - <span class="hljs-number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                nBits2 = <span class="hljs-number">32</span> - nBits;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; magLen - nInts - <span class="hljs-number">1</span>; newMag[newMagLen++] = <span class="hljs-keyword">this</span>.mag[j++] &lt;&lt; nBits2 | <span class="hljs-keyword">this</span>.mag[j] &gt;&gt;&gt; nBits) &#123;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">boolean</span> onesLost = <span class="hljs-keyword">false</span>;</span><br><span class="line">                i = magLen - <span class="hljs-number">1</span>;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">for</span>(nBits2 = magLen - nInts; i &gt;= nBits2 &amp;&amp; !onesLost; --i) &#123;</span><br><span class="line">                    onesLost = <span class="hljs-keyword">this</span>.mag[i] != <span class="hljs-number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">if</span> (!onesLost &amp;&amp; nBits != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    onesLost = <span class="hljs-keyword">this</span>.mag[magLen - nInts - <span class="hljs-number">1</span>] &lt;&lt; <span class="hljs-number">32</span> - nBits != <span class="hljs-number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">if</span> (onesLost) &#123;</span><br><span class="line">                    newMag = <span class="hljs-keyword">this</span>.javaIncrement(newMag);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BigInteger(newMag, <span class="hljs-keyword">this</span>.signum);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">int</span>[] javaIncrement(<span class="hljs-keyword">int</span>[] val) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> lastSum = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = val.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span> &amp;&amp; lastSum == <span class="hljs-number">0</span>; --i) &#123;</span><br><span class="line">            lastSum = ++val[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">if</span> (lastSum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            val = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[val.length + <span class="hljs-number">1</span>];</span><br><span class="line">            val[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">and</span><span class="hljs-params">(BigInteger val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span>[] result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[Math.max(<span class="hljs-keyword">this</span>.intLength(), val.intLength())];</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; result.length; ++i) &#123;</span><br><span class="line">            result[i] = <span class="hljs-keyword">this</span>.getInt(result.length - i - <span class="hljs-number">1</span>) &amp; val.getInt(result.length - i - <span class="hljs-number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> valueOf(result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">or</span><span class="hljs-params">(BigInteger val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span>[] result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[Math.max(<span class="hljs-keyword">this</span>.intLength(), val.intLength())];</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; result.length; ++i) &#123;</span><br><span class="line">            result[i] = <span class="hljs-keyword">this</span>.getInt(result.length - i - <span class="hljs-number">1</span>) | val.getInt(result.length - i - <span class="hljs-number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> valueOf(result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">xor</span><span class="hljs-params">(BigInteger val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span>[] result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[Math.max(<span class="hljs-keyword">this</span>.intLength(), val.intLength())];</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; result.length; ++i) &#123;</span><br><span class="line">            result[i] = <span class="hljs-keyword">this</span>.getInt(result.length - i - <span class="hljs-number">1</span>) ^ val.getInt(result.length - i - <span class="hljs-number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> valueOf(result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">not</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span>[] result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-keyword">this</span>.intLength()];</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; result.length; ++i) &#123;</span><br><span class="line">            result[i] = ~<span class="hljs-keyword">this</span>.getInt(result.length - i - <span class="hljs-number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> valueOf(result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">andNot</span><span class="hljs-params">(BigInteger val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span>[] result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[Math.max(<span class="hljs-keyword">this</span>.intLength(), val.intLength())];</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; result.length; ++i) &#123;</span><br><span class="line">            result[i] = <span class="hljs-keyword">this</span>.getInt(result.length - i - <span class="hljs-number">1</span>) &amp; ~val.getInt(result.length - i - <span class="hljs-number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> valueOf(result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">testBit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException(<span class="hljs-string">"Negative bit address"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.getInt(n &gt;&gt;&gt; <span class="hljs-number">5</span>) &amp; <span class="hljs-number">1</span> &lt;&lt; (n &amp; <span class="hljs-number">31</span>)) != <span class="hljs-number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">setBit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException(<span class="hljs-string">"Negative bit address"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> intNum = n &gt;&gt;&gt; <span class="hljs-number">5</span>;</span><br><span class="line">            <span class="hljs-keyword">int</span>[] result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[Math.max(<span class="hljs-keyword">this</span>.intLength(), intNum + <span class="hljs-number">2</span>)];</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; result.length; ++i) &#123;</span><br><span class="line">                result[result.length - i - <span class="hljs-number">1</span>] = <span class="hljs-keyword">this</span>.getInt(i);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            result[result.length - intNum - <span class="hljs-number">1</span>] |= <span class="hljs-number">1</span> &lt;&lt; (n &amp; <span class="hljs-number">31</span>);</span><br><span class="line">            <span class="hljs-keyword">return</span> valueOf(result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">clearBit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException(<span class="hljs-string">"Negative bit address"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> intNum = n &gt;&gt;&gt; <span class="hljs-number">5</span>;</span><br><span class="line">            <span class="hljs-keyword">int</span>[] result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[Math.max(<span class="hljs-keyword">this</span>.intLength(), (n + <span class="hljs-number">1</span> &gt;&gt;&gt; <span class="hljs-number">5</span>) + <span class="hljs-number">1</span>)];</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; result.length; ++i) &#123;</span><br><span class="line">                result[result.length - i - <span class="hljs-number">1</span>] = <span class="hljs-keyword">this</span>.getInt(i);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            result[result.length - intNum - <span class="hljs-number">1</span>] &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; (n &amp; <span class="hljs-number">31</span>));</span><br><span class="line">            <span class="hljs-keyword">return</span> valueOf(result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">flipBit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException(<span class="hljs-string">"Negative bit address"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> intNum = n &gt;&gt;&gt; <span class="hljs-number">5</span>;</span><br><span class="line">            <span class="hljs-keyword">int</span>[] result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[Math.max(<span class="hljs-keyword">this</span>.intLength(), intNum + <span class="hljs-number">2</span>)];</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; result.length; ++i) &#123;</span><br><span class="line">                result[result.length - i - <span class="hljs-number">1</span>] = <span class="hljs-keyword">this</span>.getInt(i);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            result[result.length - intNum - <span class="hljs-number">1</span>] ^= <span class="hljs-number">1</span> &lt;&lt; (n &amp; <span class="hljs-number">31</span>);</span><br><span class="line">            <span class="hljs-keyword">return</span> valueOf(result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getLowestSetBit</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> lsb = <span class="hljs-keyword">this</span>.lowestSetBitPlusTwo - <span class="hljs-number">2</span>;</span><br><span class="line">        <span class="hljs-keyword">if</span> (lsb == -<span class="hljs-number">2</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> lsb = <span class="hljs-number">0</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                lsb = lsb - <span class="hljs-number">1</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> i;</span><br><span class="line">                <span class="hljs-keyword">int</span> b;</span><br><span class="line">                <span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; (b = <span class="hljs-keyword">this</span>.getInt(i)) == <span class="hljs-number">0</span>; ++i) &#123;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                lsb = lsb + (i &lt;&lt; <span class="hljs-number">5</span>) + Integer.numberOfTrailingZeros(b);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">this</span>.lowestSetBitPlusTwo = lsb + <span class="hljs-number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> lsb;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">bitLength</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> n = <span class="hljs-keyword">this</span>.bitLengthPlusOne - <span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">if</span> (n == -<span class="hljs-number">1</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span>[] m = <span class="hljs-keyword">this</span>.mag;</span><br><span class="line">            <span class="hljs-keyword">int</span> len = m.length;</span><br><span class="line">            <span class="hljs-keyword">if</span> (len == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                n = <span class="hljs-number">0</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> magBitLength = (len - <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">5</span>) + bitLengthForInt(<span class="hljs-keyword">this</span>.mag[<span class="hljs-number">0</span>]);</span><br><span class="line">                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum &gt;= <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    n = magBitLength;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">boolean</span> pow2 = Integer.bitCount(<span class="hljs-keyword">this</span>.mag[<span class="hljs-number">0</span>]) == <span class="hljs-number">1</span>;</span><br><span class="line"></span><br><span class="line">                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; len &amp;&amp; pow2; ++i) &#123;</span><br><span class="line">                        pow2 = <span class="hljs-keyword">this</span>.mag[i] == <span class="hljs-number">0</span>;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    n = pow2 ? magBitLength - <span class="hljs-number">1</span> : magBitLength;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">this</span>.bitLengthPlusOne = n + <span class="hljs-number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">bitCount</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> bc = <span class="hljs-keyword">this</span>.bitCountPlusOne - <span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">if</span> (bc == -<span class="hljs-number">1</span>) &#123;</span><br><span class="line">            bc = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">int</span> magTrailingZeroCount;</span><br><span class="line">            <span class="hljs-keyword">for</span>(magTrailingZeroCount = <span class="hljs-number">0</span>; magTrailingZeroCount &lt; <span class="hljs-keyword">this</span>.mag.length; ++magTrailingZeroCount) &#123;</span><br><span class="line">                bc += Integer.bitCount(<span class="hljs-keyword">this</span>.mag[magTrailingZeroCount]);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                magTrailingZeroCount = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">int</span> j;</span><br><span class="line">                <span class="hljs-keyword">for</span>(j = <span class="hljs-keyword">this</span>.mag.length - <span class="hljs-number">1</span>; <span class="hljs-keyword">this</span>.mag[j] == <span class="hljs-number">0</span>; --j) &#123;</span><br><span class="line">                    magTrailingZeroCount += <span class="hljs-number">32</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                magTrailingZeroCount += Integer.numberOfTrailingZeros(<span class="hljs-keyword">this</span>.mag[j]);</span><br><span class="line">                bc += magTrailingZeroCount - <span class="hljs-number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">this</span>.bitCountPlusOne = bc + <span class="hljs-number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> bc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isProbablePrime</span><span class="hljs-params">(<span class="hljs-keyword">int</span> certainty)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (certainty &lt;= <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            BigInteger w = <span class="hljs-keyword">this</span>.abs();</span><br><span class="line">            <span class="hljs-keyword">if</span> (w.equals(TWO)) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> w.testBit(<span class="hljs-number">0</span>) &amp;&amp; !w.equals(ONE) ? w.primeToCertainty(certainty, (Random)<span class="hljs-keyword">null</span>) : <span class="hljs-keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compareTo</span><span class="hljs-params">(BigInteger val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum == val.signum) &#123;</span><br><span class="line">            <span class="hljs-keyword">switch</span>(<span class="hljs-keyword">this</span>.signum) &#123;</span><br><span class="line">            <span class="hljs-keyword">case</span> -<span class="hljs-number">1</span>:</span><br><span class="line">                <span class="hljs-keyword">return</span> val.compareMagnitude(<span class="hljs-keyword">this</span>);</span><br><span class="line">            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.compareMagnitude(val);</span><br><span class="line">            <span class="hljs-keyword">default</span>:</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.signum &gt; val.signum ? <span class="hljs-number">1</span> : -<span class="hljs-number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compareMagnitude</span><span class="hljs-params">(BigInteger val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span>[] m1 = <span class="hljs-keyword">this</span>.mag;</span><br><span class="line">        <span class="hljs-keyword">int</span> len1 = m1.length;</span><br><span class="line">        <span class="hljs-keyword">int</span>[] m2 = val.mag;</span><br><span class="line">        <span class="hljs-keyword">int</span> len2 = m2.length;</span><br><span class="line">        <span class="hljs-keyword">if</span> (len1 &lt; len2) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (len1 &gt; len2) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len1; ++i) &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> a = m1[i];</span><br><span class="line">                <span class="hljs-keyword">int</span> b = m2[i];</span><br><span class="line">                <span class="hljs-keyword">if</span> (a != b) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> ((<span class="hljs-keyword">long</span>)a &amp; <span class="hljs-number">4294967295L</span>) &lt; ((<span class="hljs-keyword">long</span>)b &amp; <span class="hljs-number">4294967295L</span>) ? -<span class="hljs-number">1</span> : <span class="hljs-number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compareMagnitude</span><span class="hljs-params">(<span class="hljs-keyword">long</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">assert</span> val != -<span class="hljs-number">9223372036854775808L</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">int</span>[] m1 = <span class="hljs-keyword">this</span>.mag;</span><br><span class="line">        <span class="hljs-keyword">int</span> len = m1.length;</span><br><span class="line">        <span class="hljs-keyword">if</span> (len &gt; <span class="hljs-number">2</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (val &lt; <span class="hljs-number">0L</span>) &#123;</span><br><span class="line">                val = -val;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">int</span> highWord = (<span class="hljs-keyword">int</span>)(val &gt;&gt;&gt; <span class="hljs-number">32</span>);</span><br><span class="line">            <span class="hljs-keyword">int</span> a;</span><br><span class="line">            <span class="hljs-keyword">int</span> b;</span><br><span class="line">            <span class="hljs-keyword">if</span> (highWord == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">if</span> (len &lt; <span class="hljs-number">1</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (len &gt; <span class="hljs-number">1</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    a = m1[<span class="hljs-number">0</span>];</span><br><span class="line">                    b = (<span class="hljs-keyword">int</span>)val;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (a != b) &#123;</span><br><span class="line">                        <span class="hljs-keyword">return</span> ((<span class="hljs-keyword">long</span>)a &amp; <span class="hljs-number">4294967295L</span>) &lt; ((<span class="hljs-keyword">long</span>)b &amp; <span class="hljs-number">4294967295L</span>) ? -<span class="hljs-number">1</span> : <span class="hljs-number">1</span>;</span><br><span class="line">                    &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (len &lt; <span class="hljs-number">2</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                a = m1[<span class="hljs-number">0</span>];</span><br><span class="line">                <span class="hljs-keyword">if</span> (a != highWord) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> ((<span class="hljs-keyword">long</span>)a &amp; <span class="hljs-number">4294967295L</span>) &lt; ((<span class="hljs-keyword">long</span>)highWord &amp; <span class="hljs-number">4294967295L</span>) ? -<span class="hljs-number">1</span> : <span class="hljs-number">1</span>;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    a = m1[<span class="hljs-number">1</span>];</span><br><span class="line">                    b = (<span class="hljs-keyword">int</span>)val;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (a != b) &#123;</span><br><span class="line">                        <span class="hljs-keyword">return</span> ((<span class="hljs-keyword">long</span>)a &amp; <span class="hljs-number">4294967295L</span>) &lt; ((<span class="hljs-keyword">long</span>)b &amp; <span class="hljs-number">4294967295L</span>) ? -<span class="hljs-number">1</span> : <span class="hljs-number">1</span>;</span><br><span class="line">                    &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">equals</span><span class="hljs-params">(Object x)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (x == <span class="hljs-keyword">this</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!(x <span class="hljs-keyword">instanceof</span> BigInteger)) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            BigInteger xInt = (BigInteger)x;</span><br><span class="line">            <span class="hljs-keyword">if</span> (xInt.signum != <span class="hljs-keyword">this</span>.signum) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span>[] m = <span class="hljs-keyword">this</span>.mag;</span><br><span class="line">                <span class="hljs-keyword">int</span> len = m.length;</span><br><span class="line">                <span class="hljs-keyword">int</span>[] xm = xInt.mag;</span><br><span class="line">                <span class="hljs-keyword">if</span> (len != xm.length) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len; ++i) &#123;</span><br><span class="line">                        <span class="hljs-keyword">if</span> (xm[i] != m[i]) &#123;</span><br><span class="line">                            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">min</span><span class="hljs-params">(BigInteger val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.compareTo(val) &lt; <span class="hljs-number">0</span> ? <span class="hljs-keyword">this</span> : val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> BigInteger <span class="hljs-title">max</span><span class="hljs-params">(BigInteger val)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.compareTo(val) &gt; <span class="hljs-number">0</span> ? <span class="hljs-keyword">this</span> : val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hashCode</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> hashCode = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.mag.length; ++i) &#123;</span><br><span class="line">            hashCode = (<span class="hljs-keyword">int</span>)((<span class="hljs-keyword">long</span>)(<span class="hljs-number">31</span> * hashCode) + ((<span class="hljs-keyword">long</span>)<span class="hljs-keyword">this</span>.mag[i] &amp; <span class="hljs-number">4294967295L</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> hashCode * <span class="hljs-keyword">this</span>.signum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">(<span class="hljs-keyword">int</span> radix)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-string">"0"</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (radix &lt; <span class="hljs-number">2</span> || radix &gt; <span class="hljs-number">36</span>) &#123;</span><br><span class="line">                radix = <span class="hljs-number">10</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mag.length &lt;= <span class="hljs-number">20</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.smallToString(radix);</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                StringBuilder sb = <span class="hljs-keyword">new</span> StringBuilder();</span><br><span class="line">                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    toString(<span class="hljs-keyword">this</span>.negate(), sb, radix, <span class="hljs-number">0</span>);</span><br><span class="line">                    sb.insert(<span class="hljs-number">0</span>, <span class="hljs-string">'-'</span>);</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    toString(<span class="hljs-keyword">this</span>, sb, radix, <span class="hljs-number">0</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">return</span> sb.toString();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> String <span class="hljs-title">smallToString</span><span class="hljs-params">(<span class="hljs-keyword">int</span> radix)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-string">"0"</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> maxNumDigitGroups = (<span class="hljs-number">4</span> * <span class="hljs-keyword">this</span>.mag.length + <span class="hljs-number">6</span>) / <span class="hljs-number">7</span>;</span><br><span class="line">            String[] digitGroup = <span class="hljs-keyword">new</span> String[maxNumDigitGroups];</span><br><span class="line">            BigInteger tmp = <span class="hljs-keyword">this</span>.abs();</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">int</span> numGroups;</span><br><span class="line">            BigInteger q2;</span><br><span class="line">            <span class="hljs-keyword">for</span>(numGroups = <span class="hljs-number">0</span>; tmp.signum != <span class="hljs-number">0</span>; tmp = q2) &#123;</span><br><span class="line">                BigInteger d = longRadix[radix];</span><br><span class="line">                MutableBigInteger q = <span class="hljs-keyword">new</span> MutableBigInteger();</span><br><span class="line">                MutableBigInteger a = <span class="hljs-keyword">new</span> MutableBigInteger(tmp.mag);</span><br><span class="line">                MutableBigInteger b = <span class="hljs-keyword">new</span> MutableBigInteger(d.mag);</span><br><span class="line">                MutableBigInteger r = a.divide(b, q);</span><br><span class="line">                q2 = q.toBigInteger(tmp.signum * d.signum);</span><br><span class="line">                BigInteger r2 = r.toBigInteger(tmp.signum * d.signum);</span><br><span class="line">                digitGroup[numGroups++] = Long.toString(r2.longValue(), radix);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            StringBuilder buf = <span class="hljs-keyword">new</span> StringBuilder(numGroups * digitsPerLong[radix] + <span class="hljs-number">1</span>);</span><br><span class="line">            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                buf.append(<span class="hljs-string">'-'</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            buf.append(digitGroup[numGroups - <span class="hljs-number">1</span>]);</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = numGroups - <span class="hljs-number">2</span>; i &gt;= <span class="hljs-number">0</span>; --i) &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> numLeadingZeros = digitsPerLong[radix] - digitGroup[i].length();</span><br><span class="line">                <span class="hljs-keyword">if</span> (numLeadingZeros != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    buf.append(zeros[numLeadingZeros]);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                buf.append(digitGroup[i]);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">return</span> buf.toString();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">toString</span><span class="hljs-params">(BigInteger u, StringBuilder sb, <span class="hljs-keyword">int</span> radix, <span class="hljs-keyword">int</span> digits)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> i;</span><br><span class="line">        <span class="hljs-keyword">if</span> (u.mag.length &gt; <span class="hljs-number">20</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> b = u.bitLength();</span><br><span class="line">            i = (<span class="hljs-keyword">int</span>)Math.round(Math.log((<span class="hljs-keyword">double</span>)b * LOG_TWO / logCache[radix]) / LOG_TWO - <span class="hljs-number">1.0</span>D);</span><br><span class="line">            BigInteger v = getRadixConversionCache(radix, i);</span><br><span class="line">            BigInteger[] results = u.divideAndRemainder(v);</span><br><span class="line">            <span class="hljs-keyword">int</span> expectedDigits = <span class="hljs-number">1</span> &lt;&lt; i;</span><br><span class="line">            toString(results[<span class="hljs-number">0</span>], sb, radix, digits - expectedDigits);</span><br><span class="line">            toString(results[<span class="hljs-number">1</span>], sb, radix, expectedDigits);</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            String s = u.smallToString(radix);</span><br><span class="line">            <span class="hljs-keyword">if</span> (s.length() &lt; digits &amp;&amp; sb.length() &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">for</span>(i = s.length(); i &lt; digits; ++i) &#123;</span><br><span class="line">                    sb.append(<span class="hljs-string">'0'</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            sb.append(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> BigInteger <span class="hljs-title">getRadixConversionCache</span><span class="hljs-params">(<span class="hljs-keyword">int</span> radix, <span class="hljs-keyword">int</span> exponent)</span> </span>&#123;</span><br><span class="line">        BigInteger[] cacheLine = powerCache[radix];</span><br><span class="line">        <span class="hljs-keyword">if</span> (exponent &lt; cacheLine.length) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> cacheLine[exponent];</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> oldLength = cacheLine.length;</span><br><span class="line">            cacheLine = (BigInteger[])Arrays.copyOf(cacheLine, exponent + <span class="hljs-number">1</span>);</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = oldLength; i &lt;= exponent; ++i) &#123;</span><br><span class="line">                cacheLine[i] = cacheLine[i - <span class="hljs-number">1</span>].pow(<span class="hljs-number">2</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            BigInteger[][] pc = powerCache;</span><br><span class="line">            <span class="hljs-keyword">if</span> (exponent &gt;= pc[radix].length) &#123;</span><br><span class="line">                pc = (BigInteger[][])pc.clone();</span><br><span class="line">                pc[radix] = cacheLine;</span><br><span class="line">                powerCache = pc;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">return</span> cacheLine[exponent];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.toString(<span class="hljs-number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">byte</span>[] toByteArray() &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> byteLen = <span class="hljs-keyword">this</span>.bitLength() / <span class="hljs-number">8</span> + <span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">byte</span>[] byteArray = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[byteLen];</span><br><span class="line">        <span class="hljs-keyword">int</span> i = byteLen - <span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> bytesCopied = <span class="hljs-number">4</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> nextInt = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> var6 = <span class="hljs-number">0</span>; i &gt;= <span class="hljs-number">0</span>; --i) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (bytesCopied == <span class="hljs-number">4</span>) &#123;</span><br><span class="line">                nextInt = <span class="hljs-keyword">this</span>.getInt(var6++);</span><br><span class="line">                bytesCopied = <span class="hljs-number">1</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                nextInt &gt;&gt;&gt;= <span class="hljs-number">8</span>;</span><br><span class="line">                ++bytesCopied;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            byteArray[i] = (<span class="hljs-keyword">byte</span>)nextInt;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> byteArray;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">intValue</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> result = <span class="hljs-keyword">false</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> result = <span class="hljs-keyword">this</span>.getInt(<span class="hljs-number">0</span>);</span><br><span class="line">        <span class="hljs-keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> <span class="hljs-title">longValue</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">long</span> result = <span class="hljs-number">0L</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i) &#123;</span><br><span class="line">            result = (result &lt;&lt; <span class="hljs-number">32</span>) + ((<span class="hljs-keyword">long</span>)<span class="hljs-keyword">this</span>.getInt(i) &amp; <span class="hljs-number">4294967295L</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">float</span> <span class="hljs-title">floatValue</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-number">0.0F</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> exponent = (<span class="hljs-keyword">this</span>.mag.length - <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">5</span>) + bitLengthForInt(<span class="hljs-keyword">this</span>.mag[<span class="hljs-number">0</span>]) - <span class="hljs-number">1</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (exponent &lt; <span class="hljs-number">63</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> (<span class="hljs-keyword">float</span>)<span class="hljs-keyword">this</span>.longValue();</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (exponent &gt; <span class="hljs-number">127</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.signum &gt; <span class="hljs-number">0</span> ? <span class="hljs-number">1.0F</span> / <span class="hljs-number">0.0</span> : -<span class="hljs-number">1.0F</span> / <span class="hljs-number">0.0</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> shift = exponent - <span class="hljs-number">24</span>;</span><br><span class="line">                <span class="hljs-keyword">int</span> nBits = shift &amp; <span class="hljs-number">31</span>;</span><br><span class="line">                <span class="hljs-keyword">int</span> nBits2 = <span class="hljs-number">32</span> - nBits;</span><br><span class="line">                <span class="hljs-keyword">int</span> twiceSignifFloor;</span><br><span class="line">                <span class="hljs-keyword">if</span> (nBits == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    twiceSignifFloor = <span class="hljs-keyword">this</span>.mag[<span class="hljs-number">0</span>];</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    twiceSignifFloor = <span class="hljs-keyword">this</span>.mag[<span class="hljs-number">0</span>] &gt;&gt;&gt; nBits;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (twiceSignifFloor == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                        twiceSignifFloor = <span class="hljs-keyword">this</span>.mag[<span class="hljs-number">0</span>] &lt;&lt; nBits2 | <span class="hljs-keyword">this</span>.mag[<span class="hljs-number">1</span>] &gt;&gt;&gt; nBits;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">int</span> signifFloor = twiceSignifFloor &gt;&gt; <span class="hljs-number">1</span>;</span><br><span class="line">                signifFloor &amp;= <span class="hljs-number">8388607</span>;</span><br><span class="line">                <span class="hljs-keyword">boolean</span> increment = (twiceSignifFloor &amp; <span class="hljs-number">1</span>) != <span class="hljs-number">0</span> &amp;&amp; ((signifFloor &amp; <span class="hljs-number">1</span>) != <span class="hljs-number">0</span> || <span class="hljs-keyword">this</span>.abs().getLowestSetBit() &lt; shift);</span><br><span class="line">                <span class="hljs-keyword">int</span> signifRounded = increment ? signifFloor + <span class="hljs-number">1</span> : signifFloor;</span><br><span class="line">                <span class="hljs-keyword">int</span> bits = exponent + <span class="hljs-number">127</span> &lt;&lt; <span class="hljs-number">23</span>;</span><br><span class="line">                bits += signifRounded;</span><br><span class="line">                bits |= <span class="hljs-keyword">this</span>.signum &amp; -<span class="hljs-number">2147483648</span>;</span><br><span class="line">                <span class="hljs-keyword">return</span> Float.intBitsToFloat(bits);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">doubleValue</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.signum == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-number">0.0</span>D;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> exponent = (<span class="hljs-keyword">this</span>.mag.length - <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">5</span>) + bitLengthForInt(<span class="hljs-keyword">this</span>.mag[<span class="hljs-number">0</span>]) - <span class="hljs-number">1</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (exponent &lt; <span class="hljs-number">63</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> (<span class="hljs-keyword">double</span>)<span class="hljs-keyword">this</span>.longValue();</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (exponent &gt; <span class="hljs-number">1023</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.signum &gt; <span class="hljs-number">0</span> ? <span class="hljs-number">1.0</span>D / <span class="hljs-number">0.0</span> : -<span class="hljs-number">1.0</span>D / <span class="hljs-number">0.0</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> shift = exponent - <span class="hljs-number">53</span>;</span><br><span class="line">                <span class="hljs-keyword">int</span> nBits = shift &amp; <span class="hljs-number">31</span>;</span><br><span class="line">                <span class="hljs-keyword">int</span> nBits2 = <span class="hljs-number">32</span> - nBits;</span><br><span class="line">                <span class="hljs-keyword">int</span> highBits;</span><br><span class="line">                <span class="hljs-keyword">int</span> lowBits;</span><br><span class="line">                <span class="hljs-keyword">if</span> (nBits == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    highBits = <span class="hljs-keyword">this</span>.mag[<span class="hljs-number">0</span>];</span><br><span class="line">                    lowBits = <span class="hljs-keyword">this</span>.mag[<span class="hljs-number">1</span>];</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    highBits = <span class="hljs-keyword">this</span>.mag[<span class="hljs-number">0</span>] &gt;&gt;&gt; nBits;</span><br><span class="line">                    lowBits = <span class="hljs-keyword">this</span>.mag[<span class="hljs-number">0</span>] &lt;&lt; nBits2 | <span class="hljs-keyword">this</span>.mag[<span class="hljs-number">1</span>] &gt;&gt;&gt; nBits;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (highBits == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                        highBits = lowBits;</span><br><span class="line">                        lowBits = <span class="hljs-keyword">this</span>.mag[<span class="hljs-number">1</span>] &lt;&lt; nBits2 | <span class="hljs-keyword">this</span>.mag[<span class="hljs-number">2</span>] &gt;&gt;&gt; nBits;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">long</span> twiceSignifFloor = ((<span class="hljs-keyword">long</span>)highBits &amp; <span class="hljs-number">4294967295L</span>) &lt;&lt; <span class="hljs-number">32</span> | (<span class="hljs-keyword">long</span>)lowBits &amp; <span class="hljs-number">4294967295L</span>;</span><br><span class="line">                <span class="hljs-keyword">long</span> signifFloor = twiceSignifFloor &gt;&gt; <span class="hljs-number">1</span>;</span><br><span class="line">                signifFloor &amp;= <span class="hljs-number">4503599627370495L</span>;</span><br><span class="line">                <span class="hljs-keyword">boolean</span> increment = (twiceSignifFloor &amp; <span class="hljs-number">1L</span>) != <span class="hljs-number">0L</span> &amp;&amp; ((signifFloor &amp; <span class="hljs-number">1L</span>) != <span class="hljs-number">0L</span> || <span class="hljs-keyword">this</span>.abs().getLowestSetBit() &lt; shift);</span><br><span class="line">                <span class="hljs-keyword">long</span> signifRounded = increment ? signifFloor + <span class="hljs-number">1L</span> : signifFloor;</span><br><span class="line">                <span class="hljs-keyword">long</span> bits = (<span class="hljs-keyword">long</span>)(exponent + <span class="hljs-number">1023</span>) &lt;&lt; <span class="hljs-number">52</span>;</span><br><span class="line">                bits += signifRounded;</span><br><span class="line">                bits |= (<span class="hljs-keyword">long</span>)<span class="hljs-keyword">this</span>.signum &amp; -<span class="hljs-number">9223372036854775808L</span>;</span><br><span class="line">                <span class="hljs-keyword">return</span> Double.longBitsToDouble(bits);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] stripLeadingZeroInts(<span class="hljs-keyword">int</span>[] val) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> vlen = val.length;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">int</span> keep;</span><br><span class="line">        <span class="hljs-keyword">for</span>(keep = <span class="hljs-number">0</span>; keep &lt; vlen &amp;&amp; val[keep] == <span class="hljs-number">0</span>; ++keep) &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> Arrays.copyOfRange(val, keep, vlen);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] trustedStripLeadingZeroInts(<span class="hljs-keyword">int</span>[] val) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> vlen = val.length;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">int</span> keep;</span><br><span class="line">        <span class="hljs-keyword">for</span>(keep = <span class="hljs-number">0</span>; keep &lt; vlen &amp;&amp; val[keep] == <span class="hljs-number">0</span>; ++keep) &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> keep == <span class="hljs-number">0</span> ? val : Arrays.copyOfRange(val, keep, vlen);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] stripLeadingZeroBytes(<span class="hljs-keyword">byte</span>[] a, <span class="hljs-keyword">int</span> off, <span class="hljs-keyword">int</span> len) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> indexBound = off + len;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">int</span> keep;</span><br><span class="line">        <span class="hljs-keyword">for</span>(keep = off; keep &lt; indexBound &amp;&amp; a[keep] == <span class="hljs-number">0</span>; ++keep) &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">int</span> intLength = indexBound - keep + <span class="hljs-number">3</span> &gt;&gt;&gt; <span class="hljs-number">2</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span>[] result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[intLength];</span><br><span class="line">        <span class="hljs-keyword">int</span> b = indexBound - <span class="hljs-number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = intLength - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i) &#123;</span><br><span class="line">            result[i] = a[b--] &amp; <span class="hljs-number">255</span>;</span><br><span class="line">            <span class="hljs-keyword">int</span> bytesRemaining = b - keep + <span class="hljs-number">1</span>;</span><br><span class="line">            <span class="hljs-keyword">int</span> bytesToTransfer = Math.min(<span class="hljs-number">3</span>, bytesRemaining);</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">8</span>; j &lt;= bytesToTransfer &lt;&lt; <span class="hljs-number">3</span>; j += <span class="hljs-number">8</span>) &#123;</span><br><span class="line">                result[i] |= (a[b--] &amp; <span class="hljs-number">255</span>) &lt;&lt; j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] makePositive(<span class="hljs-keyword">byte</span>[] a, <span class="hljs-keyword">int</span> off, <span class="hljs-keyword">int</span> len) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> indexBound = off + len;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">int</span> keep;</span><br><span class="line">        <span class="hljs-keyword">for</span>(keep = off; keep &lt; indexBound &amp;&amp; a[keep] == -<span class="hljs-number">1</span>; ++keep) &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">int</span> k;</span><br><span class="line">        <span class="hljs-keyword">for</span>(k = keep; k &lt; indexBound &amp;&amp; a[k] == <span class="hljs-number">0</span>; ++k) &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">int</span> extraByte = k == indexBound ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> intLength = indexBound - keep + extraByte + <span class="hljs-number">3</span> &gt;&gt;&gt; <span class="hljs-number">2</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span>[] result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[intLength];</span><br><span class="line">        <span class="hljs-keyword">int</span> b = indexBound - <span class="hljs-number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">int</span> i;</span><br><span class="line">        <span class="hljs-keyword">for</span>(i = intLength - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i) &#123;</span><br><span class="line">            result[i] = a[b--] &amp; <span class="hljs-number">255</span>;</span><br><span class="line">            <span class="hljs-keyword">int</span> numBytesToTransfer = Math.min(<span class="hljs-number">3</span>, b - keep + <span class="hljs-number">1</span>);</span><br><span class="line">            <span class="hljs-keyword">if</span> (numBytesToTransfer &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                numBytesToTransfer = <span class="hljs-number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">int</span> mask;</span><br><span class="line">            <span class="hljs-keyword">for</span>(mask = <span class="hljs-number">8</span>; mask &lt;= <span class="hljs-number">8</span> * numBytesToTransfer; mask += <span class="hljs-number">8</span>) &#123;</span><br><span class="line">                result[i] |= (a[b--] &amp; <span class="hljs-number">255</span>) &lt;&lt; mask;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            mask = -<span class="hljs-number">1</span> &gt;&gt;&gt; <span class="hljs-number">8</span> * (<span class="hljs-number">3</span> - numBytesToTransfer);</span><br><span class="line">            result[i] = ~result[i] &amp; mask;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(i = result.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i) &#123;</span><br><span class="line">            result[i] = (<span class="hljs-keyword">int</span>)(((<span class="hljs-keyword">long</span>)result[i] &amp; <span class="hljs-number">4294967295L</span>) + <span class="hljs-number">1L</span>);</span><br><span class="line">            <span class="hljs-keyword">if</span> (result[i] != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] makePositive(<span class="hljs-keyword">int</span>[] a) &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> keep;</span><br><span class="line">        <span class="hljs-keyword">for</span>(keep = <span class="hljs-number">0</span>; keep &lt; a.length &amp;&amp; a[keep] == -<span class="hljs-number">1</span>; ++keep) &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">int</span> j;</span><br><span class="line">        <span class="hljs-keyword">for</span>(j = keep; j &lt; a.length &amp;&amp; a[j] == <span class="hljs-number">0</span>; ++j) &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">int</span> extraInt = j == a.length ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span>[] result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[a.length - keep + extraInt];</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">int</span> i;</span><br><span class="line">        <span class="hljs-keyword">for</span>(i = keep; i &lt; a.length; ++i) &#123;</span><br><span class="line">            result[i - keep + extraInt] = ~a[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(i = result.length - <span class="hljs-number">1</span>; ++result[i] == <span class="hljs-number">0</span>; --i) &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> <span class="hljs-title">intLength</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.bitLength() &gt;&gt;&gt; <span class="hljs-number">5</span>) + <span class="hljs-number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> <span class="hljs-title">signBit</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.signum &lt; <span class="hljs-number">0</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> <span class="hljs-title">signInt</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.signum &lt; <span class="hljs-number">0</span> ? -<span class="hljs-number">1</span> : <span class="hljs-number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getInt</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n &gt;= <span class="hljs-keyword">this</span>.mag.length) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.signInt();</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> magInt = <span class="hljs-keyword">this</span>.mag[<span class="hljs-keyword">this</span>.mag.length - n - <span class="hljs-number">1</span>];</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.signum &gt;= <span class="hljs-number">0</span> ? magInt : (n &lt;= <span class="hljs-keyword">this</span>.firstNonzeroIntNum() ? -magInt : ~magInt);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> <span class="hljs-title">firstNonzeroIntNum</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> fn = <span class="hljs-keyword">this</span>.firstNonzeroIntNumPlusTwo - <span class="hljs-number">2</span>;</span><br><span class="line">        <span class="hljs-keyword">if</span> (fn == -<span class="hljs-number">2</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> mlen = <span class="hljs-keyword">this</span>.mag.length;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">int</span> i;</span><br><span class="line">            <span class="hljs-keyword">for</span>(i = mlen - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-keyword">this</span>.mag[i] == <span class="hljs-number">0</span>; --i) &#123;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            fn = mlen - i - <span class="hljs-number">1</span>;</span><br><span class="line">            <span class="hljs-keyword">this</span>.firstNonzeroIntNumPlusTwo = fn + <span class="hljs-number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> fn;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">readObject</span><span class="hljs-params">(ObjectInputStream s)</span> <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">        GetField fields = s.readFields();</span><br><span class="line">        <span class="hljs-keyword">int</span> sign = fields.get(<span class="hljs-string">"signum"</span>, -<span class="hljs-number">2</span>);</span><br><span class="line">        <span class="hljs-keyword">byte</span>[] magnitude = (<span class="hljs-keyword">byte</span>[])fields.get(<span class="hljs-string">"magnitude"</span>, (Object)<span class="hljs-keyword">null</span>);</span><br><span class="line">        <span class="hljs-keyword">if</span> (sign &gt;= -<span class="hljs-number">1</span> &amp;&amp; sign &lt;= <span class="hljs-number">1</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span>[] mag = stripLeadingZeroBytes(magnitude, <span class="hljs-number">0</span>, magnitude.length);</span><br><span class="line">            <span class="hljs-keyword">if</span> (mag.length == <span class="hljs-number">0</span> != (sign == <span class="hljs-number">0</span>)) &#123;</span><br><span class="line">                String message = <span class="hljs-string">"BigInteger: signum-magnitude mismatch"</span>;</span><br><span class="line">                <span class="hljs-keyword">if</span> (fields.defaulted(<span class="hljs-string">"magnitude"</span>)) &#123;</span><br><span class="line">                    message = <span class="hljs-string">"BigInteger: Magnitude not present in stream"</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> StreamCorruptedException(message);</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                BigInteger.UnsafeHolder.putSign(<span class="hljs-keyword">this</span>, sign);</span><br><span class="line">                BigInteger.UnsafeHolder.putMag(<span class="hljs-keyword">this</span>, mag);</span><br><span class="line">                <span class="hljs-keyword">if</span> (mag.length &gt;= <span class="hljs-number">67108864</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">                        <span class="hljs-keyword">this</span>.checkRange();</span><br><span class="line">                    &#125; <span class="hljs-keyword">catch</span> (ArithmeticException var7) &#123;</span><br><span class="line">                        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> StreamCorruptedException(<span class="hljs-string">"BigInteger: Out of the supported range"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            String message = <span class="hljs-string">"BigInteger: Invalid signum value"</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span> (fields.defaulted(<span class="hljs-string">"signum"</span>)) &#123;</span><br><span class="line">                message = <span class="hljs-string">"BigInteger: Signum not present in stream"</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> StreamCorruptedException(message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">writeObject</span><span class="hljs-params">(ObjectOutputStream s)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        PutField fields = s.putFields();</span><br><span class="line">        fields.put(<span class="hljs-string">"signum"</span>, <span class="hljs-keyword">this</span>.signum);</span><br><span class="line">        fields.put(<span class="hljs-string">"magnitude"</span>, <span class="hljs-keyword">this</span>.magSerializedForm());</span><br><span class="line">        fields.put(<span class="hljs-string">"bitCount"</span>, -<span class="hljs-number">1</span>);</span><br><span class="line">        fields.put(<span class="hljs-string">"bitLength"</span>, -<span class="hljs-number">1</span>);</span><br><span class="line">        fields.put(<span class="hljs-string">"lowestSetBit"</span>, -<span class="hljs-number">2</span>);</span><br><span class="line">        fields.put(<span class="hljs-string">"firstNonzeroByteNum"</span>, -<span class="hljs-number">2</span>);</span><br><span class="line">        s.writeFields();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">byte</span>[] magSerializedForm() &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> len = <span class="hljs-keyword">this</span>.mag.length;</span><br><span class="line">        <span class="hljs-keyword">int</span> bitLen = len == <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : (len - <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">5</span>) + bitLengthForInt(<span class="hljs-keyword">this</span>.mag[<span class="hljs-number">0</span>]);</span><br><span class="line">        <span class="hljs-keyword">int</span> byteLen = bitLen + <span class="hljs-number">7</span> &gt;&gt;&gt; <span class="hljs-number">3</span>;</span><br><span class="line">        <span class="hljs-keyword">byte</span>[] result = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[byteLen];</span><br><span class="line">        <span class="hljs-keyword">int</span> i = byteLen - <span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> bytesCopied = <span class="hljs-number">4</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> intIndex = len - <span class="hljs-number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> nextInt = <span class="hljs-number">0</span>; i &gt;= <span class="hljs-number">0</span>; --i) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (bytesCopied == <span class="hljs-number">4</span>) &#123;</span><br><span class="line">                nextInt = <span class="hljs-keyword">this</span>.mag[intIndex--];</span><br><span class="line">                bytesCopied = <span class="hljs-number">1</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                nextInt &gt;&gt;&gt;= <span class="hljs-number">8</span>;</span><br><span class="line">                ++bytesCopied;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            result[i] = (<span class="hljs-keyword">byte</span>)nextInt;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> <span class="hljs-title">longValueExact</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mag.length &lt;= <span class="hljs-number">2</span> &amp;&amp; <span class="hljs-keyword">this</span>.bitLength() &lt;= <span class="hljs-number">63</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.longValue();</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException(<span class="hljs-string">"BigInteger out of long range"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">intValueExact</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mag.length &lt;= <span class="hljs-number">1</span> &amp;&amp; <span class="hljs-keyword">this</span>.bitLength() &lt;= <span class="hljs-number">31</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.intValue();</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException(<span class="hljs-string">"BigInteger out of int range"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">short</span> <span class="hljs-title">shortValueExact</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mag.length &lt;= <span class="hljs-number">1</span> &amp;&amp; <span class="hljs-keyword">this</span>.bitLength() &lt;= <span class="hljs-number">31</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> value = <span class="hljs-keyword">this</span>.intValue();</span><br><span class="line">            <span class="hljs-keyword">if</span> (value &gt;= -<span class="hljs-number">32768</span> &amp;&amp; value &lt;= <span class="hljs-number">32767</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.shortValue();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException(<span class="hljs-string">"BigInteger out of short range"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">byte</span> <span class="hljs-title">byteValueExact</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mag.length &lt;= <span class="hljs-number">1</span> &amp;&amp; <span class="hljs-keyword">this</span>.bitLength() &lt;= <span class="hljs-number">31</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> value = <span class="hljs-keyword">this</span>.intValue();</span><br><span class="line">            <span class="hljs-keyword">if</span> (value &gt;= -<span class="hljs-number">128</span> &amp;&amp; value &lt;= <span class="hljs-number">127</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.byteValue();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArithmeticException(<span class="hljs-string">"BigInteger out of byte range"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">static</span> &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> i;</span><br><span class="line">        <span class="hljs-keyword">for</span>(i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">16</span>; ++i) &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span>[] magnitude = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]&#123;i&#125;;</span><br><span class="line">            posConst[i] = <span class="hljs-keyword">new</span> BigInteger(magnitude, <span class="hljs-number">1</span>);</span><br><span class="line">            negConst[i] = <span class="hljs-keyword">new</span> BigInteger(magnitude, -<span class="hljs-number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        powerCache = <span class="hljs-keyword">new</span> BigInteger[<span class="hljs-number">37</span>][];</span><br><span class="line">        logCache = <span class="hljs-keyword">new</span> <span class="hljs-keyword">double</span>[<span class="hljs-number">37</span>];</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(i = <span class="hljs-number">2</span>; i &lt;= <span class="hljs-number">36</span>; ++i) &#123;</span><br><span class="line">            powerCache[i] = <span class="hljs-keyword">new</span> BigInteger[]&#123;valueOf((<span class="hljs-keyword">long</span>)i)&#125;;</span><br><span class="line">            logCache[i] = Math.log((<span class="hljs-keyword">double</span>)i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ZERO = <span class="hljs-keyword">new</span> BigInteger(<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">0</span>], <span class="hljs-number">0</span>);</span><br><span class="line">        ONE = valueOf(<span class="hljs-number">1L</span>);</span><br><span class="line">        TWO = valueOf(<span class="hljs-number">2L</span>);</span><br><span class="line">        NEGATIVE_ONE = valueOf(-<span class="hljs-number">1L</span>);</span><br><span class="line">        TEN = valueOf(<span class="hljs-number">10L</span>);</span><br><span class="line">        bnExpModThreshTable = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]&#123;<span class="hljs-number">7</span>, <span class="hljs-number">25</span>, <span class="hljs-number">81</span>, <span class="hljs-number">241</span>, <span class="hljs-number">673</span>, <span class="hljs-number">1793</span>, <span class="hljs-number">2147483647</span>&#125;;</span><br><span class="line">        zeros = <span class="hljs-keyword">new</span> String[<span class="hljs-number">64</span>];</span><br><span class="line">        zeros[<span class="hljs-number">63</span>] = <span class="hljs-string">"000000000000000000000000000000000000000000000000000000000000000"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">63</span>; ++i) &#123;</span><br><span class="line">            zeros[i] = zeros[<span class="hljs-number">63</span>].substring(<span class="hljs-number">0</span>, i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        digitsPerLong = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]&#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">62</span>, <span class="hljs-number">39</span>, <span class="hljs-number">31</span>, <span class="hljs-number">27</span>, <span class="hljs-number">24</span>, <span class="hljs-number">22</span>, <span class="hljs-number">20</span>, <span class="hljs-number">19</span>, <span class="hljs-number">18</span>, <span class="hljs-number">18</span>, <span class="hljs-number">17</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">16</span>, <span class="hljs-number">15</span>, <span class="hljs-number">15</span>, <span class="hljs-number">15</span>, <span class="hljs-number">14</span>, <span class="hljs-number">14</span>, <span class="hljs-number">14</span>, <span class="hljs-number">14</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">12</span>, <span class="hljs-number">12</span>, <span class="hljs-number">12</span>, <span class="hljs-number">12</span>, <span class="hljs-number">12</span>, <span class="hljs-number">12</span>, <span class="hljs-number">12</span>, <span class="hljs-number">12</span>&#125;;</span><br><span class="line">        longRadix = <span class="hljs-keyword">new</span> BigInteger[]&#123;<span class="hljs-keyword">null</span>, <span class="hljs-keyword">null</span>, valueOf(<span class="hljs-number">4611686018427387904L</span>), valueOf(<span class="hljs-number">4052555153018976267L</span>), valueOf(<span class="hljs-number">4611686018427387904L</span>), valueOf(<span class="hljs-number">7450580596923828125L</span>), valueOf(<span class="hljs-number">4738381338321616896L</span>), valueOf(<span class="hljs-number">3909821048582988049L</span>), valueOf(<span class="hljs-number">1152921504606846976L</span>), valueOf(<span class="hljs-number">1350851717672992089L</span>), valueOf(<span class="hljs-number">1000000000000000000L</span>), valueOf(<span class="hljs-number">5559917313492231481L</span>), valueOf(<span class="hljs-number">2218611106740436992L</span>), valueOf(<span class="hljs-number">8650415919381337933L</span>), valueOf(<span class="hljs-number">2177953337809371136L</span>), valueOf(<span class="hljs-number">6568408355712890625L</span>), valueOf(<span class="hljs-number">1152921504606846976L</span>), valueOf(<span class="hljs-number">2862423051509815793L</span>), valueOf(<span class="hljs-number">6746640616477458432L</span>), valueOf(<span class="hljs-number">799006685782884121L</span>), valueOf(<span class="hljs-number">1638400000000000000L</span>), valueOf(<span class="hljs-number">3243919932521508681L</span>), valueOf(<span class="hljs-number">6221821273427820544L</span>), valueOf(<span class="hljs-number">504036361936467383L</span>), valueOf(<span class="hljs-number">876488338465357824L</span>), valueOf(<span class="hljs-number">1490116119384765625L</span>), valueOf(<span class="hljs-number">2481152873203736576L</span>), valueOf(<span class="hljs-number">4052555153018976267L</span>), valueOf(<span class="hljs-number">6502111422497947648L</span>), valueOf(<span class="hljs-number">353814783205469041L</span>), valueOf(<span class="hljs-number">531441000000000000L</span>), valueOf(<span class="hljs-number">787662783788549761L</span>), valueOf(<span class="hljs-number">1152921504606846976L</span>), valueOf(<span class="hljs-number">1667889514952984961L</span>), valueOf(<span class="hljs-number">2386420683693101056L</span>), valueOf(<span class="hljs-number">3379220508056640625L</span>), valueOf(<span class="hljs-number">4738381338321616896L</span>)&#125;;</span><br><span class="line">        digitsPerInt = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]&#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">30</span>, <span class="hljs-number">19</span>, <span class="hljs-number">15</span>, <span class="hljs-number">13</span>, <span class="hljs-number">11</span>, <span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">9</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">7</span>, <span class="hljs-number">7</span>, <span class="hljs-number">7</span>, <span class="hljs-number">7</span>, <span class="hljs-number">7</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>&#125;;</span><br><span class="line">        intRadix = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]&#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1073741824</span>, <span class="hljs-number">1162261467</span>, <span class="hljs-number">1073741824</span>, <span class="hljs-number">1220703125</span>, <span class="hljs-number">362797056</span>, <span class="hljs-number">1977326743</span>, <span class="hljs-number">1073741824</span>, <span class="hljs-number">387420489</span>, <span class="hljs-number">1000000000</span>, <span class="hljs-number">214358881</span>, <span class="hljs-number">429981696</span>, <span class="hljs-number">815730721</span>, <span class="hljs-number">1475789056</span>, <span class="hljs-number">170859375</span>, <span class="hljs-number">268435456</span>, <span class="hljs-number">410338673</span>, <span class="hljs-number">612220032</span>, <span class="hljs-number">893871739</span>, <span class="hljs-number">1280000000</span>, <span class="hljs-number">1801088541</span>, <span class="hljs-number">113379904</span>, <span class="hljs-number">148035889</span>, <span class="hljs-number">191102976</span>, <span class="hljs-number">244140625</span>, <span class="hljs-number">308915776</span>, <span class="hljs-number">387420489</span>, <span class="hljs-number">481890304</span>, <span class="hljs-number">594823321</span>, <span class="hljs-number">729000000</span>, <span class="hljs-number">887503681</span>, <span class="hljs-number">1073741824</span>, <span class="hljs-number">1291467969</span>, <span class="hljs-number">1544804416</span>, <span class="hljs-number">1838265625</span>, <span class="hljs-number">60466176</span>&#125;;</span><br><span class="line">        serialPersistentFields = <span class="hljs-keyword">new</span> ObjectStreamField[]&#123;<span class="hljs-keyword">new</span> ObjectStreamField(<span class="hljs-string">"signum"</span>, Integer.TYPE), <span class="hljs-keyword">new</span> ObjectStreamField(<span class="hljs-string">"magnitude"</span>, <span class="hljs-keyword">byte</span>[].class), <span class="hljs-keyword">new</span> ObjectStreamField(<span class="hljs-string">"bitCount"</span>, Integer.TYPE), <span class="hljs-keyword">new</span> ObjectStreamField(<span class="hljs-string">"bitLength"</span>, Integer.TYPE), <span class="hljs-keyword">new</span> ObjectStreamField(<span class="hljs-string">"firstNonzeroByteNum"</span>, Integer.TYPE), <span class="hljs-keyword">new</span> ObjectStreamField(<span class="hljs-string">"lowestSetBit"</span>, Integer.TYPE)&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UnsafeHolder</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Unsafe unsafe = Unsafe.getUnsafe();</span><br><span class="line">        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> signumOffset;</span><br><span class="line">        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> magOffset;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">UnsafeHolder</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">putSign</span><span class="hljs-params">(BigInteger bi, <span class="hljs-keyword">int</span> sign)</span> </span>&#123;</span><br><span class="line">            unsafe.putInt(bi, signumOffset, sign);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">putMag</span><span class="hljs-params">(BigInteger bi, <span class="hljs-keyword">int</span>[] magnitude)</span> </span>&#123;</span><br><span class="line">            unsafe.putObject(bi, magOffset, magnitude);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">static</span> &#123;</span><br><span class="line">            signumOffset = unsafe.objectFieldOffset(BigInteger.class, <span class="hljs-string">"signum"</span>);</span><br><span class="line">            magOffset = unsafe.objectFieldOffset(BigInteger.class, <span class="hljs-string">"mag"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-20T02:24:00.000Z">2019-09-20</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    1 小时 读完 (大约 7225 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/20/Java知识点/">Java知识点</a>
            
        </h1>
        <div class="content">
            <h1 id="Java相关"><a href="#Java相关" class="headerlink" title="Java相关"></a>Java相关</h1><h2 id="请问JDK和JRE的区别是什么？"><a href="#请问JDK和JRE的区别是什么？" class="headerlink" title="请问JDK和JRE的区别是什么？"></a>请问JDK和JRE的区别是什么？</h2><blockquote>
<p>JDK ：Java 开发工具包,jdk 是整个 Java 开发的核心，它集成了 jre 和一些好用的小工具。<br>JRE ：Java 运行时环境。它主要包含两个部分，jvm 的标准实现和 Java 的一些基本类库。</p>
</blockquote>
<h2 id="springboot的注解有什么，原理？"><a href="#springboot的注解有什么，原理？" class="headerlink" title="springboot的注解有什么，原理？"></a>springboot的注解有什么，原理？</h2><p>@Bean<br>用来代替 XML 配置文件里面的 &lt;bean …&gt; 配置。<br>@ImportResource<br>如果有些通过类的注册方式配置不了的，可以通过这个注解引入额外的 XML 配置文件，有些老的配置文件无法通过 @Configuration 方式配置的非常管用。<br>@Import<br>用来引入额外的一个或者多个 @Configuration 修饰的配置文件类。<br>@SpringBootConfiguration<br>这个注解就是 @Configuration 注解的变体，只是用来修饰是 Spring Boot 配置而已，或者可利于 Spring Boot 后续的扩展，源码如下。<br>@SpringBootApplication：包含了@ComponentScan、@Configuration和@EnableAutoConfiguration注解。其中@ComponentScan让spring Boot扫描到Configuration类并把它加入到程序上下文。<br>@Configuration 等同于spring的XML配置文件；使用Java代码可以检查类型安全。<br>@EnableAutoConfiguration 自动配置。<br>@ComponentScan 组件扫描，可自动发现和装配一些Bean。<br>@Component可配合CommandLineRunner使用，在程序启动后执行一些基础任务。<br>@RestController注解是@Controller和@ResponseBody的合集,表示这是个控制器bean,并且是将函数的返回值直 接填入HTTP响应体中,是REST风格的控制器。<br>@Autowired自动导入。<br>@PathVariable获取参数。<br>@JsonBackReference解决嵌套外链问题。<br>@RepositoryRestResourcepublic配合spring-boot-starter-data-rest使用。</p>
<p>@RequestMapping：@RequestMapping(“/path”)表示该控制器处理所有“/path”的UR L请求。RequestMapping是一个用来处理请求地址映射的注解，可用于类或方法上。<br>用于类上，表示类中的所有响应请求的方法都是以该地址作为父路径。该注解有六个属性：<br>params:指定request中必须包含某些参数值是，才让该方法处理。<br>headers:指定request中必须包含某些指定的header值，才能让该方法处理请求。<br>value:指定请求的实际地址，指定的地址可以是URI Template 模式<br>method:指定请求的method类型， GET、POST、PUT、DELETE等<br>consumes:指定处理请求的提交内容类型（Content-Type），如application/json,text/html;<br>produces:指定返回的内容类型，仅当request请求头中的(Accept)类型中包含该指定类型才返回</p>
<p>@RequestParam：用在方法的参数前面。<br>@RequestParam<br>String a =request.getParameter(“a”)。</p>
<p>@PathVariable:路径变量。如</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@RequestMapping</span>(“user/get/mac/&#123;macAddress&#125;”) </span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getByMacAddress</span><span class="hljs-params">(@PathVariable String macAddress)</span></span>&#123; </span><br><span class="line"><span class="hljs-comment">//do something; </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Spring Boot的自动配置看起来神奇，其实原理非常简单，背后全依赖于@Conditional注解来实现的。</p>
<h2 id="object类中的hashCode（）方法是做什么的，以及其中的hash（）方法是做什么的，-为什么有hash（）方法还有hashCode（）"><a href="#object类中的hashCode（）方法是做什么的，以及其中的hash（）方法是做什么的，-为什么有hash（）方法还有hashCode（）" class="headerlink" title="object类中的hashCode（）方法是做什么的，以及其中的hash（）方法是做什么的， 为什么有hash（）方法还有hashCode（）"></a>object类中的hashCode（）方法是做什么的，以及其中的hash（）方法是做什么的， 为什么有hash（）方法还有hashCode（）</h2><p>哈希表这个数据结构想必大多数人都不陌生，而且在很多地方都会利用到hash表来提高查找效率。在Java的Object类中有一个方法:</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hashCode</span><span class="hljs-params">()</span></span>;</span><br></pre></td></tr></table></figure>

<p>根据这个方法的声明可知，该方法返回一个int类型的数值，并且是本地方法，因此在Object类中并没有给出具体的实现。</p>
<p><strong>hashCode方法的作用</strong></p>
<p>对于包含容器类型的程序设计语言来说，基本上都会涉及到hashCode。在Java中也一样，hashCode方法的主要作用是为了配合基于散列的集合一起正常运行，这样的散列集合包括HashSet、HashMap以及HashTable。</p>
<p>　　为什么这么说呢？考虑一种情况，当向集合中插入对象时，如何判别在集合中是否已经存在该对象了？（注意：集合中不允许重复的元素存在）</p>
<p>　　也许大多数人都会想到调用equals方法来逐个进行比较，这个方法确实可行。但是如果集合中已经存在一万条数据或者更多的数据，如果采用equals方法去逐一比较，效率必然是一个问题。此时hashCode方法的作用就体现出来了，当集合要添加新的对象时，先调用这个对象的hashCode方法，得到对应的hashcode值，实际上在HashMap的具体实现中会用一个table保存已经存进去的对象的hashcode值，如果table中没有该hashcode值，它就可以直接存进去，不用再进行任何比较了；如果存在该hashcode值， 就调用它的equals方法与新元素进行比较，相同的话就不存了，不相同就散列其它的地址，所以这里存在一个冲突解决的问题，这样一来实际调用equals方法的次数就大大降低了，说通俗一点：Java中的hashCode方法就是根据一定的规则将与对象相关的信息（比如对象的存储地址，对象的字段等）映射成一个数值，这个数值称作为散列值。</p>
<p><strong>hash 算法</strong></p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hash</span><span class="hljs-params">(Object key)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> h;</span><br><span class="line">    <span class="hljs-keyword">return</span> (key == <span class="hljs-keyword">null</span>) ? <span class="hljs-number">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="hljs-number">16</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>首先，假设有一种情况，对象 A 的 hashCode 为 1000010001110001000001111000000，对象 B 的 hashCode 为 0111011100111000101000010100000。</p>
<p>如果数组长度是16，也就是 15 与运算这两个数， 你会发现结果都是0。这样的散列结果太让人失望了。很明显不是一个好的散列算法。</p>
<p>但是如果我们将 hashCode 值右移 16 位，也就是取 int 类型的一半，刚好将该二进制数对半切开。并且使用位异或运算（如果两个数对应的位置相反，则结果为1，反之为0），这样的话，就能避免我们上面的情况的发生。</p>
<p>总的来说，使用位移 16 位和 异或 就是防止这种极端情况。但是，该方法在一些极端情况下还是有问题，比如：10000000000000000000000000 和 1000000000100000000000000 这两个数，如果数组长度是16，那么即使右移16位，在异或，hash 值还是会重复。但是为了性能，对这种极端情况，JDK 的作者选择了性能。毕竟这是少数情况，为了这种情况去增加 hash 时间，性价比不高。</p>
<h2 id="hashmap的put过程-主要就是根据自己看过的源码说一下流程"><a href="#hashmap的put过程-主要就是根据自己看过的源码说一下流程" class="headerlink" title="hashmap的put过程 主要就是根据自己看过的源码说一下流程"></a>hashmap的put过程 主要就是根据自己看过的源码说一下流程</h2><p><strong>put 方法</strong><br>通过 hash 计算下标并检查 hash 是否冲突，也就是对应的下标是否已存在元素。</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">public</span> V <span class="hljs-title">put</span><span class="hljs-params">(K key, V value)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> putVal(hash(key), key, value, <span class="hljs-keyword">false</span>, <span class="hljs-keyword">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>判断数组是否为空，如果是空，则创建默认长度位 16 的数组。</li>
<li>通过与运算计算对应 hash 值的下标，如果对应下标的位置没有元素，则直接创建一个。</li>
<li>如果有元素，说明 hash 冲突了，则再次进行 3 种判断。<ol>
<li>判断两个冲突的key是否相等，equals 方法的价值在这里体现了。如果相等，则将已经存在的值赋给变量e。最后更新e的value，也就是替换操作。</li>
<li>如果key不相等，则判断是否是红黑树类型，如果是红黑树，则交给红黑树追加此元素。</li>
<li>如果key既不相等，也不是红黑树，则是链表，那么就遍历链表中的每一个key和给定的key是否相等。如果，链表的长度大于等于8了，则将链表改为红黑树，这是Java8 的一个新的优化。</li>
</ol>
</li>
<li>最后，如果这三个判断返回的 e 不为null，则说明key重复，则更新key对应的value的值。</li>
<li>对维护着迭代器的modCount 变量加一。</li>
<li>最后判断，如果当前数组的长度已经大于阀值了。则重新hash。</li>
</ol>
<h2 id="ArrayList-LinkList的特点"><a href="#ArrayList-LinkList的特点" class="headerlink" title="ArrayList LinkList的特点"></a>ArrayList LinkList的特点</h2><p>ArrayList是实现了基于动态数组的结构，LinkedList则是基于实现链表的数据结构。</p>
<p>数据的更新和查找<br>ArrayList的所有数据是在同一个地址上,而LinkedList的每个数据都拥有自己的地址.所以在对数据进行查找的时候，由于LinkedList的每个数据地址不一样，get数据的时候ArrayList的速度会优于LinkedList，而更新数据的时候，虽然都是通过循环循环到指定节点修改数据，但LinkedList的查询速度已经是慢的，而且对于LinkedList而言，更新数据时不像ArrayList只需要找到对应下标更新就好，LinkedList需要修改指针，速率不言而喻</p>
<p>数据的增加和删除<br>对于数据的增加元素，ArrayList是通过移动该元素之后的元素位置，其后元素位置全部+1，所以耗时较长，而LinkedList只需要将该元素前的后续指针指向该元素并将该元素的后续指针指向之后的元素即可。与增加相同，删除元素时ArrayList需要将被删除元素之后的元素位置-1，而LinkedList只需要将之后的元素前置指针指向前一元素，前一元素的指针指向后一元素即可。当然，事实上，若是单一元素的增删，尤其是在List末端增删一个元素，二者效率不相上下。</p>
<h2 id="红黑树定义"><a href="#红黑树定义" class="headerlink" title="红黑树定义"></a>红黑树定义</h2><p>红黑树本质上是一种二叉查找树，但它在二叉查找树的基础上额外添加了一个标记（颜色），同时具有一定的规则。这些规则使红黑树保证了一种平衡，插入、删除、查找的最坏时间复杂度都为 O(logn)。</p>
<p>它的统计性能要好于平衡二叉树（AVL树），因此，红黑树在很多地方都有应用。比如在 Java 集合框架中，很多部分(HashMap, TreeMap, TreeSet 等)都有红黑树的应用，这些集合均提供了很好的性能。</p>
<p>由于 TreeMap 就是由红黑树实现的。</p>
<p>黑色高度<br>从根节点到叶节点的路径上黑色节点的个数，叫做树的黑色高度。</p>
<ol>
<li>每个节点要么是红色，要么是黑色；</li>
<li>根节点永远是黑色的；</li>
<li>所有的叶节点都是是黑色的（注意这里说叶子节点其实是上图中的 NIL 节点）；</li>
<li>每个红色节点的两个子节点一定都是黑色；</li>
<li>从任一节点到其子树中每个叶子节点的路径都包含相同数量的黑色节点；</li>
</ol>
<h2 id="Java-反射机制"><a href="#Java-反射机制" class="headerlink" title="Java 反射机制"></a>Java 反射机制</h2><p>Java 反射机制在程序运行时，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象，都能够调用它的任意一个方法和属性。这种 <strong>动态的获取信息</strong> 以及 <strong>动态调用对象的方法</strong> 的功能称为 java 的反射机制。</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FatherClass</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">public</span> String mFatherName;</span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> mFatherAge;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printFatherMsg</span><span class="hljs-params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="多线程相关"><a href="#多线程相关" class="headerlink" title="多线程相关"></a>多线程相关</h1><h2 id="synchronized"><a href="#synchronized" class="headerlink" title="synchronized"></a>synchronized</h2><p>synchronized 是 Java 中的关键字，是利用锁的机制来实现同步的。</p>
<p>锁机制有如下两种特性：</p>
<ul>
<li><p>互斥性：即在同一时间只允许一个线程持有某个对象锁，通过这种特性来实现多线程中的协调机制，这样在同一时间只有一个线程对需同步的代码块(复合操作)进行访问。互斥性我们也往往称为操作的原子性。</p>
</li>
<li><p>可见性：必须确保在锁被释放之前，对共享变量所做的修改，对于随后获得该锁的另一个线程是可见的（即在获得锁时应获得最新共享变量的值），否则另一个线程可能是在本地缓存的某个副本上继续操作从而引起不一致。</p>
</li>
</ul>
<p>synchronized 可以修饰方法和代码块</p>
<ul>
<li>synchronized(this|object) {}</li>
<li>synchronized(类.class) {}</li>
<li>修饰非静态方法</li>
<li>修饰静态方法</li>
</ul>
<h2 id="reentrantLock-除了可重入还有什么关键特性"><a href="#reentrantLock-除了可重入还有什么关键特性" class="headerlink" title="reentrantLock 除了可重入还有什么关键特性"></a>reentrantLock 除了可重入还有什么关键特性</h2><ul>
<li>可重入</li>
</ul>
<p>现在有方法 m1 和 m2，两个方法均使用了同一把锁对方法进行同步控制，同时方法 m1 会调用 m2。线程 t 进入方法 m1 成功获得了锁，此时线程 t 要在没有释放锁的情况下，调用 m2 方法。由于 m1 和 m2 使用的是同一把可重入锁，所以线程 t 可以进入方法 m2，并再次获得锁，而不会被阻塞住。</p>
<ul>
<li>公平和非公平锁</li>
</ul>
<p>公平与非公平指的是线程获取锁的方式。公平模式下，线程在同步队列中通过 FIFO 的方式获取锁，每个线程最终都能获取锁。在非公平模式下，线程会通过“插队”的方式去抢占锁，抢不到的则进入同步队列进行排队。默认情况下，ReentrantLock 使用的是非公平模式获取锁，而不是公平模式。不过我们也可通过 ReentrantLock 构造方法ReentrantLock(boolean fair)调整加锁的模式。</p>
<h2 id="ThreadLocal-会造成什么问题-为什么会造成内存泄漏"><a href="#ThreadLocal-会造成什么问题-为什么会造成内存泄漏" class="headerlink" title="ThreadLocal 会造成什么问题? 为什么会造成内存泄漏?"></a>ThreadLocal 会造成什么问题? 为什么会造成内存泄漏?</h2><ul>
<li>ThreadLocal类用来提供线程内部的局部变量。这些变量在多线程环境下访问(通过get或set方法访问)时能保证各个线程里的变量相对独立于其他线程内的变量，ThreadLocal实例通常来说都是private static类型。 总结：ThreadLocal不是为了解决多线程访问共享变量，而是为每个线程创建一个单独的变量副本，提供了保持对象的方法和避免参数传递的复杂性。 </li>
<li>ThreadLocal的主要应用场景为按线程多实例（每个线程对应一个实例）的对象的访问，并且这个对象很多地方都要用到。例如：同一个网站登录用户，每个用户服务器会为其开一个线程，每个线程中创建一个ThreadLocal，里面存用户基本信息等，在很多页面跳转时，会显示用户信息或者得到用户的一些信息等频繁操作，这样多线程之间并没有联系而且当前线程也可以及时获取想要的数据。</li>
</ul>
<p>ThreadLocal类提供了四个对外开放的接口方法</p>
<p>(1) void set(Object value)设置当前线程的线程局部变量的值。<br>(2) public Object get()该方法返回当前线程所对应的线程局部变量。<br>(3) public void remove()将当前线程局部变量的值删除，目的是为了减少内存的占用。<br>(4) protected Object initialValue()返回该线程局部变量的初始值。</p>
<p>在threadLocal设为null和线程结束这段时间不会被回收的，就发生了我们认为的内存泄露。其实这是一个对概念理解的不一致，也没什么好争论的。</p>
<p>最要命的是线程对象不被回收的情况，这就发生了真正意义上的内存泄露。<strong>比如使用线程池的时候，线程结束是不会销毁的，会再次使用的就可能出现内存泄露。</strong>（在web应用中，每次http请求都是一个线程，tomcat容器配置使用线程池时会出现内存泄漏问题）</p>
<ol>
<li>使用ThreadLocal，建议用static修饰 static ThreadLocal<httpheader> headerLocal = new ThreadLocal();</httpheader></li>
<li>使用完ThreadLocal后，执行remove操作，避免出现内存溢出情况。</li>
</ol>
<h2 id="单例模式-synchronized实现懒汉模式？为什么用内部类是线程安全的？"><a href="#单例模式-synchronized实现懒汉模式？为什么用内部类是线程安全的？" class="headerlink" title="单例模式 synchronized实现懒汉模式？为什么用内部类是线程安全的？"></a>单例模式 synchronized实现懒汉模式？为什么用内部类是线程安全的？</h2><p>内部类</p>
<p>单例模式，有“懒汉式”和“饿汉式”两种。<br><strong>懒汉式</strong><br>单例类的实例在第一次被引用时候才被初始化。<br><strong>饿汉式</strong><br>单例类的实例在加载的时候就被初始化。</p>
<p><strong>静态内部类模式</strong></p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Singleton</span> </span>&#123; </span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Singleton</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Singleton <span class="hljs-title">getSingleton</span><span class="hljs-params">()</span></span>&#123;  </span><br><span class="line">        <span class="hljs-keyword">return</span> Inner.instance;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Inner</span> </span>&#123;  </span><br><span class="line">        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Singleton instance = <span class="hljs-keyword">new</span> Singleton();  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>实现代码简洁。和双重检查单例对比，静态内部类单例实现代码真的是太简洁，又清晰明了。</li>
<li>延迟初始化。调用getSingleton才初始化Singleton对象。</li>
<li>线程安全。JVM在执行类的初始化阶段，会获得一个可以同步多个线程对同一个类的初始化的锁。</li>
</ol>
<p>线程A和线程B同时试图获得Singleton对象的初始化锁，假设线程A获取到了，那么线程B一直等待初始化锁。线程A执行类初始化，就算双重检查模式中伪代码发生了重排序，也不会影响线程A的初始化结果。初始化完后，释放锁。线程B获得初始化锁，发现Singleton对象已经初始化完毕，释放锁，不进行初始化，获得Singleton对象。</p>
<h1 id="数据库相关"><a href="#数据库相关" class="headerlink" title="数据库相关"></a>数据库相关</h1><h2 id="添加索引的时候要注意什么"><a href="#添加索引的时候要注意什么" class="headerlink" title="添加索引的时候要注意什么"></a>添加索引的时候要注意什么</h2><p>索引可以提高数据的访问速度，但同时也增加了插入、更新和删除操作的处理时间。所以是否要为表增加索引、索引建立在那些字段上，是创建索引前必须要考虑的问题。解决此问题就是分析应用程序的业务处理、数据使用，为经常被用作查询条件、或者被要求排序的字段建立索引。</p>
<p>1、表的主键、外键必须有索引；<br>2、数据量超过300的表应该有索引；<br>3、经常与其他表进行连接的表，在连接字段上应该建立索引；<br>4、经常出现在<code>Where</code>子句中的<strong>字段</strong>，特别是大表的字段，应该建立索引；<br>5、索引应该建在选择性高的字段上；<br>6、索引应该建在小字段上，对于大的文本字段甚至超长字段，不要建索引；<br>7、复合索引的建立需要进行仔细分析；</p>
<p><strong>聚簇索引:</strong><br>通常由主键或者非空唯一索引实现的，叶子节点存储了一整行数据<br><strong>非聚簇索引：</strong><br>又称二级索引，就是我们常用的普通索引，叶子节点存了索引值和主键值，在根据主键从聚簇索引查</p>
<h2 id="索引优化以及在使用索引的时候要注意什么"><a href="#索引优化以及在使用索引的时候要注意什么" class="headerlink" title="索引优化以及在使用索引的时候要注意什么"></a>索引优化以及在使用索引的时候要注意什么</h2><p>1.索引列不要使用函数和运算</p>
<ol start="2">
<li>尽量避免使用 != 或 not in或 &lt;&gt; 等否定操作符</li>
<li>当查询条件为多个的时候，可以采用复合索引</li>
<li>范围查询对多列查询的影响</li>
<li>遵循最左匹配原则<br> 复合索引遵守“最左前缀”原则，即在查询条件中使用了复合索引的第一个字段，索引才会被使用。因此，在复合索引中索引列的顺序至关重要。如果不是按照索引的最左列开始查找，则无法使用索引。</li>
<li>索引列不会包含NULL值</li>
<li>尽量避免使用 or 来连接条件</li>
<li>隐式转换的影响</li>
<li>like 语句的索引失效问题</li>
</ol>
<h2 id="redis的键的淘汰策略，会达成了redis缓存的淘汰策略"><a href="#redis的键的淘汰策略，会达成了redis缓存的淘汰策略" class="headerlink" title="redis的键的淘汰策略，会达成了redis缓存的淘汰策略"></a>redis的键的淘汰策略，会达成了redis缓存的淘汰策略</h2><p>Redis作为一个高性能的内存NoSQL数据库，其容量受到最大内存限制的限制。<br>事实上，实例中的内存除了保存原始的键值对所需的开销外，还有一些运行时产生的额外内存，包括：</p>
<ol>
<li>垃圾数据和过期Key所占空间</li>
<li>字典渐进式Rehash导致未及时删除的空间</li>
<li>Redis管理数据，包括底层数据结构开销，客户端信息，读写缓冲区等</li>
<li>主从复制，bgsave时的额外开销</li>
</ol>
<p>为了防止一次性清理大量过期Key导致Redis服务受影响，Redis只在空闲时清理过期Key。</p>
<ul>
<li>访问Key时，会判断Key是否过期，逐出过期Key;</li>
<li>CPU空闲时在定期serverCron任务中，逐出部分过期Key;</li>
<li>每次事件循环执行的时候，逐出部分过期Key;</li>
</ul>
<h1 id="网络相关"><a href="#网络相关" class="headerlink" title="网络相关"></a>网络相关</h1><h2 id="tcp四次握手，最后的状态是什么"><a href="#tcp四次握手，最后的状态是什么" class="headerlink" title="tcp四次握手，最后的状态是什么?"></a>tcp四次握手，最后的状态是什么?</h2><p>等待2MSL的时间？（MSL最长报文段寿命Maximum Segment Lifetime，MSL=2）</p>
<h2 id="为什么要等着2MSL，等待多了会造成什么"><a href="#为什么要等着2MSL，等待多了会造成什么" class="headerlink" title="为什么要等着2MSL，等待多了会造成什么"></a>为什么要等着2MSL，等待多了会造成什么</h2><ol>
<li>保证A发送的最后一个ACK报文段能够到达B。</li>
<li>防止“已失效的连接请求报文段”出现在本连接中。A在发送完最后一个ACK报文段后，再经过2MSL，就可以使本连接持续的时间内所产生的所有报文段都从网络中消失，使下一个新的连接中不会出现这种旧的连接请求报文段。</li>
</ol>
<h2 id="http请求的报文结构，keep-alive是用来做什么的"><a href="#http请求的报文结构，keep-alive是用来做什么的" class="headerlink" title="http请求的报文结构，keep-alive是用来做什么的"></a>http请求的报文结构，keep-alive是用来做什么的</h2><p>当使用Keep-Alive模式（又称持久连接、连接重用）时，Keep-Alive功能使客户端到服 务器端的连接持续有效，当出现对服务器的后继请求时，Keep-Alive功能避免了建立或者重新建立连接。</p>
<figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Keep-Alive: timeout=5, max=100</span><br><span class="line">timeout：过期时间5秒（对应httpd.conf里的参数是：KeepAliveTimeout），max是最多一百次请求，强制断掉连接</span><br></pre></td></tr></table></figure>

<h1 id="spring-spingboot"><a href="#spring-spingboot" class="headerlink" title="spring spingboot"></a>spring spingboot</h1><h2 id="spring为什么要注入接口，而不是实现类"><a href="#spring为什么要注入接口，而不是实现类" class="headerlink" title="spring为什么要注入接口，而不是实现类"></a>spring为什么要注入接口，而不是实现类</h2><p>首先说明，注入的对象确实为实现类的对象。（并不是实现类的代理对象，注入并不涉及代理）</p>
<p>　　如果只是单纯注入是可以用实现类接收注入对象的，但是往往开发中会对实现类做增强，如事务，日志等，实现增强的AOP技术是通过动态代理实现的，而spring默认是JDK动态代理，对实现类对象做增强得到的增强类与实现类是兄弟关系，所以不能用实现类接收增强类对象，只能用接口接收。</p>
<p>回答没听过这个概念，然后被引导回到IOC和AOP，以及AOP是什么，实现过程</p>
<p>Java动态代理为我们提供了非常灵活的代理机制，但Java动态代理是基于接口的，如果目标对象没有实现接口我们该如何代理呢？这时候我们就需要使用CGLIB来实现AOP了。</p>
<p>假如我们要使用动态代理实现AOP，那么我们只能在写一个增强的接口，然后让目标类实现增强接口，然后我们就可以使用动态代理实现目标类的增强，可是假如我们不想让目标类实现其他的接口，那么我们就只能使用CGLIB技术来实现目标类的增强了。<br>CGLIB实现目标类增强的原理是这样的：CGLIB会动态创建一个目标类的子类，然后返回该子类的对象，也就是增强对象，至于增强的逻辑则是在子类中完成的。我们知道子类要么和父类有一样的功能，要么就比父类功能强大，所以CGLIB是通过创建目标类的子类对象来实现增强的，所以：</p>
<figure class="highlight shell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">目标子类 = 目标类 + 增强逻辑</span><br></pre></td></tr></table></figure>

<h1 id="口述算法思路"><a href="#口述算法思路" class="headerlink" title="口述算法思路"></a>口述算法思路</h1><h2 id="给一个栈的数据结构，实现另外一个数据结构，要求保留栈的特性，同时能够提供去最大值和最小值的方法，时间复杂度为O（1）"><a href="#给一个栈的数据结构，实现另外一个数据结构，要求保留栈的特性，同时能够提供去最大值和最小值的方法，时间复杂度为O（1）" class="headerlink" title="给一个栈的数据结构，实现另外一个数据结构，要求保留栈的特性，同时能够提供去最大值和最小值的方法，时间复杂度为O（1）"></a>给一个栈的数据结构，实现另外一个数据结构，要求保留栈的特性，同时能够提供去最大值和最小值的方法，时间复杂度为O（1）</h2><p>最小值思路：用一个辅助栈stack2记住每次入栈stack1的当前最小值:在stack1入栈时，往stack2中加入当前最小值；stack1元素出栈时，stack2也出栈一个元素。最小值从stack2中获取及栈顶元素。O(1)</p>
<p>最大值思路：同上O(1)</p>
<p><img src="/images/2019/09/20/e4dc2930-db6e-11e9-a4dc-99db33a3ba56.png" alt="image.png"></p>
<h1 id="网络编程"><a href="#网络编程" class="headerlink" title="网络编程"></a>网络编程</h1><h2 id="哪几种IO类型"><a href="#哪几种IO类型" class="headerlink" title="哪几种IO类型"></a>哪几种IO类型</h2><ul>
<li>阻塞I/O（blocking IO）</li>
<li>非阻塞I/O (nonblocking I/O)</li>
<li>I/O 复用 (I/O multiplexing)</li>
<li>信号驱动I/O (signal driven I/O (SIGIO))</li>
<li>异步I/O (asynchronous I/O)</li>
</ul>
<h1 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h1><h2 id="JVM的内存结构"><a href="#JVM的内存结构" class="headerlink" title="JVM的内存结构"></a>JVM的内存结构</h2><ul>
<li>堆（Heap）：线程共享。所有的对象实例以及数组都要在堆上分配。回收器主要管理的对象。</li>
<li>方法区（Method Area）：线程共享。存储类信息、常量、静态变量、即时编译器编译后的代码。</li>
<li>方法栈（JVM Stack）：线程私有。存储局部变量表、操作栈、动态链接、方法出口，对象指针。</li>
<li>本地方法栈（Native Method Stack）：线程私有。为虚拟机使用到的Native 方法服务。如Java使用c或者c++编写的接口服务时，代码在此区运行。</li>
<li>程序计数器（Program Counter Register）：线程私有。有些文章也翻译成PC寄存器（PC Register），同一个东西。它可以看作是当前线程所执行的字节码的行号指示器。指向下一条要执行的指令。</li>
</ul>
<p><img src="/images/2019/09/20/801edd70-db6f-11e9-a4dc-99db33a3ba56.png" alt="image.png"></p>
<h2 id="类加载机制"><a href="#类加载机制" class="headerlink" title="类加载机制"></a>类加载机制</h2><p>Java虚拟机把描述类的数据从Class文件加载到内存，并对数据进行校验、转换解析和初始化，最终形成可以被虚拟机直接使用的Java类型，这就是虚拟机的加载机制。*<br>Class文件由类装载器装载后，在JVM中将形成一份描述Class结构的元信息对象，通过该元信息对象可以获知Class的结构信息：如构造函数，属性和方法等，Java允许用户借由这个Class相关的元信息对象间接调用Class对象的功能,这里就是我们经常能见到的Class类。</p>
<p><img src="/images/2019/09/20/96bb2250-db6f-11e9-a4dc-99db33a3ba56.png" alt="image.png"></p>
<h2 id="双亲委派模型"><a href="#双亲委派模型" class="headerlink" title="双亲委派模型"></a>双亲委派模型</h2><p>双亲委派的意思是如果一个类加载器需要加载类，那么首先它会把这个类请求委派给父类加载器去完成，每一层都是如此。一直递归到顶层，当父加载器无法完成这个请求时，子类才会尝试去加载。这里的双亲其实就指的是父类，没有mother。父类也不是我们平日所说的那种继承关系，只是调用逻辑是这样。</p>
<p>双亲委派模型不是一种强制性约束，也就是你不这么做也不会报错怎样的，它是一种JAVA设计者推荐使用类加载器的方式。</p>
<h1 id="有什么想问我的"><a href="#有什么想问我的" class="headerlink" title="有什么想问我的"></a>有什么想问我的</h1><p>有的</p>
<ol>
<li>你怎样形容小米公司的企业文化？</li>
<li>什么类型的员工能在小米公司有比较好的发展？</li>
<li>关于软件开发工程师-Java方向岗位的技术栈、日常主要工作是什么、期间可以获得晋升机会？</li>
<li>能给我多讲讲招聘程序吗？</li>
<li>我没有其他问题了，与您交流非常愉快，能留一张您的名片么？（或者方便加一下您的微信么？）</li>
</ol>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-16T14:20:54.000Z">2019-09-16</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    16 分钟 读完 (大约 2443 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/16/Java12的新特性/">Java12的新特性</a>
            
        </h1>
        <div class="content">
            <h1 id="Java12的新特性"><a href="#Java12的新特性" class="headerlink" title="Java12的新特性"></a>Java12的新特性</h1><blockquote>
<p>Java5的新特性<br>Java6的新特性<br>Java7的新特性<br>Java8的新特性<br>Java9的新特性<br>Java10的新特性<br>Java11的新特性<br>Java12的新特性<br>Java13的新特性</p>
</blockquote>
<p><img src="/images/2019/09/16/1c09f100-d88e-11e9-a339-273a38bbb2c9.png" alt="image.png"></p>
<h2 id="版本号"><a href="#版本号" class="headerlink" title="版本号"></a>版本号</h2><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br><span class="line">openjdk version &quot;12&quot; 2019-03-19</span><br><span class="line">OpenJDK Runtime Environment (build 12+33)</span><br><span class="line">OpenJDK 64-Bit Server VM (build 12+33, mixed mode)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>从version信息可以看出是build 12+33</p>
</blockquote>
<h2 id="特性列表"><a href="#特性列表" class="headerlink" title="特性列表"></a>特性列表</h2><ul>
<li><a href="https://link.juejin.im/?target=http%3A%2F%2Fopenjdk.java.net%2Fjeps%2F189" target="_blank" rel="noopener">189:    Shenandoah: A Low-Pause-Time Garbage Collector (Experimental)</a></li>
</ul>
<blockquote>
<p>Shenandoah GC是一个面向low-pause-time的垃圾收集器，它最初由Red Hat实现，支持aarch64及amd64 architecture；ZGC也是面向low-pause-time的垃圾收集器，不过ZGC是基于colored pointers来实现，而Shenandoah GC是基于brooks pointers来实现；如果要使用Shenandoah GC需要编译时–with-jvm-features选项带有shenandoahgc，然后启动时使用-XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC</p>
</blockquote>
<ul>
<li><a href="https://link.juejin.im/?target=http%3A%2F%2Fopenjdk.java.net%2Fjeps%2F230" target="_blank" rel="noopener">230:    Microbenchmark Suite</a></li>
</ul>
<blockquote>
<p>在jdk源码里头新增了一套基础的microbenchmarks suite</p>
</blockquote>
<ul>
<li><a href="https://link.juejin.im/?target=http%3A%2F%2Fopenjdk.java.net%2Fjeps%2F325" target="_blank" rel="noopener">325:    Switch Expressions (Preview)</a></li>
</ul>
<blockquote>
<p>对switch进行了增强，除了使用statement还可以使用expression，比如原来的写法如下：</p>
</blockquote>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">switch</span> (day) &#123;</span><br><span class="line">    <span class="hljs-keyword">case</span> MONDAY:</span><br><span class="line">    <span class="hljs-keyword">case</span> FRIDAY:</span><br><span class="line">    <span class="hljs-keyword">case</span> SUNDAY:</span><br><span class="line">        System.out.println(<span class="hljs-number">6</span>);</span><br><span class="line">        <span class="hljs-keyword">break</span>;</span><br><span class="line">    <span class="hljs-keyword">case</span> TUESDAY:</span><br><span class="line">        System.out.println(<span class="hljs-number">7</span>);</span><br><span class="line">        <span class="hljs-keyword">break</span>;</span><br><span class="line">    <span class="hljs-keyword">case</span> THURSDAY:</span><br><span class="line">    <span class="hljs-keyword">case</span> SATURDAY:</span><br><span class="line">        System.out.println(<span class="hljs-number">8</span>);</span><br><span class="line">        <span class="hljs-keyword">break</span>;</span><br><span class="line">    <span class="hljs-keyword">case</span> WEDNESDAY:</span><br><span class="line">        System.out.println(<span class="hljs-number">9</span>);</span><br><span class="line">        <span class="hljs-keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>现在可以改为如下写法：</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">switch</span> (day) &#123;</span><br><span class="line">    <span class="hljs-keyword">case</span> MONDAY, FRIDAY, SUNDAY -&gt; System.out.println(<span class="hljs-number">6</span>);</span><br><span class="line">    <span class="hljs-keyword">case</span> TUESDAY                -&gt; System.out.println(<span class="hljs-number">7</span>);</span><br><span class="line">    <span class="hljs-keyword">case</span> THURSDAY, SATURDAY     -&gt; System.out.println(<span class="hljs-number">8</span>);</span><br><span class="line">    <span class="hljs-keyword">case</span> WEDNESDAY              -&gt; System.out.println(<span class="hljs-number">9</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以及在表达式返回值</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">int</span> numLetters = <span class="hljs-keyword">switch</span> (day) &#123;</span><br><span class="line">    <span class="hljs-keyword">case</span> MONDAY, FRIDAY, SUNDAY -&gt; <span class="hljs-number">6</span>;</span><br><span class="line">    <span class="hljs-keyword">case</span> TUESDAY                -&gt; <span class="hljs-number">7</span>;</span><br><span class="line">    <span class="hljs-keyword">case</span> THURSDAY, SATURDAY     -&gt; <span class="hljs-number">8</span>;</span><br><span class="line">    <span class="hljs-keyword">case</span> WEDNESDAY              -&gt; <span class="hljs-number">9</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>对于需要返回值的switch expression要么正常返回值要么抛出异常，以下这两种写法都是错误的</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">int</span> i = <span class="hljs-keyword">switch</span> (day) &#123;</span><br><span class="line">    <span class="hljs-keyword">case</span> MONDAY -&gt; &#123;</span><br><span class="line">        System.out.println(<span class="hljs-string">"Monday"</span>); </span><br><span class="line">        <span class="hljs-comment">// ERROR! Block doesn't contain a break with value</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">default</span> -&gt; <span class="hljs-number">1</span>;</span><br><span class="line">&#125;;</span><br><span class="line">i = <span class="hljs-keyword">switch</span> (day) &#123;</span><br><span class="line">    <span class="hljs-keyword">case</span> MONDAY, TUESDAY, WEDNESDAY: </span><br><span class="line">        <span class="hljs-keyword">break</span> <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">default</span>: </span><br><span class="line">        System.out.println(<span class="hljs-string">"Second half of the week"</span>);</span><br><span class="line">        <span class="hljs-comment">// ERROR! Group doesn't contain a break with value</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://link.juejin.im/?target=http%3A%2F%2Fopenjdk.java.net%2Fjeps%2F334" target="_blank" rel="noopener">334:    JVM Constants API</a></li>
</ul>
<blockquote>
<p>新增了JVM Constants API，具体来说就是java.base模块新增了java.lang.constant包，引入了ConstantDesc接口(ClassDesc、MethodTypeDesc、MethodHandleDesc这几个接口直接继承了ConstantDesc接口)以及Constable接口；ConstantDesc接口定义了resolveConstantDesc方法，Constable接口定义了describeConstable方法；String、Integer、Long、Float、Double均实现了这两个接口，而EnumDesc实现了ConstantDesc接口</p>
</blockquote>
<ul>
<li><a href="https://link.juejin.im/?target=http%3A%2F%2Fopenjdk.java.net%2Fjeps%2F340" target="_blank" rel="noopener">340:    One AArch64 Port, Not Two</a></li>
</ul>
<blockquote>
<p>64-bit Arm platform (arm64)，也可以称之为aarch64；之前JDK有两个关于aarch64的实现，分别是src/hotspot/cpu/arm以及open/src/hotspot/cpu/aarch64，它们的实现重复了，为了集中精力更好地实现aarch64，该特性在源码中删除了open/src/hotspot/cpu/arm中关于64-bit的实现，保留其中32-bit的实现，于是open/src/hotspot/cpu/aarch64部分就成了64-bit ARM architecture的默认实现</p>
</blockquote>
<ul>
<li><a href="https://link.juejin.im/?target=http%3A%2F%2Fopenjdk.java.net%2Fjeps%2F341" target="_blank" rel="noopener">341:    Default CDS Archives</a></li>
</ul>
<blockquote>
<p>java10的新特性JEP 310: Application Class-Data Sharing扩展了JDK5引入的Class-Data Sharing，支持application的Class-Data Sharing；Class-Data Sharing可以用于多个JVM共享class，提升启动速度，最早只支持system classes及serial GC，JDK9对其进行扩展以支持application classes及其他GC算法，并在JDK10中开源出来(以前是commercial feature)；JDK11将-Xshare:off改为默认-Xshare:auto，以更加方便使用CDS特性；JDK12的这个特性即在64-bit平台上编译jdk的时候就默认在${JAVA_HOME}/lib/server目录下生成一份名为classes.jsa的默认archive文件(大概有18M)方便大家使用</p>
</blockquote>
<ul>
<li><a href="https://link.juejin.im/?target=http%3A%2F%2Fopenjdk.java.net%2Fjeps%2F344" target="_blank" rel="noopener">344:    Abortable Mixed Collections for G1</a></li>
</ul>
<blockquote>
<p>G1在garbage collection的时候，一旦确定了collection set(CSet)开始垃圾收集这个过程是without stopping的，当collection set过大的时候，此时的STW时间会过长超出目标pause time，这种情况在mixed collections时候比较明显。这个特性启动了一个机制，当选择了一个比较大的collection set，允许将其分为mandatory及optional两部分(当完成mandatory的部分，如果还有剩余时间则会去处理optional部分)来将mixed collections从without stopping变为abortable，以更好满足指定pause time的目标</p>
</blockquote>
<ul>
<li><a href="https://link.juejin.im/?target=http%3A%2F%2Fopenjdk.java.net%2Fjeps%2F346" target="_blank" rel="noopener">346:    Promptly Return Unused Committed Memory from G1</a></li>
</ul>
<blockquote>
<p>G1目前只有在full GC或者concurrent cycle的时候才会归还内存，由于这两个场景都是G1极力避免的，因此在大多数场景下可能不会及时会还committed Java heap memory给操作系统。JDK12的这个特性新增了两个参数分别是G1PeriodicGCInterval及G1PeriodicGCSystemLoadThreshold，设置为0的话，表示禁用。当上一次garbage collection pause过去G1PeriodicGCInterval(milliseconds)时间之后，如果getloadavg()(one-minute)低于G1PeriodicGCSystemLoadThreshold指定的阈值，则触发full GC或者concurrent GC(如果开启G1PeriodicGCInvokesConcurrent)，GC之后Java heap size会被重写调整，然后多余的内存将会归还给操作系统</p>
</blockquote>
<h2 id="细项解读"><a href="#细项解读" class="headerlink" title="细项解读"></a>细项解读</h2><p>上面列出的是大方面的特性，除此之外还有一些api的更新及废弃，主要见JDK 12 Release Notes，这里举几个例子。<br>添加项</p>
<ul>
<li>支持unicode 11</li>
<li>支持Compact Number Formatting</li>
</ul>
<blockquote>
<p>使用实例如下</p>
</blockquote>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@Test</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testCompactNumberFormat</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">var</span> cnf = NumberFormat.getCompactNumberInstance(Locale.CHINA, NumberFormat.Style.SHORT);</span><br><span class="line">    System.out.println(cnf.format(<span class="hljs-number">1_0000</span>));</span><br><span class="line">    System.out.println(cnf.format(<span class="hljs-number">1_9200</span>));</span><br><span class="line">    System.out.println(cnf.format(<span class="hljs-number">1_000_000</span>));</span><br><span class="line">    System.out.println(cnf.format(<span class="hljs-number">1L</span> &lt;&lt; <span class="hljs-number">30</span>));</span><br><span class="line">    System.out.println(cnf.format(<span class="hljs-number">1L</span> &lt;&lt; <span class="hljs-number">40</span>));</span><br><span class="line">    System.out.println(cnf.format(<span class="hljs-number">1L</span> &lt;&lt; <span class="hljs-number">50</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1万</span><br><span class="line">2万</span><br><span class="line">100万</span><br><span class="line">11亿</span><br><span class="line">1兆</span><br><span class="line">1126兆</span><br></pre></td></tr></table></figure>

<ul>
<li>String支持transform、indent操作</li>
</ul>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@Test</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testStringTransform</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="hljs-string">"hello"</span>.transform(<span class="hljs-keyword">new</span> Function&lt;String, Integer&gt;() &#123;</span><br><span class="line">        <span class="hljs-meta">@Override</span></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">apply</span><span class="hljs-params">(String s)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> s.hashCode();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">@Test</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testStringIndent</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="hljs-string">"hello"</span>.indent(<span class="hljs-number">3</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Files新增mismatch方法</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@Test</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testFilesMismatch</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    FileWriter fileWriter = <span class="hljs-keyword">new</span> FileWriter(<span class="hljs-string">"/tmp/a.txt"</span>);</span><br><span class="line">    fileWriter.write(<span class="hljs-string">"a"</span>);</span><br><span class="line">    fileWriter.write(<span class="hljs-string">"b"</span>);</span><br><span class="line">    fileWriter.write(<span class="hljs-string">"c"</span>);</span><br><span class="line">    fileWriter.close();</span><br><span class="line"></span><br><span class="line">    FileWriter fileWriterB = <span class="hljs-keyword">new</span> FileWriter(<span class="hljs-string">"/tmp/b.txt"</span>);</span><br><span class="line">    fileWriterB.write(<span class="hljs-string">"a"</span>);</span><br><span class="line">    fileWriterB.write(<span class="hljs-string">"1"</span>);</span><br><span class="line">    fileWriterB.write(<span class="hljs-string">"c"</span>);</span><br><span class="line">    fileWriterB.close();</span><br><span class="line"></span><br><span class="line">    System.out.println(Files.mismatch(Path.of(<span class="hljs-string">"/tmp/a.txt"</span>),Path.of(<span class="hljs-string">"/tmp/b.txt"</span>)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Collectors新增teeing方法用于聚合两个downstream的结果</li>
</ul>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@Test</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testCollectorTeeing</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">var</span> result = Stream.of(<span class="hljs-string">"Devoxx"</span>,<span class="hljs-string">"Voxxed Days"</span>,<span class="hljs-string">"Code One"</span>,<span class="hljs-string">"Basel One"</span>)</span><br><span class="line">            .collect(Collectors.teeing(Collectors.filtering(n -&gt; n.contains(<span class="hljs-string">"xx"</span>),Collectors.toList()),</span><br><span class="line">                                        Collectors.filtering(n -&gt; n.endsWith(<span class="hljs-string">"One"</span>),Collectors.toList()),</span><br><span class="line">                    (List&lt;String&gt; list1, List&lt;String&gt; list2) -&gt; List.of(list1,list2)</span><br><span class="line">                                        ));</span><br><span class="line"></span><br><span class="line">    System.out.println(result.get(<span class="hljs-number">0</span>));</span><br><span class="line">    System.out.println(result.get(<span class="hljs-number">1</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>CompletionStage新增exceptionallyAsync、exceptionallyCompose、exceptionallyComposeAsync方法</li>
</ul>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@Test</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testExceptionallyAsync</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> ExecutionException, InterruptedException </span>&#123;</span><br><span class="line">    LOGGER.info(<span class="hljs-string">"begin"</span>);</span><br><span class="line">    <span class="hljs-keyword">int</span> result = CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class="line">        LOGGER.info(<span class="hljs-string">"calculate"</span>);</span><br><span class="line">        <span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>/<span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-number">100</span>;</span><br><span class="line">    &#125;).exceptionallyAsync((t) -&gt; &#123;</span><br><span class="line">        LOGGER.info(<span class="hljs-string">"error error:&#123;&#125;"</span>,t.getMessage());</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">    &#125;).get();</span><br><span class="line"></span><br><span class="line">    LOGGER.info(<span class="hljs-string">"result:&#123;&#125;"</span>,result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>JDK12之前CompletionStage只有一个exceptionally，该方法体在主线程执行，JDK12新增了exceptionallyAsync、exceptionallyComposeAsync方法允许方法体在异步线程执行，同时新增了exceptionallyCompose方法支持在exceptionally的时候构建新的CompletionStage</p>
</li>
<li><p>Allocation of Old Generation of Java Heap on Alternate Memory Devices</p>
</li>
</ul>
<blockquote>
<p>G1及Parallel GC引入experimental特性，允许将old generation分配在诸如NV-DIMM memory的alternative memory device</p>
</blockquote>
<ul>
<li>ZGC: Concurrent Class Unloading</li>
</ul>
<blockquote>
<p>ZGC在JDK11的时候还不支持class unloading，JDK12对ZGC支持了Concurrent Class Unloading，默认是开启，使用-XX:-ClassUnloading可以禁用</p>
</blockquote>
<ul>
<li>新增-XX:+ExtensiveErrorReports</li>
</ul>
<blockquote>
<p>-XX:+ExtensiveErrorReports可以用于在jvm crash的时候收集更多的报告信息到hs_err.log文件中，product builds中默认是关闭的，要开启的话，需要自己添加-XX:+ExtensiveErrorReports参数</p>
</blockquote>
<ul>
<li>新增安全相关的改进</li>
</ul>
<blockquote>
<p>支持java.security.manager系统属性，当设置为disallow的时候，则不使用SecurityManager以提升性能，如果此时调用System.setSecurityManager则会抛出UnsupportedOperationException<br>keytool新增-groupname选项允许在生成key pair的时候指定一个named group<br>新增PKCS12 KeyStore配置属性用于自定义PKCS12 keystores的生成<br>Java Flight Recorder新增了security-related的event<br>支持ChaCha20 and Poly1305 TLS Cipher Suites</p>
</blockquote>
<ul>
<li>jdeps Reports Transitive Dependences</li>
</ul>
<blockquote>
<p>jdeps的–print-module-deps, –list-deps, 以及–list-reduce-deps选项得到增强，新增–no-recursive用于non-transitive的依赖分析，–ignore-missing-deps用于suppress missing dependence errors</p>
</blockquote>
<h2 id="移除项"><a href="#移除项" class="headerlink" title="移除项"></a>移除项</h2><ul>
<li>移除com.sun.awt.SecurityWarnin</li>
<li>移除FileInputStream、FileOutputStream、Java.util.ZipFile/Inflator/Deflator的finalize方法</li>
<li>移除GTE CyberTrust Global Root</li>
<li>移除javac的-source, -target对6及1.6的支持，同时移除–release选项</li>
</ul>
<h2 id="废弃项"><a href="#废弃项" class="headerlink" title="废弃项"></a>废弃项</h2><ul>
<li>废弃的API列表见deprecated-list</li>
<li>废弃-XX:+/-MonitorInUseLists选项</li>
<li>废弃Default Keytool的-keyalg值</li>
</ul>
<h2 id="已知问题"><a href="#已知问题" class="headerlink" title="已知问题"></a>已知问题</h2><ul>
<li>Swing不支持GTK+ 3.20及以后的版本</li>
<li>在使用JVMCI Compiler(比如Graal)的时候，JVMTI的can_pop_frame及can_force_early_return的capabilities是被禁用的</li>
</ul>
<h2 id="其他事项"><a href="#其他事项" class="headerlink" title="其他事项"></a>其他事项</h2><ul>
<li>如果用户没有指定user.timezone且从操作系统获取的为空，那么user.timezone属性的初始值为空变为null</li>
<li>java.net.URLPermission的行为发生轻微变化，以前它会忽略url中的query及fragment部分，这次改动新增query及fragment部分，即scheme : // authority [ / path ]变动为scheme : // authority [ / path ] [ ignored-query-or-fragment ]</li>
<li>javax.net.ssl.SSLContext API及Java Security Standard Algorithm Names规范移除了必须实现TLSv1及TLSv1.1的规定</li>
</ul>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><ul>
<li>java12不是LTS(Long-Term Support)版本(oracle版本才有LTS)，oracle对该版本的support周期为6个月。这个版本主要有几个更新点，一个是语法层更新，一个是API层面的更新，另外主要是GC方面的更新。</li>
<li>语法层面引入了preview版本的Switch Expressions；API层面引入了JVM Constants API，引入CompactNumberFormat，让NumberFormat支持COMPACTSTYLE，对String、Files、Collectors、CompletionStage等新增方法；GC方面引入了experimental版本的Shenandoah GC，不过oracle build的openjdk没有enable Shenandoah GC support；另外主要对ZGC及G1 GC进行了改进</li>
<li>其中JDK12对ZGC支持了Concurrent Class Unloading，默认是开启，使用-XX:-ClassUnloading可以禁用；对于G1 GC则新增支持Abortable Mixed Collections以及Promptly Return Unused Committed Memory特性</li>
</ul>
<blockquote>
<p>作者：go4it<br>链接：<a href="https://juejin.im/post/5c91fcc9e51d45563b62382c" target="_blank" rel="noopener">https://juejin.im/post/5c91fcc9e51d45563b62382c</a><br>来源：掘金</p>
</blockquote>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-13T07:57:44.000Z">2019-09-13</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    38 分钟 读完 (大约 5627 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/13/Java面试题/">Java面试题</a>
            
        </h1>
        <div class="content">
            <h1 id="基础与框架"><a href="#基础与框架" class="headerlink" title="基础与框架"></a>基础与框架</h1><h2 id="String类能被继承吗，为什么"><a href="#String类能被继承吗，为什么" class="headerlink" title="String类能被继承吗，为什么?"></a>String类能被继承吗，为什么?</h2><blockquote>
<p>不可以，因为String类有final修饰符，而final修饰的类是不能被继承的，实现细节不允许改变。</p>
</blockquote>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">String</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">java</span>.<span class="hljs-title">io</span>.<span class="hljs-title">Serializable</span>, <span class="hljs-title">Comparable</span>&lt;<span class="hljs-title">String</span>&gt;, <span class="hljs-title">CharSequence</span></span></span><br></pre></td></tr></table></figure>

<p>根据程序上下文环境，Java关键字final有“这是无法改变的”或者“终态的”含义，它可以修饰非抽象类、非抽象类成员方法和变量。你可能出于两种理解而需要阻止改变：设计或效率。<br>　　final类不能被继承，没有子类，final类中的方法默认是final的。<br>　　final方法不能被子类的方法覆盖，但可以被继承。<br>　　final成员变量表示常量，只能被赋值一次，赋值后值不再改变。<br>　　final不能用于修饰构造方法。<br>　　注意：父类的private成员方法是不能被子类方法覆盖的，因此private类型的方法默认是final类型的。</p>
<p>如果一个类不允许其子类覆盖某个方法，则可以把这个方法声明为final方法。<br>　　使用final方法的原因有二：<br>　　第一、把方法锁定，防止任何继承类修改它的意义和实现。<br>　　第二、高效。编译器在遇到调用final方法时候会转入内嵌机制，大大提高执行效率。（这点有待商榷，《Java编程思想》中对于这点存疑）</p>
<blockquote>
<p>下面这段话摘自《Java编程思想》第四版第143页：<br>“使用final方法的原因有两个。第一个原因是把方法锁定，以防任何继承类修改它的含义；第二个原因是效率。在早期的Java实现版本中，会将final方法转为内嵌调用。但是如果方法过于庞大，可能看不到内嵌调用带来的任何性能提升。在最近的Java版本中，不需要使用final方法进行这些优化了。”</p>
</blockquote>
<p>关于String类，要了解常量池的概念</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="hljs-keyword">new</span> String(“xyz”);  <span class="hljs-comment">//创建了几个对象</span></span><br></pre></td></tr></table></figure>

<p>答案： 1个或2个， 如果”xyz”已经存在于常量池中，则只在堆中创建”xyz”对象的一个拷贝，否则还要在常量池中在创建一份</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="hljs-string">"a"</span>+<span class="hljs-string">"b"</span>+<span class="hljs-string">"c"</span>+<span class="hljs-string">"d"</span>; <span class="hljs-comment">//创建了几个对象</span></span><br></pre></td></tr></table></figure>

<p>答案： 这个和JVM实现有关， 如果常量池为空，可能是1个也可能是7个等</p>
<h2 id="String，Stringbuffer，StringBuilder的区别？"><a href="#String，Stringbuffer，StringBuilder的区别？" class="headerlink" title="String，Stringbuffer，StringBuilder的区别？"></a>String，Stringbuffer，StringBuilder的区别？</h2><p>1、用来处理字符串常用的类有3种：String、StringBuffer和StringBuilder<br>2、三者之间的区别：<br>都是final类，都不允许被继承；<br>String类长度是不可变的，StringBuffer和StringBuilder类长度是可以改变的；<br>StringBuffer类是线程安全的，StringBuilder不是线程安全的；</p>
<p>String 和 StringBuffer：<br>1、String类型和StringBuffer类型的主要性能区别：String是不可变的对象，因此每次在对String类进行改变的时候都会生成一个新的string对象，然后将指针指向新的string对象，所以经常要改变字符串长度的话不要使用string，因为每次生成对象都会对系统性能产生影响，特别是当内存中引用的对象多了以后，JVM的GC就会开始工作，性能就会降低；</p>
<p>2、使用StringBuffer类时，每次都会对StringBuffer对象本身进行操作，而不是生成新的对象并改变对象引用，所以多数情况下推荐使用StringBuffer，特别是字符串对象经常要改变的情况；</p>
<p>3、在某些情况下，String对象的字符串拼接其实是被Java Compiler编译成了StringBuffer对象的拼接，所以这些时候String对象的速度并不会比StringBuffer对象慢，例如：</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String s1 = “This is only a” + “ simple” + “ test”;</span><br><span class="line">StringBuffer Sb = <span class="hljs-keyword">new</span> StringBuilder(“This is only a”).append(“ simple”).append(“ test”);</span><br></pre></td></tr></table></figure>

<p>生成 String s1对象的速度并不比 StringBuffer慢。其实在Java Compiler里，自动做了如下转换：</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Java Compiler直接把上述第一条语句编译为：</span><br><span class="line">String s2 = “This is only a”;</span><br><span class="line">String s3 = “ simple”;</span><br><span class="line">String s4 = “ test”;</span><br><span class="line">String s1 = s2 + s3 + s4;</span><br></pre></td></tr></table></figure>

<p><a href="https://www.jianshu.com/p/8c724dd28fa4" target="_blank" rel="noopener">传送门</a></p>
<h2 id="ArrayList和LinkedList有什么区别"><a href="#ArrayList和LinkedList有什么区别" class="headerlink" title="ArrayList和LinkedList有什么区别"></a>ArrayList和LinkedList有什么区别</h2><p>ArrayList是实现了基于动态数组的结构，LinkedList则是基于实现链表的数据结构。</p>
<p><strong>数据的更新和查找</strong><br>ArrayList的所有数据是在同一个地址上,而LinkedList的每个数据都拥有自己的地址.所以在对数据进行查找的时候，由于LinkedList的每个数据地址不一样，get数据的时候ArrayList的速度会优于LinkedList，而更新数据的时候，虽然都是通过循环循环到指定节点修改数据，但LinkedList的查询速度已经是慢的，而且对于LinkedList而言，更新数据时不像ArrayList只需要找到对应下标更新就好，LinkedList需要修改指针，速率不言而喻</p>
<p><strong>数据的增加和删除</strong><br>对于数据的增加元素，ArrayList是通过移动该元素之后的元素位置，其后元素位置全部+1，所以耗时较长，而LinkedList只需要将该元素前的后续指针指向该元素并将该元素的后续指针指向之后的元素即可。与增加相同，删除元素时ArrayList需要将被删除元素之后的元素位置-1，而LinkedList只需要将之后的元素前置指针指向前一元素，前一元素的指针指向后一元素即可。当然，事实上，若是单一元素的增删，尤其是在List末端增删一个元素，二者效率不相上下。</p>
<p><a href="https://juejin.im/post/5adec492f265da0b9f3fea08#heading-2" target="_blank" rel="noopener">传送门</a></p>
<h2 id="类的实例化顺序，比如父类静态数据，构造函数，字段，子类静态数据，构造函数，字段，他们的执行顺序"><a href="#类的实例化顺序，比如父类静态数据，构造函数，字段，子类静态数据，构造函数，字段，他们的执行顺序" class="headerlink" title="类的实例化顺序，比如父类静态数据，构造函数，字段，子类静态数据，构造函数，字段，他们的执行顺序"></a>类的实例化顺序，比如父类静态数据，构造函数，字段，子类静态数据，构造函数，字段，他们的执行顺序</h2><blockquote>
<p>此题考察的是类加载器实例化时进行的操作步骤（加载–&gt;连接-&gt;初始化）。<br>父类静态变量、<br>父类静态代码块、<br>子类静态变量、<br>子类静态代码块、<br>父类非静态变量（父类实例成员变量）、<br>父类构造函数、<br>子类非静态变量（子类实例成员变量）、<br>子类构造函数。 </p>
</blockquote>
<p><a href="https://segmentfault.com/a/1190000004527951#articleHeader0" target="_blank" rel="noopener">传送门</a></p>
<h2 id="用过哪些Map，都有什么区别，HashMap是线程安全的吗-并发下使用的Map是什么，他们内部原理分别是什么，比如hashcode，扩容等"><a href="#用过哪些Map，都有什么区别，HashMap是线程安全的吗-并发下使用的Map是什么，他们内部原理分别是什么，比如hashcode，扩容等" class="headerlink" title="用过哪些Map，都有什么区别，HashMap是线程安全的吗,并发下使用的Map是什么，他们内部原理分别是什么，比如hashcode，扩容等"></a>用过哪些Map，都有什么区别，HashMap是线程安全的吗,并发下使用的Map是什么，他们内部原理分别是什么，比如hashcode，扩容等</h2><blockquote>
<p>Hashtable,HashMap,ConcurrentHashMap</p>
</blockquote>
<p><strong>线程不安全的HashMap</strong><br>因为多线程环境下，使用Hashmap进行put操作会引起死循环，导致CPU利用率接近100%，所以在并发情况下不能使用HashMap。</p>
<p><strong>HashMap</strong><br>HashMap内部实现是一个桶数组，每个桶中存放着一个单链表的头结点。其中每个结点存储的是一个键值对整体（Entry），HashMap采用拉链法解决哈希冲突</p>
<p><a href="https://blog.csdn.net/u014532901/article/details/78936283" target="_blank" rel="noopener">传送门</a></p>
<p><strong>效率低下的HashTable容器</strong><br>     HashTable容器使用synchronized来保证线程安全，但在线程竞争激烈的情况下HashTable的效率非常低下。因为当一个线程访问HashTable的同步方法时，其他线程访问HashTable的同步方法时，可能会进入阻塞或轮询状态。如线程1使用put进行添加元素，线程2不但不能使用put方法添加元素，并且也不能使用get方法来获取元素，所以竞争越激烈效率越低。</p>
<p><strong>ConcurrentHashMap的锁分段技术</strong><br>     HashTable容器在竞争激烈的并发环境下表现出效率低下的原因，是因为所有访问HashTable的线程都必须竞争同一把锁，那假如容器里有多把锁，每一把锁用于锁容器其中一部分数据，那么当多线程访问容器里不同数据段的数据时，线程间就不会存在锁竞争，从而可以有效的提高并发访问效率，这就是ConcurrentHashMap所使用的锁分段技术，首先将数据分成一段一段的存储，然后给每一段数据配一把锁，当一个线程占用锁访问其中一个段数据的时候，其他段的数据也能被其他线程访问。</p>
<p><a href="https://blog.csdn.net/qq_27093465/article/details/52279473" target="_blank" rel="noopener">传送门</a></p>
<blockquote>
<p>hashcode() 方法，在object类中定义如下：</p>
</blockquote>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hashCode</span><span class="hljs-params">()</span></span>;</span><br></pre></td></tr></table></figure>

<p>native说明是一个本地方法，它的实现是根据本地机器相关的。当然我们可以在自己写的类中覆盖hashcode()方法，比如String、Integer、Double。。。。等等这些类都是覆盖了hashcode()方法的<br>例如String类中:就是以31为权，每一位为字符的ASCII值进行运算，用自然溢出来等效取模。(为什么取31?主要是因为31是一个奇质数，所以31i=32i-i=(i&lt;&lt;5)-i，这种位移与减法结合的计算相比一般的运算快很多).</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hashCode</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> h = hash;</span><br><span class="line">    <span class="hljs-keyword">if</span> (h == <span class="hljs-number">0</span> &amp;&amp; value.length &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="line">        <span class="hljs-keyword">char</span> val[] = value;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; value.length; i++) &#123;</span><br><span class="line">            h = <span class="hljs-number">31</span> * h + val[i];</span><br><span class="line">        &#125;</span><br><span class="line">        hash = h;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> h;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="HashMap为什么get和set那么快，concurrentHashMap为什么能提高并发"><a href="#HashMap为什么get和set那么快，concurrentHashMap为什么能提高并发" class="headerlink" title="HashMap为什么get和set那么快，concurrentHashMap为什么能提高并发"></a>HashMap为什么get和set那么快，concurrentHashMap为什么能提高并发</h2><blockquote>
<p>HashMap 底层是基于 数组 + 链表 组成的</p>
</blockquote>
<p><a href="https://juejin.im/post/5b551e8df265da0f84562403#heading-9" target="_blank" rel="noopener">传送门</a></p>
<h2 id="抽象类和接口的区别，类可以继承多个类么，接口可以继承多个接口么-类可以实现多个接口么"><a href="#抽象类和接口的区别，类可以继承多个类么，接口可以继承多个接口么-类可以实现多个接口么" class="headerlink" title="抽象类和接口的区别，类可以继承多个类么，接口可以继承多个接口么,类可以实现多个接口么"></a>抽象类和接口的区别，类可以继承多个类么，接口可以继承多个接口么,类可以实现多个接口么</h2><blockquote>
<p>实现 抽象类使用extends关键字来继承抽象类。如果子类不是抽象类的话，它需要提供抽象类中所有声明的方法的实现。子类使用关键字implements来实现接口。它需要提供接口中所有声明的方法的实现。<br><a href="https://www.jianshu.com/p/038f0b356e9a" target="_blank" rel="noopener">抽象类和接口的区别</a></p>
</blockquote>
<blockquote>
<p>由于Java不支持多继承，子类不能够继承多个类，但可以实现多个接口。因此你就可以使用接口来解决它。</p>
</blockquote>
<blockquote>
<p>接口可以继承多个接口。<br>java类是单继承的。classB Extends classA<br>java接口可以多继承。Interface3 Extends Interface0, Interface1, interface……<br>不允许类多重继承的主要原因是，如果A同时继承B和C，而B和C同时有一个D方法，A如何决定该继承那一个呢？<br>但接口不存在这样的问题，接口全都是抽象方法继承谁都无所谓，所以接口可以继承多个接口。</p>
</blockquote>
<h2 id="什么情况下会发生栈内存溢出"><a href="#什么情况下会发生栈内存溢出" class="headerlink" title="什么情况下会发生栈内存溢出"></a>什么情况下会发生栈内存溢出</h2><p><strong>方法递归调用产生这种结果</strong></p>
<blockquote>
<p>栈是线程私有的，他的生命周期与线程相同，每个方法在执行的时候都会创建一个栈帧，用来存储局部变量表，操作数栈，动态链接，方法出口灯信息。局部变量表又包含基本数据类型，对象引用类型（局部变量表编译器完成，运行期间不会变化）</p>
</blockquote>
<p>所以我们可以理解为栈溢出就是方法执行是创建的栈帧超过了栈的深度。那么最有可能的就是方法递归调用产生这种结果。栈溢出(StackOverflowError)</p>
<h2 id="什么是nio，原理"><a href="#什么是nio，原理" class="headerlink" title="什么是nio，原理"></a>什么是nio，原理</h2><blockquote>
<p>NIO是为了弥补传统I/O工作模式的不足而研发的，NIO的工具包提出了基于Selector（选择器）、Buffer（缓冲区）、Channel（通道）的新模式；Selector（选择器）、可选择的Channel（通道）和SelectionKey（选择键）配合起来使用，可以实现并发的非阻塞型I/O能力。</p>
</blockquote>
<p>NIO的工作原理是什么？</p>
<p>　　在并发型服务器程序中使用NIO，实际上是通过网络事件驱动模型实现的。我们应用Select机制，不用为每一个客户端连接新启线程处理，而是将其注册到特定的Selector对象上，这就可以在单线程中利用Selector对象管理大量并发的网络连接，更好的利用了系统资源；采用非阻塞I/O的通信方式，不要求阻塞等待I/O操作完成即可返回，从而减少了管理I/O连接导致的系统开销，大幅度提高了系统性能。</p>
<p>　　当有读或写等注册事件发生时，可以从Selector中获得相应的SelectionKey，从SelectionKey中可以找到发生的事件和该事件所发生的具体的SelectableChannel，以获得客户端发送过来的数据。由于在非阻塞网络I/O中采用了事件触发机制，处理程序可以得到系统的主动通知，从而可以实现底层网络I/O无阻塞、流畅地读写，而不像在原来的阻塞模式下处理程序需要不断循环等待。使用NIO，可以编写出性能更好、更易扩展的并发型服务器程序。</p>
<p>　　并发型服务器程序的实现代码：应用NIO工具包，基于非阻塞网络I/O设计的并发型服务器程序与以往基于阻塞I/O的实现程序有很大不同，在使用非阻塞网络I/O的情况下，程序读取数据和写入数据的时机不是由程序员控制的，而是Selector决定的。</p>
<p>　　使用非阻塞型I/O进行并发型服务器程序设计分三个部分：1. 向Selector对象注册感兴趣的事件；2.从Selector中获取所感兴趣的事件；3. 根据不同的事件进行相应的处理。</p>
<p>　　在进行并发型服务器程序设计时，通过合理地使用NIO工具包，就可以达到一个或者几个Socket线程就可以处理N多个Socket的连接，大大降低我们对服务器程序的预算压力。同时我们利用它更好地提高系统的性能，使我们的工作得到更加有效地开展。</p>
<p><a href="https://www.cnblogs.com/johnvajicic/archive/2013/04/18/3028675.html" target="_blank" rel="noopener">传送门</a></p>
<h2 id="反射中，Class-forName和ClassLoader区别"><a href="#反射中，Class-forName和ClassLoader区别" class="headerlink" title="反射中，Class.forName和ClassLoader区别"></a>反射中，Class.forName和ClassLoader区别</h2><p>Java中Class.forName和classloader都可以用来对类进行加载。</p>
<ul>
<li><p>Class.forName(“className”);</p>
<pre><code>其实这种方法调运的是：Class.forName(className, true, ClassLoader.getCallerClassLoader())方法
参数一：className，需要加载的类的名称。
参数二：true，是否对class进行初始化（需要initialize）
参数三：classLoader，对应的类加载器</code></pre></li>
<li><p>ClassLoader.laodClass(“className”);</p>
<pre><code>其实这种方法调运的是：ClassLoader.loadClass(name, false)方法
参数一：name,需要加载的类的名称
参数二：false，这个类加载以后是否需要去连接（不需要linking）</code></pre></li>
</ul>
<p>可见Class.forName除了将类的.class文件加载到jvm中之外，还会对类进行解释，执行类中的static块。</p>
<p>而classloader只干一件事情，就是将.class文件加载到jvm中，不会执行static中的内容，只有在newInstance才会去执行static块。</p>
<p><a href="https://blog.csdn.net/u013308490/article/details/87809824" target="_blank" rel="noopener">传送门</a></p>
<h2 id="tomcat结构，类加载器流程"><a href="#tomcat结构，类加载器流程" class="headerlink" title="tomcat结构，类加载器流程"></a>tomcat结构，类加载器流程</h2><blockquote>
<p>Tomcat 的总体结构</p>
</blockquote>
<p><img src="/images/2019/09/13/12f00090-d605-11e9-a6a7-0b204ec53b69.png" alt="image.png"></p>
<p>从上图中可以看出 Tomcat 的心脏是两个组件：Connector 和 Container，关于这两个组件将在后面详细介绍。Connector 组件是可以被替换，这样可以提供给服务器设计者更多的选择，因为这个组件是如此重要，不仅跟服务器的设计的本身，而且和不同的应用场景也十分相关，所以一个 Container 可以选择对应多个 Connector。多个 Connector 和一个 Container 就形成了一个 Service，Service 的概念大家都很熟悉了，有了 Service 就可以对外提供服务了，但是 Service 还要一个生存的环境，必须要有人能够给她生命、掌握其生死大权，那就非 Server 莫属了。所以整个 Tomcat 的生命周期由 Server 控制。</p>
<p><strong>什么是类加载器？</strong><br>虚拟机设计团队把类加载阶段中的“通过一个类的全限定名来获取描述此类的二进制字节流”这个动作放到Java虚拟机外部去实现，以便让应用程序自己决定如何去获取所需要的类。实现这个动作的代码模块称为“类加载器”。</p>
<p><a href="https://www.jianshu.com/p/69c4526b843d" target="_blank" rel="noopener">传送门</a></p>
<h2 id="讲讲Spring事务的传播属性-AOP原理，动态代理与cglib实现的区别，AOP有哪几种实现方式"><a href="#讲讲Spring事务的传播属性-AOP原理，动态代理与cglib实现的区别，AOP有哪几种实现方式" class="headerlink" title="讲讲Spring事务的传播属性,AOP原理，动态代理与cglib实现的区别，AOP有哪几种实现方式"></a>讲讲Spring事务的传播属性,AOP原理，动态代理与cglib实现的区别，AOP有哪几种实现方式</h2><h2 id="Spring的beanFactory和factoryBean的区别"><a href="#Spring的beanFactory和factoryBean的区别" class="headerlink" title="Spring的beanFactory和factoryBean的区别"></a>Spring的beanFactory和factoryBean的区别</h2><h2 id="Spring加载流程"><a href="#Spring加载流程" class="headerlink" title="Spring加载流程"></a>Spring加载流程</h2><h2 id="Spring如何管理事务的"><a href="#Spring如何管理事务的" class="headerlink" title="Spring如何管理事务的"></a>Spring如何管理事务的</h2><h1 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h1><h2 id="线城池的最大线程数目根据什么确定"><a href="#线城池的最大线程数目根据什么确定" class="headerlink" title="线城池的最大线程数目根据什么确定"></a>线城池的最大线程数目根据什么确定</h2><h2 id="多线程的几种实现方式，什么是线程安全，什么是重排序"><a href="#多线程的几种实现方式，什么是线程安全，什么是重排序" class="headerlink" title="多线程的几种实现方式，什么是线程安全，什么是重排序"></a>多线程的几种实现方式，什么是线程安全，什么是重排序</h2><h2 id="volatile的原理，作用，能代替锁么"><a href="#volatile的原理，作用，能代替锁么" class="headerlink" title="volatile的原理，作用，能代替锁么"></a>volatile的原理，作用，能代替锁么</h2><h2 id="sleep和wait的区别，以及wait的实现原理"><a href="#sleep和wait的区别，以及wait的实现原理" class="headerlink" title="sleep和wait的区别，以及wait的实现原理"></a>sleep和wait的区别，以及wait的实现原理</h2><h2 id="Lock与synchronized-的区别，synchronized-的原理，什么是自旋锁，偏向锁，轻量级锁，什么叫可重入锁，什么叫公平锁和非公平锁"><a href="#Lock与synchronized-的区别，synchronized-的原理，什么是自旋锁，偏向锁，轻量级锁，什么叫可重入锁，什么叫公平锁和非公平锁" class="headerlink" title="Lock与synchronized 的区别，synchronized 的原理，什么是自旋锁，偏向锁，轻量级锁，什么叫可重入锁，什么叫公平锁和非公平锁"></a>Lock与synchronized 的区别，synchronized 的原理，什么是自旋锁，偏向锁，轻量级锁，什么叫可重入锁，什么叫公平锁和非公平锁</h2><h2 id="用过哪些原子类，他们的参数以及原理是什么"><a href="#用过哪些原子类，他们的参数以及原理是什么" class="headerlink" title="用过哪些原子类，他们的参数以及原理是什么"></a>用过哪些原子类，他们的参数以及原理是什么</h2><h2 id="用过哪些线程池，他们的原理简单概括下，构造函数的各个参数的含义，比如coreSize，maxsize等"><a href="#用过哪些线程池，他们的原理简单概括下，构造函数的各个参数的含义，比如coreSize，maxsize等" class="headerlink" title="用过哪些线程池，他们的原理简单概括下，构造函数的各个参数的含义，比如coreSize，maxsize等"></a>用过哪些线程池，他们的原理简单概括下，构造函数的各个参数的含义，比如coreSize，maxsize等</h2><h2 id="有一个第三方接口，有很多个线程去调用获取数据，现在规定每秒钟最多有10个线程同时调用它，如何做到。"><a href="#有一个第三方接口，有很多个线程去调用获取数据，现在规定每秒钟最多有10个线程同时调用它，如何做到。" class="headerlink" title="有一个第三方接口，有很多个线程去调用获取数据，现在规定每秒钟最多有10个线程同时调用它，如何做到。"></a>有一个第三方接口，有很多个线程去调用获取数据，现在规定每秒钟最多有10个线程同时调用它，如何做到。</h2><h2 id="spring的controller是单例还是多例，怎么保证并发的安全"><a href="#spring的controller是单例还是多例，怎么保证并发的安全" class="headerlink" title="spring的controller是单例还是多例，怎么保证并发的安全"></a>spring的controller是单例还是多例，怎么保证并发的安全</h2><h2 id="用三个线程按顺序循环打印abc三个字母，比如abcabcabc"><a href="#用三个线程按顺序循环打印abc三个字母，比如abcabcabc" class="headerlink" title="用三个线程按顺序循环打印abc三个字母，比如abcabcabc"></a>用三个线程按顺序循环打印abc三个字母，比如abcabcabc</h2><h2 id="ThreadLocal用过么，原理是什么，用的时候要注意什么"><a href="#ThreadLocal用过么，原理是什么，用的时候要注意什么" class="headerlink" title="ThreadLocal用过么，原理是什么，用的时候要注意什么"></a>ThreadLocal用过么，原理是什么，用的时候要注意什么</h2><h2 id="如果让你实现一个并发安全的链表，你会怎么做"><a href="#如果让你实现一个并发安全的链表，你会怎么做" class="headerlink" title="如果让你实现一个并发安全的链表，你会怎么做"></a>如果让你实现一个并发安全的链表，你会怎么做</h2><h1 id="JVM相关"><a href="#JVM相关" class="headerlink" title="JVM相关"></a>JVM相关</h1><h2 id="jvm中一次完整的GC流程（从ygc到fgc）是怎样的，重点讲讲对象如何晋升到老年代，几种主要的jvm参数等"><a href="#jvm中一次完整的GC流程（从ygc到fgc）是怎样的，重点讲讲对象如何晋升到老年代，几种主要的jvm参数等" class="headerlink" title="jvm中一次完整的GC流程（从ygc到fgc）是怎样的，重点讲讲对象如何晋升到老年代，几种主要的jvm参数等"></a>jvm中一次完整的GC流程（从ygc到fgc）是怎样的，重点讲讲对象如何晋升到老年代，几种主要的jvm参数等</h2><h2 id="你知道哪几种垃圾收集器，各自的优缺点，重点讲下cms"><a href="#你知道哪几种垃圾收集器，各自的优缺点，重点讲下cms" class="headerlink" title="你知道哪几种垃圾收集器，各自的优缺点，重点讲下cms"></a>你知道哪几种垃圾收集器，各自的优缺点，重点讲下cms</h2><h2 id="当出现了内存溢出，你怎么排错"><a href="#当出现了内存溢出，你怎么排错" class="headerlink" title="当出现了内存溢出，你怎么排错"></a>当出现了内存溢出，你怎么排错</h2><h2 id="JVM内存模型的相关知识了解多少"><a href="#JVM内存模型的相关知识了解多少" class="headerlink" title="JVM内存模型的相关知识了解多少"></a>JVM内存模型的相关知识了解多少</h2><h2 id="简单说说你了解的类加载器"><a href="#简单说说你了解的类加载器" class="headerlink" title="简单说说你了解的类加载器"></a>简单说说你了解的类加载器</h2><h2 id="JAVA的反射机制"><a href="#JAVA的反射机制" class="headerlink" title="JAVA的反射机制"></a>JAVA的反射机制</h2><h1 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h1><h2 id="http1-0和http1-1有什么区别"><a href="#http1-0和http1-1有什么区别" class="headerlink" title="http1.0和http1.1有什么区别"></a>http1.0和http1.1有什么区别</h2><h2 id="TCP三次握手和四次挥手的流程，为什么断开连接要4次-如果握手只有两次，会出现什么"><a href="#TCP三次握手和四次挥手的流程，为什么断开连接要4次-如果握手只有两次，会出现什么" class="headerlink" title="TCP三次握手和四次挥手的流程，为什么断开连接要4次,如果握手只有两次，会出现什么"></a>TCP三次握手和四次挥手的流程，为什么断开连接要4次,如果握手只有两次，会出现什么</h2><h2 id="TIME-WAIT和CLOSE-WAIT的区别"><a href="#TIME-WAIT和CLOSE-WAIT的区别" class="headerlink" title="TIME_WAIT和CLOSE_WAIT的区别"></a>TIME_WAIT和CLOSE_WAIT的区别</h2><h2 id="说说你知道的几种HTTP响应码"><a href="#说说你知道的几种HTTP响应码" class="headerlink" title="说说你知道的几种HTTP响应码"></a>说说你知道的几种HTTP响应码</h2><h2 id="当你用浏览器打开一个链接的时候，计算机做了哪些工作步骤"><a href="#当你用浏览器打开一个链接的时候，计算机做了哪些工作步骤" class="headerlink" title="当你用浏览器打开一个链接的时候，计算机做了哪些工作步骤"></a>当你用浏览器打开一个链接的时候，计算机做了哪些工作步骤</h2><h2 id="Linux下IO模型有几种，各自的含义是什么"><a href="#Linux下IO模型有几种，各自的含义是什么" class="headerlink" title="Linux下IO模型有几种，各自的含义是什么"></a>Linux下IO模型有几种，各自的含义是什么</h2><h2 id="TCP-IP如何保证可靠性，数据包有哪些数据组成"><a href="#TCP-IP如何保证可靠性，数据包有哪些数据组成" class="headerlink" title="TCP/IP如何保证可靠性，数据包有哪些数据组成"></a>TCP/IP如何保证可靠性，数据包有哪些数据组成</h2><h2 id="架构设计与分布式："><a href="#架构设计与分布式：" class="headerlink" title="架构设计与分布式："></a>架构设计与分布式：</h2><h2 id="tomcat如何调优，各种参数的意义"><a href="#tomcat如何调优，各种参数的意义" class="headerlink" title="tomcat如何调优，各种参数的意义"></a>tomcat如何调优，各种参数的意义</h2><h2 id="常见的缓存策略有哪些，你们项目中用到了什么缓存系统，如何设计的，Redis的使用要注意什么，持久化方式，内存设置，集群，淘汰策略等"><a href="#常见的缓存策略有哪些，你们项目中用到了什么缓存系统，如何设计的，Redis的使用要注意什么，持久化方式，内存设置，集群，淘汰策略等" class="headerlink" title="常见的缓存策略有哪些，你们项目中用到了什么缓存系统，如何设计的，Redis的使用要注意什么，持久化方式，内存设置，集群，淘汰策略等"></a>常见的缓存策略有哪些，你们项目中用到了什么缓存系统，如何设计的，Redis的使用要注意什么，持久化方式，内存设置，集群，淘汰策略等</h2><h2 id="如何防止缓存雪崩12-用java自己实现一个LRU"><a href="#如何防止缓存雪崩12-用java自己实现一个LRU" class="headerlink" title="如何防止缓存雪崩12.用java自己实现一个LRU"></a>如何防止缓存雪崩12.用java自己实现一个LRU</h2><h2 id="分布式集群下如何做到唯一序列号"><a href="#分布式集群下如何做到唯一序列号" class="headerlink" title="分布式集群下如何做到唯一序列号"></a>分布式集群下如何做到唯一序列号</h2><h2 id="设计一个秒杀系统，30分钟没付款就自动关闭交易"><a href="#设计一个秒杀系统，30分钟没付款就自动关闭交易" class="headerlink" title="设计一个秒杀系统，30分钟没付款就自动关闭交易"></a>设计一个秒杀系统，30分钟没付款就自动关闭交易</h2><h2 id="如何做一个分布式锁"><a href="#如何做一个分布式锁" class="headerlink" title="如何做一个分布式锁"></a>如何做一个分布式锁</h2><h2 id="用过哪些MQ，怎么用的，和其他mq比较有什么优缺点，MQ的连接是线程安全的吗"><a href="#用过哪些MQ，怎么用的，和其他mq比较有什么优缺点，MQ的连接是线程安全的吗" class="headerlink" title="用过哪些MQ，怎么用的，和其他mq比较有什么优缺点，MQ的连接是线程安全的吗"></a>用过哪些MQ，怎么用的，和其他mq比较有什么优缺点，MQ的连接是线程安全的吗</h2><h2 id="MQ系统的数据如何保证不丢失"><a href="#MQ系统的数据如何保证不丢失" class="headerlink" title="MQ系统的数据如何保证不丢失"></a>MQ系统的数据如何保证不丢失</h2><h2 id="分布式事务的原理，如何使用分布式事务"><a href="#分布式事务的原理，如何使用分布式事务" class="headerlink" title="分布式事务的原理，如何使用分布式事务"></a>分布式事务的原理，如何使用分布式事务</h2><h2 id="什么是一致性hash"><a href="#什么是一致性hash" class="headerlink" title="什么是一致性hash"></a>什么是一致性hash</h2><h2 id="什么是restful，讲讲你理解的restful"><a href="#什么是restful，讲讲你理解的restful" class="headerlink" title="什么是restful，讲讲你理解的restful"></a>什么是restful，讲讲你理解的restful</h2><h2 id="如何设计建立和保持100w的长连接？"><a href="#如何设计建立和保持100w的长连接？" class="headerlink" title="如何设计建立和保持100w的长连接？"></a>如何设计建立和保持100w的长连接？</h2><h2 id="解释什么是MESI协议-缓存一致性"><a href="#解释什么是MESI协议-缓存一致性" class="headerlink" title="解释什么是MESI协议(缓存一致性)"></a>解释什么是MESI协议(缓存一致性)</h2><h2 id="说说你知道的几种HASH算法，简单的也可以"><a href="#说说你知道的几种HASH算法，简单的也可以" class="headerlink" title="说说你知道的几种HASH算法，简单的也可以"></a>说说你知道的几种HASH算法，简单的也可以</h2><h2 id="什么是paxos算法"><a href="#什么是paxos算法" class="headerlink" title="什么是paxos算法"></a>什么是paxos算法</h2><h2 id="redis和memcached-的内存管理的区别"><a href="#redis和memcached-的内存管理的区别" class="headerlink" title="redis和memcached 的内存管理的区别"></a>redis和memcached 的内存管理的区别</h2><h2 id="一个在线文档系统，文档可以被编辑，如何防止多人同时对同一份文档进行编辑更新"><a href="#一个在线文档系统，文档可以被编辑，如何防止多人同时对同一份文档进行编辑更新" class="headerlink" title="一个在线文档系统，文档可以被编辑，如何防止多人同时对同一份文档进行编辑更新"></a>一个在线文档系统，文档可以被编辑，如何防止多人同时对同一份文档进行编辑更新</h2><h1 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h1><h2 id="10亿个数字里里面找最小的10个"><a href="#10亿个数字里里面找最小的10个" class="headerlink" title="10亿个数字里里面找最小的10个"></a>10亿个数字里里面找最小的10个</h2><h2 id="有1亿个数字，其中有2个是重复的，快速找到它，时间和空间要最优"><a href="#有1亿个数字，其中有2个是重复的，快速找到它，时间和空间要最优" class="headerlink" title="有1亿个数字，其中有2个是重复的，快速找到它，时间和空间要最优"></a>有1亿个数字，其中有2个是重复的，快速找到它，时间和空间要最优</h2><h2 id="2亿个随机生成的无序整数-找出中间大小的值"><a href="#2亿个随机生成的无序整数-找出中间大小的值" class="headerlink" title="2亿个随机生成的无序整数,找出中间大小的值"></a>2亿个随机生成的无序整数,找出中间大小的值</h2><h2 id="遍历二叉树"><a href="#遍历二叉树" class="headerlink" title="遍历二叉树"></a>遍历二叉树</h2><h1 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h1><h2 id="数据库隔离级别有哪些，各自的含义是什么，MYsql默认的隔离级别是是什么，各个存储引擎优缺点"><a href="#数据库隔离级别有哪些，各自的含义是什么，MYsql默认的隔离级别是是什么，各个存储引擎优缺点" class="headerlink" title="数据库隔离级别有哪些，各自的含义是什么，MYsql默认的隔离级别是是什么，各个存储引擎优缺点"></a>数据库隔离级别有哪些，各自的含义是什么，MYsql默认的隔离级别是是什么，各个存储引擎优缺点</h2><h2 id="高并发下，如何做到安全的修改同一行数据，乐观锁和悲观锁是什么，INNODB的行级锁有哪2种，解释其含义"><a href="#高并发下，如何做到安全的修改同一行数据，乐观锁和悲观锁是什么，INNODB的行级锁有哪2种，解释其含义" class="headerlink" title="高并发下，如何做到安全的修改同一行数据，乐观锁和悲观锁是什么，INNODB的行级锁有哪2种，解释其含义"></a>高并发下，如何做到安全的修改同一行数据，乐观锁和悲观锁是什么，INNODB的行级锁有哪2种，解释其含义</h2><h2 id="SQL优化的一般步骤是什么，怎么看执行计划，如何理解其中各个字段的含义，索引的原理？"><a href="#SQL优化的一般步骤是什么，怎么看执行计划，如何理解其中各个字段的含义，索引的原理？" class="headerlink" title="SQL优化的一般步骤是什么，怎么看执行计划，如何理解其中各个字段的含义，索引的原理？"></a>SQL优化的一般步骤是什么，怎么看执行计划，如何理解其中各个字段的含义，索引的原理？</h2><h2 id="数据库会死锁吗，举一个死锁的例子，mysql怎么解决死锁"><a href="#数据库会死锁吗，举一个死锁的例子，mysql怎么解决死锁" class="headerlink" title="数据库会死锁吗，举一个死锁的例子，mysql怎么解决死锁"></a>数据库会死锁吗，举一个死锁的例子，mysql怎么解决死锁</h2><h2 id="MYsql的索引实现方式"><a href="#MYsql的索引实现方式" class="headerlink" title="MYsql的索引实现方式"></a>MYsql的索引实现方式</h2><h2 id="聚集索引和非聚集索引的区别"><a href="#聚集索引和非聚集索引的区别" class="headerlink" title="聚集索引和非聚集索引的区别"></a>聚集索引和非聚集索引的区别</h2><h2 id="数据库中-BTREE和B-tree区别"><a href="#数据库中-BTREE和B-tree区别" class="headerlink" title="数据库中 BTREE和B+tree区别"></a>数据库中 BTREE和B+tree区别</h2>
        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-06T06:20:34.000Z">2019-09-06</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    37 分钟 读完 (大约 5584 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/06/System类/">System类</a>
            
        </h1>
        <div class="content">
            <p><img src="/images/2019/09/06/6505ce10-d06e-11e9-b8c8-91efca18534b.png" alt="image.png"></p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">/*</span></span><br><span class="line"><span class="hljs-comment"> * Copyright (c) 1994, 2013, Oracle and/or its affiliates. All rights reserved.</span></span><br><span class="line"><span class="hljs-comment"> * ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-keyword">package</span> java.lang;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> java.io.*;</span><br><span class="line"><span class="hljs-keyword">import</span> java.lang.reflect.Executable;</span><br><span class="line"><span class="hljs-keyword">import</span> java.lang.annotation.Annotation;</span><br><span class="line"><span class="hljs-keyword">import</span> java.security.AccessControlContext;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.Properties;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.PropertyPermission;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.StringTokenizer;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.Map;</span><br><span class="line"><span class="hljs-keyword">import</span> java.security.AccessController;</span><br><span class="line"><span class="hljs-keyword">import</span> java.security.PrivilegedAction;</span><br><span class="line"><span class="hljs-keyword">import</span> java.security.AllPermission;</span><br><span class="line"><span class="hljs-keyword">import</span> java.nio.channels.Channel;</span><br><span class="line"><span class="hljs-keyword">import</span> java.nio.channels.spi.SelectorProvider;</span><br><span class="line"><span class="hljs-keyword">import</span> sun.nio.ch.Interruptible;</span><br><span class="line"><span class="hljs-keyword">import</span> sun.reflect.CallerSensitive;</span><br><span class="line"><span class="hljs-keyword">import</span> sun.reflect.Reflection;</span><br><span class="line"><span class="hljs-keyword">import</span> sun.security.util.SecurityConstants;</span><br><span class="line"><span class="hljs-keyword">import</span> sun.reflect.annotation.AnnotationType;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * The &lt;code&gt;System&lt;/code&gt; class contains several useful class fields</span></span><br><span class="line"><span class="hljs-comment"> * and methods. It cannot be instantiated.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * &lt;p&gt;Among the facilities provided by the &lt;code&gt;System&lt;/code&gt; class</span></span><br><span class="line"><span class="hljs-comment"> * are standard input, standard output, and error output streams;</span></span><br><span class="line"><span class="hljs-comment"> * access to externally defined properties and environment</span></span><br><span class="line"><span class="hljs-comment"> * variables; a means of loading files and libraries; and a utility</span></span><br><span class="line"><span class="hljs-comment"> * method for quickly copying a portion of an array.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>  unascribed</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@since</span>   JDK1.0</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">System</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* register the natives via the static initializer.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * VM will invoke the initializeSystemClass method to complete</span></span><br><span class="line"><span class="hljs-comment">     * the initialization for this class separated from clinit.</span></span><br><span class="line"><span class="hljs-comment">     * Note that to use properties set by the VM, see the constraints</span></span><br><span class="line"><span class="hljs-comment">     * described in the initializeSystemClass method.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">void</span> <span class="hljs-title">registerNatives</span><span class="hljs-params">()</span></span>;</span><br><span class="line">    <span class="hljs-keyword">static</span> &#123;</span><br><span class="line">        registerNatives();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/** Don't let anyone instantiate this class */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">System</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * The "standard" input stream. This stream is already</span></span><br><span class="line"><span class="hljs-comment">     * open and ready to supply input data. Typically this stream</span></span><br><span class="line"><span class="hljs-comment">     * corresponds to keyboard input or another input source specified by</span></span><br><span class="line"><span class="hljs-comment">     * the host environment or user.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> InputStream in = <span class="hljs-keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * The "standard" output stream. This stream is already</span></span><br><span class="line"><span class="hljs-comment">     * open and ready to accept output data. Typically this stream</span></span><br><span class="line"><span class="hljs-comment">     * corresponds to display output or another output destination</span></span><br><span class="line"><span class="hljs-comment">     * specified by the host environment or user.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * For simple stand-alone Java applications, a typical way to write</span></span><br><span class="line"><span class="hljs-comment">     * a line of output data is:</span></span><br><span class="line"><span class="hljs-comment">     * &lt;blockquote&gt;&lt;pre&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     System.out.println(data)</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/pre&gt;&lt;/blockquote&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * See the &lt;code&gt;println&lt;/code&gt; methods in class &lt;code&gt;PrintStream&lt;/code&gt;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println()</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println(boolean)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println(char)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println(char[])</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println(double)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println(float)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println(int)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println(long)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println(java.lang.Object)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.io.PrintStream#println(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> PrintStream out = <span class="hljs-keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * The "standard" error output stream. This stream is already</span></span><br><span class="line"><span class="hljs-comment">     * open and ready to accept output data.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Typically this stream corresponds to display output or another</span></span><br><span class="line"><span class="hljs-comment">     * output destination specified by the host environment or user. By</span></span><br><span class="line"><span class="hljs-comment">     * convention, this output stream is used to display error messages</span></span><br><span class="line"><span class="hljs-comment">     * or other information that should come to the immediate attention</span></span><br><span class="line"><span class="hljs-comment">     * of a user even if the principal output stream, the value of the</span></span><br><span class="line"><span class="hljs-comment">     * variable &lt;code&gt;out&lt;/code&gt;, has been redirected to a file or other</span></span><br><span class="line"><span class="hljs-comment">     * destination that is typically not continuously monitored.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> PrintStream err = <span class="hljs-keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* The security manager for the system.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">volatile</span> SecurityManager security = <span class="hljs-keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Reassigns the "standard" input stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;First, if there is a security manager, its &lt;code&gt;checkPermission&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * method is called with a &lt;code&gt;RuntimePermission("setIO")&lt;/code&gt; permission</span></span><br><span class="line"><span class="hljs-comment">     *  to see if it's ok to reassign the "standard" input stream.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> in the new standard input stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> SecurityException</span></span><br><span class="line"><span class="hljs-comment">     *        if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *        &lt;code&gt;checkPermission&lt;/code&gt; method doesn't allow</span></span><br><span class="line"><span class="hljs-comment">     *        reassigning of the standard input stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> SecurityManager#checkPermission</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> java.lang.RuntimePermission</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span>   JDK1.1</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setIn</span><span class="hljs-params">(InputStream in)</span> </span>&#123;</span><br><span class="line">        checkIO();</span><br><span class="line">        setIn0(in);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Reassigns the "standard" output stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;First, if there is a security manager, its &lt;code&gt;checkPermission&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * method is called with a &lt;code&gt;RuntimePermission("setIO")&lt;/code&gt; permission</span></span><br><span class="line"><span class="hljs-comment">     *  to see if it's ok to reassign the "standard" output stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> out the new standard output stream</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> SecurityException</span></span><br><span class="line"><span class="hljs-comment">     *        if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *        &lt;code&gt;checkPermission&lt;/code&gt; method doesn't allow</span></span><br><span class="line"><span class="hljs-comment">     *        reassigning of the standard output stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> SecurityManager#checkPermission</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> java.lang.RuntimePermission</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span>   JDK1.1</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setOut</span><span class="hljs-params">(PrintStream out)</span> </span>&#123;</span><br><span class="line">        checkIO();</span><br><span class="line">        setOut0(out);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Reassigns the "standard" error output stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;First, if there is a security manager, its &lt;code&gt;checkPermission&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * method is called with a &lt;code&gt;RuntimePermission("setIO")&lt;/code&gt; permission</span></span><br><span class="line"><span class="hljs-comment">     *  to see if it's ok to reassign the "standard" error output stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> err the new standard error output stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> SecurityException</span></span><br><span class="line"><span class="hljs-comment">     *        if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *        &lt;code&gt;checkPermission&lt;/code&gt; method doesn't allow</span></span><br><span class="line"><span class="hljs-comment">     *        reassigning of the standard error output stream.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> SecurityManager#checkPermission</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> java.lang.RuntimePermission</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span>   JDK1.1</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setErr</span><span class="hljs-params">(PrintStream err)</span> </span>&#123;</span><br><span class="line">        checkIO();</span><br><span class="line">        setErr0(err);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">volatile</span> Console cons = <span class="hljs-keyword">null</span>;</span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the unique &#123;<span class="hljs-doctag">@link</span> java.io.Console Console&#125; object associated</span></span><br><span class="line"><span class="hljs-comment">     * with the current Java virtual machine, if any.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>  The system console, if any, otherwise &lt;tt&gt;null&lt;/tt&gt;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span>   1.6</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Console <span class="hljs-title">console</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">         <span class="hljs-keyword">if</span> (cons == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">             <span class="hljs-keyword">synchronized</span> (System.class) &#123;</span><br><span class="line">                 cons = sun.misc.SharedSecrets.getJavaIOAccess().console();</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="hljs-keyword">return</span> cons;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the channel inherited from the entity that created this</span></span><br><span class="line"><span class="hljs-comment">     * Java virtual machine.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt; This method returns the channel obtained by invoking the</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@link</span> java.nio.channels.spi.SelectorProvider#inheritedChannel</span></span><br><span class="line"><span class="hljs-comment">     * inheritedChannel&#125; method of the system-wide default</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@link</span> java.nio.channels.spi.SelectorProvider&#125; object. &lt;/p&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt; In addition to the network-oriented channels described in</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@link</span> java.nio.channels.spi.SelectorProvider#inheritedChannel</span></span><br><span class="line"><span class="hljs-comment">     * inheritedChannel&#125;, this method may return other kinds of</span></span><br><span class="line"><span class="hljs-comment">     * channels in the future.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>  The inherited channel, if any, otherwise &lt;tt&gt;null&lt;/tt&gt;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span>  IOException</span></span><br><span class="line"><span class="hljs-comment">     *          If an I/O error occurs</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span>  SecurityException</span></span><br><span class="line"><span class="hljs-comment">     *          If a security manager is present and it does not</span></span><br><span class="line"><span class="hljs-comment">     *          permit access to the channel.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.5</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Channel <span class="hljs-title">inheritedChannel</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> SelectorProvider.provider().inheritedChannel();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">checkIO</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            sm.checkPermission(<span class="hljs-keyword">new</span> RuntimePermission(<span class="hljs-string">"setIO"</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setIn0</span><span class="hljs-params">(InputStream in)</span></span>;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setOut0</span><span class="hljs-params">(PrintStream out)</span></span>;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setErr0</span><span class="hljs-params">(PrintStream err)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Sets the System security.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt; If there is a security manager already installed, this method first</span></span><br><span class="line"><span class="hljs-comment">     * calls the security manager's &lt;code&gt;checkPermission&lt;/code&gt; method</span></span><br><span class="line"><span class="hljs-comment">     * with a &lt;code&gt;RuntimePermission("setSecurityManager")&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * permission to ensure it's ok to replace the existing</span></span><br><span class="line"><span class="hljs-comment">     * security manager.</span></span><br><span class="line"><span class="hljs-comment">     * This may result in throwing a &lt;code&gt;SecurityException&lt;/code&gt;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt; Otherwise, the argument is established as the current</span></span><br><span class="line"><span class="hljs-comment">     * security manager. If the argument is &lt;code&gt;null&lt;/code&gt; and no</span></span><br><span class="line"><span class="hljs-comment">     * security manager has been established, then no action is taken and</span></span><br><span class="line"><span class="hljs-comment">     * the method simply returns.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      s   the security manager.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  SecurityException  if the security manager has already</span></span><br><span class="line"><span class="hljs-comment">     *             been set and its &lt;code&gt;checkPermission&lt;/code&gt; method</span></span><br><span class="line"><span class="hljs-comment">     *             doesn't allow it to be replaced.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> #getSecurityManager</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> SecurityManager#checkPermission</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span> java.lang.RuntimePermission</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setSecurityManager</span><span class="hljs-params">(<span class="hljs-keyword">final</span> SecurityManager s)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">            s.checkPackageAccess(<span class="hljs-string">"java.lang"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="hljs-comment">// no-op</span></span><br><span class="line">        &#125;</span><br><span class="line">        setSecurityManager0(s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">synchronized</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setSecurityManager0</span><span class="hljs-params">(<span class="hljs-keyword">final</span> SecurityManager s)</span> </span>&#123;</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-comment">// ask the currently installed security manager if we</span></span><br><span class="line">            <span class="hljs-comment">// can replace it.</span></span><br><span class="line">            sm.checkPermission(<span class="hljs-keyword">new</span> RuntimePermission</span><br><span class="line">                                     (<span class="hljs-string">"setSecurityManager"</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">if</span> ((s != <span class="hljs-keyword">null</span>) &amp;&amp; (s.getClass().getClassLoader() != <span class="hljs-keyword">null</span>)) &#123;</span><br><span class="line">            <span class="hljs-comment">// New security manager class is not on bootstrap classpath.</span></span><br><span class="line">            <span class="hljs-comment">// Cause policy to get initialized before we install the new</span></span><br><span class="line">            <span class="hljs-comment">// security manager, in order to prevent infinite loops when</span></span><br><span class="line">            <span class="hljs-comment">// trying to initialize the policy (which usually involves</span></span><br><span class="line">            <span class="hljs-comment">// accessing some security and/or system properties, which in turn</span></span><br><span class="line">            <span class="hljs-comment">// calls the installed security manager's checkPermission method</span></span><br><span class="line">            <span class="hljs-comment">// which will loop infinitely if there is a non-system class</span></span><br><span class="line">            <span class="hljs-comment">// (in this case: the new security manager class) on the stack).</span></span><br><span class="line">            AccessController.doPrivileged(<span class="hljs-keyword">new</span> PrivilegedAction&lt;Object&gt;() &#123;</span><br><span class="line">                <span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">                    s.getClass().getProtectionDomain().implies</span><br><span class="line">                        (SecurityConstants.ALL_PERMISSION);</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        security = s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Gets the system security interface.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>  if a security manager has already been established for the</span></span><br><span class="line"><span class="hljs-comment">     *          current application, then that security manager is returned;</span></span><br><span class="line"><span class="hljs-comment">     *          otherwise, &lt;code&gt;null&lt;/code&gt; is returned.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     #setSecurityManager</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SecurityManager <span class="hljs-title">getSecurityManager</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> security;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the current time in milliseconds.  Note that</span></span><br><span class="line"><span class="hljs-comment">     * while the unit of time of the return value is a millisecond,</span></span><br><span class="line"><span class="hljs-comment">     * the granularity of the value depends on the underlying</span></span><br><span class="line"><span class="hljs-comment">     * operating system and may be larger.  For example, many</span></span><br><span class="line"><span class="hljs-comment">     * operating systems measure time in units of tens of</span></span><br><span class="line"><span class="hljs-comment">     * milliseconds.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt; See the description of the class &lt;code&gt;Date&lt;/code&gt; for</span></span><br><span class="line"><span class="hljs-comment">     * a discussion of slight discrepancies that may arise between</span></span><br><span class="line"><span class="hljs-comment">     * "computer time" and coordinated universal time (UTC).</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>  the difference, measured in milliseconds, between</span></span><br><span class="line"><span class="hljs-comment">     *          the current time and midnight, January 1, 1970 UTC.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.util.Date</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">long</span> <span class="hljs-title">currentTimeMillis</span><span class="hljs-params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the current value of the running Java Virtual Machine's</span></span><br><span class="line"><span class="hljs-comment">     * high-resolution time source, in nanoseconds.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;This method can only be used to measure elapsed time and is</span></span><br><span class="line"><span class="hljs-comment">     * not related to any other notion of system or wall-clock time.</span></span><br><span class="line"><span class="hljs-comment">     * The value returned represents nanoseconds since some fixed but</span></span><br><span class="line"><span class="hljs-comment">     * arbitrary &lt;i&gt;origin&lt;/i&gt; time (perhaps in the future, so values</span></span><br><span class="line"><span class="hljs-comment">     * may be negative).  The same origin is used by all invocations of</span></span><br><span class="line"><span class="hljs-comment">     * this method in an instance of a Java virtual machine; other</span></span><br><span class="line"><span class="hljs-comment">     * virtual machine instances are likely to use a different origin.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;This method provides nanosecond precision, but not necessarily</span></span><br><span class="line"><span class="hljs-comment">     * nanosecond resolution (that is, how frequently the value changes)</span></span><br><span class="line"><span class="hljs-comment">     * - no guarantees are made except that the resolution is at least as</span></span><br><span class="line"><span class="hljs-comment">     * good as that of &#123;<span class="hljs-doctag">@link</span> #currentTimeMillis()&#125;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;Differences in successive calls that span greater than</span></span><br><span class="line"><span class="hljs-comment">     * approximately 292 years (2&lt;sup&gt;63&lt;/sup&gt; nanoseconds) will not</span></span><br><span class="line"><span class="hljs-comment">     * correctly compute elapsed time due to numerical overflow.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;The values returned by this method become meaningful only when</span></span><br><span class="line"><span class="hljs-comment">     * the difference between two such values, obtained within the same</span></span><br><span class="line"><span class="hljs-comment">     * instance of a Java virtual machine, is computed.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt; For example, to measure how long some code takes to execute:</span></span><br><span class="line"><span class="hljs-comment">     *  &lt;pre&gt; &#123;<span class="hljs-doctag">@code</span></span></span><br><span class="line"><span class="hljs-comment">     * long startTime = System.nanoTime();</span></span><br><span class="line"><span class="hljs-comment">     * // ... the code being measured ...</span></span><br><span class="line"><span class="hljs-comment">     * long estimatedTime = System.nanoTime() - startTime;&#125;&lt;/pre&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;To compare two nanoTime values</span></span><br><span class="line"><span class="hljs-comment">     *  &lt;pre&gt; &#123;<span class="hljs-doctag">@code</span></span></span><br><span class="line"><span class="hljs-comment">     * long t0 = System.nanoTime();</span></span><br><span class="line"><span class="hljs-comment">     * ...</span></span><br><span class="line"><span class="hljs-comment">     * long t1 = System.nanoTime();&#125;&lt;/pre&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * one should use &#123;<span class="hljs-doctag">@code</span> t1 - t0 &lt; 0&#125;, not &#123;<span class="hljs-doctag">@code</span> t1 &lt; t0&#125;,</span></span><br><span class="line"><span class="hljs-comment">     * because of the possibility of numerical overflow.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the current value of the running Java Virtual Machine's</span></span><br><span class="line"><span class="hljs-comment">     *         high-resolution time source, in nanoseconds</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.5</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">long</span> <span class="hljs-title">nanoTime</span><span class="hljs-params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Copies an array from the specified source array, beginning at the</span></span><br><span class="line"><span class="hljs-comment">     * specified position, to the specified position of the destination array.</span></span><br><span class="line"><span class="hljs-comment">     * A subsequence of array components are copied from the source</span></span><br><span class="line"><span class="hljs-comment">     * array referenced by &lt;code&gt;src&lt;/code&gt; to the destination array</span></span><br><span class="line"><span class="hljs-comment">     * referenced by &lt;code&gt;dest&lt;/code&gt;. The number of components copied is</span></span><br><span class="line"><span class="hljs-comment">     * equal to the &lt;code&gt;length&lt;/code&gt; argument. The components at</span></span><br><span class="line"><span class="hljs-comment">     * positions &lt;code&gt;srcPos&lt;/code&gt; through</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;srcPos+length-1&lt;/code&gt; in the source array are copied into</span></span><br><span class="line"><span class="hljs-comment">     * positions &lt;code&gt;destPos&lt;/code&gt; through</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;destPos+length-1&lt;/code&gt;, respectively, of the destination</span></span><br><span class="line"><span class="hljs-comment">     * array.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * If the &lt;code&gt;src&lt;/code&gt; and &lt;code&gt;dest&lt;/code&gt; arguments refer to the</span></span><br><span class="line"><span class="hljs-comment">     * same array object, then the copying is performed as if the</span></span><br><span class="line"><span class="hljs-comment">     * components at positions &lt;code&gt;srcPos&lt;/code&gt; through</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;srcPos+length-1&lt;/code&gt; were first copied to a temporary</span></span><br><span class="line"><span class="hljs-comment">     * array with &lt;code&gt;length&lt;/code&gt; components and then the contents of</span></span><br><span class="line"><span class="hljs-comment">     * the temporary array were copied into positions</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;destPos&lt;/code&gt; through &lt;code&gt;destPos+length-1&lt;/code&gt; of the</span></span><br><span class="line"><span class="hljs-comment">     * destination array.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * If &lt;code&gt;dest&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;, then a</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;NullPointerException&lt;/code&gt; is thrown.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * If &lt;code&gt;src&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;, then a</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;NullPointerException&lt;/code&gt; is thrown and the destination</span></span><br><span class="line"><span class="hljs-comment">     * array is not modified.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Otherwise, if any of the following is true, an</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;ArrayStoreException&lt;/code&gt; is thrown and the destination is</span></span><br><span class="line"><span class="hljs-comment">     * not modified:</span></span><br><span class="line"><span class="hljs-comment">     * &lt;ul&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;The &lt;code&gt;src&lt;/code&gt; argument refers to an object that is not an</span></span><br><span class="line"><span class="hljs-comment">     *     array.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;The &lt;code&gt;dest&lt;/code&gt; argument refers to an object that is not an</span></span><br><span class="line"><span class="hljs-comment">     *     array.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;The &lt;code&gt;src&lt;/code&gt; argument and &lt;code&gt;dest&lt;/code&gt; argument refer</span></span><br><span class="line"><span class="hljs-comment">     *     to arrays whose component types are different primitive types.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;The &lt;code&gt;src&lt;/code&gt; argument refers to an array with a primitive</span></span><br><span class="line"><span class="hljs-comment">     *    component type and the &lt;code&gt;dest&lt;/code&gt; argument refers to an array</span></span><br><span class="line"><span class="hljs-comment">     *     with a reference component type.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;The &lt;code&gt;src&lt;/code&gt; argument refers to an array with a reference</span></span><br><span class="line"><span class="hljs-comment">     *    component type and the &lt;code&gt;dest&lt;/code&gt; argument refers to an array</span></span><br><span class="line"><span class="hljs-comment">     *     with a primitive component type.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/ul&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Otherwise, if any of the following is true, an</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;IndexOutOfBoundsException&lt;/code&gt; is</span></span><br><span class="line"><span class="hljs-comment">     * thrown and the destination is not modified:</span></span><br><span class="line"><span class="hljs-comment">     * &lt;ul&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;The &lt;code&gt;srcPos&lt;/code&gt; argument is negative.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;The &lt;code&gt;destPos&lt;/code&gt; argument is negative.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;The &lt;code&gt;length&lt;/code&gt; argument is negative.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;&lt;code&gt;srcPos+length&lt;/code&gt; is greater than</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;code&gt;src.length&lt;/code&gt;, the length of the source array.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;li&gt;&lt;code&gt;destPos+length&lt;/code&gt; is greater than</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;code&gt;dest.length&lt;/code&gt;, the length of the destination array.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/ul&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Otherwise, if any actual component of the source array from</span></span><br><span class="line"><span class="hljs-comment">     * position &lt;code&gt;srcPos&lt;/code&gt; through</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;srcPos+length-1&lt;/code&gt; cannot be converted to the component</span></span><br><span class="line"><span class="hljs-comment">     * type of the destination array by assignment conversion, an</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;ArrayStoreException&lt;/code&gt; is thrown. In this case, let</span></span><br><span class="line"><span class="hljs-comment">     * &lt;b&gt;&lt;i&gt;k&lt;/i&gt;&lt;/b&gt; be the smallest nonnegative integer less than</span></span><br><span class="line"><span class="hljs-comment">     * length such that &lt;code&gt;src[srcPos+&lt;/code&gt;&lt;i&gt;k&lt;/i&gt;&lt;code&gt;]&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * cannot be converted to the component type of the destination</span></span><br><span class="line"><span class="hljs-comment">     * array; when the exception is thrown, source array components from</span></span><br><span class="line"><span class="hljs-comment">     * positions &lt;code&gt;srcPos&lt;/code&gt; through</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;srcPos+&lt;/code&gt;&lt;i&gt;k&lt;/i&gt;&lt;code&gt;-1&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * will already have been copied to destination array positions</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;destPos&lt;/code&gt; through</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;destPos+&lt;/code&gt;&lt;i&gt;k&lt;/I&gt;&lt;code&gt;-1&lt;/code&gt; and no other</span></span><br><span class="line"><span class="hljs-comment">     * positions of the destination array will have been modified.</span></span><br><span class="line"><span class="hljs-comment">     * (Because of the restrictions already itemized, this</span></span><br><span class="line"><span class="hljs-comment">     * paragraph effectively applies only to the situation where both</span></span><br><span class="line"><span class="hljs-comment">     * arrays have component types that are reference types.)</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      src      the source array.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      srcPos   starting position in the source array.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      dest     the destination array.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      destPos  starting position in the destination data.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      length   the number of array elements to be copied.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  IndexOutOfBoundsException  if copying would cause</span></span><br><span class="line"><span class="hljs-comment">     *               access of data outside array bounds.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  ArrayStoreException  if an element in the &lt;code&gt;src&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     *               array could not be stored into the &lt;code&gt;dest&lt;/code&gt; array</span></span><br><span class="line"><span class="hljs-comment">     *               because of a type mismatch.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  NullPointerException if either &lt;code&gt;src&lt;/code&gt; or</span></span><br><span class="line"><span class="hljs-comment">     *               &lt;code&gt;dest&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">void</span> <span class="hljs-title">arraycopy</span><span class="hljs-params">(Object src,  <span class="hljs-keyword">int</span>  srcPos,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">                                        Object dest, <span class="hljs-keyword">int</span> destPos,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">                                        <span class="hljs-keyword">int</span> length)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the same hash code for the given object as</span></span><br><span class="line"><span class="hljs-comment">     * would be returned by the default method hashCode(),</span></span><br><span class="line"><span class="hljs-comment">     * whether or not the given object's class overrides</span></span><br><span class="line"><span class="hljs-comment">     * hashCode().</span></span><br><span class="line"><span class="hljs-comment">     * The hash code for the null reference is zero.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> x object for which the hashCode is to be calculated</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>  the hashCode</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span>   JDK1.1</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> <span class="hljs-keyword">int</span> <span class="hljs-title">identityHashCode</span><span class="hljs-params">(Object x)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * System properties. The following properties are guaranteed to be defined:</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dl&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;java.version         &lt;dd&gt;Java version number</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;java.vendor          &lt;dd&gt;Java vendor specific string</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;java.vendor.url      &lt;dd&gt;Java vendor URL</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;java.home            &lt;dd&gt;Java installation directory</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;java.class.version   &lt;dd&gt;Java class version number</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;java.class.path      &lt;dd&gt;Java classpath</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;os.name              &lt;dd&gt;Operating System Name</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;os.arch              &lt;dd&gt;Operating System Architecture</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;os.version           &lt;dd&gt;Operating System Version</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;file.separator       &lt;dd&gt;File separator ("/" on Unix)</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;path.separator       &lt;dd&gt;Path separator (":" on Unix)</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;line.separator       &lt;dd&gt;Line separator ("\n" on Unix)</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;user.name            &lt;dd&gt;User account name</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;user.home            &lt;dd&gt;User home directory</span></span><br><span class="line"><span class="hljs-comment">     * &lt;dt&gt;user.dir             &lt;dd&gt;User's current working directory</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/dl&gt;</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Properties props;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> Properties <span class="hljs-title">initProperties</span><span class="hljs-params">(Properties props)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Determines the current system properties.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * First, if there is a security manager, its</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;checkPropertiesAccess&lt;/code&gt; method is called with no</span></span><br><span class="line"><span class="hljs-comment">     * arguments. This may result in a security exception.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * The current set of system properties for use by the</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@link</span> #getProperty(String)&#125; method is returned as a</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;Properties&lt;/code&gt; object. If there is no current set of</span></span><br><span class="line"><span class="hljs-comment">     * system properties, a set of system properties is first created and</span></span><br><span class="line"><span class="hljs-comment">     * initialized. This set of system properties always includes values</span></span><br><span class="line"><span class="hljs-comment">     * for the following keys:</span></span><br><span class="line"><span class="hljs-comment">     * &lt;table summary="Shows property keys and associated values"&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;th&gt;Key&lt;/th&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;th&gt;Description of Associated Value&lt;/th&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.version&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Runtime Environment version&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vendor&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Runtime Environment vendor&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vendor.url&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java vendor URL&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.home&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java installation directory&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vm.specification.version&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Virtual Machine specification version&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vm.specification.vendor&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Virtual Machine specification vendor&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vm.specification.name&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Virtual Machine specification name&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vm.version&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Virtual Machine implementation version&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vm.vendor&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Virtual Machine implementation vendor&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vm.name&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Virtual Machine implementation name&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.specification.version&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Runtime Environment specification  version&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.specification.vendor&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Runtime Environment specification  vendor&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.specification.name&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java Runtime Environment specification  name&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.class.version&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java class format version number&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.class.path&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Java class path&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.library.path&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;List of paths to search when loading libraries&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.io.tmpdir&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Default temp file path&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.compiler&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Name of JIT compiler to use&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.ext.dirs&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Path of extension directory or directories</span></span><br><span class="line"><span class="hljs-comment">     *         &lt;b&gt;Deprecated.&lt;/b&gt; &lt;i&gt;This property, and the mechanism</span></span><br><span class="line"><span class="hljs-comment">     *            which implements it, may be removed in a future</span></span><br><span class="line"><span class="hljs-comment">     *            release.&lt;/i&gt; &lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;os.name&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Operating system name&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;os.arch&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Operating system architecture&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;os.version&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Operating system version&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;file.separator&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;File separator ("/" on UNIX)&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;path.separator&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Path separator (":" on UNIX)&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;line.separator&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;Line separator ("\n" on UNIX)&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;user.name&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;User's account name&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;user.home&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;User's home directory&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;user.dir&lt;/code&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="hljs-comment">     *     &lt;td&gt;User's current working directory&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/table&gt;</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Multiple paths in a system property value are separated by the path</span></span><br><span class="line"><span class="hljs-comment">     * separator character of the platform.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Note that even if the security manager does not permit the</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;getProperties&lt;/code&gt; operation, it may choose to permit the</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@link</span> #getProperty(String)&#125; operation.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>     the system properties</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  SecurityException  if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;checkPropertiesAccess&lt;/code&gt; method doesn't allow access</span></span><br><span class="line"><span class="hljs-comment">     *              to the system properties.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        #setProperties</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityException</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityManager#checkPropertiesAccess()</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.util.Properties</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Properties <span class="hljs-title">getProperties</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            sm.checkPropertiesAccess();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> props;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns the system-dependent line separator string.  It always</span></span><br><span class="line"><span class="hljs-comment">     * returns the same value - the initial value of the &#123;<span class="hljs-doctag">@linkplain</span></span></span><br><span class="line"><span class="hljs-comment">     * #getProperty(String) system property&#125; &#123;<span class="hljs-doctag">@code</span> line.separator&#125;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;On UNIX systems, it returns &#123;<span class="hljs-doctag">@code</span> "\n"&#125;; on Microsoft</span></span><br><span class="line"><span class="hljs-comment">     * Windows systems it returns &#123;<span class="hljs-doctag">@code</span> "\r\n"&#125;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the system-dependent line separator string</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.7</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">lineSeparator</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> lineSeparator;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String lineSeparator;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Sets the system properties to the &lt;code&gt;Properties&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * argument.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * First, if there is a security manager, its</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;checkPropertiesAccess&lt;/code&gt; method is called with no</span></span><br><span class="line"><span class="hljs-comment">     * arguments. This may result in a security exception.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * The argument becomes the current set of system properties for use</span></span><br><span class="line"><span class="hljs-comment">     * by the &#123;<span class="hljs-doctag">@link</span> #getProperty(String)&#125; method. If the argument is</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;null&lt;/code&gt;, then the current set of system properties is</span></span><br><span class="line"><span class="hljs-comment">     * forgotten.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      props   the new system properties.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  SecurityException  if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;checkPropertiesAccess&lt;/code&gt; method doesn't allow access</span></span><br><span class="line"><span class="hljs-comment">     *              to the system properties.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        #getProperties</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.util.Properties</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityException</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityManager#checkPropertiesAccess()</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setProperties</span><span class="hljs-params">(Properties props)</span> </span>&#123;</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            sm.checkPropertiesAccess();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">if</span> (props == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            props = <span class="hljs-keyword">new</span> Properties();</span><br><span class="line">            initProperties(props);</span><br><span class="line">        &#125;</span><br><span class="line">        System.props = props;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Gets the system property indicated by the specified key.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * First, if there is a security manager, its</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;checkPropertyAccess&lt;/code&gt; method is called with the key as</span></span><br><span class="line"><span class="hljs-comment">     * its argument. This may result in a SecurityException.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * If there is no current set of system properties, a set of system</span></span><br><span class="line"><span class="hljs-comment">     * properties is first created and initialized in the same manner as</span></span><br><span class="line"><span class="hljs-comment">     * for the &lt;code&gt;getProperties&lt;/code&gt; method.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      key   the name of the system property.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>     the string value of the system property,</span></span><br><span class="line"><span class="hljs-comment">     *             or &lt;code&gt;null&lt;/code&gt; if there is no property with that key.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  SecurityException  if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;checkPropertyAccess&lt;/code&gt; method doesn't allow</span></span><br><span class="line"><span class="hljs-comment">     *              access to the specified system property.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  NullPointerException if &lt;code&gt;key&lt;/code&gt; is</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;null&lt;/code&gt;.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  IllegalArgumentException if &lt;code&gt;key&lt;/code&gt; is empty.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        #setProperty</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityException</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityManager#checkPropertyAccess(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.System#getProperties()</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getProperty</span><span class="hljs-params">(String key)</span> </span>&#123;</span><br><span class="line">        checkKey(key);</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            sm.checkPropertyAccess(key);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> props.getProperty(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Gets the system property indicated by the specified key.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * First, if there is a security manager, its</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;checkPropertyAccess&lt;/code&gt; method is called with the</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;key&lt;/code&gt; as its argument.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * If there is no current set of system properties, a set of system</span></span><br><span class="line"><span class="hljs-comment">     * properties is first created and initialized in the same manner as</span></span><br><span class="line"><span class="hljs-comment">     * for the &lt;code&gt;getProperties&lt;/code&gt; method.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      key   the name of the system property.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      def   a default value.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>     the string value of the system property,</span></span><br><span class="line"><span class="hljs-comment">     *             or the default value if there is no property with that key.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  SecurityException  if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;checkPropertyAccess&lt;/code&gt; method doesn't allow</span></span><br><span class="line"><span class="hljs-comment">     *             access to the specified system property.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  NullPointerException if &lt;code&gt;key&lt;/code&gt; is</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;null&lt;/code&gt;.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  IllegalArgumentException if &lt;code&gt;key&lt;/code&gt; is empty.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        #setProperty</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityManager#checkPropertyAccess(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.System#getProperties()</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getProperty</span><span class="hljs-params">(String key, String def)</span> </span>&#123;</span><br><span class="line">        checkKey(key);</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            sm.checkPropertyAccess(key);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> props.getProperty(key, def);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Sets the system property indicated by the specified key.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * First, if a security manager exists, its</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;SecurityManager.checkPermission&lt;/code&gt; method</span></span><br><span class="line"><span class="hljs-comment">     * is called with a &lt;code&gt;PropertyPermission(key, "write")&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * permission. This may result in a SecurityException being thrown.</span></span><br><span class="line"><span class="hljs-comment">     * If no exception is thrown, the specified property is set to the given</span></span><br><span class="line"><span class="hljs-comment">     * value.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      key   the name of the system property.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      value the value of the system property.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>     the previous value of the system property,</span></span><br><span class="line"><span class="hljs-comment">     *             or &lt;code&gt;null&lt;/code&gt; if it did not have one.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  SecurityException  if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;checkPermission&lt;/code&gt; method doesn't allow</span></span><br><span class="line"><span class="hljs-comment">     *             setting of the specified property.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  NullPointerException if &lt;code&gt;key&lt;/code&gt; or</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;value&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  IllegalArgumentException if &lt;code&gt;key&lt;/code&gt; is empty.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        #getProperty</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.System#getProperty(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.System#getProperty(java.lang.String, java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.util.PropertyPermission</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        SecurityManager#checkPermission</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span>      1.2</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">setProperty</span><span class="hljs-params">(String key, String value)</span> </span>&#123;</span><br><span class="line">        checkKey(key);</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            sm.checkPermission(<span class="hljs-keyword">new</span> PropertyPermission(key,</span><br><span class="line">                SecurityConstants.PROPERTY_WRITE_ACTION));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> (String) props.setProperty(key, value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Removes the system property indicated by the specified key.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * First, if a security manager exists, its</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;SecurityManager.checkPermission&lt;/code&gt; method</span></span><br><span class="line"><span class="hljs-comment">     * is called with a &lt;code&gt;PropertyPermission(key, "write")&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * permission. This may result in a SecurityException being thrown.</span></span><br><span class="line"><span class="hljs-comment">     * If no exception is thrown, the specified property is removed.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      key   the name of the system property to be removed.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>     the previous string value of the system property,</span></span><br><span class="line"><span class="hljs-comment">     *             or &lt;code&gt;null&lt;/code&gt; if there was no property with that key.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  SecurityException  if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;checkPropertyAccess&lt;/code&gt; method doesn't allow</span></span><br><span class="line"><span class="hljs-comment">     *              access to the specified system property.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  NullPointerException if &lt;code&gt;key&lt;/code&gt; is</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;null&lt;/code&gt;.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  IllegalArgumentException if &lt;code&gt;key&lt;/code&gt; is empty.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        #getProperty</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        #setProperty</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.util.Properties</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityException</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityManager#checkPropertiesAccess()</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span> 1.5</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">clearProperty</span><span class="hljs-params">(String key)</span> </span>&#123;</span><br><span class="line">        checkKey(key);</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            sm.checkPermission(<span class="hljs-keyword">new</span> PropertyPermission(key, <span class="hljs-string">"write"</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> (String) props.remove(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">checkKey</span><span class="hljs-params">(String key)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (key == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException(<span class="hljs-string">"key can't be null"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">if</span> (key.equals(<span class="hljs-string">""</span>)) &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"key can't be empty"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Gets the value of the specified environment variable. An</span></span><br><span class="line"><span class="hljs-comment">     * environment variable is a system-dependent external named</span></span><br><span class="line"><span class="hljs-comment">     * value.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;If a security manager exists, its</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@link</span> SecurityManager#checkPermission checkPermission&#125;</span></span><br><span class="line"><span class="hljs-comment">     * method is called with a</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;&#123;<span class="hljs-doctag">@link</span> RuntimePermission&#125;("getenv."+name)&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * permission.  This may result in a &#123;<span class="hljs-doctag">@link</span> SecurityException&#125;</span></span><br><span class="line"><span class="hljs-comment">     * being thrown.  If no exception is thrown the value of the</span></span><br><span class="line"><span class="hljs-comment">     * variable &lt;code&gt;name&lt;/code&gt; is returned.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;&lt;a name="EnvironmentVSSystemProperties"&gt;&lt;i&gt;System</span></span><br><span class="line"><span class="hljs-comment">     * properties&lt;/i&gt; and &lt;i&gt;environment variables&lt;/i&gt;&lt;/a&gt; are both</span></span><br><span class="line"><span class="hljs-comment">     * conceptually mappings between names and values.  Both</span></span><br><span class="line"><span class="hljs-comment">     * mechanisms can be used to pass user-defined information to a</span></span><br><span class="line"><span class="hljs-comment">     * Java process.  Environment variables have a more global effect,</span></span><br><span class="line"><span class="hljs-comment">     * because they are visible to all descendants of the process</span></span><br><span class="line"><span class="hljs-comment">     * which defines them, not just the immediate Java subprocess.</span></span><br><span class="line"><span class="hljs-comment">     * They can have subtly different semantics, such as case</span></span><br><span class="line"><span class="hljs-comment">     * insensitivity, on different operating systems.  For these</span></span><br><span class="line"><span class="hljs-comment">     * reasons, environment variables are more likely to have</span></span><br><span class="line"><span class="hljs-comment">     * unintended side effects.  It is best to use system properties</span></span><br><span class="line"><span class="hljs-comment">     * where possible.  Environment variables should be used when a</span></span><br><span class="line"><span class="hljs-comment">     * global effect is desired, or when an external system interface</span></span><br><span class="line"><span class="hljs-comment">     * requires an environment variable (such as &lt;code&gt;PATH&lt;/code&gt;).</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;On UNIX systems the alphabetic case of &lt;code&gt;name&lt;/code&gt; is</span></span><br><span class="line"><span class="hljs-comment">     * typically significant, while on Microsoft Windows systems it is</span></span><br><span class="line"><span class="hljs-comment">     * typically not.  For example, the expression</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;System.getenv("FOO").equals(System.getenv("foo"))&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * is likely to be true on Microsoft Windows.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>  name the name of the environment variable</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the string value of the variable, or &lt;code&gt;null&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     *         if the variable is not defined in the system environment</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> NullPointerException if &lt;code&gt;name&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> SecurityException</span></span><br><span class="line"><span class="hljs-comment">     *         if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *         &#123;<span class="hljs-doctag">@link</span> SecurityManager#checkPermission checkPermission&#125;</span></span><br><span class="line"><span class="hljs-comment">     *         method doesn't allow access to the environment variable</span></span><br><span class="line"><span class="hljs-comment">     *         &lt;code&gt;name&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>    #getenv()</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>    ProcessBuilder#environment()</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getenv</span><span class="hljs-params">(String name)</span> </span>&#123;</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            sm.checkPermission(<span class="hljs-keyword">new</span> RuntimePermission(<span class="hljs-string">"getenv."</span>+name));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> ProcessEnvironment.getenv(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Returns an unmodifiable string map view of the current system environment.</span></span><br><span class="line"><span class="hljs-comment">     * The environment is a system-dependent mapping from names to</span></span><br><span class="line"><span class="hljs-comment">     * values which is passed from parent to child processes.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;If the system does not support environment variables, an</span></span><br><span class="line"><span class="hljs-comment">     * empty map is returned.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;The returned map will never contain null keys or values.</span></span><br><span class="line"><span class="hljs-comment">     * Attempting to query the presence of a null key or value will</span></span><br><span class="line"><span class="hljs-comment">     * throw a &#123;<span class="hljs-doctag">@link</span> NullPointerException&#125;.  Attempting to query</span></span><br><span class="line"><span class="hljs-comment">     * the presence of a key or value which is not of type</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@link</span> String&#125; will throw a &#123;<span class="hljs-doctag">@link</span> ClassCastException&#125;.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;The returned map and its collection views may not obey the</span></span><br><span class="line"><span class="hljs-comment">     * general contract of the &#123;<span class="hljs-doctag">@link</span> Object#equals&#125; and</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@link</span> Object#hashCode&#125; methods.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;The returned map is typically case-sensitive on all platforms.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;If a security manager exists, its</span></span><br><span class="line"><span class="hljs-comment">     * &#123;<span class="hljs-doctag">@link</span> SecurityManager#checkPermission checkPermission&#125;</span></span><br><span class="line"><span class="hljs-comment">     * method is called with a</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;&#123;<span class="hljs-doctag">@link</span> RuntimePermission&#125;("getenv.*")&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * permission.  This may result in a &#123;<span class="hljs-doctag">@link</span> SecurityException&#125; being</span></span><br><span class="line"><span class="hljs-comment">     * thrown.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;When passing information to a Java subprocess,</span></span><br><span class="line"><span class="hljs-comment">     * &lt;a href=#EnvironmentVSSystemProperties&gt;system properties&lt;/a&gt;</span></span><br><span class="line"><span class="hljs-comment">     * are generally preferred over environment variables.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the environment as a map of variable names to values</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> SecurityException</span></span><br><span class="line"><span class="hljs-comment">     *         if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *         &#123;<span class="hljs-doctag">@link</span> SecurityManager#checkPermission checkPermission&#125;</span></span><br><span class="line"><span class="hljs-comment">     *         method doesn't allow access to the process environment</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>    #getenv(String)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>    ProcessBuilder#environment()</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span>  1.5</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> java.util.<span class="hljs-function">Map&lt;String,String&gt; <span class="hljs-title">getenv</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        SecurityManager sm = getSecurityManager();</span><br><span class="line">        <span class="hljs-keyword">if</span> (sm != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            sm.checkPermission(<span class="hljs-keyword">new</span> RuntimePermission(<span class="hljs-string">"getenv.*"</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> ProcessEnvironment.getenv();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Terminates the currently running Java Virtual Machine. The</span></span><br><span class="line"><span class="hljs-comment">     * argument serves as a status code; by convention, a nonzero status</span></span><br><span class="line"><span class="hljs-comment">     * code indicates abnormal termination.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * This method calls the &lt;code&gt;exit&lt;/code&gt; method in class</span></span><br><span class="line"><span class="hljs-comment">     * &lt;code&gt;Runtime&lt;/code&gt;. This method never returns normally.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * The call &lt;code&gt;System.exit(n)&lt;/code&gt; is effectively equivalent to</span></span><br><span class="line"><span class="hljs-comment">     * the call:</span></span><br><span class="line"><span class="hljs-comment">     * &lt;blockquote&gt;&lt;pre&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Runtime.getRuntime().exit(n)</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/pre&gt;&lt;/blockquote&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      status   exit status.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span>  SecurityException</span></span><br><span class="line"><span class="hljs-comment">     *        if a security manager exists and its &lt;code&gt;checkExit&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     *        method doesn't allow exit with the specified status.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.Runtime#exit(int)</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">exit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> status)</span> </span>&#123;</span><br><span class="line">        Runtime.getRuntime().exit(status);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Runs the garbage collector.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Calling the &lt;code&gt;gc&lt;/code&gt; method suggests that the Java Virtual</span></span><br><span class="line"><span class="hljs-comment">     * Machine expend effort toward recycling unused objects in order to</span></span><br><span class="line"><span class="hljs-comment">     * make the memory they currently occupy available for quick reuse.</span></span><br><span class="line"><span class="hljs-comment">     * When control returns from the method call, the Java Virtual</span></span><br><span class="line"><span class="hljs-comment">     * Machine has made a best effort to reclaim space from all discarded</span></span><br><span class="line"><span class="hljs-comment">     * objects.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * The call &lt;code&gt;System.gc()&lt;/code&gt; is effectively equivalent to the</span></span><br><span class="line"><span class="hljs-comment">     * call:</span></span><br><span class="line"><span class="hljs-comment">     * &lt;blockquote&gt;&lt;pre&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Runtime.getRuntime().gc()</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/pre&gt;&lt;/blockquote&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.lang.Runtime#gc()</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">gc</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        Runtime.getRuntime().gc();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Runs the finalization methods of any objects pending finalization.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Calling this method suggests that the Java Virtual Machine expend</span></span><br><span class="line"><span class="hljs-comment">     * effort toward running the &lt;code&gt;finalize&lt;/code&gt; methods of objects</span></span><br><span class="line"><span class="hljs-comment">     * that have been found to be discarded but whose &lt;code&gt;finalize&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * methods have not yet been run. When control returns from the</span></span><br><span class="line"><span class="hljs-comment">     * method call, the Java Virtual Machine has made a best effort to</span></span><br><span class="line"><span class="hljs-comment">     * complete all outstanding finalizations.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * The call &lt;code&gt;System.runFinalization()&lt;/code&gt; is effectively</span></span><br><span class="line"><span class="hljs-comment">     * equivalent to the call:</span></span><br><span class="line"><span class="hljs-comment">     * &lt;blockquote&gt;&lt;pre&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Runtime.getRuntime().runFinalization()</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/pre&gt;&lt;/blockquote&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.lang.Runtime#runFinalization()</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">runFinalization</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        Runtime.getRuntime().runFinalization();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Enable or disable finalization on exit; doing so specifies that the</span></span><br><span class="line"><span class="hljs-comment">     * finalizers of all objects that have finalizers that have not yet been</span></span><br><span class="line"><span class="hljs-comment">     * automatically invoked are to be run before the Java runtime exits.</span></span><br><span class="line"><span class="hljs-comment">     * By default, finalization on exit is disabled.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;If there is a security manager,</span></span><br><span class="line"><span class="hljs-comment">     * its &lt;code&gt;checkExit&lt;/code&gt; method is first called</span></span><br><span class="line"><span class="hljs-comment">     * with 0 as its argument to ensure the exit is allowed.</span></span><br><span class="line"><span class="hljs-comment">     * This could result in a SecurityException.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@deprecated</span>  This method is inherently unsafe.  It may result in</span></span><br><span class="line"><span class="hljs-comment">     *      finalizers being called on live objects while other threads are</span></span><br><span class="line"><span class="hljs-comment">     *      concurrently manipulating those objects, resulting in erratic</span></span><br><span class="line"><span class="hljs-comment">     *      behavior or deadlock.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> value indicating enabling or disabling of finalization</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span>  SecurityException</span></span><br><span class="line"><span class="hljs-comment">     *        if a security manager exists and its &lt;code&gt;checkExit&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     *        method doesn't allow the exit.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.lang.Runtime#exit(int)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.lang.Runtime#gc()</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>     java.lang.SecurityManager#checkExit(int)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span>   JDK1.1</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-meta">@Deprecated</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">runFinalizersOnExit</span><span class="hljs-params">(<span class="hljs-keyword">boolean</span> value)</span> </span>&#123;</span><br><span class="line">        Runtime.runFinalizersOnExit(value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Loads the native library specified by the filename argument.  The filename</span></span><br><span class="line"><span class="hljs-comment">     * argument must be an absolute path name.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * If the filename argument, when stripped of any platform-specific library</span></span><br><span class="line"><span class="hljs-comment">     * prefix, path, and file extension, indicates a library whose name is,</span></span><br><span class="line"><span class="hljs-comment">     * for example, L, and a native library called L is statically linked</span></span><br><span class="line"><span class="hljs-comment">     * with the VM, then the JNI_OnLoad_L function exported by the library</span></span><br><span class="line"><span class="hljs-comment">     * is invoked rather than attempting to load a dynamic library.</span></span><br><span class="line"><span class="hljs-comment">     * A filename matching the argument does not have to exist in the</span></span><br><span class="line"><span class="hljs-comment">     * file system.</span></span><br><span class="line"><span class="hljs-comment">     * See the JNI Specification for more details.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * Otherwise, the filename argument is mapped to a native library image in</span></span><br><span class="line"><span class="hljs-comment">     * an implementation-dependent manner.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * The call &lt;code&gt;System.load(name)&lt;/code&gt; is effectively equivalent</span></span><br><span class="line"><span class="hljs-comment">     * to the call:</span></span><br><span class="line"><span class="hljs-comment">     * &lt;blockquote&gt;&lt;pre&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Runtime.getRuntime().load(name)</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/pre&gt;&lt;/blockquote&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      filename   the file to load.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  SecurityException  if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;checkLink&lt;/code&gt; method doesn't allow</span></span><br><span class="line"><span class="hljs-comment">     *             loading of the specified dynamic library</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  UnsatisfiedLinkError  if either the filename is not an</span></span><br><span class="line"><span class="hljs-comment">     *             absolute path name, the native library is not statically</span></span><br><span class="line"><span class="hljs-comment">     *             linked with the VM, or the library cannot be mapped to</span></span><br><span class="line"><span class="hljs-comment">     *             a native library image by the host system.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  NullPointerException if &lt;code&gt;filename&lt;/code&gt; is</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;null&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.Runtime#load(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityManager#checkLink(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-meta">@CallerSensitive</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">load</span><span class="hljs-params">(String filename)</span> </span>&#123;</span><br><span class="line">        Runtime.getRuntime().load0(Reflection.getCallerClass(), filename);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Loads the native library specified by the &lt;code&gt;libname&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * argument.  The &lt;code&gt;libname&lt;/code&gt; argument must not contain any platform</span></span><br><span class="line"><span class="hljs-comment">     * specific prefix, file extension or path. If a native library</span></span><br><span class="line"><span class="hljs-comment">     * called &lt;code&gt;libname&lt;/code&gt; is statically linked with the VM, then the</span></span><br><span class="line"><span class="hljs-comment">     * JNI_OnLoad_&lt;code&gt;libname&lt;/code&gt; function exported by the library is invoked.</span></span><br><span class="line"><span class="hljs-comment">     * See the JNI Specification for more details.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * Otherwise, the libname argument is loaded from a system library</span></span><br><span class="line"><span class="hljs-comment">     * location and mapped to a native library image in an implementation-</span></span><br><span class="line"><span class="hljs-comment">     * dependent manner.</span></span><br><span class="line"><span class="hljs-comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="hljs-comment">     * The call &lt;code&gt;System.loadLibrary(name)&lt;/code&gt; is effectively</span></span><br><span class="line"><span class="hljs-comment">     * equivalent to the call</span></span><br><span class="line"><span class="hljs-comment">     * &lt;blockquote&gt;&lt;pre&gt;</span></span><br><span class="line"><span class="hljs-comment">     * Runtime.getRuntime().loadLibrary(name)</span></span><br><span class="line"><span class="hljs-comment">     * &lt;/pre&gt;&lt;/blockquote&gt;</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      libname   the name of the library.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  SecurityException  if a security manager exists and its</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;checkLink&lt;/code&gt; method doesn't allow</span></span><br><span class="line"><span class="hljs-comment">     *             loading of the specified dynamic library</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  UnsatisfiedLinkError if either the libname argument</span></span><br><span class="line"><span class="hljs-comment">     *             contains a file path, the native library is not statically</span></span><br><span class="line"><span class="hljs-comment">     *             linked with the VM,  or the library cannot be mapped to a</span></span><br><span class="line"><span class="hljs-comment">     *             native library image by the host system.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  NullPointerException if &lt;code&gt;libname&lt;/code&gt; is</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;null&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.Runtime#loadLibrary(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.SecurityManager#checkLink(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-meta">@CallerSensitive</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">loadLibrary</span><span class="hljs-params">(String libname)</span> </span>&#123;</span><br><span class="line">        Runtime.getRuntime().loadLibrary0(Reflection.getCallerClass(), libname);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Maps a library name into a platform-specific string representing</span></span><br><span class="line"><span class="hljs-comment">     * a native library.</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>      libname the name of the library.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>     a platform-dependent native library name.</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@exception</span>  NullPointerException if &lt;code&gt;libname&lt;/code&gt; is</span></span><br><span class="line"><span class="hljs-comment">     *             &lt;code&gt;null&lt;/code&gt;</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.System#loadLibrary(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@see</span>        java.lang.ClassLoader#findLibrary(java.lang.String)</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@since</span>      1.2</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> String <span class="hljs-title">mapLibraryName</span><span class="hljs-params">(String libname)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Create PrintStream for stdout/err based on encoding.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> PrintStream <span class="hljs-title">newPrintStream</span><span class="hljs-params">(FileOutputStream fos, String enc)</span> </span>&#123;</span><br><span class="line">       <span class="hljs-keyword">if</span> (enc != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> PrintStream(<span class="hljs-keyword">new</span> BufferedOutputStream(fos, <span class="hljs-number">128</span>), <span class="hljs-keyword">true</span>, enc);</span><br><span class="line">            &#125; <span class="hljs-keyword">catch</span> (UnsupportedEncodingException uee) &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> PrintStream(<span class="hljs-keyword">new</span> BufferedOutputStream(fos, <span class="hljs-number">128</span>), <span class="hljs-keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * Initialize the system class.  Called after thread initialization.</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initializeSystemClass</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// VM might invoke JNU_NewStringPlatform() to set those encoding</span></span><br><span class="line">        <span class="hljs-comment">// sensitive properties (user.home, user.name, boot.class.path, etc.)</span></span><br><span class="line">        <span class="hljs-comment">// during "props" initialization, in which it may need access, via</span></span><br><span class="line">        <span class="hljs-comment">// System.getProperty(), to the related system encoding property that</span></span><br><span class="line">        <span class="hljs-comment">// have been initialized (put into "props") at early stage of the</span></span><br><span class="line">        <span class="hljs-comment">// initialization. So make sure the "props" is available at the</span></span><br><span class="line">        <span class="hljs-comment">// very beginning of the initialization and all system properties to</span></span><br><span class="line">        <span class="hljs-comment">// be put into it directly.</span></span><br><span class="line">        props = <span class="hljs-keyword">new</span> Properties();</span><br><span class="line">        initProperties(props);  <span class="hljs-comment">// initialized by the VM</span></span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// There are certain system configurations that may be controlled by</span></span><br><span class="line">        <span class="hljs-comment">// VM options such as the maximum amount of direct memory and</span></span><br><span class="line">        <span class="hljs-comment">// Integer cache size used to support the object identity semantics</span></span><br><span class="line">        <span class="hljs-comment">// of autoboxing.  Typically, the library will obtain these values</span></span><br><span class="line">        <span class="hljs-comment">// from the properties set by the VM.  If the properties are for</span></span><br><span class="line">        <span class="hljs-comment">// internal implementation use only, these properties should be</span></span><br><span class="line">        <span class="hljs-comment">// removed from the system properties.</span></span><br><span class="line">        <span class="hljs-comment">//</span></span><br><span class="line">        <span class="hljs-comment">// See java.lang.Integer.IntegerCache and the</span></span><br><span class="line">        <span class="hljs-comment">// sun.misc.VM.saveAndRemoveProperties method for example.</span></span><br><span class="line">        <span class="hljs-comment">//</span></span><br><span class="line">        <span class="hljs-comment">// Save a private copy of the system properties object that</span></span><br><span class="line">        <span class="hljs-comment">// can only be accessed by the internal implementation.  Remove</span></span><br><span class="line">        <span class="hljs-comment">// certain system properties that are not intended for public access.</span></span><br><span class="line">        sun.misc.VM.saveAndRemoveProperties(props);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        lineSeparator = props.getProperty(<span class="hljs-string">"line.separator"</span>);</span><br><span class="line">        sun.misc.Version.init();</span><br><span class="line"></span><br><span class="line">        FileInputStream fdIn = <span class="hljs-keyword">new</span> FileInputStream(FileDescriptor.in);</span><br><span class="line">        FileOutputStream fdOut = <span class="hljs-keyword">new</span> FileOutputStream(FileDescriptor.out);</span><br><span class="line">        FileOutputStream fdErr = <span class="hljs-keyword">new</span> FileOutputStream(FileDescriptor.err);</span><br><span class="line">        setIn0(<span class="hljs-keyword">new</span> BufferedInputStream(fdIn));</span><br><span class="line">        setOut0(newPrintStream(fdOut, props.getProperty(<span class="hljs-string">"sun.stdout.encoding"</span>)));</span><br><span class="line">        setErr0(newPrintStream(fdErr, props.getProperty(<span class="hljs-string">"sun.stderr.encoding"</span>)));</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// Load the zip library now in order to keep java.util.zip.ZipFile</span></span><br><span class="line">        <span class="hljs-comment">// from trying to use itself to load this library later.</span></span><br><span class="line">        loadLibrary(<span class="hljs-string">"zip"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// Setup Java signal handlers for HUP, TERM, and INT (where available).</span></span><br><span class="line">        Terminator.setup();</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// Initialize any miscellenous operating system settings that need to be</span></span><br><span class="line">        <span class="hljs-comment">// set for the class libraries. Currently this is no-op everywhere except</span></span><br><span class="line">        <span class="hljs-comment">// for Windows where the process-wide error mode is set before the java.io</span></span><br><span class="line">        <span class="hljs-comment">// classes are used.</span></span><br><span class="line">        sun.misc.VM.initializeOSEnvironment();</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// The main thread is not added to its thread group in the same</span></span><br><span class="line">        <span class="hljs-comment">// way as other threads; we must do it ourselves here.</span></span><br><span class="line">        Thread current = Thread.currentThread();</span><br><span class="line">        current.getThreadGroup().add(current);</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// register shared secrets</span></span><br><span class="line">        setJavaLangAccess();</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// Subsystems that are invoked during initialization can invoke</span></span><br><span class="line">        <span class="hljs-comment">// sun.misc.VM.isBooted() in order to avoid doing things that should</span></span><br><span class="line">        <span class="hljs-comment">// wait until the application class loader has been set up.</span></span><br><span class="line">        <span class="hljs-comment">// IMPORTANT: Ensure that this remains the last initialization action!</span></span><br><span class="line">        sun.misc.VM.booted();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setJavaLangAccess</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-comment">// Allow privileged classes outside of java.lang</span></span><br><span class="line">        sun.misc.SharedSecrets.setJavaLangAccess(<span class="hljs-keyword">new</span> sun.misc.JavaLangAccess()&#123;</span><br><span class="line">            <span class="hljs-keyword">public</span> sun.reflect.<span class="hljs-function">ConstantPool <span class="hljs-title">getConstantPool</span><span class="hljs-params">(Class&lt;?&gt; klass)</span> </span>&#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> klass.getConstantPool();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">casAnnotationType</span><span class="hljs-params">(Class&lt;?&gt; klass, AnnotationType oldType, AnnotationType newType)</span> </span>&#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> klass.casAnnotationType(oldType, newType);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-function"><span class="hljs-keyword">public</span> AnnotationType <span class="hljs-title">getAnnotationType</span><span class="hljs-params">(Class&lt;?&gt; klass)</span> </span>&#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> klass.getAnnotationType();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">public</span> Map&lt;Class&lt;? extends Annotation&gt;, Annotation&gt; getDeclaredAnnotationMap(Class&lt;?&gt; klass) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> klass.getDeclaredAnnotationMap();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">public</span> <span class="hljs-keyword">byte</span>[] getRawClassAnnotations(Class&lt;?&gt; klass) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> klass.getRawAnnotations();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">public</span> <span class="hljs-keyword">byte</span>[] getRawClassTypeAnnotations(Class&lt;?&gt; klass) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> klass.getRawTypeAnnotations();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">public</span> <span class="hljs-keyword">byte</span>[] getRawExecutableTypeAnnotations(Executable executable) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> Class.getExecutableTypeAnnotationBytes(executable);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">public</span> &lt;E extends Enum&lt;E&gt;&gt;</span><br><span class="line">                    E[] getEnumConstantsShared(Class&lt;E&gt; klass) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> klass.getEnumConstantsShared();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">blockedOn</span><span class="hljs-params">(Thread t, Interruptible b)</span> </span>&#123;</span><br><span class="line">                t.blockedOn(b);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">registerShutdownHook</span><span class="hljs-params">(<span class="hljs-keyword">int</span> slot, <span class="hljs-keyword">boolean</span> registerShutdownInProgress, Runnable hook)</span> </span>&#123;</span><br><span class="line">                Shutdown.add(slot, registerShutdownInProgress, hook);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getStackTraceDepth</span><span class="hljs-params">(Throwable t)</span> </span>&#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> t.getStackTraceDepth();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-function"><span class="hljs-keyword">public</span> StackTraceElement <span class="hljs-title">getStackTraceElement</span><span class="hljs-params">(Throwable t, <span class="hljs-keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> t.getStackTraceElement(i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">newStringUnsafe</span><span class="hljs-params">(<span class="hljs-keyword">char</span>[] chars)</span> </span>&#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> String(chars, <span class="hljs-keyword">true</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-function"><span class="hljs-keyword">public</span> Thread <span class="hljs-title">newThreadWithAcc</span><span class="hljs-params">(Runnable target, AccessControlContext acc)</span> </span>&#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Thread(target, acc);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">invokeFinalize</span><span class="hljs-params">(Object o)</span> <span class="hljs-keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">                o.finalize();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-06T05:21:38.000Z">2019-09-06</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 分钟 读完 (大约 710 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/06/Java反编译工具jad/">Java反编译工具jad</a>
            
        </h1>
        <div class="content">
            <p><img src="/images/2019/09/06/c8ac68c0-d064-11e9-baaa-a18a2b353fbb.png" alt="image.png"></p>
<h1 id="Jad-JAva-Decompiler"><a href="#Jad-JAva-Decompiler" class="headerlink" title="Jad(JAva Decompiler)"></a>Jad(JAva Decompiler)</h1><p>Jad(JAva Decompiler)是一个Java的反编译器，可以通过命令行把Java的class文件反编译成源代码。下载<a href="https://varaneckas.com/jad/" target="_blank" rel="noopener">点击</a></p>
<p>使用方法：</p>
<p>[1] 反编译一个class文件：jad example.class，会生成example.jad，用文本编辑器打开就是java源代码</p>
<p>[2] 指定生成源代码的后缀名：jad -sjava example.class，生成example.java</p>
<p>[3] 改变生成的源代码的名称，可以先使用-p将反编译后的源代码输出到控制台窗口，然后使用重定向，输出到文件：jad -p example.class &gt; myexample.java</p>
<p>[4] 把源代码文件输出到指定的目录：jad -dnewdir -sjava example.class，在newdir目录下生成example.java</p>
<p>[5] 把packages目录下的class文件全部反编译：jad -sjava packages/*.class</p>
<p>[6] 把packages目录以及子目录下的文件全部反编译：jad -sjava packages/<em>*/</em>.class，不过你仍然会发现所有的源代码文件被放到了同一个文件中，没有按照class文件的包路径建立起路径</p>
<p>[7] 把packages目录以及子目录下的文件全部反编译并建立和java包一致的文件夹路径，可以使用-r命令：jad -r -sjava packages/<em>*/</em>.class</p>
<p>[8] 当重复使用命令反编译时，Jad会提示“whether you want to overwrite it or not”，使用-o可以强制覆盖旧文件</p>
<p>[9] 还有其他的参数可以设置生成的源代码的格式，可以输入jad命令查看帮助，这里有个人做了简单的翻译：jad命令总结</p>
<p>[10] 当然，你会发现有些源文件头部有些注释信息，不用找了，jad没有参数可以去掉它，用别的办法吧。</p>
<h1 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h1><p>Main.java</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-keyword">volatile</span> <span class="hljs-keyword">int</span> t = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> n = <span class="hljs-number">100</span>;</span><br><span class="line">        Thread[] threads = <span class="hljs-keyword">new</span> Thread[n];</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            threads[i] = <span class="hljs-keyword">new</span> Thread(<span class="hljs-keyword">new</span> Runnable() &#123;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-meta">@Override</span></span><br><span class="line">                <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++) &#123;</span><br><span class="line">                        add();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            threads[i].start();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">while</span> (Thread.activeCount() &gt; <span class="hljs-number">1</span>)</span><br><span class="line">            Thread.yield();</span><br><span class="line"></span><br><span class="line">        System.out.println(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        t++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Main.class</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">cafe babe 0000 0034 0037 0a00 0d00 1d07</span><br><span class="line">001e 0700 1f0a 0003 001d 0a00 0200 200a</span><br><span class="line">0002 0021 0a00 0200 220a 0002 0023 0900</span><br><span class="line">2400 2509 000c 0026 0a00 2700 2807 0029</span><br><span class="line">0700 2a01 000c 496e 6e65 7243 6c61 7373</span><br><span class="line">6573 0100 0174 0100 0149 0100 063c 696e</span><br><span class="line">6974 3e01 0003 2829 5601 0004 436f 6465</span><br><span class="line">0100 0f4c 696e 654e 756d 6265 7254 6162</span><br><span class="line">6c65 0100 046d 6169 6e01 0016 285b 4c6a</span><br><span class="line">6176 612f 6c61 6e67 2f53 7472 696e 673b</span><br><span class="line">2956 0100 0d53 7461 636b 4d61 7054 6162</span><br><span class="line">6c65 0700 2b01 0003 6164 6401 0008 3c63</span><br><span class="line">6c69 6e69 743e 0100 0a53 6f75 7263 6546</span><br><span class="line">696c 6501 0009 4d61 696e 2e6a 6176 610c</span><br><span class="line">0011 0012 0100 106a 6176 612f 6c61 6e67</span><br><span class="line">2f54 6872 6561 6401 0006 4d61 696e 2431</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p><img src="/images/2019/09/06/fcb05680-d065-11e9-baaa-a18a2b353fbb.png" alt="image.png"></p>
<p>反编译后的结果</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.</span></span><br><span class="line"><span class="hljs-comment">// Jad home page: http://www.kpdus.com/jad.html</span></span><br><span class="line"><span class="hljs-comment">// Decompiler options: packimports(3) </span></span><br><span class="line"><span class="hljs-comment">// Source File Name:   Main.java</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> java.io.PrintStream;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span></span><br><span class="line"><span class="hljs-class"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String args[])</span></span></span><br><span class="line"><span class="hljs-function">    </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">byte</span> byte0 = <span class="hljs-number">100</span>;</span><br><span class="line">        Thread athread[] = <span class="hljs-keyword">new</span> Thread[byte0];</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; byte0; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            athread[i] = <span class="hljs-keyword">new</span> Thread(<span class="hljs-keyword">new</span> Runnable() &#123;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function">                </span>&#123;</span><br><span class="line">                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">10000</span>; j++)</span><br><span class="line">                        Main.add();</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">);</span><br><span class="line">            athread[i].start();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">for</span>(; Thread.activeCount() &gt; <span class="hljs-number">1</span>; Thread.yield());</span><br><span class="line">        System.out.println(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function">    </span>&#123;</span><br><span class="line">        t++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">static</span> <span class="hljs-keyword">volatile</span> <span class="hljs-keyword">int</span> t = <span class="hljs-number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous is-invisible is-hidden-mobile">
            <a class="is-flex-grow has-text-black-ter" href="/tags/Java/page/0/">上一页</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/tags/Java/page/2/">下一页</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link is-current" href="/tags/Java/">1</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/tags/Java/page/2/">2</a></li>
            
        </ul>
    </nav>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left is-sticky">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="is-rounded" src="https://hsutimes.github.io/images/16530d7f26a413c2.png" alt="Time">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        Time
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Developer
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Earth, Solar System</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        文章
                    </p>
                    <a href="/archives">
                        <p class="title has-text-weight-normal">
                            120
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        分类
                    </p>
                    <a href="/categories">
                        <p class="title has-text-weight-normal">
                            6
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        标签
                    </p>
                    <a href="/tags">
                        <p class="title has-text-weight-normal">
                            149
                        </p>
                    </a>
                </div>
            </div>
        </nav>
        
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/hsutimes" target="_blank">
                关注我</a>
        </div>
        
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Github" href="https://github.com/hsutimes">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Facebook" href="https://facebook.com">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Twitter" href="https://twitter.com/times26740863">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Dribbble" href="https://dribbble.com">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            链接
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://github.com/hsutimes" target="_blank">
                    <span class="level-left">
                        <span class="level-item">PPOffice</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">github.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://hsutimes.club" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Time</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">hsutimes.club</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>

    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                分类
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/Others/">
            <span class="level-start">
                <span class="level-item">Others</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/人工智能/">
            <span class="level-start">
                <span class="level-item">人工智能</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">8</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/文章/">
            <span class="level-start">
                <span class="level-item">文章</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">93</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/生活/">
            <span class="level-start">
                <span class="level-item">生活</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">9</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/笔试/">
            <span class="level-start">
                <span class="level-item">笔试</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/算法/">
            <span class="level-start">
                <span class="level-item">算法</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">7</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
    
        <div class="column-right-shadow is-hidden-widescreen is-sticky">
        
            
        
            <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <a href="/2019/12/10/PgFincore/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/2019/12/10/231e1df0-1b63-11ea-acb0-edaaf8f7618e.png" alt="PostgreSQL 内存页管理函数 PgFincore">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-12-10T15:38:04.000Z">2019-12-10</time></div>
                    <a href="/2019/12/10/PgFincore/" class="title has-link-black-ter is-size-6 has-text-weight-normal">PostgreSQL 内存页管理函数 PgFincore</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/12/09/tealang/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/2019/12/09/ec375870-1a99-11ea-9f33-51ae6db68ce3.png" alt="Tea语言">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-12-09T15:32:55.000Z">2019-12-09</time></div>
                    <a href="/2019/12/09/tealang/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Tea语言</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/12/08/wasm-became-the-fourth-web-language/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/2019/12/08/41289f00-19ce-11ea-a593-6992fe272138.png" alt="WASM 成为 HTML、CSS 与 JS 之后的第 4 门 Web 语言">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-12-08T15:21:07.000Z">2019-12-08</time></div>
                    <a href="/2019/12/08/wasm-became-the-fourth-web-language/" class="title has-link-black-ter is-size-6 has-text-weight-normal">WASM 成为 HTML、CSS 与 JS 之后的第 4 门 Web 语言</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/12/07/the-encryption-algorithm-in-the-game/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/2019/12/07/8e5d6f00-18fa-11ea-be8d-37143176259c.png" alt="游戏中的加密算法">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-12-07T14:01:25.000Z">2019-12-07</time></div>
                    <a href="/2019/12/07/the-encryption-algorithm-in-the-game/" class="title has-link-black-ter is-size-6 has-text-weight-normal">游戏中的加密算法</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/12/06/powershell/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/2019/12/06/96ecadb0-1838-11ea-ae4f-750d6eeeb0bb.png" alt="如何绕过PowerShell访问限制并实现PowerShell代码执行">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-12-06T14:55:46.000Z">2019-12-06</time></div>
                    <a href="/2019/12/06/powershell/" class="title has-link-black-ter is-size-6 has-text-weight-normal">如何绕过PowerShell访问限制并实现PowerShell代码执行</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right is-sticky">
    
        
    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <a href="/2019/12/10/PgFincore/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/2019/12/10/231e1df0-1b63-11ea-acb0-edaaf8f7618e.png" alt="PostgreSQL 内存页管理函数 PgFincore">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-12-10T15:38:04.000Z">2019-12-10</time></div>
                    <a href="/2019/12/10/PgFincore/" class="title has-link-black-ter is-size-6 has-text-weight-normal">PostgreSQL 内存页管理函数 PgFincore</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/12/09/tealang/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/2019/12/09/ec375870-1a99-11ea-9f33-51ae6db68ce3.png" alt="Tea语言">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-12-09T15:32:55.000Z">2019-12-09</time></div>
                    <a href="/2019/12/09/tealang/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Tea语言</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/12/08/wasm-became-the-fourth-web-language/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/2019/12/08/41289f00-19ce-11ea-a593-6992fe272138.png" alt="WASM 成为 HTML、CSS 与 JS 之后的第 4 门 Web 语言">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-12-08T15:21:07.000Z">2019-12-08</time></div>
                    <a href="/2019/12/08/wasm-became-the-fourth-web-language/" class="title has-link-black-ter is-size-6 has-text-weight-normal">WASM 成为 HTML、CSS 与 JS 之后的第 4 门 Web 语言</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/12/07/the-encryption-algorithm-in-the-game/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/2019/12/07/8e5d6f00-18fa-11ea-be8d-37143176259c.png" alt="游戏中的加密算法">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-12-07T14:01:25.000Z">2019-12-07</time></div>
                    <a href="/2019/12/07/the-encryption-algorithm-in-the-game/" class="title has-link-black-ter is-size-6 has-text-weight-normal">游戏中的加密算法</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/12/06/powershell/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/2019/12/06/96ecadb0-1838-11ea-ae4f-750d6eeeb0bb.png" alt="如何绕过PowerShell访问限制并实现PowerShell代码执行">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-12-06T14:55:46.000Z">2019-12-06</time></div>
                    <a href="/2019/12/06/powershell/" class="title has-link-black-ter is-size-6 has-text-weight-normal">如何绕过PowerShell访问限制并实现PowerShell代码执行</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/文章/">文章</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="Time" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 times&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                <br>
                <span id="busuanzi_container_site_uv">
                共<span id="busuanzi_value_site_uv">0</span>个访客
                </span>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/hsutimes/hsutimes.github.io">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>

<script>
var IcarusThemeSettings = {
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>



    
    
<script src="/js/animation.js"></script>

    
    
<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>

    
    
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>

    
    <script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>
    
    
<a id="back-to-top" title="回到顶端" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>

    
    
    
    
    
    
    
    
    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="想要查找什么..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>