<!DOCTYPE html>
<html lang="en">




<head><meta name="generator" content="Hexo 3.9.0">

  <!-- Basic Page Needs
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta charset="utf-8">
  
      <title>Search - Time</title>
  

  
  
  <meta name="description" content>
  <meta name="author" content="times">

  <!-- Mobile Specific Metas
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- load loadjs.js -->
  <script src="/libs/loadjs/dist/loadjs.min.js"></script>

<link rel="stylesheet" href="/libs/animate.css/animate.min.css">
  <!-- load lightgallery -->
<link rel="stylesheet" href="/css/lightgallery.css">
<link rel="stylesheet" href="/libs/noty/lib/noty.css">
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  






    <link rel="stylesheet" href="/css/taurus.css">
    
        <link rel="stylesheet" href="/css/scheme-taurus/animations.css">
    


<link rel="stylesheet" href="/.css">

  <!-- load font awesome 5 -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">

  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
  </script>
  <!-- load mathjax -->
  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax//libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <!-- load js-cookie -->
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
    <script src="/js/social-share.min.js"></script>
    <script src="/js/theme.js"></script>

  <!-- include cookie.js -->
  
  
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-134224598-1', 'auto');
	ga('send', 'pageview');
</script>


  <!-- include comment system code -->
  
    <link rel="stylesheet" href="/css/gitment/default.css">
<script src="/js/gitment.browser.js"></script>
  
  <!-- Favicon
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="icon" type="image/png" href="/images/favicon.png">
</head>
<body style="display: flex; flex-direction: column; min-height: 100vh;">

 

<header id="header" class='header'>
	<div class="header-title">
		
		<div class='header-logo'>
			<a href='/'>
				<img src='/images/theme-icon.svg' />
			</a>
		</div>
		<div class='header-text'>
			<h1>
				<a href="/">Time</a>
			</h1>
			<subtitle>
				time
			</subtitle>
		</div>
		
	</div>
	<div id='header-nav'>
		



<nav id="nav">
	
	
	
	<div class='nav-item' id='nav-item-archive'>
		
				<div class='nav-icon'>
				
			<a href="/archives/" title='å½’æ¡£'>
			<img src="/images/icons/blue-shadow/archive.svg" alt="">
			</a>
		</div>
	</div>
	<div class='nav-item' id='nav-item-search'>
		
		<div class='nav-icon active_dot'>
		
			<a href="/search/" title='æœç´¢'>
			<img src="/images/icons/blue-shadow/search.svg" alt="">
			</a>
		</div>
	</div>
	<div class="nav-item" id='nav-item-more'>
		<div class="nav-icon">
				<a href='#' onclick='onClickMenuIcon(event);' ontouchstart='onClickMenuIcon(event);'>
				<img src="/images/icons/blue-shadow/menu.svg" alt="">
				</a>
		</div>
		<div class="nav-more-menu">
				<i class="far fa-times-circle" id='nav-more-menu-close' onclick='onClickNavMenuClose(event);' ontouchstart='onClickNavMenuClose(event);'></i>
		
		
		<div class='nav-more-item'>
				<div class="nav-name">
					<a class='nav-link' href="/categories/æ–‡ç« /">
						<span>æ–‡ç« </span>
					</a>
				</div>
		</div>
		
		<div class='nav-more-item'>
				<div class="nav-name">
					<a class='nav-link' href="/categories/ç®—æ³•/">
						<span>ç®—æ³•</span>
					</a>
				</div>
		</div>
		
		<div class='nav-more-item'>
				<div class="nav-name">
					<a class='nav-link' href="/categories/äººå·¥æ™ºèƒ½/">
						<span>äººå·¥æ™ºèƒ½</span>
					</a>
				</div>
		</div>
		
		<div class='nav-more-item'>
				<div class="nav-name">
					<a class='nav-link' href="/categories/ç”Ÿæ´»/">
						<span>ç”Ÿæ´»</span>
					</a>
				</div>
		</div>
		
		<div class='nav-more-item'>
				<div class="nav-name">
					<a class='nav-link' href="/categories/ç¬”è¯•/">
						<span>ç¬”è¯•</span>
					</a>
				</div>
		</div>
		
	</div>
	</div>
</nav>

	</div>
</header>

 




  <!-- Primary Page Layout
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <div style="flex: 1;">
      <style>
    body {
        background-color: white;
    }
</style>
<div class='search-container'>
	<input type="text" id='search-form'>

	<ul class="cat-list">
		
			<li><a href="/categories/æ–‡ç« /"><img src="/images/æ–‡ç« .svg" alt="æ–‡ç« " onerror='if(this.src != "/images/uncategorized.svg") this.src="/images/uncategorized.svg"' title='æ–‡ç« '></a></li>
		
			<li><a href="/categories/ç®—æ³•/"><img src="/images/ç®—æ³•.svg" alt="ç®—æ³•" onerror='if(this.src != "/images/uncategorized.svg") this.src="/images/uncategorized.svg"' title='ç®—æ³•'></a></li>
		
			<li><a href="/categories/äººå·¥æ™ºèƒ½/"><img src="/images/äººå·¥æ™ºèƒ½.svg" alt="äººå·¥æ™ºèƒ½" onerror='if(this.src != "/images/uncategorized.svg") this.src="/images/uncategorized.svg"' title='äººå·¥æ™ºèƒ½'></a></li>
		
			<li><a href="/categories/ç”Ÿæ´»/"><img src="/images/ç”Ÿæ´».svg" alt="ç”Ÿæ´»" onerror='if(this.src != "/images/uncategorized.svg") this.src="/images/uncategorized.svg"' title='ç”Ÿæ´»'></a></li>
		
			<li><a href="/categories/ç¬”è¯•/"><img src="/images/ç¬”è¯•.svg" alt="ç¬”è¯•" onerror='if(this.src != "/images/uncategorized.svg") this.src="/images/uncategorized.svg"' title='ç¬”è¯•'></a></li>
		
	</ul>

	<div class="archive-cards">
			<div class='Card-archive' style='display:none'>
				<div class="Card-body">
					<h3 class='Card-title'>
						<a>
						</a>
					</h3>
					<div class="Card-meta">
						<ul>
							<li><i class='fa fa-calendar'></i> <span class='Card-date'></span></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
</div>

<script src="/libs/fuse.js/dist/fuse.min.js"></script>
<script>
	var options = {
		shouldSort: true,
		threshold: 0.4,
		tokenize: true,
		location: 0,
		distance: 100,
		maxPatternLength: 32,
		minMatchCharLength: 2,
		keys: [
			"title",
			"author",
			"tags"
		]
	};
	var s = '[{"title":"118. æ¨è¾‰ä¸‰è§’","date":"2019-08-31T15:25:17.000Z","content":"æ¨è¾‰ä¸‰è§’é¢˜ç›®ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•° numRowsï¼Œç”Ÿæˆæ¨è¾‰ä¸‰è§’çš„å‰ numRowsè¡Œã€‚\n\nåœ¨æ¨è¾‰ä¸‰è§’ä¸­ï¼Œæ¯ä¸ªæ•°æ˜¯å®ƒå·¦ä¸Šæ–¹å’Œå³ä¸Šæ–¹çš„æ•°çš„å’Œã€‚\nç¤ºä¾‹:\n123456789è¾“å…¥: 5è¾“å‡º:[     [1],    [1,1],   [1,2,1],  [1,3,3,1], [1,4,6,4,1]]\n\né¢˜è§£\nåŠ¨æ€è§„åˆ’\n\næ€è·¯\nå¦‚æœèƒ½å¤ŸçŸ¥é“ä¸€è¡Œæ¨è¾‰ä¸‰è§’ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®æ¯å¯¹ç›¸é‚»çš„å€¼è½»æ¾åœ°è®¡ç®—å‡ºå®ƒçš„ä¸‹ä¸€è¡Œã€‚\nç®—æ³•\nè™½ç„¶è¿™ä¸€ç®—æ³•éå¸¸ç®€å•ï¼Œä½†ç”¨äºæ„é€ æ¨è¾‰ä¸‰è§’çš„è¿­ä»£æ–¹æ³•å¯ä»¥å½’ç±»ä¸ºåŠ¨æ€è§„åˆ’ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦åŸºäºå‰ä¸€è¡Œæ¥æ„é€ æ¯ä¸€è¡Œã€‚\né¦–å…ˆï¼Œæˆ‘ä»¬ä¼šç”Ÿæˆæ•´ä¸ª triangle åˆ—è¡¨ï¼Œä¸‰è§’å½¢çš„æ¯ä¸€è¡Œéƒ½ä»¥å­åˆ—è¡¨çš„å½¢å¼å­˜å‚¨ã€‚ç„¶åï¼Œæˆ‘ä»¬ä¼šæ£€æŸ¥è¡Œæ•°ä¸º 0 çš„ç‰¹æ®Šæƒ…å†µï¼Œå¦åˆ™æˆ‘ä»¬ä¼šè¿”å› [1]ã€‚å¦‚æœ numRows &gt; 0ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç”¨ [1] ä½œä¸ºç¬¬ä¸€è¡Œæ¥åˆå§‹åŒ– triangle with [1]ï¼Œå¹¶æŒ‰å¦‚ä¸‹æ–¹å¼ç»§ç»­å¡«å……ï¼š\n123456789101112131415161718192021222324252627282930313233343536class Solution &#123;    public List&lt;List&lt;Integer&gt;&gt; generate(int numRows) &#123;        List&lt;List&lt;Integer&gt;&gt; triangle = new ArrayList&lt;List&lt;Integer&gt;&gt;();         First base case; if user requests zero rows, they get zero rows.        if (numRows == 0) &#123;            return triangle;        &#125;         Second base case; first row is always [1].        triangle.add(new ArrayList&lt;&gt;());        triangle.get(0).add(1);        for (int rowNum = 1; rowNum &lt; numRows; rowNum++) &#123;            List&lt;Integer&gt; row = new ArrayList&lt;&gt;();            List&lt;Integer&gt; prevRow = triangle.get(rowNum-1);             The first row element is always 1.            row.add(1);             Each triangle element (other than the first and last of each row)             is equal to the sum of the elements above-and-to-the-left and             above-and-to-the-right.            for (int j = 1; j &lt; rowNum; j++) &#123;                row.add(prevRow.get(j-1) + prevRow.get(j));            &#125;             The last row element is always 1.            row.add(1);            triangle.add(row);        &#125;        return triangle;    &#125;&#125;\n\nå¤æ‚åº¦åˆ†æ\n\næ—¶é—´å¤æ‚åº¦ï¼š O(numRowsÂ²)\n\nè™½ç„¶æ›´æ–° triangle ä¸­çš„æ¯ä¸ªå€¼éƒ½æ˜¯åœ¨å¸¸é‡æ—¶é—´å†…å‘ç”Ÿçš„ï¼Œä½†å®ƒä¼šè¢«æ‰§è¡Œ O(numRowsÂ²) æ¬¡ã€‚æƒ³è¦äº†è§£åŸå› ï¼Œå°±éœ€è¦è€ƒè™‘æ€»å…±æœ‰å¤šå°‘æ¬¡å¾ªç¯è¿­ä»£ã€‚å¾ˆæ˜æ˜¾å¤–å±‚å¾ªç¯éœ€è¦è¿è¡Œ numRows æ¬¡ï¼Œä½†åœ¨å¤–å±‚å¾ªç¯çš„æ¯æ¬¡è¿­ä»£ä¸­ï¼Œå†…å±‚å¾ªç¯è¦è¿è¡Œ rowNumrowNum æ¬¡ã€‚å› æ­¤ï¼Œtriangle å‘ç”Ÿçš„æ›´æ–°æ€»æ•°ä¸º1 + 2 + 3 + ... + *numRows*ï¼Œæ ¹æ®é«˜æ–¯å…¬å¼æœ‰\n\n\nç©ºé—´å¤æ‚åº¦ï¼šO(numRowsÂ²)\n\nå› ä¸ºæˆ‘ä»¬éœ€è¦å­˜å‚¨æˆ‘ä»¬åœ¨ triangle ä¸­æ›´æ–°çš„æ¯ä¸ªæ•°å­—ï¼Œæ‰€ä»¥ç©ºé—´éœ€æ±‚ä¸æ—¶é—´å¤æ‚åº¦ç›¸åŒã€‚\n\nPythonè§£æ³•\n\n1234567891011121314151617class Solution:    def generate(self, num_rows):        triangle = []        for row_num in range(num_rows):            # The first and last row elements are always 1.            row = [None for _ in range(row_num+1)]            row[0], row[-1] = 1, 1            # Each triangle element is equal to the sum of the elements            # above-and-to-the-left and above-and-to-the-right.            for j in range(1, len(row)-1):                row[j] = triangle[row_num-1][j-1] + triangle[row_num-1][j]            triangle.append(row)        return triangle\n\n\né€’å½’è§£æ³•\n\né€šè¿‡numRows-1ï¼Œæ±‚numRowsè¡Œï¼Œé€’å½’æ±‚è§£\n1234567891011121314151617181920212223242526class Solution &#123;    List&lt;List&lt;Integer&gt;&gt; listw = new ArrayList&lt;List&lt;Integer&gt;&gt;();    public List&lt;List&lt;Integer&gt;&gt; generate(int numRows) &#123;        List&lt;Integer&gt; listn = new ArrayList&lt;Integer&gt;();        if (numRows == 0)            return listw;        generate(numRows - 1);        for (int i = 0; i &lt; numRows; i++) &#123;            if (i == 0) &#123;                listn.add(1);                continue;            &#125; else if (i == numRows - 1) &#123;                listn.add(1);                continue;            &#125; else if (i == numRows - 2) &#123;                listn.add(listw.get(numRows - 2).get(i - 1) + 1);                continue;            &#125; else &#123;                listn.add(listw.get(numRows - 2).get(i - 1) + listw.get(numRows - 2).get(i));            &#125;        &#125;        listw.add(listn);        return listw;    &#125;&#125;\n\n","tags":["ç®—æ³•","leetcode","é€’å½’","é“¾è¡¨"],"path":"2019/08/31/118-æ¨è¾‰ä¸‰è§’/","external_link":""},{"title":"24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹","date":"2019-08-31T14:57:20.000Z","content":"\n24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹é¢˜ç›®ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œä¸¤ä¸¤äº¤æ¢å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åçš„é“¾è¡¨ã€‚\nä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚\nç¤ºä¾‹:\nç»™å®š 1-&gt;2-&gt;3-&gt;4, ä½ åº”è¯¥è¿”å› 2-&gt;1-&gt;4-&gt;3.é¢˜è§£\néé€’å½’\n\n123456789101112131415161718192021222324** * Definition for singly-linked list. * public class ListNode &#123; *     int val; *     ListNode next; *     ListNode(int x) &#123; val = x; &#125; * &#125; *class Solution &#123;    public ListNode swapPairs(ListNode head) &#123;        ListNode pre = new ListNode(0);        pre.next = head;        ListNode temp = pre;        while(temp.next != null &amp;&amp; temp.next.next != null) &#123;            ListNode start = temp.next;            ListNode end = temp.next.next;            temp.next = end;            start.next = end.next;            end.next = start;            temp = start;        &#125;        return pre.next;    &#125;&#125;\n\n\né€’å½’è§£æ³•\n\nè¯¦ç»†ä»‹ç»ä¸€ä¸‹é€’å½’çš„æ€è·¯;\né€’å½’å’Œæ ˆå¤„ç†é—®é¢˜ç±»ä¼¼,å…ˆæŠŠé—®é¢˜ä»å‰å¾€åæ”¶é›†èµ·æ¥,ç„¶åå†ä»åå¾€å‰å¤„ç†æ¯ä¸€ä¸ªé—®é¢˜;\nä¸¤ä¸¤äº¤æ¢é“¾è¡¨ç»“ç‚¹,å…ˆå¤„ç†æœ€åä¸¤ä¸ªæˆ–ä¸€ä¸ªèŠ‚ç‚¹,ç„¶åå†ä»åå¾€å‰å¤„ç†æ¯ä¸€å¯¹èŠ‚ç‚¹;\nå…ˆåˆ›å»ºä¸€ä¸ªnextä¸´æ—¶ç»“ç‚¹ä¿å­˜headçš„ä¸‹ä¸€ä¸ªç»“ç‚¹,ç„¶åè®©headæŒ‡å‘ä¸‹ä¸‹ä¸€ä¸ªèŠ‚ç‚¹,æœ€åè®© nextèŠ‚ç‚¹æŒ‡å‘headç»“ç‚¹;\næ­¤é¢˜åªæœ‰å¤„ç†å®Œåé¢çš„ç»“ç‚¹æ‰å¯å¤„ç†å‰é¢çš„ç»“ç‚¹,ç”»å›¾æ›´å®¹æ˜“ç†è§£;\n\n\n\n\n123456789101112class Solution &#123;    public ListNode swapPairs(ListNode head) &#123;        if (head == null || head.next == null)            return head;         ä¸‰ä¸ªèŠ‚ç‚¹é¡ºåº:head, next, swapPairs(next.next)        ListNode next = head.next;        head.next = swapPairs(next.next);        next.next = head;        return next;    &#125;&#125;","tags":["ç®—æ³•","leetcode","é€’å½’","é“¾è¡¨"],"path":"2019/08/31/24-ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹/","external_link":""},{"title":"334. åè½¬å­—ç¬¦ä¸²","date":"2019-08-31T14:49:17.000Z","content":"\n334. åè½¬å­—ç¬¦ä¸²é¢˜ç›®ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä½œç”¨æ˜¯å°†è¾“å…¥çš„å­—ç¬¦ä¸²åè½¬è¿‡æ¥ã€‚è¾“å…¥å­—ç¬¦ä¸²ä»¥å­—ç¬¦æ•°ç»„ char[] çš„å½¢å¼ç»™å‡ºã€‚\nä¸è¦ç»™å¦å¤–çš„æ•°ç»„åˆ†é…é¢å¤–çš„ç©ºé—´ï¼Œä½ å¿…é¡»åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„ã€ä½¿ç”¨ O(1) çš„é¢å¤–ç©ºé—´è§£å†³è¿™ä¸€é—®é¢˜ã€‚\nä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯ ASCII ç è¡¨ä¸­çš„å¯æ‰“å°å­—ç¬¦ã€‚\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼š[&quot;h&quot;,&quot;e&quot;,&quot;l&quot;,&quot;l&quot;,&quot;o&quot;]\nè¾“å‡ºï¼š[&quot;o&quot;,&quot;l&quot;,&quot;l&quot;,&quot;e&quot;,&quot;h&quot;]ç¤ºä¾‹ 2ï¼š\nè¾“å…¥ï¼š[&quot;H&quot;,&quot;a&quot;,&quot;n&quot;,&quot;n&quot;,&quot;a&quot;,&quot;h&quot;]\nè¾“å‡ºï¼š[&quot;h&quot;,&quot;a&quot;,&quot;n&quot;,&quot;n&quot;,&quot;a&quot;,&quot;H&quot;]    é¢˜è§£\né€’å½’è§£æ³•\n\n123456789101112131415class Solution &#123;    public void reverseString(char[] s) &#123;        swap(0, s.length-1, s);    &#125;        public void swap(int start, int end, char[] s) &#123;        if(start &gt;= end)&#123;            return;        &#125;        char temp = s[start];        s[start] = s[end];        s[end] = temp;        swap(start+1, end-1, s);    &#125;&#125;\n\n\nå¾ªç¯è§£æ³•\n\n1234567891011class Solution &#123;    public void reverseString(char[] s) &#123;        int j=s.length-1;        for(int i=0;i&lt;s.length2;i++)&#123;            char tmp = s[i];            s[i] = s[j];            s[j] = tmp;            j--;        &#125;    &#125;&#125;\n\n\nPythonè§£æ³•\n\n12def reverseString(self, s: List[str]) -&gt; None:    s[0::]=s[::-1]\n\n\nc++è§£æ³•\n\nåŒæŒ‡é’ˆï¼Œäº¤æ¢å¤´å°¾ä¸¤ä¸ªæŒ‡é’ˆæ‰€æŒ‡çš„ä¸¤ä¸ªä½ç½®çš„å€¼ï¼ŒæŒ‡é’ˆå‘ä¸­é—´ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œé‡å¤ä»¥ä¸Šæ“ä½œï¼Œç›´åˆ°ä¸¤ä¸ªæŒ‡é’ˆäº¤é”™ï¼›\n12345678910111213class Solution &#123;public:    void reverseString(vector&lt;char&gt;&amp; s) &#123;        int i = 0;        int j = s.size() - 1;        while(i&lt;j)        &#123;            swap(s[i],s[j]);            ++ i;            -- j;        &#125;    &#125;&#125;;","tags":["ç®—æ³•","leetcode","é€’å½’"],"path":"2019/08/31/334-åè½¬å­—ç¬¦ä¸²/","external_link":""},{"title":"54. èºæ—‹çŸ©é˜µ","date":"2019-09-07T03:08:58.000Z","content":"\n54. èºæ—‹çŸ©é˜µç»™å®šä¸€ä¸ªåŒ…å« m x n ä¸ªå…ƒç´ çš„çŸ©é˜µï¼ˆm è¡Œ, n åˆ—ï¼‰ï¼Œè¯·æŒ‰ç…§é¡ºæ—¶é’ˆèºæ—‹é¡ºåºï¼Œè¿”å›çŸ©é˜µä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚\nç¤ºä¾‹ 1:\n1234567è¾“å…¥:[ [ 1, 2, 3 ], [ 4, 5, 6 ], [ 7, 8, 9 ]]è¾“å‡º: [1,2,3,6,9,8,7,4,5]\n\nç¤ºä¾‹ 2:\n1234567è¾“å…¥:[  [1, 2, 3, 4],  [5, 6, 7, 8],  [9,10,11,12]]è¾“å‡º: [1,2,3,4,8,12,11,10,9,5,6,7]\n\næ–¹æ³• 1ï¼šæ¨¡æ‹Ÿç›´è§‰\nç»˜åˆ¶èºæ—‹è½¨è¿¹è·¯å¾„ï¼Œæˆ‘ä»¬å‘ç°å½“è·¯å¾„è¶…å‡ºç•Œé™æˆ–è€…è¿›å…¥ä¹‹å‰è®¿é—®è¿‡çš„å•å…ƒæ ¼æ—¶ï¼Œä¼šé¡ºæ—¶é’ˆæ—‹è½¬æ–¹å‘ã€‚\nç®—æ³•\nå‡è®¾æ•°ç»„æœ‰ R è¡Œ C åˆ—ï¼Œseen[r][c] è¡¨ç¤ºç¬¬ r è¡Œç¬¬ c åˆ—çš„å•å…ƒæ ¼ä¹‹å‰å·²ç»è¢«è®¿é—®è¿‡äº†ã€‚å½“å‰æ‰€åœ¨ä½ç½®ä¸º (r, c)ï¼Œå‰è¿›æ–¹å‘æ˜¯ diã€‚æˆ‘ä»¬å¸Œæœ›è®¿é—®æ‰€æœ‰ R x C ä¸ªå•å…ƒæ ¼ã€‚\nå½“æˆ‘ä»¬éå†æ•´ä¸ªçŸ©é˜µï¼Œä¸‹ä¸€æ­¥å€™é€‰ç§»åŠ¨ä½ç½®æ˜¯ (cr, cc)ã€‚å¦‚æœè¿™ä¸ªå€™é€‰ä½ç½®åœ¨çŸ©é˜µèŒƒå›´å†…å¹¶ä¸”æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œé‚£ä¹ˆå®ƒå°†ä¼šå˜æˆä¸‹ä¸€æ­¥ç§»åŠ¨çš„ä½ç½®ï¼›å¦åˆ™ï¼Œæˆ‘ä»¬å°†å‰è¿›æ–¹å‘é¡ºæ—¶é’ˆæ—‹è½¬ä¹‹åå†è®¡ç®—ä¸‹ä¸€æ­¥çš„ç§»åŠ¨ä½ç½®ã€‚\n1234567891011121314151617181920212223242526class Solution &#123;    public List&lt;Integer&gt; spiralOrder(int[][] matrix) &#123;        List ans = new ArrayList();        if (matrix.length == 0) return ans;        int R = matrix.length, C = matrix[0].length;        boolean[][] seen = new boolean[R][C];        int[] dr = &#123;0, 1, 0, -1&#125;;        int[] dc = &#123;1, 0, -1, 0&#125;;        int r = 0, c = 0, di = 0;        for (int i = 0; i &lt; R * C; i++) &#123;            ans.add(matrix[r][c]);            seen[r][c] = true;            int cr = r + dr[di];            int cc = c + dc[di];            if (0 &lt;= cr &amp;&amp; cr &lt; R &amp;&amp; 0 &lt;= cc &amp;&amp; cc &lt; C &amp;&amp; !seen[cr][cc])&#123;                r = cr;                c = cc;            &#125; else &#123;                di = (di + 1) % 4;                r += dr[di];                c += dc[di];            &#125;        &#125;        return ans;    &#125;&#125;\n\n12345678910111213141516171819class Solution(object):    def spiralOrder(self, matrix):        if not matrix: return []        R, C = len(matrix), len(matrix[0])        seen = [[False] * C for _ in matrix]        ans = []        dr = [0, 1, 0, -1]        dc = [1, 0, -1, 0]        r = c = di = 0        for _ in range(R * C):            ans.append(matrix[r][c])            seen[r][c] = True            cr, cc = r + dr[di], c + dc[di]            if 0 &lt;= cr &lt; R and 0 &lt;= cc &lt; C and not seen[cr][cc]:                r, c = cr, cc            else:                di = (di + 1) % 4                r, c = r + dr[di], c + dc[di]        return ans\n\nå¤æ‚åº¦åˆ†æ\n\næ—¶é—´å¤æ‚åº¦ï¼š O(N)ï¼Œå…¶ä¸­ N æ˜¯è¾“å…¥çŸ©é˜µæ‰€æœ‰å…ƒç´ çš„ä¸ªæ•°ã€‚å› ä¸ºæˆ‘ä»¬å°†çŸ©é˜µä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ·»åŠ è¿›ç­”æ¡ˆé‡Œã€‚\nç©ºé—´å¤æ‚åº¦ï¼š O(N)ï¼Œéœ€è¦ä¸¤ä¸ªçŸ©é˜µ seen å’Œ ans å­˜å‚¨æ‰€éœ€ä¿¡æ¯ã€‚\n\næ–¹æ³• 2ï¼šæŒ‰å±‚æ¨¡æ‹Ÿ\nç›´è§‰\nç­”æ¡ˆæ˜¯æœ€å¤–å±‚æ‰€æœ‰å…ƒç´ æŒ‰ç…§é¡ºæ—¶é’ˆé¡ºåºè¾“å‡ºï¼Œå…¶æ¬¡æ˜¯æ¬¡å¤–å±‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚\nç®—æ³•\næˆ‘ä»¬å®šä¹‰çŸ©é˜µçš„ç¬¬ k å±‚æ˜¯åˆ°æœ€è¿‘è¾¹ç•Œè·ç¦»ä¸º k çš„æ‰€æœ‰é¡¶ç‚¹ã€‚ä¾‹å¦‚ï¼Œä¸‹å›¾çŸ©é˜µæœ€å¤–å±‚å…ƒç´ éƒ½æ˜¯ç¬¬ 1 å±‚ï¼Œæ¬¡å¤–å±‚å…ƒç´ éƒ½æ˜¯ç¬¬ 2 å±‚ï¼Œç„¶åæ˜¯ç¬¬ 3 å±‚çš„ã€‚\n12345[[1, 1, 1, 1, 1, 1, 1], [1, 2, 2, 2, 2, 2, 1], [1, 2, 3, 3, 3, 2, 1], [1, 2, 2, 2, 2, 2, 1], [1, 1, 1, 1, 1, 1, 1]]\n\n\n12345678910111213141516171819202122class Solution &#123;    public List &lt; Integer &gt; spiralOrder(int[][] matrix) &#123;        List ans = new ArrayList();        if (matrix.length == 0)            return ans;        int r1 = 0, r2 = matrix.length - 1;        int c1 = 0, c2 = matrix[0].length - 1;        while (r1 &lt;= r2 &amp;&amp; c1 &lt;= c2) &#123;            for (int c = c1; c &lt;= c2; c++) ans.add(matrix[r1][c]);            for (int r = r1 + 1; r &lt;= r2; r++) ans.add(matrix[r][c2]);            if (r1 &lt; r2 &amp;&amp; c1 &lt; c2) &#123;                for (int c = c2 - 1; c &gt; c1; c--) ans.add(matrix[r2][c]);                for (int r = r2; r &gt; r1; r--) ans.add(matrix[r][c1]);            &#125;            r1++;            r2--;            c1++;            c2--;        &#125;        return ans;    &#125;&#125;\n\nå¤æ‚åº¦åˆ†æ\n\næ—¶é—´å¤æ‚åº¦ï¼š O(N)ï¼Œå…¶ä¸­ N æ˜¯è¾“å…¥çŸ©é˜µæ‰€æœ‰å…ƒç´ çš„ä¸ªæ•°ã€‚å› ä¸ºæˆ‘ä»¬å°†çŸ©é˜µä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ·»åŠ è¿›ç­”æ¡ˆé‡Œã€‚\nç©ºé—´å¤æ‚åº¦ï¼š O(N)ï¼Œéœ€è¦çŸ©é˜µ ans å­˜å‚¨ä¿¡æ¯ã€‚\n\næ–¹æ³• 3ï¼šé¡ºæ—¶é’ˆæ—‹è½¬\nè¿™é‡Œçš„æ–¹æ³•ä¸éœ€è¦è®°å½•å·²ç»èµ°è¿‡çš„è·¯å¾„ï¼Œæ‰€ä»¥æ‰§è¡Œç”¨æ—¶å’Œå†…å­˜æ¶ˆè€—éƒ½ç›¸å¯¹è¾ƒå°\n\né¦–å…ˆè®¾å®šä¸Šä¸‹å·¦å³è¾¹ç•Œ\nå…¶æ¬¡å‘å³ç§»åŠ¨åˆ°æœ€å³ï¼Œæ­¤æ—¶ç¬¬ä¸€è¡Œå› ä¸ºå·²ç»ä½¿ç”¨è¿‡äº†ï¼Œå¯ä»¥å°†å…¶ä»å›¾ä¸­åˆ å»ï¼Œä½“ç°åœ¨ä»£ç ä¸­å°±æ˜¯é‡æ–°å®šä¹‰ä¸Šè¾¹ç•Œ\nåˆ¤æ–­è‹¥é‡æ–°å®šä¹‰åï¼Œä¸Šä¸‹è¾¹ç•Œäº¤é”™ï¼Œè¡¨æ˜èºæ—‹çŸ©é˜µéå†ç»“æŸï¼Œè·³å‡ºå¾ªç¯ï¼Œè¿”å›ç­”æ¡ˆ\nè‹¥ä¸Šä¸‹è¾¹ç•Œä¸äº¤é”™ï¼Œåˆ™éå†è¿˜æœªç»“æŸï¼Œæ¥ç€å‘ä¸‹å‘å·¦å‘ä¸Šç§»åŠ¨ï¼Œæ“ä½œè¿‡ç¨‹ä¸ç¬¬ä¸€ï¼ŒäºŒæ­¥åŒç†\nä¸æ–­å¾ªç¯ä»¥ä¸Šæ­¥éª¤ï¼Œç›´åˆ°æŸä¸¤æ¡è¾¹ç•Œäº¤é”™ï¼Œè·³å‡ºå¾ªç¯ï¼Œè¿”å›ç­”æ¡ˆ\n\n1234567891011121314151617181920212223242526272829303132333435363738394041424344import java.util.*;public class Main &#123;    public static void main(String[] args) &#123;         Scanner in = new Scanner(System.in);         int n = in.nextInt();         in.close();        int[][] matrix = new int[][] &#123; &#123; 1, 2, 3 &#125;, &#123; 4, 5, 6 &#125;, &#123; 7, 8, 9 &#125; &#125;;        List&lt;Integer&gt; list = spiralOrder(matrix);        System.out.println(list);    &#125;    static List&lt;Integer&gt; spiralOrder(int[][] matrix) &#123;        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();        if (matrix.length == 0)            return list;        int u = 0, d = matrix.length - 1, l = 0, r = matrix[0].length - 1;        while (true) &#123;             å‘å³            for (int i = l; i &lt;= r; i++)                list.add(matrix[u][i]);            if (++u &gt; d)                break;             å‘ä¸‹            for (int i = u; i &lt;= d; i++)                list.add(matrix[i][r]);            if (--r &lt; l)                break;             å‘å·¦            for (int i = r; i &gt;= l; i--)                list.add(matrix[d][i]);            if (--d &lt; u)                break;             å‘ä¸Š            for (int i = d; i &gt;= u; i--)                list.add(matrix[i][l]);            if (++l &gt; r)                break;        &#125;        return list;    &#125;&#125;\n\n1234567891011121314151617181920212223class Solution &#123;public:    vector&lt;int&gt; spiralOrder(vector&lt;vector&lt;int&gt;&gt;&amp; matrix) &#123;        vector &lt;int&gt; ans;        if(matrix.empty()) return ans; è‹¥æ•°ç»„ä¸ºç©ºï¼Œç›´æ¥è¿”å›ç­”æ¡ˆ        int u = 0; èµ‹å€¼ä¸Šä¸‹å·¦å³è¾¹ç•Œ        int d = matrix.size() - 1;        int l = 0;        int r = matrix[0].size() - 1;        while(true)        &#123;            for(int i = l; i &lt;= r; ++i) ans.push_back(matrix[u][i]); å‘å³ç§»åŠ¨ç›´åˆ°æœ€å³            if(++ u &gt; d) break; é‡æ–°è®¾å®šä¸Šè¾¹ç•Œï¼Œè‹¥ä¸Šè¾¹ç•Œå¤§äºä¸‹è¾¹ç•Œï¼Œåˆ™éå†éå†å®Œæˆï¼Œä¸‹åŒ            for(int i = u; i &lt;= d; ++i) ans.push_back(matrix[i][r]); å‘ä¸‹            if(-- r &lt; l) break; é‡æ–°è®¾å®šæœ‰è¾¹ç•Œ            for(int i = r; i &gt;= l; --i) ans.push_back(matrix[d][i]); å‘å·¦            if(-- d &lt; u) break; é‡æ–°è®¾å®šä¸‹è¾¹ç•Œ            for(int i = d; i &gt;= u; --i) ans.push_back(matrix[i][l]); å‘ä¸Š            if(++ l &gt; r) break; é‡æ–°è®¾å®šå·¦è¾¹ç•Œ        &#125;        return ans;    &#125;&#125;;","author":null,"tags":["leetcode","ç¼–ç¨‹","çŸ©é˜µ"],"path":"2019/09/07/54-èºæ—‹çŸ©é˜µ/","external_link":""},{"title":"Flutter Httpè¯·æ±‚å¼€æºåº“-dio","date":"2019-09-09T00:39:17.000Z","content":"æ–‡æ¡£è¯­è¨€: English | ä¸­æ–‡ç®€ä½“\ndio\ndioæ˜¯ä¸€ä¸ªå¼ºå¤§çš„Dart Httpè¯·æ±‚åº“ï¼Œæ”¯æŒRestful APIã€FormDataã€æ‹¦æˆªå™¨ã€è¯·æ±‚å–æ¶ˆã€Cookieç®¡ç†ã€æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ã€è¶…æ—¶ç­‰â€¦\næ·»åŠ ä¾èµ–12dependencies:  dio: ^x.x.x   è¯·ä½¿ç”¨pubä¸Šçš„æœ€æ–°ç‰ˆæœ¬\n\nä¸€ä¸ªæç®€çš„ç¤ºä¾‹12345678910import package:diodio.dart;void getHttp() async &#123;  try &#123;    Response response;    response = await Dio().get(http:www.baidu.com);    return print(response);  &#125; catch (e) &#123;    return print(e);  &#125;&#125;\n\nå†…å®¹åˆ—è¡¨\nç¤ºä¾‹\nDio APIs\nè¯·æ±‚é…ç½®\nå“åº”æ•°æ®\næ‹¦æˆªå™¨\né”™è¯¯å¤„ç†\nä½¿ç”¨applicationx-www-form-urlencodedç¼–ç \nFormData\nè½¬æ¢å™¨\nè®¾ç½®Httpä»£ç†\nHttpsè¯ä¹¦æ ¡éªŒ\nè¯·æ±‚å–æ¶ˆ\nCookieç®¡ç†\nFeatures and bugs\n\nç¤ºä¾‹å‘èµ·ä¸€ä¸ª GET è¯·æ±‚ :\n1234567  Response response;  Dio dio = new Dio();  response = await dio.get(test?id=12&amp;name=wendu)  print(response.data.toString()); è¯·æ±‚å‚æ•°ä¹Ÿå¯ä»¥é€šè¿‡å¯¹è±¡ä¼ é€’ï¼Œä¸Šé¢çš„ä»£ç ç­‰åŒäºï¼š  response = await dio.get(test, data: &#123;id: 12, name: wendu&#125;);  print(response.data.toString());\n\nå‘èµ·ä¸€ä¸ª POST è¯·æ±‚:\n1response = await dio.post(test, data: &#123;id: 12, name: wendu&#125;);\n\nå‘èµ·å¤šä¸ªå¹¶å‘è¯·æ±‚:\n1response = await Future.wait([dio.post(info), dio.get(token)]);\n\nä¸‹è½½æ–‡ä»¶:\n1response = await dio.download(https:www.google.com, .xx.html);\n\nå‘é€ FormData:\n12345FormData formData = new FormData.from(&#123;    name: wendux,    age: 25,  &#125;);  response = await dio.post(info, data: formData);\n\né€šè¿‡FormDataä¸Šä¼ å¤šä¸ªæ–‡ä»¶:\n1234567891011121314FormData formData = new FormData.from(&#123;  name: wendux,  age: 25,  file1: new UploadFileInfo(new File(.upload.txt), upload1.txt),  æ”¯æŒç›´æ¥ä¸Šä¼ å­—èŠ‚æ•°ç»„ (List&lt;int&gt;) ï¼Œæ–¹ä¾¿ç›´æ¥ä¸Šä¼ å†…å­˜ä¸­çš„å†…å®¹  file2: new UploadFileInfo.fromBytes(      utf8.encode(hello world), word.txt),   æ”¯æŒæ–‡ä»¶æ•°ç»„ä¸Šä¼   files: [    new UploadFileInfo(new File(.exampleupload.txt), upload.txt),    new UploadFileInfo(new File(.exampleupload.txt), upload.txt)  ]&#125;);response = await dio.post(info, data: formData);\n\nç›‘å¬å‘é€(ä¸Šä¼ )æ•°æ®è¿›åº¦:\n1234567response = await dio.post(  http:www.dtworkroom.comdoris12.0.0test,  data: &#123;aa: bb * 22&#125;,  onUploadProgress: (int sent, int total) &#123;    print($sent $total);  &#125;,);\n\nâ€¦ä½ å¯ä»¥åœ¨è¿™é‡Œè·å–æ‰€æœ‰ç¤ºä¾‹ä»£ç .\nDio APIsåˆ›å»ºä¸€ä¸ªDioå®ä¾‹ï¼Œå¹¶é…ç½®å®ƒä½ å¯ä»¥ä½¿ç”¨é»˜è®¤é…ç½®æˆ–ä¼ é€’ä¸€ä¸ªå¯é€‰ Optionså‚æ•°æ¥åˆ›å»ºä¸€ä¸ªDioå®ä¾‹ :\n12345678910111213Dio dio = new Dio;  ä½¿ç”¨é»˜è®¤é…ç½® é…ç½®dioå®ä¾‹  dio.options.baseUrl = https:www.xx.comapi;  dio.options.connectTimeout = 5000; 5s  dio.options.receiveTimeout = 3000; æˆ–è€…é€šè¿‡ä¼ é€’ä¸€ä¸ª `options`æ¥åˆ›å»ºdioå®ä¾‹  Options options = new Options(      baseUrl: https:www.xx.comapi,      connectTimeout: 5000,      receiveTimeout: 3000);  Dio dio = new Dio(options);\n\nDioå®ä¾‹çš„æ ¸å¿ƒAPIæ˜¯ :\nFuture request(String path, {data, Options options,CancelToken cancelToken})\n12response = await request(    test, data: &#123;id: 12, name: xx&#125;, new Options(method: GET));\n\nè¯·æ±‚æ–¹æ³•åˆ«åä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼ŒDioæä¾›äº†ä¸€äº›å…¶å®ƒçš„Restful API, è¿™äº›APIéƒ½æ˜¯requestçš„åˆ«åã€‚\nFuture get(path, {data, Options options,CancelToken cancelToken})\nFuture post(path, {data, Options options,CancelToken cancelToken})\nFuture put(path, {data, Options options,CancelToken cancelToken})\nFuture delete(path, {data, Options options,CancelToken cancelToken})\nFuture head(path, {data, Options options,CancelToken cancelToken})\nFuture put(path, {data, Options options,CancelToken cancelToken})\nFuture path(path, {data, Options options,CancelToken cancelToken})\nFuture download(String urlPath, savePath,â€‹    {OnDownloadProgress onProgress, data, bool flush: false, Options options,CancelToken cancelToken})\nè¯·æ±‚é…ç½®ä¸‹é¢æ˜¯æ‰€æœ‰çš„è¯·æ±‚é…ç½®é€‰é¡¹ã€‚ å¦‚æœè¯·æ±‚methodæ²¡æœ‰æŒ‡å®šï¼Œåˆ™é»˜è®¤ä¸ºGET :\n1234567891011121314151617181920212223242526272829303132333435363738394041424344454647&#123;   Http method.  String method;   è¯·æ±‚åŸºåœ°å€,å¯ä»¥åŒ…å«å­è·¯å¾„ï¼Œå¦‚: https:www.google.comapi.  String baseUrl;   Httpè¯·æ±‚å¤´.  Map&lt;String, dynamic&gt; headers;   è¿æ¥æœåŠ¡å™¨è¶…æ—¶æ—¶é—´ï¼Œå•ä½æ˜¯æ¯«ç§’.  int connectTimeout;    å“åº”æµä¸Šå‰åä¸¤æ¬¡æ¥å—åˆ°æ•°æ®çš„é—´éš”ï¼Œå•ä½ä¸ºæ¯«ç§’ã€‚å¦‚æœä¸¤æ¬¡é—´éš”è¶…è¿‡[receiveTimeout]ï¼Œ    [Dio] å°†ä¼šæŠ›å‡ºä¸€ä¸ª[DioErrorType.RECEIVE_TIMEOUT]çš„å¼‚å¸¸.    æ³¨æ„: è¿™å¹¶ä¸æ˜¯æ¥æ”¶æ•°æ®çš„æ€»æ—¶é™.  int receiveTimeout;   è¯·æ±‚æ•°æ®,å¯ä»¥æ˜¯ä»»æ„ç±»å‹.  var data;   è¯·æ±‚è·¯å¾„ï¼Œå¦‚æœ `path` ä»¥ http(s)å¼€å§‹, åˆ™ `baseURL` ä¼šè¢«å¿½ç•¥ï¼› å¦åˆ™,   å°†ä¼šå’ŒbaseUrlæ‹¼æ¥å‡ºå®Œæ•´çš„çš„url.  String path = ;   è¯·æ±‚çš„Content-Typeï¼Œé»˜è®¤å€¼æ˜¯[ContentType.JSON].   å¦‚æœæ‚¨æƒ³ä»¥applicationx-www-form-urlencodedæ ¼å¼ç¼–ç è¯·æ±‚æ•°æ®,   å¯ä»¥è®¾ç½®æ­¤é€‰é¡¹ä¸º `ContentType.parse(applicationx-www-form-urlencoded)`,  è¿™æ ·[Dio]   å°±ä¼šè‡ªåŠ¨ç¼–ç è¯·æ±‚ä½“.  ContentType contentType;   [responseType] è¡¨ç¤ºæœŸæœ›ä»¥é‚£ç§æ ¼å¼(æ–¹å¼)æ¥å—å“åº”æ•°æ®ã€‚   ç›®å‰ [ResponseType] æ¥å—ä¸‰ç§ç±»å‹ `JSON`, `STREAM`, `PLAIN`.     é»˜è®¤å€¼æ˜¯ `JSON`, å½“å“åº”å¤´ä¸­content-typeä¸ºapplicationjsonæ—¶ï¼Œdio ä¼šè‡ªåŠ¨å°†å“åº”å†…å®¹è½¬åŒ–ä¸ºjsonå¯¹è±¡ã€‚   å¦‚æœæƒ³ä»¥äºŒè¿›åˆ¶æ–¹å¼æ¥å—å“åº”æ•°æ®ï¼Œå¦‚ä¸‹è½½ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ `STREAM`.     å¦‚æœæƒ³ä»¥æ–‡æœ¬(å­—ç¬¦ä¸²)æ ¼å¼æ¥æ”¶å“åº”æ•°æ®ï¼Œè¯·ä½¿ç”¨ `PLAIN`.  ResponseType responseType;   `validateStatus` å†³å®šhttpå“åº”çŠ¶æ€ç æ˜¯å¦è¢«dioè§†ä¸ºè¯·æ±‚æˆåŠŸï¼Œ è¿”å›`validateStatus`    è¿”å›`true` , è¯·æ±‚ç»“æœå°±ä¼šæŒ‰æˆåŠŸå¤„ç†ï¼Œå¦åˆ™ä¼šæŒ‰å¤±è´¥å¤„ç†.  ValidateStatus validateStatus;   ç”¨æˆ·è‡ªå®šä¹‰å­—æ®µï¼Œå¯ä»¥åœ¨ [Interceptor]ã€[Transformer] å’Œ [Response] ä¸­å–åˆ°.  Map&lt;String, dynamic&gt; extra;&#125;\n\nè¿™é‡Œæœ‰ä¸€ä¸ªå®Œæˆçš„ç¤ºä¾‹.\nå“åº”æ•°æ®å½“è¯·æ±‚æˆåŠŸæ—¶ä¼šè¿”å›ä¸€ä¸ªResponseå¯¹è±¡ï¼Œå®ƒåŒ…å«å¦‚ä¸‹å­—æ®µï¼š\n123456789101112&#123;   å“åº”æ•°æ®ï¼Œå¯èƒ½å·²ç»è¢«è½¬æ¢äº†ç±»å‹, è¯¦æƒ…è¯·å‚è€ƒOptionsä¸­çš„[ResponseType].  var data;   å“åº”å¤´  HttpHeaders headers;   æœ¬æ¬¡è¯·æ±‚ä¿¡æ¯  Options request;   Http status code.  int statusCode;   å“åº”å¯¹è±¡çš„è‡ªå®šä¹‰å­—æ®µï¼ˆå¯ä»¥åœ¨æ‹¦æˆªå™¨ä¸­è®¾ç½®å®ƒï¼‰ï¼Œè°ƒç”¨æ–¹å¯ä»¥åœ¨`then`ä¸­è·å–.  Map&lt;String, dynamic&gt; extra;&#125;\n\nç¤ºä¾‹å¦‚ä¸‹:\n12345Response response = await dio.get(https:www.google.com);print(response.data);print(response.headers);print(response.request);print(response.statusCode);\n\næ‹¦æˆªå™¨æ¯ä¸€ä¸ª Dio å®ä¾‹éƒ½æœ‰ä¸€ä¸ªè¯·æ±‚æ‹¦æˆªå™¨  RequestInterceptor å’Œä¸€ä¸ªå“åº”æ‹¦æˆªå™¨ ResponseInterceptor, é€šè¿‡æ‹¦æˆªå™¨ä½ å¯ä»¥åœ¨è¯·æ±‚ä¹‹å‰æˆ–å“åº”ä¹‹å(ä½†è¿˜æ²¡æœ‰è¢« then æˆ– catchErrorå¤„ç†)åšä¸€äº›ç»Ÿä¸€çš„é¢„å¤„ç†æ“ä½œã€‚\n1234567891011121314151617dio.interceptor.request.onSend = (Options options)&#123;     åœ¨è¯·æ±‚è¢«å‘é€ä¹‹å‰åšä¸€äº›äº‹æƒ…    return options; continue     å¦‚æœä½ æƒ³å®Œæˆè¯·æ±‚å¹¶è¿”å›ä¸€äº›è‡ªå®šä¹‰æ•°æ®ï¼Œå¯ä»¥è¿”å›ä¸€ä¸ª`Response`å¯¹è±¡æˆ–è¿”å›`dio.resolve(data)`ã€‚     è¿™æ ·è¯·æ±‚å°†ä¼šè¢«ç»ˆæ­¢ï¼Œä¸Šå±‚thenä¼šè¢«è°ƒç”¨ï¼Œthenä¸­è¿”å›çš„æ•°æ®å°†æ˜¯ä½ çš„è‡ªå®šä¹‰æ•°æ®data.         å¦‚æœä½ æƒ³ç»ˆæ­¢è¯·æ±‚å¹¶è§¦å‘ä¸€ä¸ªé”™è¯¯,ä½ å¯ä»¥è¿”å›ä¸€ä¸ª`DioError`å¯¹è±¡ï¼Œæˆ–è¿”å›`dio.reject(errMsg)`ï¼Œ     è¿™æ ·è¯·æ±‚å°†è¢«ä¸­æ­¢å¹¶è§¦å‘å¼‚å¸¸ï¼Œä¸Šå±‚catchErrorä¼šè¢«è°ƒç”¨ã€‚&#125;dio.interceptor.response.onSuccess = (Response response) &#123;     åœ¨è¿”å›å“åº”æ•°æ®ä¹‹å‰åšä¸€äº›é¢„å¤„ç†    return response;  continue&#125;;dio.interceptor.response.onError = (DioError e)&#123;     å½“è¯·æ±‚å¤±è´¥æ—¶åšä¸€äº›é¢„å¤„ç†    return e;continue&#125;\n\nå¦‚æœä½ æƒ³ç§»é™¤æ‹¦æˆªå™¨ï¼Œä½ å¯ä»¥å°†å®ƒä»¬ç½®ä¸ºnull:\n123dio.interceptor.request.onSend = null;dio.interceptor.response.onSuccess = null;dio.interceptor.response.onError = null;\n\nå®Œæˆå’Œç»ˆæ­¢è¯·æ±‚å“åº”åœ¨æ‰€æœ‰æ‹¦æˆªå™¨ä¸­ï¼Œä½ éƒ½å¯ä»¥æ”¹å˜è¯·æ±‚æ‰§è¡Œæµï¼Œ å¦‚æœä½ æƒ³å®Œæˆè¯·æ±‚å“åº”å¹¶è¿”å›è‡ªå®šä¹‰æ•°æ®ï¼Œä½ å¯ä»¥è¿”å›ä¸€ä¸ª Response å¯¹è±¡æˆ–è¿”å› dio.resolve(data)çš„ç»“æœã€‚ å¦‚æœä½ æƒ³ç»ˆæ­¢(è§¦å‘ä¸€ä¸ªé”™è¯¯ï¼Œä¸Šå±‚catchErrorä¼šè¢«è°ƒç”¨)ä¸€ä¸ªè¯·æ±‚å“åº”ï¼Œé‚£ä¹ˆå¯ä»¥è¿”å›ä¸€ä¸ªDioError å¯¹è±¡æˆ–è¿”å› dio.reject(errMsg) çš„ç»“æœ.\n12345dio.interceptor.request.onSend = (Options options) &#123;  return dio.resolve(fake data)&#125;Response response = await dio.get(test);print(response.data); fake data\n\næ‹¦æˆªå™¨ä¸­æ”¯æŒå¼‚æ­¥ä»»åŠ¡æ‹¦æˆªå™¨ä¸­ä¸ä»…æ”¯æŒåŒæ­¥ä»»åŠ¡ï¼Œè€Œä¸”ä¹Ÿæ”¯æŒå¼‚æ­¥ä»»åŠ¡, ä¸‹é¢æ˜¯åœ¨è¯·æ±‚æ‹¦æˆªå™¨ä¸­å‘èµ·å¼‚æ­¥ä»»åŠ¡çš„ä¸€ä¸ªå®ä¾‹:\n1234567 dio.interceptor.request.onSend = (Options options) async &#123;    ...If no token, request token firstly.    Response response = await dio.get(token);    Set the token to headers    options.headers[token] = response.data[data][token];    return options; continue&#125;\n\nLockunlock æ‹¦æˆªå™¨ä½ å¯ä»¥é€šè¿‡è°ƒç”¨æ‹¦æˆªå™¨çš„ lock()unlock æ–¹æ³•æ¥é”å®šè§£é”æ‹¦æˆªå™¨ã€‚ä¸€æ—¦è¯·æ±‚å“åº”æ‹¦æˆªå™¨è¢«é”å®šï¼Œæ¥ä¸‹æ¥çš„è¯·æ±‚å“åº”å°†ä¼šåœ¨è¿›å…¥è¯·æ±‚å“åº”æ‹¦æˆªå™¨ä¹‹å‰æ’é˜Ÿç­‰å¾…ï¼Œç›´åˆ°è§£é”åï¼Œè¿™äº›å…¥é˜Ÿçš„è¯·æ±‚æ‰ä¼šç»§ç»­æ‰§è¡Œ(è¿›å…¥æ‹¦æˆªå™¨)ã€‚è¿™åœ¨ä¸€äº›éœ€è¦ä¸²è¡ŒåŒ–è¯·æ±‚å“åº”çš„åœºæ™¯ä¸­éå¸¸å®ç”¨ï¼Œåé¢æˆ‘ä»¬å°†ç»™å‡ºä¸€ä¸ªç¤ºä¾‹ã€‚\n12345678910111213tokenDio = new Dio(); Create a new instance to request the token.tokenDio.options = dio;dio.interceptor.request.onSend = (Options options) async &#123;   If no token, request token firstly and lock this interceptor   to prevent other request enter this interceptor.  dio.interceptor.request.lock();   We use a new Dio(to avoid dead lock) instance to request token.  Response response = await tokenDio.get(token);  Set the token to headers  options.headers[token] = response.data[data][token];  dio.interceptor.request.unlock();  return options; continue&#125;\n\nClear()\nä½ ä¹Ÿå¯ä»¥è°ƒç”¨æ‹¦æˆªå™¨çš„clear()æ–¹æ³•æ¥æ¸…ç©ºç­‰å¾…é˜Ÿåˆ—ã€‚\nåˆ«åå½“è¯·æ±‚æ‹¦æˆªå™¨è¢«é”å®šæ—¶ï¼Œæ¥ä¸‹æ¥çš„è¯·æ±‚å°†ä¼šæš‚åœï¼Œè¿™ç­‰ä»·äºé”ä½äº†dioå®ä¾‹ï¼Œå› æ­¤ï¼ŒDioç¤ºä¾‹ä¸Šæä¾›äº†è¯·æ±‚æ‹¦æˆªå™¨lockunlockçš„åˆ«åæ–¹æ³•ï¼š\ndio.lock() ==  dio.interceptor.request.lock()\ndio.unlock() ==  dio.interceptor.request.unlock()\ndio.clear() ==  dio.interceptor.request.clear()\nç¤ºä¾‹å‡è®¾è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ï¼šå‡ºäºå®‰å…¨åŸå› ï¼Œæˆ‘ä»¬éœ€è¦ç»™æ‰€æœ‰çš„è¯·æ±‚å¤´ä¸­æ·»åŠ ä¸€ä¸ªcsrfTokenï¼Œå¦‚æœcsrfTokenä¸å­˜åœ¨ï¼Œæˆ‘ä»¬å…ˆå»è¯·æ±‚csrfTokenï¼Œè·å–åˆ°csrfTokenåï¼Œå†å‘èµ·åç»­è¯·æ±‚ã€‚ ç”±äºè¯·æ±‚csrfTokençš„è¿‡ç¨‹æ˜¯å¼‚æ­¥çš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è¯·æ±‚è¿‡ç¨‹ä¸­é”å®šåç»­è¯·æ±‚ï¼ˆå› ä¸ºå®ƒä»¬éœ€è¦csrfToken), ç›´åˆ°csrfTokenè¯·æ±‚æˆåŠŸåï¼Œå†è§£é”ï¼Œä»£ç å¦‚ä¸‹ï¼š\n1234567891011121314151617dio.interceptor.request.onSend = (Options options) &#123;    print(send requestï¼špath:$&#123;options.path&#125;ï¼ŒbaseURL:$&#123;options.baseUrl&#125;);    if (csrfToken == null) &#123;      print(no tokenï¼Œrequest token firstly...);      lock the dio.      dio.lock();      return tokenDio.get(token).then((d) &#123;        options.headers[csrfToken] = csrfToken = d.data[data][token];        print(request token succeed, value:  + d.data[data][token]);        print(continue to perform requestï¼špath:$&#123;options.path&#125;ï¼ŒbaseURL:$&#123;options.path&#125;);        return options;      &#125;).whenComplete(() =&gt; dio.unlock());  unlock the dio    &#125; else &#123;      options.headers[csrfToken] = csrfToken;      return options;    &#125;  &#125;;\n\nå®Œæ•´çš„ç¤ºä¾‹ä»£ç è¯·ç‚¹å‡» è¿™é‡Œ.\né”™è¯¯å¤„ç†å½“è¯·æ±‚è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯æ—¶, Dio ä¼šåŒ…è£… ErrorException ä¸ºä¸€ä¸ª DioError:\n12345678910111213141516try &#123;  404  await dio.get(https:wendux.github.ioxsddddd);&#125; on DioError catch (e) &#123;   The request was made and the server responded with a status code   that falls out of the range of 2xx and is also not 304.  if (e.response) &#123;    print(e.response.data);    print(e.response.headers);    print(e.response.request);  &#125; else &#123;     Something happened in setting up or sending the request that triggered an Error    print(e.request);    print(e.message);  &#125;&#125;\n\nDioError å­—æ®µ12345678910111213 &#123;   å“åº”ä¿¡æ¯, å¦‚æœé”™è¯¯å‘ç”Ÿåœ¨åœ¨æœåŠ¡å™¨è¿”å›æ•°æ®ä¹‹å‰ï¼Œå®ƒä¸º `null`  Response response;   é”™è¯¯æè¿°.  String message;   é”™è¯¯ç±»å‹ï¼Œè§ä¸‹æ–‡  DioErrorType type;   é”™è¯¯æ ˆä¿¡æ¯ï¼Œå¯èƒ½ä¸ºnull  StackTrace stackTrace;&#125;\n\nDioErrorType12345678910111213141516171819enum DioErrorType &#123;   Default error type, usually occurs before connecting the server.  DEFAULT,   When opening  url timeout, it occurs.  CONNECT_TIMEOUT,    Whenever more than [receiveTimeout] (in milliseconds) passes between two events from response stream,    [Dio] will throw the [DioError] with [DioErrorType.RECEIVE_TIMEOUT].      Note: This is not the receiving time limitation.  RECEIVE_TIMEOUT,   When the server response, but with a incorrect status, such as 404, 503...  RESPONSE,   When the request is cancelled, dio will throw a error with this type.  CANCEL&#125;\n\nä½¿ç”¨applicationx-www-form-urlencodedç¼–ç é»˜è®¤æƒ…å†µä¸‹, Dio ä¼šå°†è¯·æ±‚æ•°æ®(é™¤è¿‡Stringç±»å‹)åºåˆ—åŒ–ä¸º JSON. å¦‚æœæƒ³è¦ä»¥ applicationx-www-form-urlencodedæ ¼å¼ç¼–ç , ä½ å¯ä»¥æ˜¾å¼è®¾ç½®contentType :\n1234Instance leveldio.options.contentType=ContentType.parse(applicationx-www-form-urlencoded);or works oncedio.post(info,data:&#123;id:5&#125;, options: new Options(contentType:ContentType.parse(applicationx-www-form-urlencoded)));\n\nè¿™é‡Œæœ‰ä¸€ä¸ªç¤ºä¾‹.\nFormDataDioæ”¯æŒå‘é€ FormData, è¯·æ±‚æ•°æ®å°†ä¼šä»¥ multipartform-dataæ–¹å¼ç¼–ç , FormDataä¸­å¯ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªåŒ…å«æ–‡ä»¶ .\n123456FormData formData = new FormData.from(&#123;    name: wendux,    age: 25,    file: new UploadFileInfo(new File(.exampleupload.txt), upload.txt)&#125;);response = await dio.post(info, data: formData);\n\n\næ³¨æ„: åªæœ‰ post æ–¹æ³•æ”¯æŒå‘é€ FormData.\n\nè¿™é‡Œæœ‰ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹.\nè½¬æ¢å™¨è½¬æ¢å™¨Transformer ç”¨äºå¯¹è¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ®è¿›è¡Œç¼–è§£ç å¤„ç†ã€‚Dioå®ç°äº†ä¸€ä¸ªé»˜è®¤è½¬æ¢å™¨DefaultTransformerä½œä¸ºé»˜è®¤çš„ Transformer. å¦‚æœä½ æƒ³å¯¹è¯·æ±‚å“åº”æ•°æ®è¿›è¡Œè‡ªå®šä¹‰ç¼–è§£ç å¤„ç†ï¼Œå¯ä»¥æä¾›è‡ªå®šä¹‰è½¬æ¢å™¨ï¼Œé€šè¿‡ dio.transformerè®¾ç½®ã€‚\n\nè¯·æ±‚è½¬æ¢å™¨  Transformer.transformRequest(...)   åªä¼šè¢«ç”¨äº â€˜PUTâ€™ã€ â€˜POSTâ€™ã€ â€˜PATCHâ€™æ–¹æ³•ï¼Œå› ä¸ºåªæœ‰è¿™äº›æ–¹æ³•æ‰å¯ä»¥æºå¸¦è¯·æ±‚ä½“(request body)ã€‚ä½†æ˜¯å“åº”è½¬æ¢å™¨ Transformer.transformResponse() ä¼šè¢«ç”¨äºæ‰€æœ‰è¯·æ±‚æ–¹æ³•çš„è¿”å›æ•°æ®ã€‚\n\næ‰§è¡Œæµè™½ç„¶åœ¨æ‹¦æˆªå™¨ä¸­ä¹Ÿå¯ä»¥å¯¹æ•°æ®è¿›è¡Œé¢„å¤„ç†ï¼Œä½†æ˜¯è½¬æ¢å™¨ä¸»è¦èŒè´£æ˜¯å¯¹è¯·æ±‚å“åº”æ•°æ®è¿›è¡Œç¼–è§£ç ï¼Œä¹‹æ‰€ä»¥å°†è½¬åŒ–å™¨å•ç‹¬åˆ†ç¦»ï¼Œä¸€æ˜¯ä¸ºäº†å’Œæ‹¦æˆªå™¨è§£è€¦ï¼ŒäºŒæ˜¯ä¸ºäº†ä¸ä¿®æ”¹åŸå§‹è¯·æ±‚æ•°æ®(å¦‚æœä½ åœ¨æ‹¦æˆªå™¨ä¸­ä¿®æ”¹è¯·æ±‚æ•°æ®(options.data)ï¼Œä¼šè¦†ç›–åŸå§‹è¯·æ±‚æ•°æ®ï¼Œè€Œåœ¨æŸäº›æ—¶å€™æ‚¨å¯èƒ½éœ€è¦åŸå§‹è¯·æ±‚æ•°æ®). Dioçš„è¯·æ±‚æµæ˜¯ï¼š\nè¯·æ±‚æ‹¦æˆªå™¨ &gt;&gt; è¯·æ±‚è½¬æ¢å™¨ &gt;&gt; å‘èµ·è¯·æ±‚  &gt;&gt; å“åº”è½¬æ¢å™¨  &gt;&gt; å“åº”æ‹¦æˆªå™¨  &gt;&gt; æœ€ç»ˆç»“æœã€‚\nè¿™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰è½¬æ¢å™¨çš„ç¤ºä¾‹.\nè®¾ç½®Httpä»£ç†Dio æ˜¯ä½¿ç”¨ HttpClientå‘èµ·çš„httpè¯·æ±‚ï¼Œæ‰€ä»¥ä½ å¯ä»¥é€šè¿‡é…ç½® httpClientæ¥æ”¯æŒä»£ç†ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š\n12345678dio.onHttpClientCreate = (HttpClient client) &#123;  client.findProxy = (uri) &#123;    proxy all request to localhost:8888    return PROXY localhost:8888;  &#125;;   ä½ ä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»ºä¸€ä¸ªæ–°çš„HttpClientå®ä¾‹è¿”å›ã€‚   return new HttpClient(SecurityContext);&#125;;\n\nå®Œæ•´çš„ç¤ºä¾‹è¯·æŸ¥çœ‹è¿™é‡Œ.\nHttpsè¯ä¹¦æ ¡éªŒæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥æ ¡éªŒhttpsè¯ä¹¦ï¼Œå‡è®¾æˆ‘ä»¬çš„åå°æœåŠ¡ä½¿ç”¨çš„æ˜¯è‡ªç­¾åè¯ä¹¦ï¼Œè¯ä¹¦æ ¼å¼æ˜¯PEMæ ¼å¼ï¼Œæˆ‘ä»¬å°†è¯ä¹¦çš„å†…å®¹ä¿å­˜åœ¨æœ¬åœ°å­—ç¬¦ä¸²ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ ¡éªŒé€»è¾‘å¦‚ä¸‹ï¼š\n123456789String PEM=XXXXX; è¯ä¹¦å†…å®¹dio.onHttpClientCreate = (HttpClient client) &#123;  client.badCertificateCallback=(X509Certificate cert, String host, int port)&#123;    if(cert.pem==PEM)&#123;  è¯ä¹¦ä¸€è‡´ï¼Œåˆ™æ”¾è¡Œ      return true;     &#125;    return false;  &#125;;&#125;;\n\nX509Certificateæ˜¯è¯ä¹¦çš„æ ‡å‡†æ ¼å¼ï¼ŒåŒ…å«äº†è¯ä¹¦é™¤ç§é’¥å¤–æ‰€æœ‰ä¿¡æ¯ï¼Œè¯»è€…å¯ä»¥è‡ªè¡ŒæŸ¥é˜…æ–‡æ¡£ã€‚å¦å¤–ï¼Œä¸Šé¢çš„ç¤ºä¾‹æ²¡æœ‰æ ¡éªŒhostï¼Œæ˜¯å› ä¸ºåªè¦æœåŠ¡å™¨è¿”å›çš„è¯ä¹¦å†…å®¹å’Œæœ¬åœ°çš„ä¿å­˜ä¸€è‡´å°±å·²ç»èƒ½è¯æ˜æ˜¯æˆ‘ä»¬çš„æœåŠ¡å™¨äº†ï¼ˆè€Œä¸æ˜¯ä¸­é—´äººï¼‰ï¼ŒhostéªŒè¯é€šå¸¸æ˜¯ä¸ºäº†é˜²æ­¢è¯ä¹¦å’ŒåŸŸåä¸åŒ¹é…ã€‚\nå¯¹äºè‡ªç­¾åçš„è¯ä¹¦ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†å…¶æ·»åŠ åˆ°æœ¬åœ°è¯ä¹¦ä¿¡ä»»é“¾ä¸­ï¼Œè¿™æ ·è¯ä¹¦éªŒè¯æ—¶å°±ä¼šè‡ªåŠ¨é€šè¿‡ï¼Œè€Œä¸ä¼šå†èµ°åˆ°badCertificateCallbackå›è°ƒä¸­ï¼š\n1234567dio.onHttpClientCreate = (HttpClient client) &#123;  SecurityContext sc = new SecurityContext();  fileä¸ºè¯ä¹¦è·¯å¾„  sc.setTrustedCertificates(file);  HttpClient httpClient = new HttpClient(context: sc);  return httpClient;&#125;;\n\næ³¨æ„ï¼Œé€šè¿‡setTrustedCertificates()è®¾ç½®çš„è¯ä¹¦æ ¼å¼å¿…é¡»ä¸ºPEMæˆ–PKCS12ï¼Œå¦‚æœè¯ä¹¦æ ¼å¼ä¸ºPKCS12ï¼Œåˆ™éœ€å°†è¯ä¹¦å¯†ç ä¼ å…¥ï¼Œè¿™æ ·åˆ™ä¼šåœ¨ä»£ç ä¸­æš´éœ²è¯ä¹¦å¯†ç ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯è¯ä¹¦æ ¡éªŒä¸å»ºè®®ä½¿ç”¨PKCS12æ ¼å¼çš„è¯ä¹¦ã€‚\nè¯·æ±‚å–æ¶ˆä½ å¯ä»¥é€šè¿‡ cancel token æ¥å–æ¶ˆå‘èµ·çš„è¯·æ±‚ï¼š\n1234567891011CancelToken token = new CancelToken();dio.get(url, cancelToken: token)    .catchError((DioError err)&#123;        if (CancelToken.isCancel(err)) &#123;            print(Request canceled! + err.message)        &#125;else&#123;             handle error.        &#125;    &#125;); cancel the requests with cancelled message.token.cancel(cancelled);\n\n\næ³¨æ„: åŒä¸€ä¸ªcancel token å¯ä»¥ç”¨äºå¤šä¸ªè¯·æ±‚ï¼Œå½“ä¸€ä¸ªcancel tokenå–æ¶ˆæ—¶ï¼Œæ‰€æœ‰ä½¿ç”¨è¯¥cancel tokençš„è¯·æ±‚éƒ½ä¼šè¢«å–æ¶ˆã€‚\n\nå®Œæ•´çš„ç¤ºä¾‹è¯·å‚è€ƒå–æ¶ˆç¤ºä¾‹.\nCookieç®¡ç†ä½ å¯ä»¥é€šè¿‡ cookieJar æ¥è‡ªåŠ¨ç®¡ç†è¯·æ±‚å“åº”cookie.\n\n dio cookie ç®¡ç† API æ˜¯åŸºäºå¼€æºåº“ cookie_jar.\n\nä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªCookieJar æˆ– PersistCookieJar æ¥å¸®æ‚¨è‡ªåŠ¨ç®¡ç†cookie,  dio é»˜è®¤ä½¿ç”¨  CookieJar , å®ƒä¼šå°†cookieä¿å­˜åœ¨å†…å­˜ä¸­ã€‚ å¦‚æœæ‚¨æƒ³å¯¹cookieè¿›è¡ŒæŒä¹…åŒ–,  è¯·ä½¿ç”¨ PersistCookieJar ,  ç¤ºä¾‹ä»£ç å¦‚ä¸‹:\n12var dio = new Dio();dio.cookieJar = new PersistCookieJar(.cookies);\n\nPersistCookieJar å®ç°äº†RFCä¸­æ ‡å‡†çš„cookieç­–ç•¥.  PersistCookieJar ä¼šå°†cookieä¿å­˜åœ¨æ–‡ä»¶ä¸­ï¼Œæ‰€ä»¥ cookies ä¼šä¸€ç›´å­˜åœ¨é™¤éæ˜¾å¼è°ƒç”¨ delete åˆ é™¤.\næ›´å¤šå…³äº cookie_jar  è¯·å‚è€ƒ : https:github.comflutterchinacookie_jar .\nCopyright &amp; Licenseæ­¤å¼€æºé¡¹ç›®ä¸ºFlutterä¸­æ–‡ç½‘(https:flutterchina.club) æˆæƒ ï¼Œlicense æ˜¯ MIT.   å¦‚æœæ‚¨å–œæ¬¢ï¼Œæ¬¢è¿star.\nFlutterä¸­æ–‡ç½‘å¼€æºé¡¹ç›®è®¡åˆ’\nå¼€å‘ä¸€ç³»åˆ—Flutter SDKä¹‹å¤–å¸¸ç”¨(å®ç”¨)çš„Packageã€æ’ä»¶ï¼Œä¸°å¯ŒFlutterç¬¬ä¸‰æ–¹åº“ï¼Œä¸ºFlutterç”Ÿæ€è´¡çŒ®æ¥è‡ªä¸­å›½å¼€å‘è€…çš„åŠ›é‡ã€‚æ‰€æœ‰é¡¹ç›®å°†å‘å¸ƒåœ¨ Github Flutterä¸­æ–‡ç½‘ Organization ï¼Œæ‰€æœ‰æºç è´¡çŒ®è€…å°†åŠ å…¥åˆ°æˆ‘ä»¬çš„Organizationï¼Œæˆä¸ºæˆå‘˜. ç›®å‰ç¤¾åŒºå·²æœ‰å‡ ä¸ªå¼€æºé¡¹ç›®å¼€å§‹å…¬æµ‹ï¼Œæ¬¢è¿æ‚¨åŠ å…¥å¼€å‘æˆ–æµ‹è¯•ï¼Œè¯¦æƒ…è¯·æŸ¥çœ‹: Flutterä¸­æ–‡ç½‘å¼€æºé¡¹ç›®ã€‚ å¦‚æœæ‚¨æƒ³åŠ å…¥åˆ°â€œå¼€æºé¡¹ç›®è®¡åˆ’â€ï¼Œ è¯·å‘é‚®ä»¶åˆ°824783146@qq.comï¼Œ å¹¶é™„ä¸Šè‡ªæˆ‘ä»‹ç»(ä¸ªäººåŸºæœ¬ä¿¡æ¯+æ“…é•¿å…³æ³¨æŠ€æœ¯)ã€‚\nFeatures and bugsPlease file feature requests and bugs at the issue tracker.\n","tags":["Flutter","Http","dio"],"path":"2019/09/09/Flutter-Httpè¯·æ±‚å¼€æºåº“-dio/","external_link":""},{"title":"Git Rebase é»„é‡‘æ³•åˆ™é—®é¢˜","date":"2019-09-10T13:45:18.000Z","content":"Git Rebase é»„é‡‘æ³•åˆ™é—®é¢˜git æ•´åˆæ¥è‡ªä¸åŒåˆ†æ”¯çš„ä¿®æ”¹ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•ï¼šmerge æ“ä½œå’Œrebaseæ“ä½œï¼Œmergeåˆå­¦è€…å¯èƒ½å¾ˆç†Ÿæ‚‰ã€‚æˆ‘ä»¬ä»Šå¤©æ¥ä¸»è¦è¯´ä¸€ä¸‹ rebase æ“ä½œï¼Œæ–‡ç« ç»“å°¾ä¼šç®€å•è¯´ä¸€ä¸‹ merge æ“ä½œçš„ â€“no-ff å‚æ•°é—®é¢˜ã€‚\nrebaseçš„ç®€å•å®šä¹‰ï¼šä½ å¯ä»¥æŠŠæŸä¸€åˆ†æ”¯çš„æ‰€æœ‰ä¿®æ”¹éƒ½ç§»è‡³å¦å¤–ä¸€ä¸ªåˆ†æ”¯å°±åƒé‡æ–°æ’­æ”¾ä¸€æ ·ã€‚æœ‰ç‚¹å„¿åƒé‡‘åº¸æ­¦ä¾ å°è¯´é‡Œé¢çš„ä¹¾å¤å¤§æŒªç§»ã€‚ä¸¾ä¸ªğŸŒ°å‡è®¾æˆ‘ä»¬æœ¬åœ°åº“çš„ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤º\n123      A---B---C  remotesoriginmaster     D---E---F---G  master\n\nå¦‚æœæ­¤æ—¶æˆ‘ä»¬æ‰§è¡Œ git pull æ“ä½œï¼Œå°±ä¼šå˜æˆä¸‹é¢çš„æ ·å­ï¼Œå› ä¸º pull é»˜è®¤æ‰§è¡Œçš„æ˜¯ merge æ“ä½œï¼Œå¤šå‡ºæ¥Hè¿™æ¬¡æ²¡å¿…è¦çš„æäº¤ã€‚å¦‚ä¸‹æ‰€ç¤º\n123     A---B---C  remotesoriginmaster              D---E---F---G---H master\n\nå¦‚æœæˆ‘ä»¬æ‰§è¡Œ git pull â€“rebase æ“ä½œï¼Œå°†ä¼šå˜æˆä¸‹é¢çš„æ ·å­ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨rebaseä»£æ›¿äº†é»˜è®¤çš„mergeæ“ä½œ\n12345            remotesorigin                |D---E---A---B---C---F---G                        |                        master\n\nrebase ä½œç”¨å°±æ˜¯å˜æˆçº¿æ€§äº†ï¼Œè¿™åœ¨å¤šäººåä½œçš„æƒ…å†µå˜å¾—éå¸¸å…³é”®ã€‚å› ä¸ºå¤šäººåˆä½œæ˜¯ä¸å…è®¸éšæ„åˆ¶é€ åˆ†å‰çš„ã€‚å¤§å®¶å¯ä»¥å‚è€ƒæˆ‘è¿™ç¯‡æ–‡ç« ã€‚\nè¿™å°±å¼•å‡ºäº†è¿™ç¯‡åšæ–‡è¦ä¸»è¦é˜è¿°çš„é—®é¢˜ï¼Œrebase golden rule é—®é¢˜ã€‚\n\nRebase golden ruleâ€œNo one shall rebase a shared branchâ€ â€” Everyone about rebase\n\nç®€å•æ¥è¯´å°±æ˜¯ä¸è¦åœ¨ä½ çš„å…¬å…±åˆ†æ”¯ä¸Šåšä»»ä½•rebaseæ“ä½œã€‚å†ä¸¾ä¸€ä¸ªğŸŒ°ã€‚\nå›¾ä¸€æ˜¯æˆ‘ä»¬åšrebaseæ“ä½œå‰çš„æ ·å­\n\nå›¾äºŒæ˜¯æˆ‘ä»¬æ­£ç¡®rebaseçš„ç»“æœï¼Œå³åœ¨featureåˆ†æ”¯æ‰§è¡Œrebase developå‘½ä»¤\n\nå›¾ä¸‰æ˜¯æˆ‘ä»¬é”™è¯¯rebaseçš„ç»“æœï¼Œå³è¿åé»„é‡‘æ³•åˆ™çš„ç»“æœï¼Œæˆ‘ä»¬åœ¨developåˆ†æ”¯ä¸Šæ‰§è¡Œäº†rebase featureæ“ä½œ\n\nå½“æˆ‘ä»¬åœ¨å›¾ä¸‰è¿™ç§æƒ…å†µä¸‹å¯¹developåˆ†æ”¯è¿›è¡Œæäº¤çš„è¯ï¼Œä¼šå‘ç°å’Œè¿œç¨‹åˆ†æ”¯å†²çªï¼Œç„¶åæˆ‘ä»¬æ‰‹åŠ¨æˆ–è‡ªåŠ¨è§£å†³å†²çªï¼Œç»§ç»­æäº¤ä¸Šå»ä¹‹åå‘ç°ï¼Œæˆ‘ä»¬ä¿®æ”¹çš„åŠŸèƒ½ä»£ç å·²ç»æäº¤ä¸Šå»äº†ï¼Œä½†æ˜¯å½“æˆ‘ä»¬çœ‹æˆ‘ä»¬æäº¤å†å²çš„è®°å½•çš„æ—¶å€™ä¼šå‘ç°æœ‰ä¸€éƒ¨åˆ†é‡å¤çš„æäº¤logã€‚è¿™å°±æ˜¯é—®é¢˜æ‰€åœ¨ï¼Œä½ çš„é¡¹ç›®ç»„é•¿æ˜¯ç»å¯¹ä¸å…è®¸åœ¨ä»–çš„é¡¹ç›®é‡Œå‡ºç°è¿™ç§æƒ…å†µï¼Œå› ä¸ºä¼šå½±å“åç»­çš„ä»£ç è¿½æŸ¥ï¼Œcode reviewç­‰é—®é¢˜ã€‚è¯´å®Œäº†è¿™ä¸ªé—®é¢˜ï¼Œè¿™ç¯‡åšæ–‡çš„ä¸»è¦ä»»åŠ¡åŸºæœ¬å®Œæˆäº†ï¼Œæœ€ååœ¨ç®€å•è¯´ä¸€ä¸‹ merge çš„ â€“no-ff å‚æ•°ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨åˆ†æ”¯åˆå¹¶çš„æ—¶å€™ç»å¸¸é‡åˆ°çš„é—®é¢˜ã€‚â€“no-ff çš„æ„æ€å°±æ˜¯å…³é—­ merge çš„ fast-forwardedï¼Œmerge æ“ä½œé»˜è®¤æ‰§è¡Œçš„æ˜¯ fast-forwardedã€‚fast-forwarded çš„æ„æ€å°±æ˜¯åœ¨åˆå¹¶åˆ†æ”¯çš„æ—¶å€™ï¼Œå¦‚æœä¸æ¶‰åŠä¸‰æ–¹åˆå¹¶ï¼Œgit åªä¼šç®€å•çš„ç§»åŠ¨æŒ‡é’ˆã€‚å†å†ä¸¾ä¸€ä¸ªğŸŒ°\n1234567        dev        |A---B---C                   D---E              |              feature\n\næ­¤æ—¶æˆ‘ä»¬æ‰§è¡Œ merge â€“no-ff æ“ä½œï¼Œå°†ä¼šå¾—åˆ°å¦‚ä¸‹å›¾\n12345                dev                |A---B---C--------F                         D---E\n\næ‰§è¡Œ merge ä¹‹åå¾—åˆ°çš„ç»“æœå¦‚ä¸‹\n123               dev                |A---B---C---D---E\n\nå¦‚ä¸Šgit å°†æŒ‡é’ˆä»Cç§»åˆ°äº†Eã€‚\nç®€å•æ¥è¯´å°±æ˜¯ â€“no-ff çš„ä½œç”¨å°±æ˜¯ä¿æŒåˆ†æ”¯çš„éçº¿æ€§ã€‚æ–¹ä¾¿æˆ‘ä»¬çœ‹åˆ°åˆ†æ”¯çš„å˜åŒ–ã€‚\n\næœ¬æ–‡ä½œè€…ï¼š Frankæœ¬æ–‡é“¾æ¥ï¼š http:hellofrank.github.io20180427Git-Rebase-é»„é‡‘æ³•åˆ™é—®é¢˜ç‰ˆæƒå£°æ˜ï¼š æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-NC-SA 4.0 è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼\n\n","tags":["git"],"path":"2019/09/10/Git-Rebase-é»„é‡‘æ³•åˆ™é—®é¢˜/","external_link":""},{"title":"Githubçš„webhooksç½‘ç«™è‡ªåŠ¨åŒ–éƒ¨ç½²","date":"2019-09-08T23:56:41.000Z","content":"Githubçš„webhooksè¿›è¡Œç½‘ç«™è‡ªåŠ¨åŒ–éƒ¨ç½²\nç›¸ä¿¡å¾ˆå¤šç å†œéƒ½ç©è¿‡äº†Gitï¼Œå¦‚æœå¯¹Gitåªæ˜¯ä¸€çŸ¥åŠè§£ï¼Œå¯ä»¥ç§»æ­¥LVå†™çš„ GITå¸¸ç”¨æ“ä½œæ€»ç»“ï¼Œä¸‹é¢ä»‹ç»åˆ°çš„ä¸€äº›å…³äº Git çš„æ¦‚å¿µå°±ä¸å†èµ˜è¿°ã€‚\nä¸ºå•¥æƒ³å†™è¿™ç¯‡æ–‡ç« ï¼Ÿä¸»è¦æ˜¯å› ä¸ºéƒ¨é—¨æœåŠ¡å™¨å› ä¸ºå®‰å…¨æ€§åŸå› ä¸å…è®¸SCPä¸Šä¼ æ–‡ä»¶è¿›è¡Œåº”ç”¨éƒ¨ç½²ï¼Œç„¶åæœ‰ä¸€äº›åº”ç”¨æ˜¯æ”¾åœ¨Githubä¸Šçš„ï¼Œç„¶åéƒ¨ç½²åº”ç”¨çš„æ­¥éª¤å°±å˜æˆï¼š\n1.git clone githubé¡¹ç›® æœ¬åœ°ç›®å½•2.é…ç½®ä¸€ä¸‹åº”ç”¨çš„pm2.jsonå¹¶reload3.Nginxé…ç½®ä¸€ä¸‹åå‘ä»£ç†å¹¶restart\nå½“ç„¶å¦‚æœåªæ˜¯ä¸€æ¬¡æ€§éƒ¨ç½²ä¸Šå»å°±ä¸å†ä¿®æ”¹çš„è¯å¹¶æ²¡å•¥é—®é¢˜ï¼Œä½†æ˜¯è¦æ˜¯é¡¹ç›®æŒç»­æ€§ä¿®æ”¹è¿­ä»£çš„è¯ï¼Œå°±æ¯”è¾ƒéº»çƒ¦äº†ï¼Œæˆ‘ä»¬å°±åœ¨ä¸æ–­çš„é‡å¤ç€ä¸Šé¢çš„æ­¥éª¤ã€‚ä½œä¸ºä¸€ä¸ªç å†œï¼Œæ€ä¹ˆå…è®¸ä¸æ–­çš„é‡å¤åŒæ ·çš„å·¥ä½œï¼Œäºæ˜¯Github webhooksé—ªäº®ç™»åœºã€‚\nå…³äºGithub webhooks\nå¿…é¡»æ˜¯Githubä¸Šé¢çš„é¡¹ç›®\nè®¢é˜…äº†ç¡®å®šçš„äº‹ä»¶ï¼ˆåŒ…æ‹¬pushpullç­‰å‘½ä»¤ï¼‰\nè‡ªåŠ¨è§¦å‘\n\nåˆšå¥½ç¬¦åˆäº†è¿™å‡ ä¸ªæ¡ä»¶ï¼Œé‚£æ¥ä¸‹æ¥å°±çœ‹çœ‹å¦‚ä½•è¿›è¡Œç½‘ç«™è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œä¸»è¦ä¼šä»ä¸‹é¢å‡ ç‚¹æ¥è®²è§£ï¼š\n\nè‡ªåŠ¨åŒ–shellè„šæœ¬\næœåŠ¡ç«¯å®ç°\né…ç½®github webhooks\n\nè‡ªåŠ¨åŒ–è„šæœ¬auto_build.sh\n1234567#! binbashSITE_PATH=rootnginxwwwcd $SITE_PATHgit reset --hard originmastergit clean -fgit pullgit checkout master\n\nNote: åœ¨æ‰§è¡Œä¸Šé¢shellè„šæœ¬ä¹‹å‰æˆ‘ä»¬å¿…é¡»ç¬¬ä¸€æ¬¡æ‰‹åŠ¨git cloneé¡¹ç›®è¿›å»\næœåŠ¡ç«¯å®ç°Github webhookséœ€è¦è·Ÿæˆ‘ä»¬çš„æœåŠ¡å™¨è¿›è¡Œé€šä¿¡ï¼Œç¡®ä¿æ˜¯å¯ä»¥æ¨é€åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨ï¼Œæ‰€ä»¥ä¼šå‘é€ä¸€ä¸ªå¸¦æœ‰X-Hub-Signatureçš„POSTè¯·æ±‚ï¼Œä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬ç›´æ¥ç”¨ç¬¬ä¸‰æ–¹çš„åº“github-webhook-handleræ¥æ¥æ”¶å‚æ•°å¹¶ä¸”åšç›‘å¬äº‹ä»¶çš„å¤„ç†ç­‰å·¥ä½œã€‚\n1npm i github-webhook-handler -S\n\nindex.js\n1234567891011121314151617181920212223242526272829303132333435363738394041424344var http = require(http);var spawn = require(child_process).spawn;var createHandler = require(github-webhook-handler); ä¸‹é¢å¡«å†™çš„myscrectè·Ÿgithub webhooksé…ç½®ä¸€æ ·ï¼Œä¸‹ä¸€æ­¥ä¼šè¯´ï¼›pathæ˜¯æˆ‘ä»¬è®¿é—®çš„è·¯å¾„var handler = createHandler(&#123; path: auto_build, secret:  &#125;);http.createServer(function (req, res) &#123;  handler(req, res, function (err) &#123;    res.statusCode = 404;    res.end(no such location);  &#125;)&#125;).listen(6666);handler.on(error, function (err) &#123;  console.error(Error:, err.message)&#125;); ç›‘å¬åˆ°pushäº‹ä»¶çš„æ—¶å€™æ‰§è¡Œæˆ‘ä»¬çš„è‡ªåŠ¨åŒ–è„šæœ¬handler.on(push, function (event) &#123;  console.log(Received a push event for %s to %s,    event.payload.repository.name,    event.payload.ref);  runCommand(sh, [auto_build.sh], function( txt )&#123;    console.log(txt);  &#125;);&#125;);function runCommand( cmd, args, callback )&#123;    var child = spawn( cmd, args );    var response = ;    child.stdout.on(data, function( buffer )&#123; resp += buffer.toString(); &#125;);    child.stdout.on(end, function()&#123; callback( resp ) &#125;);&#125; ç”±äºæˆ‘ä»¬ä¸éœ€è¦ç›‘å¬issuesï¼Œæ‰€ä»¥ä¸‹é¢ä»£ç æ³¨é‡Šæ‰  handler.on(issues, function (event) &#123;    console.log(Received an issue event for %s action=%s: #%d %s,      event.payload.repository.name,      event.payload.action,      event.payload.issue.number,      event.payload.issue.title)&#125;);\n\né…ç½®github webhooks\nå°ç»“ä¸Šé¢å°±æ˜¯åˆ©ç”¨Github webhooksè¿›è¡Œç½‘ç«™è‡ªåŠ¨åŒ–éƒ¨ç½²çš„å…¨éƒ¨å†…å®¹äº†ï¼Œä¸éš¾å‘ç°å…¶å®è¿™é¡¹æŠ€æœ¯è¿˜æ˜¯æœ‰å±€é™æ€§çš„ï¼Œé‚£å°±æ˜¯ä¾èµ–äºgithubï¼Œä¸€èˆ¬æˆ‘ä»¬é€‰æ‹©çš„éƒ½æ˜¯å…è´¹githubè´¦å·ï¼Œæ‰€æœ‰é¡¹ç›®éƒ½å¯¹å¤–ï¼Œä¸€äº›æ•æ„Ÿé¡¹ç›®æ˜¯ä¸é€‚åˆæ”¾ç½®ä¸Šå»çš„ã€‚\n","tags":["git","github","webhooks","è‡ªåŠ¨åŒ–éƒ¨ç½²"],"path":"2019/09/09/Githubçš„webhooksç½‘ç«™è‡ªåŠ¨åŒ–éƒ¨ç½²/","external_link":""},{"title":"Electron-vue","date":"2019-09-08T03:09:19.000Z","content":"\nElectron-vue\nåŸºäº vue (åŸºæœ¬ä¸Šæ˜¯å®ƒå¬èµ·æ¥çš„æ ·å­) æ¥æ„é€  electron åº”ç”¨ç¨‹åºçš„æ ·æ¿ä»£ç ã€‚\n\nä»€ä¹ˆæ˜¯electron?\n\nelectronç”±Node.js+Chromium+Native APIsæ„æˆã€‚ä½ å¯ä»¥ç†è§£æˆï¼Œå®ƒæ˜¯ä¸€ä¸ªå¾—åˆ°äº†Node.jså’ŒåŸºäºä¸åŒå¹³å°çš„Native APIsåŠ å¼ºçš„Chromiumæµè§ˆå™¨ï¼Œå¯ä»¥ç”¨æ¥å¼€å‘è·¨å¹³å°çš„æ¡Œé¢çº§åº”ç”¨ã€‚\nå®ƒçš„å¼€å‘ä¸»è¦æ¶‰åŠåˆ°ä¸¤ä¸ªè¿›ç¨‹çš„åä½œâ€”â€”Mainï¼ˆä¸»ï¼‰è¿›ç¨‹å’ŒRendererï¼ˆæ¸²æŸ“ï¼‰è¿›ç¨‹ã€‚ç®€å•çš„ç†è§£ä¸¤ä¸ªè¿›ç¨‹çš„ä½œç”¨ï¼š\n\nMainè¿›ç¨‹ä¸»è¦é€šè¿‡Node.jsã€Chromiumå’ŒNative APIsæ¥å®ç°ä¸€äº›ç³»ç»Ÿä»¥åŠåº•å±‚çš„æ“ä½œï¼Œæ¯”å¦‚åˆ›å»ºç³»ç»Ÿçº§åˆ«çš„èœå•ï¼Œæ“ä½œå‰ªè´´æ¿ï¼Œåˆ›å»ºAPPçš„çª—å£ç­‰ã€‚\nRendererè¿›ç¨‹ä¸»è¦é€šè¿‡Chromiumæ¥å®ç°APPçš„å›¾å½¢ç•Œé¢â€”â€”å°±æ˜¯å¹³æ—¶æˆ‘ä»¬ç†Ÿæ‚‰çš„å‰ç«¯å¼€å‘çš„éƒ¨åˆ†ï¼Œä¸è¿‡å¾—åˆ°äº†electronç»™äºˆçš„åŠ å¼ºï¼Œä¸€äº›Nodeçš„æ¨¡å—ï¼ˆæ¯”å¦‚fsï¼‰å’Œä¸€äº›åœ¨3. Mainè¿›ç¨‹é‡Œèƒ½ç”¨çš„ä¸œè¥¿ï¼ˆæ¯”å¦‚Clipboardï¼‰ä¹Ÿèƒ½åœ¨Renderè¿›ç¨‹é‡Œä½¿ç”¨ã€‚Mainè¿›ç¨‹å’ŒRendererè¿›ç¨‹é€šè¿‡ipcMainå’ŒipcRendereræ¥è¿›è¡Œé€šä¿¡ã€‚é€šè¿‡äº‹ä»¶ç›‘å¬å’Œäº‹ä»¶æ´¾å‘æ¥å®ç°ä¸¤ä¸ªè¿›ç¨‹é€šä¿¡ï¼Œä»è€Œå®ç°Mainæˆ–è€…Rendererè¿›ç¨‹é‡Œä¸èƒ½å®ç°çš„æŸäº›åŠŸèƒ½ã€‚\n\nèµ·æ­¥è¯¥æ ·æ¿ä»£ç è¢«æ„å»ºä¸º vue-cli çš„ä¸€ä¸ªæ¨¡æ¿ï¼Œå¹¶ä¸”åŒ…å«å¤šä¸ªé€‰é¡¹ï¼Œå¯ä»¥è‡ªå®šä¹‰ä½ æœ€ç»ˆçš„è„šæ‰‹æ¶ç¨‹åºã€‚æœ¬é¡¹ç›®éœ€è¦ä½¿ç”¨ node@^7 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚electron-vue å®˜æ–¹æ¨è yarn ä½œä¸ºè½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œå› ä¸ºå®ƒå¯ä»¥æ›´å¥½åœ°å¤„ç†ä¾èµ–å…³ç³»ï¼Œå¹¶å¯ä»¥ä½¿ç”¨ yarn clean å¸®åŠ©å‡å°‘æœ€åæ„å»ºæ–‡ä»¶çš„å¤§å°ã€‚\n12345678# å®‰è£… vue-cli å’Œ è„šæ‰‹æ¶æ ·æ¿ä»£ç npm install -g vue-clivue init simulatedgregelectron-vue my-project# å®‰è£…ä¾èµ–å¹¶è¿è¡Œä½ çš„ç¨‹åºcd my-projectyarn # æˆ–è€… npm installyarn run dev # æˆ–è€… npm run dev\n\né¡¹ç›®ç»“æ„12345678910111213141516171819202122232425262728293031323334353637my-projectâ”œâ”€ .electron-vueâ”‚  â””â”€ &lt;builddevelopment&gt;.js filesâ”œâ”€ buildâ”‚  â””â”€ iconsâ”œâ”€ distâ”‚  â”œâ”€ electronâ”‚  â””â”€ webâ”œâ”€ node_modulesâ”œâ”€ srcâ”‚  â”œâ”€ mainâ”‚  â”‚  â”œâ”€ index.dev.jsâ”‚  â”‚  â””â”€ index.jsâ”‚  â”œâ”€ rendererâ”‚  â”‚  â”œâ”€ componentsâ”‚  â”‚  â”œâ”€ routerâ”‚  â”‚  â”œâ”€ storeâ”‚  â”‚  â”œâ”€ App.vueâ”‚  â”‚  â””â”€ main.jsâ”‚  â””â”€ index.ejsâ”œâ”€ staticâ”œâ”€ testâ”‚  â”œâ”€ e2eâ”‚  â”‚  â”œâ”€ specsâ”‚  â”‚  â”œâ”€ index.jsâ”‚  â”‚  â””â”€ utils.jsâ”‚  â”œâ”€ unitâ”‚  â”‚  â”œâ”€ specsâ”‚  â”‚  â”œâ”€ index.jsâ”‚  â”‚  â””â”€ karma.config.jsâ”‚  â””â”€ .eslintrcâ”œâ”€ .babelrcâ”œâ”€ .eslintignoreâ”œâ”€ .eslintrc.jsâ”œâ”€ .gitignoreâ”œâ”€ package.jsonâ””â”€ README.md\n\näº§å“æ„å»º123456789app.asarâ”œâ”€ distâ”‚  â””â”€ electronâ”‚     â”œâ”€ staticâ”‚     â”œâ”€ index.htmlâ”‚     â”œâ”€ main.jsâ”‚     â””â”€ renderer.jsâ”œâ”€ node_modulesâ””â”€ package.json\n\nè¿è¡Œæ•ˆæœ\n","tags":["electron","vue"],"path":"2019/09/08/Electron-vue/","external_link":""},{"title":"Javaé¢è¯•é¢˜ï¼ˆæ¡†æ¶+JVM+å¤šçº¿ç¨‹+ç®—æ³•+æ•°æ®åº“ï¼‰","date":"2019-08-24T08:20:38.000Z","content":"\nåŸºç¡€ä¸æ¡†æ¶\nStringç±»èƒ½è¢«ç»§æ‰¿å—ï¼Œä¸ºä»€ä¹ˆ\nStringï¼ŒStringbufferï¼ŒStringBuilderçš„åŒºåˆ«ï¼Ÿ\nArrayListå’ŒLinkedListæœ‰ä»€ä¹ˆåŒºåˆ«\nç±»çš„å®ä¾‹åŒ–é¡ºåºï¼Œæ¯”å¦‚çˆ¶ç±»é™æ€æ•°æ®ï¼Œæ„é€ å‡½æ•°ï¼Œå­—æ®µï¼Œå­ç±»é™æ€æ•°æ®ï¼Œæ„é€ å‡½æ•°ï¼Œå­—æ®µï¼Œä»–ä»¬çš„æ‰§è¡Œé¡ºåº\nç”¨è¿‡å“ªäº›Mapï¼Œéƒ½æœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŒHashMapæ˜¯çº¿ç¨‹å®‰å…¨çš„å—,å¹¶å‘ä¸‹ä½¿ç”¨çš„Mapæ˜¯ä»€ä¹ˆï¼Œä»–ä»¬å†…éƒ¨åŸç†åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œæ¯”å¦‚hashcodeï¼Œæ‰©å®¹ç­‰\nHashMapä¸ºä»€ä¹ˆgetå’Œseté‚£ä¹ˆå¿«ï¼ŒconcurrentHashMapä¸ºä»€ä¹ˆèƒ½æé«˜å¹¶å‘\næŠ½è±¡ç±»å’Œæ¥å£çš„åŒºåˆ«ï¼Œç±»å¯ä»¥ç»§æ‰¿å¤šä¸ªç±»ä¹ˆï¼Œæ¥å£å¯ä»¥ç»§æ‰¿å¤šä¸ªæ¥å£ä¹ˆ,ç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ä¹ˆ\nä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‘ç”Ÿæ ˆå†…å­˜æº¢å‡º\nä»€ä¹ˆæ˜¯nioï¼ŒåŸç†\nåå°„ä¸­ï¼ŒClass.forNameå’ŒClassLoaderåŒºåˆ«\ntomcatç»“æ„ï¼Œç±»åŠ è½½å™¨æµç¨‹\nè®²è®²Springäº‹åŠ¡çš„ä¼ æ’­å±æ€§,AOPåŸç†ï¼ŒåŠ¨æ€ä»£ç†ä¸cglibå®ç°çš„åŒºåˆ«ï¼ŒAOPæœ‰å“ªå‡ ç§å®ç°æ–¹å¼\nSpringçš„beanFactoryå’ŒfactoryBeançš„åŒºåˆ«\nSpringåŠ è½½æµç¨‹\nSpringå¦‚ä½•ç®¡ç†äº‹åŠ¡çš„\n\nå¤šçº¿ç¨‹\nçº¿åŸæ± çš„æœ€å¤§çº¿ç¨‹æ•°ç›®æ ¹æ®ä»€ä¹ˆç¡®å®š\nå¤šçº¿ç¨‹çš„å‡ ç§å®ç°æ–¹å¼ï¼Œä»€ä¹ˆæ˜¯çº¿ç¨‹å®‰å…¨ï¼Œä»€ä¹ˆæ˜¯é‡æ’åº3.volatileçš„åŸç†ï¼Œä½œç”¨ï¼Œèƒ½ä»£æ›¿é”ä¹ˆ\nsleepå’Œwaitçš„åŒºåˆ«ï¼Œä»¥åŠwaitçš„å®ç°åŸç†\nLockä¸synchronized çš„åŒºåˆ«ï¼Œsynchronized çš„åŸç†ï¼Œä»€ä¹ˆæ˜¯è‡ªæ—‹é”ï¼Œåå‘é”ï¼Œè½»é‡çº§é”ï¼Œä»€ä¹ˆå«å¯é‡å…¥é”ï¼Œä»€ä¹ˆå«å…¬å¹³é”å’Œéå…¬å¹³é”\nç”¨è¿‡å“ªäº›åŸå­ç±»ï¼Œä»–ä»¬çš„å‚æ•°ä»¥åŠåŸç†æ˜¯ä»€ä¹ˆ\nç”¨è¿‡å“ªäº›çº¿ç¨‹æ± ï¼Œä»–ä»¬çš„åŸç†ç®€å•æ¦‚æ‹¬ä¸‹ï¼Œæ„é€ å‡½æ•°çš„å„ä¸ªå‚æ•°çš„å«ä¹‰ï¼Œæ¯”å¦‚coreSizeï¼Œmaxsizeç­‰\næœ‰ä¸€ä¸ªç¬¬ä¸‰æ–¹æ¥å£ï¼Œæœ‰å¾ˆå¤šä¸ªçº¿ç¨‹å»è°ƒç”¨è·å–æ•°æ®ï¼Œç°åœ¨è§„å®šæ¯ç§’é’Ÿæœ€å¤šæœ‰10ä¸ªçº¿ç¨‹åŒæ—¶è°ƒç”¨å®ƒï¼Œå¦‚ä½•åšåˆ°ã€‚\nspringçš„controlleræ˜¯å•ä¾‹è¿˜æ˜¯å¤šä¾‹ï¼Œæ€ä¹ˆä¿è¯å¹¶å‘çš„å®‰å…¨\nç”¨ä¸‰ä¸ªçº¿ç¨‹æŒ‰é¡ºåºå¾ªç¯æ‰“å°abcä¸‰ä¸ªå­—æ¯ï¼Œæ¯”å¦‚abcabcabc\nThreadLocalç”¨è¿‡ä¹ˆï¼ŒåŸç†æ˜¯ä»€ä¹ˆï¼Œç”¨çš„æ—¶å€™è¦æ³¨æ„ä»€ä¹ˆ\nå¦‚æœè®©ä½ å®ç°ä¸€ä¸ªå¹¶å‘å®‰å…¨çš„é“¾è¡¨ï¼Œä½ ä¼šæ€ä¹ˆåš\n\nJVMç›¸å…³\njvmä¸­ä¸€æ¬¡å®Œæ•´çš„GCæµç¨‹ï¼ˆä»ygcåˆ°fgcï¼‰æ˜¯æ€æ ·çš„ï¼Œé‡ç‚¹è®²è®²å¯¹è±¡å¦‚ä½•æ™‹å‡åˆ°è€å¹´ä»£ï¼Œå‡ ç§ä¸»è¦çš„jvmå‚æ•°ç­‰\nä½ çŸ¥é“å“ªå‡ ç§åƒåœ¾æ”¶é›†å™¨ï¼Œå„è‡ªçš„ä¼˜ç¼ºç‚¹ï¼Œé‡ç‚¹è®²ä¸‹cms\nå½“å‡ºç°äº†å†…å­˜æº¢å‡ºï¼Œä½ æ€ä¹ˆæ’é”™\nJVMå†…å­˜æ¨¡å‹çš„ç›¸å…³çŸ¥è¯†äº†è§£å¤šå°‘\nç®€å•è¯´è¯´ä½ äº†è§£çš„ç±»åŠ è½½å™¨\nJAVAçš„åå°„æœºåˆ¶\n\nç½‘ç»œ\nhttp1.0å’Œhttp1.1æœ‰ä»€ä¹ˆåŒºåˆ«\nTCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹çš„æµç¨‹ï¼Œä¸ºä»€ä¹ˆæ–­å¼€è¿æ¥è¦4æ¬¡,å¦‚æœæ¡æ‰‹åªæœ‰ä¸¤æ¬¡ï¼Œä¼šå‡ºç°ä»€ä¹ˆ\nTIME_WAITå’ŒCLOSE_WAITçš„åŒºåˆ«\nè¯´è¯´ä½ çŸ¥é“çš„å‡ ç§HTTPå“åº”ç \nå½“ä½ ç”¨æµè§ˆå™¨æ‰“å¼€ä¸€ä¸ªé“¾æ¥çš„æ—¶å€™ï¼Œè®¡ç®—æœºåšäº†å“ªäº›å·¥ä½œæ­¥éª¤\nLinuxä¸‹IOæ¨¡å‹æœ‰å‡ ç§ï¼Œå„è‡ªçš„å«ä¹‰æ˜¯ä»€ä¹ˆ\nTCPIPå¦‚ä½•ä¿è¯å¯é æ€§ï¼Œæ•°æ®åŒ…æœ‰å“ªäº›æ•°æ®ç»„æˆ\næ¶æ„è®¾è®¡ä¸åˆ†å¸ƒå¼ï¼š\ntomcatå¦‚ä½•è°ƒä¼˜ï¼Œå„ç§å‚æ•°çš„æ„ä¹‰\nå¸¸è§çš„ç¼“å­˜ç­–ç•¥æœ‰å“ªäº›ï¼Œä½ ä»¬é¡¹ç›®ä¸­ç”¨åˆ°äº†ä»€ä¹ˆç¼“å­˜ç³»ç»Ÿï¼Œå¦‚ä½•è®¾è®¡çš„ï¼ŒRedisçš„ä½¿ç”¨è¦æ³¨æ„ä»€ä¹ˆï¼ŒæŒä¹…åŒ–æ–¹å¼ï¼Œå†…å­˜è®¾ç½®ï¼Œé›†ç¾¤ï¼Œæ·˜æ±°ç­–ç•¥ç­‰\nå¦‚ä½•é˜²æ­¢ç¼“å­˜é›ªå´©12.ç”¨javaè‡ªå·±å®ç°ä¸€ä¸ªLRU\nåˆ†å¸ƒå¼é›†ç¾¤ä¸‹å¦‚ä½•åšåˆ°å”¯ä¸€åºåˆ—å·\nè®¾è®¡ä¸€ä¸ªç§’æ€ç³»ç»Ÿï¼Œ30åˆ†é’Ÿæ²¡ä»˜æ¬¾å°±è‡ªåŠ¨å…³é—­äº¤æ˜“\nå¦‚ä½•åšä¸€ä¸ªåˆ†å¸ƒå¼é”\nç”¨è¿‡å“ªäº›MQï¼Œæ€ä¹ˆç”¨çš„ï¼Œå’Œå…¶ä»–mqæ¯”è¾ƒæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼ŒMQçš„è¿æ¥æ˜¯çº¿ç¨‹å®‰å…¨çš„å—\nMQç³»ç»Ÿçš„æ•°æ®å¦‚ä½•ä¿è¯ä¸ä¸¢å¤±\nåˆ†å¸ƒå¼äº‹åŠ¡çš„åŸç†ï¼Œå¦‚ä½•ä½¿ç”¨åˆ†å¸ƒå¼äº‹åŠ¡\nä»€ä¹ˆæ˜¯ä¸€è‡´æ€§hash\nä»€ä¹ˆæ˜¯restfulï¼Œè®²è®²ä½ ç†è§£çš„restful\nå¦‚ä½•è®¾è®¡å»ºç«‹å’Œä¿æŒ100wçš„é•¿è¿æ¥ï¼Ÿ\nè§£é‡Šä»€ä¹ˆæ˜¯MESIåè®®(ç¼“å­˜ä¸€è‡´æ€§)\nè¯´è¯´ä½ çŸ¥é“çš„å‡ ç§HASHç®—æ³•ï¼Œç®€å•çš„ä¹Ÿå¯ä»¥\nä»€ä¹ˆæ˜¯paxosç®—æ³•\nrediså’Œmemcached çš„å†…å­˜ç®¡ç†çš„åŒºåˆ«\nä¸€ä¸ªåœ¨çº¿æ–‡æ¡£ç³»ç»Ÿï¼Œæ–‡æ¡£å¯ä»¥è¢«ç¼–è¾‘ï¼Œå¦‚ä½•é˜²æ­¢å¤šäººåŒæ—¶å¯¹åŒä¸€ä»½æ–‡æ¡£è¿›è¡Œç¼–è¾‘æ›´æ–°\n\nç®—æ³•\n10äº¿ä¸ªæ•°å­—é‡Œé‡Œé¢æ‰¾æœ€å°çš„10ä¸ª2ã€æœ‰1äº¿ä¸ªæ•°å­—ï¼Œå…¶ä¸­æœ‰2ä¸ªæ˜¯é‡å¤çš„ï¼Œå¿«é€Ÿæ‰¾åˆ°å®ƒï¼Œæ—¶é—´å’Œç©ºé—´è¦æœ€ä¼˜3ã€2äº¿ä¸ªéšæœºç”Ÿæˆçš„æ— åºæ•´æ•°,æ‰¾å‡ºä¸­é—´å¤§å°çš„å€¼4ã€éå†äºŒå‰æ ‘å…­ã€æ•°æ®åº“1.æ•°æ®åº“éš”ç¦»çº§åˆ«æœ‰å“ªäº›ï¼Œå„è‡ªçš„å«ä¹‰æ˜¯ä»€ä¹ˆï¼ŒMYsqlé»˜è®¤çš„éš”ç¦»çº§åˆ«æ˜¯æ˜¯ä»€ä¹ˆï¼Œå„ä¸ªå­˜å‚¨å¼•æ“ä¼˜ç¼ºç‚¹\né«˜å¹¶å‘ä¸‹ï¼Œå¦‚ä½•åšåˆ°å®‰å…¨çš„ä¿®æ”¹åŒä¸€è¡Œæ•°æ®ï¼Œä¹è§‚é”å’Œæ‚²è§‚é”æ˜¯ä»€ä¹ˆï¼ŒINNODBçš„è¡Œçº§é”æœ‰å“ª2ç§ï¼Œè§£é‡Šå…¶å«ä¹‰\nSQLä¼˜åŒ–çš„ä¸€èˆ¬æ­¥éª¤æ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆçœ‹æ‰§è¡Œè®¡åˆ’ï¼Œå¦‚ä½•ç†è§£å…¶ä¸­å„ä¸ªå­—æ®µçš„å«ä¹‰ï¼Œç´¢å¼•çš„åŸç†ï¼Ÿ\næ•°æ®åº“ä¼šæ­»é”å—ï¼Œä¸¾ä¸€ä¸ªæ­»é”çš„ä¾‹å­ï¼Œmysqlæ€ä¹ˆè§£å†³æ­»é”\nMYsqlçš„ç´¢å¼•å®ç°æ–¹å¼\nèšé›†ç´¢å¼•å’Œéèšé›†ç´¢å¼•çš„åŒºåˆ«\næ•°æ®åº“ä¸­ BTREEå’ŒB+treeåŒºåˆ«\n\nä½œè€…ï¼šç¨‹åºæ±ªè¿½é£é“¾æ¥ï¼šhttps:juejin.impost5d5fd40bf265da03df5f1b3aæ¥æºï¼šæ˜é‡‘\n","tags":["ç®—æ³•","é¢è¯•","æ•°æ®åº“","JVM","æ¡†æ¶"],"path":"2019/08/24/Javaé¢è¯•é¢˜ï¼ˆæ¡†æ¶-JVM-å¤šçº¿ç¨‹-ç®—æ³•-æ•°æ®åº“ï¼‰/","external_link":""},{"title":"Springæ¡†æ¶é¢è¯•æ€»ç»“","date":"2019-09-03T16:32:24.000Z","content":"\nä»‹ç»springæ¡†æ¶å®ƒæ˜¯ä¸€ä¸ªä¸€ç«™å¼ï¼ˆfull-stackå…¨æ ˆå¼ï¼‰æ¡†æ¶ï¼Œæä¾›äº†ä»è¡¨ç°å±‚-springMVCåˆ°ä¸šåŠ¡å±‚-springå†åˆ°æŒä¹…å±‚-springdataçš„ä¸€å¥—å®Œæ•´çš„è§£å†³æ–¹æ¡ˆã€‚æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å¯ä»¥åªä½¿ç”¨springä¸€ä¸ªæ¡†æ¶ï¼Œå®ƒå°±å¯ä»¥æä¾›è¡¨ç°å±‚çš„mvcæ¡†æ¶ï¼ŒæŒä¹…å±‚çš„Daoæ¡†æ¶ã€‚å®ƒçš„ä¸¤å¤§æ ¸å¿ƒIoCå’ŒAOPæ›´æ˜¯ä¸ºæˆ‘ä»¬ç¨‹åºè§£è€¦å’Œä»£ç ç®€æ´æ˜“ç»´æŠ¤æä¾›äº†æ”¯æŒã€‚\nSpringçš„ä¼˜ç‚¹ï¼Ÿ\né™ä½äº†ç»„ä»¶ä¹‹é—´çš„è€¦åˆæ€§ ï¼Œå®ç°äº†è½¯ä»¶å„å±‚ä¹‹é—´çš„è§£è€¦ \nå¯ä»¥ä½¿ç”¨å®¹æ˜“æä¾›çš„ä¼—å¤šæœåŠ¡ï¼Œå¦‚äº‹åŠ¡ç®¡ç†ï¼Œæ¶ˆæ¯æœåŠ¡ç­‰ \nå®¹å™¨æä¾›å•ä¾‹æ¨¡å¼æ”¯æŒ \nå®¹å™¨æä¾›äº†AOPæŠ€æœ¯ï¼Œåˆ©ç”¨å®ƒå¾ˆå®¹æ˜“å®ç°å¦‚æƒé™æ‹¦æˆªï¼Œè¿è¡ŒæœŸç›‘æ§ç­‰åŠŸèƒ½ \nå®¹å™¨æä¾›äº†ä¼—å¤šçš„è¾…åŠ©ç±»ï¼Œèƒ½åŠ å¿«åº”ç”¨çš„å¼€å‘ \nspringå¯¹äºä¸»æµçš„åº”ç”¨æ¡†æ¶æä¾›äº†é›†æˆæ”¯æŒï¼Œå¦‚hibernateï¼Œ   JPAï¼ŒStrutsç­‰ \nspringå±äºä½ä¾µå…¥å¼è®¾è®¡ï¼Œä»£ç çš„æ±¡æŸ“æä½ \nç‹¬ç«‹äºå„ç§åº”ç”¨æœåŠ¡å™¨ \nspringçš„DIæœºåˆ¶é™ä½äº†ä¸šåŠ¡å¯¹è±¡æ›¿æ¢çš„å¤æ‚æ€§ \nSpringçš„é«˜åº¦å¼€æ”¾æ€§ï¼Œå¹¶ä¸å¼ºåˆ¶åº”ç”¨å®Œå…¨ä¾èµ–äºSpringï¼Œå¼€å‘è€…å¯ä»¥è‡ªç”±é€‰æ‹©spring çš„éƒ¨åˆ†æˆ–å…¨éƒ¨ \n\nspringæœ‰ä¸¤ç§ä»£ç†æ–¹å¼ï¼šç­”: è‹¥ç›®æ ‡å¯¹è±¡å®ç°äº†è‹¥å¹²æ¥å£ï¼Œspringä½¿ç”¨JDKçš„java.lang.reflect.Proxyç±»ä»£ç†ã€‚\n  ä¼˜ç‚¹ï¼šå› ä¸ºæœ‰æ¥å£ï¼Œæ‰€ä»¥ä½¿ç³»ç»Ÿæ›´åŠ æ¾è€¦åˆ\n  ç¼ºç‚¹ï¼šä¸ºæ¯ä¸€ä¸ªç›®æ ‡ç±»åˆ›å»ºæ¥å£\nè‹¥ç›®æ ‡å¯¹è±¡æ²¡æœ‰å®ç°ä»»ä½•æ¥å£ï¼Œspringä½¿ç”¨CGLIBåº“ç”Ÿæˆç›®æ ‡å¯¹è±¡çš„å­ç±»ã€‚\n  ä¼˜ç‚¹ï¼šå› ä¸ºä»£ç†ç±»ä¸ç›®æ ‡ç±»æ˜¯ç»§æ‰¿å…³ç³»ï¼Œæ‰€ä»¥ä¸éœ€è¦æœ‰æ¥å£çš„å­˜åœ¨ã€‚\n  ç¼ºç‚¹ï¼šå› ä¸ºæ²¡æœ‰ä½¿ç”¨æ¥å£ï¼Œæ‰€ä»¥ç³»ç»Ÿçš„è€¦åˆæ€§æ²¡æœ‰ä½¿ç”¨JDKçš„åŠ¨æ€ä»£ç†å¥½\nå¦‚ä½•ç»™Spring å®¹å™¨æä¾›é…ç½®å…ƒæ•°æ®?è¿™é‡Œæœ‰ä¸‰ç§é‡è¦çš„æ–¹æ³•ç»™Spring å®¹å™¨æä¾›é…ç½®å…ƒæ•°æ®ã€‚\nXMLé…ç½®æ–‡ä»¶ã€‚\nåŸºäºæ³¨è§£çš„é…ç½®ã€‚\nåŸºäºjavaçš„é…ç½®ã€‚\næ„é€ æ–¹æ³•æ³¨å…¥å’Œè®¾å€¼æ³¨å…¥æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿè¯·æ³¨æ„ä»¥ä¸‹æ˜æ˜¾çš„åŒºåˆ«ï¼š\nåœ¨è®¾å€¼æ³¨å…¥æ–¹æ³•æ”¯æŒå¤§éƒ¨åˆ†çš„ä¾èµ–æ³¨å…¥ï¼Œå¦‚æœæˆ‘ä»¬ä»…éœ€è¦æ³¨å…¥intã€stringå’Œlongå‹çš„å˜é‡ï¼Œæˆ‘ä»¬ä¸è¦ç”¨è®¾å€¼çš„æ–¹æ³•æ³¨å…¥ã€‚\nå¯¹äºåŸºæœ¬ç±»å‹ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰æ³¨å…¥çš„è¯ï¼Œå¯ä»¥ä¸ºåŸºæœ¬ç±»å‹è®¾ç½®é»˜è®¤å€¼ã€‚\nåœ¨æ„é€ æ–¹æ³•æ³¨å…¥ä¸æ”¯æŒå¤§éƒ¨åˆ†çš„ä¾èµ–æ³¨å…¥ï¼Œå› ä¸ºåœ¨è°ƒç”¨æ„é€ æ–¹æ³•ä¸­å¿…é¡»ä¼ å…¥æ­£ç¡®çš„æ„é€ å‚æ•°ï¼Œå¦åˆ™çš„è¯ä¸ºæŠ¥é”™ã€‚\nè®¾å€¼æ³¨å…¥ä¸ä¼šé‡å†™æ„é€ æ–¹æ³•çš„å€¼ã€‚\nåœ¨ä½¿ç”¨è®¾å€¼æ³¨å…¥æ—¶æœ‰å¯èƒ½è¿˜ä¸èƒ½ä¿è¯æŸç§ä¾èµ–æ˜¯å¦å·²ç»è¢«æ³¨å…¥ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ—¶å¯¹è±¡çš„ä¾èµ–å…³ç³»æœ‰å¯èƒ½æ˜¯ä¸å®Œæ•´çš„ã€‚è€Œåœ¨å¦ä¸€ç§æƒ…å†µä¸‹ï¼Œæ„é€ å™¨æ³¨å…¥åˆ™ä¸å…è®¸ç”Ÿæˆä¾èµ–å…³ç³»ä¸å®Œæ•´çš„å¯¹è±¡ã€‚\nè¯·ä»‹ç»ä¸€ä¸‹Springæ¡†æ¶ä¸­Beançš„ç”Ÿå‘½å‘¨æœŸä¸€ã€Beançš„å®šä¹‰ \nSpringé€šå¸¸é€šè¿‡é…ç½®æ–‡ä»¶å®šä¹‰Beanã€‚å¦‚ï¼š  \nè¿™ä¸ªé…ç½®æ–‡ä»¶å°±å®šä¹‰äº†ä¸€ä¸ªæ ‡è¯†ä¸º HelloWorld çš„Beanã€‚åœ¨ä¸€ä¸ªé…ç½®æ–‡æ¡£ä¸­å¯ä»¥å®šä¹‰å¤šä¸ªBeanã€‚ \näºŒã€Beançš„åˆå§‹åŒ–\næœ‰ä¸¤ç§æ–¹å¼åˆå§‹åŒ–Beanã€‚ \n1ã€åœ¨é…ç½®æ–‡æ¡£ä¸­é€šè¿‡æŒ‡å®šinit-method å±æ€§æ¥å®Œæˆ \n2ã€å®ç° org.springframwork.beans.factory.InitializingBeanæ¥å£  \né‚£ä¹ˆï¼Œå½“è¿™ä¸ªBeançš„æ‰€æœ‰å±æ€§è¢«Springçš„BeanFactoryè®¾ç½®å®Œåï¼Œä¼šè‡ªåŠ¨è°ƒç”¨afterPropertiesSet()æ–¹æ³•å¯¹Beanè¿›è¡Œåˆå§‹åŒ–ï¼Œäºæ˜¯ï¼Œé…ç½®æ–‡ä»¶å°±ä¸ç”¨æŒ‡å®š init-methodå±æ€§äº†ã€‚ \nä¸‰ã€Beançš„è°ƒç”¨ \næœ‰ä¸‰ç§æ–¹å¼å¯ä»¥å¾—åˆ°Beanå¹¶è¿›è¡Œè°ƒç”¨ï¼š \n1ã€ä½¿ç”¨BeanWrapper\n2ã€ä½¿ç”¨BeanFactory\n3ã€ä½¿ç”¨ApplicationConttext\nå››ã€Beançš„é”€æ¯ \n1ã€ä½¿ç”¨é…ç½®æ–‡ä»¶ä¸­çš„ destory-method å±æ€§\n2ã€å®ç° org.springframwork.bean.factory.DisposebleBeanæ¥å£ \nSpringä¸­AOPçš„åº”ç”¨åœºæ™¯ã€AopåŸç†ã€å¥½å¤„ï¼Ÿç­”ï¼šAOPâ€“Aspect Oriented Programmingé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼›ç”¨æ¥å°è£…æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼Œå…·ä½“å¯ä»¥åœ¨ä¸‹é¢çš„åœºæ™¯ä¸­ä½¿ç”¨:\nAuthentication æƒé™ã€Caching ç¼“å­˜ã€Context passing å†…å®¹ä¼ é€’ã€Error handling é”™è¯¯å¤„ç†Lazy loadingæ‡’åŠ è½½ã€Debuggingè°ƒè¯•ã€logging, tracing, profiling and monitoring è®°å½•è·Ÿè¸ªä¼˜åŒ–ã€€æ ¡å‡†ã€Performance optimizationã€€æ€§èƒ½ä¼˜åŒ–ã€Persistence æŒä¹…åŒ–ã€Resource poolingã€€èµ„æºæ± ã€Synchronizationã€€åŒæ­¥ã€Transactions äº‹åŠ¡\nåŸç†ï¼šAOPæ˜¯é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œæ˜¯é€šè¿‡åŠ¨æ€ä»£ç†çš„æ–¹å¼ä¸ºç¨‹åºæ·»åŠ ç»Ÿä¸€åŠŸèƒ½ï¼Œé›†ä¸­è§£å†³ä¸€äº›å…¬å…±é—®é¢˜ã€‚\nä¼˜ç‚¹ï¼š1.å„ä¸ªæ­¥éª¤ä¹‹é—´çš„è‰¯å¥½éš”ç¦»æ€§è€¦åˆæ€§å¤§å¤§é™ä½ \n2.æºä»£ç æ— å…³æ€§ï¼Œå†æ‰©å±•åŠŸèƒ½çš„åŒæ—¶ä¸å¯¹æºç è¿›è¡Œä¿®æ”¹æ“ä½œ æœ‰å‡ ç§ä¸åŒç±»å‹çš„è‡ªåŠ¨ä»£ç†ï¼ŸBeanNameAutoProxyCreator\nDefaultAdvisorAutoProxyCreator\nMetadata autoproxying\nApplicationContexté€šå¸¸çš„å®ç°æ˜¯ä»€ä¹ˆ?FileSystemXmlApplicationContext ï¼šæ­¤å®¹å™¨ä»ä¸€ä¸ªXMLæ–‡ä»¶ä¸­åŠ è½½beansçš„å®šä¹‰ï¼ŒXML Bean é…ç½®æ–‡ä»¶çš„å…¨è·¯å¾„åå¿…é¡»æä¾›ç»™å®ƒçš„æ„é€ å‡½æ•°ã€‚\nClassPathXmlApplicationContextï¼šæ­¤å®¹å™¨ä¹Ÿä»ä¸€ä¸ªXMLæ–‡ä»¶ä¸­åŠ è½½beansçš„å®šä¹‰ï¼Œè¿™é‡Œï¼Œä½ éœ€è¦æ­£ç¡®è®¾ç½®classpathå› ä¸ºè¿™ä¸ªå®¹å™¨å°†åœ¨classpathé‡Œæ‰¾beané…ç½®ã€‚\nWebXmlApplicationContextï¼šæ­¤å®¹å™¨åŠ è½½ä¸€ä¸ªXMLæ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªWEBåº”ç”¨çš„æ‰€æœ‰beanã€‚\næœ‰å“ªäº›ä¸åŒç±»å‹çš„IOCï¼ˆä¾èµ–æ³¨å…¥ï¼‰æ–¹å¼ï¼Ÿæ„é€ å™¨ä¾èµ–æ³¨å…¥ï¼šæ„é€ å™¨ä¾èµ–æ³¨å…¥é€šè¿‡å®¹å™¨è§¦å‘ä¸€ä¸ªç±»çš„æ„é€ å™¨æ¥å®ç°çš„ï¼Œè¯¥ç±»æœ‰ä¸€ç³»åˆ—å‚æ•°ï¼Œæ¯ä¸ªå‚æ•°ä»£è¡¨ä¸€ä¸ªå¯¹å…¶ä»–ç±»çš„ä¾èµ–ã€‚\nSetteræ–¹æ³•æ³¨å…¥ï¼šSetteræ–¹æ³•æ³¨å…¥æ˜¯å®¹å™¨é€šè¿‡è°ƒç”¨æ— å‚æ„é€ å™¨æˆ–æ— å‚staticå·¥å‚ æ–¹æ³•å®ä¾‹åŒ–beanä¹‹åï¼Œè°ƒç”¨è¯¥beançš„setteræ–¹æ³•ï¼Œå³å®ç°äº†åŸºäºsetterçš„ä¾èµ–æ³¨å…¥ã€‚\nä»€ä¹ˆæ˜¯IOCï¼Œä»€ä¹ˆåˆæ˜¯DIï¼Œä»–ä»¬æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸€ã€IOCä»‹ç»\nIOCæ˜¯æ§åˆ¶åè½¬ã€‚\nåˆ›å»ºå¯¹è±¡å®ä¾‹çš„æ§åˆ¶æƒä»ä»£ç æ§åˆ¶å‰¥ç¦»åˆ°IOCå®¹å™¨æ§åˆ¶(ä¹‹å‰çš„å†™æ³•ï¼Œç”±ç¨‹åºä»£ç ç›´æ¥æ“æ§ä½¿ç”¨newå…³é”®å­—)ï¼Œå®é™…å°±æ˜¯ä½ åœ¨xmlæ–‡ä»¶æ§åˆ¶ï¼Œæ§åˆ¶æƒçš„è½¬ç§»æ˜¯æ‰€è°“åè½¬ï¼Œä¾§é‡äºåŸç†ã€‚ \näºŒã€DIä»‹ç»\nDIæ˜¯ä¾èµ–æ³¨å…¥\nåˆ›å»ºå¯¹è±¡å®ä¾‹æ—¶ï¼Œä¸ºè¿™ä¸ªå¯¹è±¡æ³¨å…¥å±æ€§å€¼æˆ–å…¶å®ƒå¯¹è±¡å®ä¾‹ï¼Œä¾§é‡äºå®ç°ã€‚\nspringäº‹åŠ¡å®šä¹‰äº‹åŠ¡çš„å®šä¹‰ï¼šäº‹åŠ¡æ˜¯æŒ‡å¤šä¸ªæ“ä½œå•å…ƒç»„æˆçš„åˆé›†ï¼Œå¤šä¸ªå•å…ƒæ“ä½œæ˜¯æ•´ä½“ä¸å¯åˆ†å‰²çš„ï¼Œè¦ä¹ˆéƒ½æ“ä½œä¸æˆåŠŸï¼Œè¦ä¹ˆéƒ½æˆåŠŸã€‚å…¶å¿…é¡»éµå¾ªå››ä¸ªåŸåˆ™ï¼ˆACIDï¼‰ã€‚\nåŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šå³äº‹åŠ¡æ˜¯ä¸å¯åˆ†å‰²çš„æœ€å°å·¥ä½œå•å…ƒï¼Œäº‹åŠ¡å†…çš„æ“ä½œè¦ä¹ˆå…¨åšï¼Œè¦ä¹ˆå…¨ä¸åšï¼›\nä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šåœ¨äº‹åŠ¡æ‰§è¡Œå‰æ•°æ®åº“çš„æ•°æ®å¤„äºæ­£ç¡®çš„çŠ¶æ€ï¼Œè€Œäº‹åŠ¡æ‰§è¡Œå®Œæˆåæ•°æ®åº“çš„æ•°æ®è¿˜æ˜¯åº”è¯¥å¤„äºæ­£ç¡®çš„çŠ¶æ€ï¼Œå³æ•°æ®å®Œæ•´æ€§çº¦æŸæ²¡æœ‰è¢«ç ´åï¼›å¦‚é“¶è¡Œè½¬å¸ï¼ŒAè½¬å¸ç»™Bï¼Œå¿…é¡»ä¿è¯Açš„é’±ä¸€å®šè½¬ç»™Bï¼Œä¸€å®šä¸ä¼šå‡ºç°Açš„é’±è½¬äº†ä½†Bæ²¡æ”¶åˆ°ï¼Œå¦åˆ™æ•°æ®åº“çš„æ•°æ®å°±å¤„äºä¸ä¸€è‡´ï¼ˆä¸æ­£ç¡®ï¼‰çš„çŠ¶æ€ã€‚\néš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šå¹¶å‘äº‹åŠ¡æ‰§è¡Œä¹‹é—´äº’ä¸å½±å“ï¼Œåœ¨ä¸€ä¸ªäº‹åŠ¡å†…éƒ¨çš„æ“ä½œå¯¹å…¶ä»–äº‹åŠ¡æ˜¯ä¸äº§ç”Ÿå½±å“ï¼Œè¿™éœ€è¦äº‹åŠ¡éš”ç¦»çº§åˆ«æ¥æŒ‡å®šéš”ç¦»æ€§ï¼›\næŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼šäº‹åŠ¡ä¸€æ—¦æ‰§è¡ŒæˆåŠŸï¼Œå®ƒå¯¹æ•°æ®åº“çš„æ•°æ®çš„æ”¹å˜å¿…é¡»æ˜¯æ°¸ä¹…çš„ï¼Œä¸ä¼šå› æ¯”å¦‚é‡åˆ°ç³»ç»Ÿæ•…éšœæˆ–æ–­ç”µé€ æˆæ•°æ®ä¸ä¸€è‡´æˆ–ä¸¢å¤±ã€‚\nSpringæ¡†æ¶ä¸­çš„å•ä¾‹Beansæ˜¯çº¿ç¨‹å®‰å…¨çš„ä¹ˆï¼ŸSpringæ¡†æ¶å¹¶æ²¡æœ‰å¯¹å•ä¾‹beanè¿›è¡Œä»»ä½•å¤šçº¿ç¨‹çš„å°è£…å¤„ç†ã€‚å…³äºå•ä¾‹beançš„çº¿ç¨‹å®‰å…¨å’Œå¹¶å‘é—®é¢˜éœ€è¦å¼€å‘è€…è‡ªè¡Œå»æå®šã€‚ä½†å®é™…ä¸Šï¼Œå¤§éƒ¨åˆ†çš„Spring beanå¹¶æ²¡æœ‰å¯å˜çš„çŠ¶æ€(æ¯”å¦‚Serviewç±»å’ŒDAOç±»)ï¼Œæ‰€ä»¥åœ¨æŸç§ç¨‹åº¦ä¸Šè¯´Springçš„å•ä¾‹beanæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚å¦‚æœä½ çš„beanæœ‰å¤šç§çŠ¶æ€çš„è¯ï¼ˆæ¯”å¦‚ View Model å¯¹è±¡ï¼‰ï¼Œå°±éœ€è¦è‡ªè¡Œä¿è¯çº¿ç¨‹å®‰å…¨ã€‚\n","tags":["é¢è¯•","Spring"],"path":"2019/09/04/Springæ¡†æ¶é¢è¯•æ€»ç»“/","external_link":""},{"title":"Javaåç¼–è¯‘å·¥å…·jad","date":"2019-09-06T05:21:38.000Z","content":"\nJad(JAva Decompiler)Jad(JAva Decompiler)æ˜¯ä¸€ä¸ªJavaçš„åç¼–è¯‘å™¨ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤è¡ŒæŠŠJavaçš„classæ–‡ä»¶åç¼–è¯‘æˆæºä»£ç ã€‚ä¸‹è½½ç‚¹å‡»\nä½¿ç”¨æ–¹æ³•ï¼š\n[1] åç¼–è¯‘ä¸€ä¸ªclassæ–‡ä»¶ï¼šjad example.classï¼Œä¼šç”Ÿæˆexample.jadï¼Œç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å°±æ˜¯javaæºä»£ç \n[2] æŒ‡å®šç”Ÿæˆæºä»£ç çš„åç¼€åï¼šjad -sjava example.classï¼Œç”Ÿæˆexample.java\n[3] æ”¹å˜ç”Ÿæˆçš„æºä»£ç çš„åç§°ï¼Œå¯ä»¥å…ˆä½¿ç”¨-på°†åç¼–è¯‘åçš„æºä»£ç è¾“å‡ºåˆ°æ§åˆ¶å°çª—å£ï¼Œç„¶åä½¿ç”¨é‡å®šå‘ï¼Œè¾“å‡ºåˆ°æ–‡ä»¶ï¼šjad -p example.class &gt; myexample.java\n[4] æŠŠæºä»£ç æ–‡ä»¶è¾“å‡ºåˆ°æŒ‡å®šçš„ç›®å½•ï¼šjad -dnewdir -sjava example.classï¼Œåœ¨newdirç›®å½•ä¸‹ç”Ÿæˆexample.java\n[5] æŠŠpackagesç›®å½•ä¸‹çš„classæ–‡ä»¶å…¨éƒ¨åç¼–è¯‘ï¼šjad -sjava packages*.class\n[6] æŠŠpackagesç›®å½•ä»¥åŠå­ç›®å½•ä¸‹çš„æ–‡ä»¶å…¨éƒ¨åç¼–è¯‘ï¼šjad -sjava packages*.classï¼Œä¸è¿‡ä½ ä»ç„¶ä¼šå‘ç°æ‰€æœ‰çš„æºä»£ç æ–‡ä»¶è¢«æ”¾åˆ°äº†åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œæ²¡æœ‰æŒ‰ç…§classæ–‡ä»¶çš„åŒ…è·¯å¾„å»ºç«‹èµ·è·¯å¾„\n[7] æŠŠpackagesç›®å½•ä»¥åŠå­ç›®å½•ä¸‹çš„æ–‡ä»¶å…¨éƒ¨åç¼–è¯‘å¹¶å»ºç«‹å’ŒjavaåŒ…ä¸€è‡´çš„æ–‡ä»¶å¤¹è·¯å¾„ï¼Œå¯ä»¥ä½¿ç”¨-rå‘½ä»¤ï¼šjad -r -sjava packages*.class\n[8] å½“é‡å¤ä½¿ç”¨å‘½ä»¤åç¼–è¯‘æ—¶ï¼ŒJadä¼šæç¤ºâ€œwhether you want to overwrite it or notâ€ï¼Œä½¿ç”¨-oå¯ä»¥å¼ºåˆ¶è¦†ç›–æ—§æ–‡ä»¶\n[9] è¿˜æœ‰å…¶ä»–çš„å‚æ•°å¯ä»¥è®¾ç½®ç”Ÿæˆçš„æºä»£ç çš„æ ¼å¼ï¼Œå¯ä»¥è¾“å…¥jadå‘½ä»¤æŸ¥çœ‹å¸®åŠ©ï¼Œè¿™é‡Œæœ‰ä¸ªäººåšäº†ç®€å•çš„ç¿»è¯‘ï¼šjadå‘½ä»¤æ€»ç»“\n[10] å½“ç„¶ï¼Œä½ ä¼šå‘ç°æœ‰äº›æºæ–‡ä»¶å¤´éƒ¨æœ‰äº›æ³¨é‡Šä¿¡æ¯ï¼Œä¸ç”¨æ‰¾äº†ï¼Œjadæ²¡æœ‰å‚æ•°å¯ä»¥å»æ‰å®ƒï¼Œç”¨åˆ«çš„åŠæ³•å§ã€‚\næµ‹è¯•Main.java\n123456789101112131415161718192021222324252627282930public class Main &#123;    static volatile int t = 0;    public static void main(String[] args) &#123;        int n = 100;        Thread[] threads = new Thread[n];        for (int i = 0; i &lt; n; i++) &#123;            threads[i] = new Thread(new Runnable() &#123;                @Override                public void run() &#123;                    for (int i = 0; i &lt; 10000; i++) &#123;                        add();                    &#125;                &#125;            &#125;);            threads[i].start();        &#125;        while (Thread.activeCount() &gt; 1)            Thread.yield();        System.out.println(t);    &#125;    static void add() &#123;        t++;    &#125;&#125;\n\nMain.class\n1234567891011121314151617cafe babe 0000 0034 0037 0a00 0d00 1d07001e 0700 1f0a 0003 001d 0a00 0200 200a0002 0021 0a00 0200 220a 0002 0023 09002400 2509 000c 0026 0a00 2700 2807 00290700 2a01 000c 496e 6e65 7243 6c61 73736573 0100 0174 0100 0149 0100 063c 696e6974 3e01 0003 2829 5601 0004 436f 64650100 0f4c 696e 654e 756d 6265 7254 61626c65 0100 046d 6169 6e01 0016 285b 4c6a6176 612f 6c61 6e67 2f53 7472 696e 673b2956 0100 0d53 7461 636b 4d61 7054 61626c65 0700 2b01 0003 6164 6401 0008 3c636c69 6e69 743e 0100 0a53 6f75 7263 6546696c 6501 0009 4d61 696e 2e6a 6176 610c0011 0012 0100 106a 6176 612f 6c61 6e672f54 6872 6561 6401 0006 4d61 696e 2431...\n\n\nåç¼–è¯‘åçš„ç»“æœ\n12345678910111213141516171819202122232425262728293031323334353637383940414243444546 Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov. Jad home page: http:www.kpdus.comjad.html Decompiler options: packimports(3)  Source File Name:   Main.javaimport java.io.PrintStream;public class Main&#123;    public Main()    &#123;    &#125;    public static void main(String args[])    &#123;        byte byte0 = 100;        Thread athread[] = new Thread[byte0];        for(int i = 0; i &lt; byte0; i++)        &#123;            athread[i] = new Thread(new Runnable() &#123;                public void run()                &#123;                    for(int j = 0; j &lt; 10000; j++)                        Main.add();                &#125;            &#125;);            athread[i].start();        &#125;        for(; Thread.activeCount() &gt; 1; Thread.yield());        System.out.println(t);    &#125;    static void add()    &#123;        t++;    &#125;    static volatile int t = 0;&#125;\n\n","tags":["Java","åç¼–è¯‘","jad"],"path":"2019/09/06/Javaåç¼–è¯‘å·¥å…·jad/","external_link":""},{"title":"TensorFlow 2.0 ä¸­æ–‡æ‰‹å†™å­—è¯†åˆ«ï¼ˆæ±‰å­—OCRï¼‰","date":"2019-09-06T07:08:56.000Z","content":"\nTensorFlow 2.0 ä¸­æ–‡æ‰‹å†™å­—è¯†åˆ«ï¼ˆæ±‰å­—OCRï¼‰\næœç´¢ç©ºé—´ç©ºå‰å·¨å¤§ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ•°æ®é›†1.0ç‰ˆæœ¬æ±‰å­—å°±å¤šå¤§3755ä¸ªï¼Œå¦‚æœåŠ ä¸Š1.1ç‰ˆæœ¬ä¸€èµ·ï¼Œæ€»å…±æ±‰å­—å¯ä»¥åˆ†ä¸ºå¤šè¾¾7599+ä¸ªç±»åˆ«ï¼è¿™æ¯”10ä¸ªé˜¿æ‹‰ä¼¯å­—æ¯è¯†åˆ«éš¾åº¦å¤§å¾ˆå¤šï¼\næ•°æ®é›†å¤„ç†æŒ‘æˆ˜æ›´å¤§ï¼Œç›¸æ¯”äºmnistå’Œfasionmnistæ¥è¯´ï¼Œæ±‰å­—æ‰‹å†™å­—ä½“è¯†åˆ«æ•°æ®é›†éå¸¸å°‘ï¼Œè€Œä¸”ä»…æœ‰çš„æ•°æ®é›†æ•°æ®é¢„å¤„ç†éš¾åº¦éå¸¸å¤§ï¼Œéå¸¸ä¸ç›´è§‚ï¼Œä½†æ˜¯ï¼Œåƒä¸‡åˆ«å“åˆ°ï¼Œç›¸ä¿¡ä½ çœ‹å®Œæœ¬æ•™ç¨‹ä¸€å®šä¼šæ”¶è´§æ»¡æ»¡!\næ±‰å­—è¯†åˆ«æ›´è€ƒéªŒé€‰æ‰‹çš„å»ºæ¨¡èƒ½åŠ›ï¼Œè¿˜åœ¨åˆ†ç±»èŠ±ï¼Ÿåˆ†ç±»çŒ«å’Œç‹—ï¼Ÿéšä¾¿æ­å»ºçš„å‡ å±‚åœ¨æœç´¢ç©ºé—´å·¨å¤§çš„æ±‰å­—æ‰‹å†™è¯†åˆ«é‡Œæ ¹æœ¬ä¸workï¼ä½ ç°åœ¨æ˜¯ä¸æ˜¯æƒ³ç”¨å¾ˆæ·±çš„ç½‘ç»œè·ƒè·ƒæ¬²è¯•ï¼Ÿæ›´æ·±çš„ç½‘ç»œåœ¨è¿™ä¸ªä»»åŠ¡ä¸Šå¯èƒ½æ ¹æœ¬ä¸å¯è¡Œï¼ï¼çœ‹å®Œæœ¬æ•™ç¨‹æˆ‘ä»¬å°±å¯ä»¥ä¸€æ¢ç©¶ç«Ÿï¼æ€»ä¹‹ä¸€å¥è¯ï¼Œæ¨¡å‹å¤ªç®€å•å’Œå¤ªå¤æ‚éƒ½ä¸å¥½ï¼Œç”šè‡³ä¼šå‘æ•£ï¼ï¼ˆæƒ³äº²èº«ä½“éªŒæ¨¡å‹è®­ç»ƒå‘æ•£æŠ“ç‹‚çš„å¯ä»¥æ¥å°è¯•ä¸€ä¸‹ï¼ï¼‰ã€‚\n\næ•°æ®å‡†å¤‡åœ¨å¼€å§‹ä¹‹å‰ï¼Œå…ˆä»‹ç»ä¸€ä¸‹æœ¬é¡¹ç›®æ‰€é‡‡ç”¨çš„æ•°æ®ä¿¡æ¯ã€‚æˆ‘ä»¬çš„æ•°æ®å…¨éƒ¨æ¥è‡ªäºCASIAçš„å¼€æºä¸­æ–‡æ‰‹å†™å­—æ•°æ®é›†ï¼Œè¯¥æ•°æ®é›†åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š\n\nCASIA-HWDBï¼šç¦»çº¿çš„HWDBï¼Œæˆ‘ä»¬ä»…ä»…ä½¿ç”¨1.0-1.2ï¼Œè¿™æ˜¯å•å­—çš„æ•°æ®é›†ï¼Œ2.0-2.2æ˜¯æ•´å¼ æ–‡æœ¬çš„æ•°æ®é›†ï¼Œæˆ‘ä»¬æš‚æ—¶ä¸ç”¨ï¼Œå•å­—é‡Œé¢åŒ…å«äº†çº¦7185ä¸ªæ±‰å­—ä»¥åŠ171ä¸ªè‹±æ–‡å­—æ¯ã€æ•°å­—ã€æ ‡ç‚¹ç¬¦å·ç­‰ï¼›\nCASIA-OLHWDBï¼šåœ¨çº¿çš„HWDBï¼Œæ ¼å¼ä¸€æ ·ï¼ŒåŒ…å«äº†çº¦7185ä¸ªæ±‰å­—ä»¥åŠ171ä¸ªè‹±æ–‡å­—æ¯ã€æ•°å­—ã€æ ‡ç‚¹ç¬¦å·ç­‰ï¼Œæˆ‘ä»¬ä¸ç”¨ã€‚\n\nå…¶å®ä½ ä¸‹è½½1.0çš„trainå’Œtestå·®ä¸å¤šå·²ç»å¤Ÿäº†ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œ datasetget_hwdb_1.0_1.1.sh ä¸‹è½½ã€‚åŸå§‹æ•°æ®ä¸‹è½½é“¾æ¥ç‚¹å‡»è¿™é‡Œ. ç”±äºåŸå§‹æ•°æ®è¿‡äºå¤æ‚ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç±»æ¥å°è£…æ•°æ®è¯»å–è¿‡ç¨‹ï¼Œè¿™æ˜¯æˆ‘ä»¬å±•ç¤ºçš„æ•ˆæœï¼š\nçœ‹åˆ°è¿™ä¹ˆå¯†å¯†éº»éº»çš„æ–‡å­—ç›¸ä¿¡è¿äººç±»éƒ½â€¦. å¼€å§‹å¤´ç–¼äº†ï¼Œè¿™äº›å¤æ‚çš„æ–‡å­—èƒ½å¤Ÿé€šè¿‡ä¸€ä¸ªç¥ç»ç½‘ç»œæ¥è¯†åˆ«å‡ºæ¥ï¼Ÿï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„â€¦. ä¸æœ‰å¾—æ„Ÿå¹ä¸€ä¸‹ç¥ç»ç½‘ç»œçš„å¼ºå¤§ã€‚ã€‚ä¸Šé¢çš„éƒ¨åˆ†æ–‡å­—è¯†åˆ«å‡ºæ¥çš„ç»“æœæ˜¯è¿™æ ·çš„ï¼š\n\nå…³äºæ•°æ®çš„å¤„ç†éƒ¨åˆ†ï¼Œä»æœåŠ¡å™¨ä¸‹è½½åˆ°çš„åŸå§‹æ•°æ®æ˜¯ trn_gnt.zip è§£å‹ä¹‹åæ˜¯ gnt.alzï¼Œ éœ€è¦å†æ¬¡è§£å‹å¾—åˆ°ä¸€ä¸ªåŒ…å« gntæ–‡ä»¶çš„æ–‡ä»¶å¤¹ã€‚é‡Œé¢æ¯ä¸€ä¸ªgntæ–‡ä»¶éƒ½åŒ…å«äº†è‹¥å¹²ä¸ªæ±‰å­—åŠå…¶æ ‡æ³¨ã€‚ç›´æ¥å¤„ç†æ¯”è¾ƒéº»çƒ¦ï¼Œä¹Ÿä¸æ–¹ä¾¿æŠ½å–å‡ºå›¾ç‰‡å†è¿›è¡Œæ“ä½œï¼Œè™½ç„¶è½¬ä¸ºå›¾ç‰‡å­˜å…¥æ–‡ä»¶å¤¹æ¯”è¾ƒç›´è§‚ï¼Œä½†æ˜¯ä¸é€‚åˆæ‰¹é‡è¯»å–å’Œè®­ç»ƒ, åé¢æˆ‘ä»¬ç»Ÿä¸€è½¬ä¸ºtfrecordè¿›è¡Œè®­ç»ƒã€‚\næ›´æ–°: å®é™…ä¸Šï¼Œç”±äºå•ä¸ªæ±‰å­—å›¾ç‰‡å…¶å®å¾ˆå°ï¼Œå·®ä¸å¤šä¹Ÿå°±æœ€å¤§80x80çš„å¤§å°ï¼Œè¿™ä¸ªå¤§å°ä¸é€‚åˆè½¬æˆå›¾ç‰‡ä¿å­˜åˆ°æœ¬åœ°ï¼Œå› æ­¤æˆ‘ä»¬å°†hwdbåŸå§‹çš„äºŒè¿›åˆ¶ä¿å­˜ä¸ºtfrecordã€‚åŒæ—¶ä¹Ÿæ–¹ä¾¿åé¢è®­ç»ƒï¼Œå¯ä»¥ç›´æ¥ä»tfrecordè¯»å–å›¾ç‰‡è¿›è¡Œè®­ç»ƒã€‚\n\nè®­ç»ƒè¿‡ç¨‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051def train():    all_characters = load_characters()    num_classes = len(all_characters)    logging.info(all characters: &#123;&#125;.format(num_classes))    train_dataset = load_ds()    train_dataset = train_dataset.shuffle(100).map(preprocess).batch(32).repeat()    val_ds = load_val_ds()    val_ds = val_ds.shuffle(100).map(preprocess).batch(32).repeat()    for data in train_dataset.take(2):        print(data)    # init model    model = build_net_003((64, 64, 1), num_classes)    model.summary()    logging.info(model loaded.)    start_epoch = 0    latest_ckpt = tf.train.latest_checkpoint(os.path.dirname(ckpt_path))    if latest_ckpt:        start_epoch = int(latest_ckpt.split(-)[1].split(.)[0])        model.load_weights(latest_ckpt)        logging.info(model resumed from: &#123;&#125;, start at epoch: &#123;&#125;.format(latest_ckpt, start_epoch))    else:        logging.info(passing resume since weights not there. training from scratch)    if use_keras_fit:        model.compile(            optimizer=tf.keras.optimizers.Adam(),            loss=tf.keras.losses.SparseCategoricalCrossentropy(),            metrics=[accuracy])        callbacks = [            tf.keras.callbacks.ModelCheckpoint(ckpt_path,                                               save_weights_only=True,                                               verbose=1,                                               period=500)        ]        try:            model.fit(                train_dataset,                validation_data=val_ds,                validation_steps=1000,                epochs=15000,                steps_per_epoch=1024,                callbacks=callbacks)        except KeyboardInterrupt:            model.save_weights(ckpt_path.format(epoch=0))            logging.info(keras model saved.)        model.save_weights(ckpt_path.format(epoch=0))        model.save(os.path.join(os.path.dirname(ckpt_path), cn_ocr.h5))\n\nå¤§å®¶åœ¨ä»¥åç¼–å†™è®­ç»ƒä»£ç çš„æ—¶å€™å…¶å®å¯ä»¥ä¿æŒè¿™ä¸ªå¥½çš„ä¹ æƒ¯ã€‚\nOKï¼Œæ•´ä¸ªæ¨¡å‹è®­ç»ƒèµ·æ¥ä¹‹åï¼Œå¯ä»¥åœ¨çŸ­æ—¶é—´å†…è¾¾åˆ°95%çš„å‡†ç¡®ç‡ï¼š\n\n\næ€»ç»“é€šè¿‡æœ¬æ•™ç¨‹ï¼Œæˆ‘ä»¬å®Œæˆäº†ä½¿ç”¨tensorflow 2.0å…¨æ–°çš„APIæ­å»ºä¸€ä¸ªä¸­æ–‡æ±‰å­—æ‰‹å†™è¯†åˆ«ç³»ç»Ÿã€‚æ¨¡å‹åŸºæœ¬èƒ½å¤Ÿå®ç°æˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½ã€‚è¦çŸ¥é“ï¼Œè¿™ä¸ªæ¨¡å‹å¯æ˜¯åœ¨æœç´¢ç©ºé—´å¤šå¤§3755çš„ç±»åˆ«å½“ä¸­å‡†ç¡®çš„æ‰¾åˆ°æœ€ç›¸ä¼¼çš„ç±»åˆ«ï¼ï¼é€šè¿‡æœ¬å®éªŒï¼Œæˆ‘ä»¬æœ‰å‡ ç‚¹å¿ƒå¾—ï¼š\n\nç¥ç»ç½‘ç»œä¸ä»…ä»…æ˜¯åœ¨å­¦ä¹ ï¼Œå®ƒå…·æœ‰ä¸€å®šçš„æƒ³è±¡åŠ›ï¼ï¼æ¯”å¦‚å®ƒçš„ä¸€äº›çœ‹ç€å¾ˆåƒçš„å­—ï¼šæ‹œ-ä½¯ï¼Œ æ‰®-æï¼Œç¬¨-è‹¯â€¦. è¿™äº›å­—å¦‚æœæ‰‹å†™å‡ºæ¥ï¼Œè¿äººéƒ½æ¯”è¾ƒéš¾ä»¥è¾¨è®¤ï¼ï¼ä½†æ˜¯å¤§å®¶è¦çŸ¥é“è¿™äº›å­—åœ¨ç±»åˆ«ä¸Šå¹¶ä¸æ˜¯ç›¸é¢†çš„ï¼ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¨¡å‹å…·æœ‰ä¸€å®šçš„è”æƒ³èƒ½åŠ›ï¼\nä¸ç®¡é—®é¢˜å¤šå¤æ‚ï¼Œè¦æ•¢äºåŠ¨æ‰‹ã€å–„äºåŠ¨æ‰‹ã€‚\n\n","tags":["AI","TensorFlow","OCR"],"path":"2019/09/06/TensorFlow-2-0-ä¸­æ–‡æ‰‹å†™å­—è¯†åˆ«ï¼ˆæ±‰å­—OCRï¼‰/","external_link":""},{"title":"Systemç±»","date":"2019-09-06T06:20:34.000Z","content":"\n12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697989910010110210310410510610710810911011111211311411511611711811912012112212312412512612712812913013113213313413513613713813914014114214314414514614714814915015115215315415515615715815916016116216316416516616716816917017117217317417517617717817918018118218318418518618718818919019119219319419519619719819920020120220320420520620720820921021121221321421521621721821922022122222322422522622722822923023123223323423523623723823924024124224324424524624724824925025125225325425525625725825926026126226326426526626726826927027127227327427527627727827928028128228328428528628728828929029129229329429529629729829930030130230330430530630730830931031131231331431531631731831932032132232332432532632732832933033133233333433533633733833934034134234334434534634734834935035135235335435535635735835936036136236336436536636736836937037137237337437537637737837938038138238338438538638738838939039139239339439539639739839940040140240340440540640740840941041141241341441541641741841942042142242342442542642742842943043143243343443543643743843944044144244344444544644744844945045145245345445545645745845946046146246346446546646746846947047147247347447547647747847948048148248348448548648748848949049149249349449549649749849950050150250350450550650750850951051151251351451551651751851952052152252352452552652752852953053153253353453553653753853954054154254354454554654754854955055155255355455555655755855956056156256356456556656756856957057157257357457557657757857958058158258358458558658758858959059159259359459559659759859960060160260360460560660760860961061161261361461561661761861962062162262362462562662762862963063163263363463563663763863964064164264364464564664764864965065165265365465565665765865966066166266366466566666766866967067167267367467567667767867968068168268368468568668768868969069169269369469569669769869970070170270370470570670770870971071171271371471571671771871972072172272372472572672772872973073173273373473573673773873974074174274374474574674774874975075175275375475575675775875976076176276376476576676776876977077177277377477577677777877978078178278378478578678778878979079179279379479579679779879980080180280380480580680780880981081181281381481581681781881982082182282382482582682782882983083183283383483583683783883984084184284384484584684784884985085185285385485585685785885986086186286386486586686786886987087187287387487587687787887988088188288388488588688788888989089189289389489589689789889990090190290390490590690790890991091191291391491591691791891992092192292392492592692792892993093193293393493593693793893994094194294394494594694794894995095195295395495595695795895996096196296396496596696796896997097197297397497597697797897998098198298398498598698798898999099199299399499599699799899910001001100210031004100510061007100810091010101110121013101410151016101710181019102010211022102310241025102610271028102910301031103210331034103510361037103810391040104110421043104410451046104710481049105010511052105310541055105610571058105910601061106210631064106510661067106810691070107110721073107410751076107710781079108010811082108310841085108610871088108910901091109210931094109510961097109810991100110111021103110411051106110711081109111011111112111311141115111611171118111911201121112211231124112511261127112811291130113111321133113411351136113711381139114011411142114311441145114611471148114911501151115211531154115511561157115811591160116111621163116411651166116711681169117011711172117311741175117611771178117911801181118211831184118511861187118811891190119111921193119411951196119711981199120012011202120312041205120612071208120912101211121212131214121512161217121812191220122112221223122412251226122712281229123012311232123312341235123612371238123912401241124212431244124512461247124812491250125112521253125412551256* * Copyright (c) 1994, 2013, Oracle andor its affiliates. All rights reserved. * ORACLE PROPRIETARYCONFIDENTIAL. Use is subject to license terms. * * *package java.lang;import java.io.*;import java.lang.reflect.Executable;import java.lang.annotation.Annotation;import java.security.AccessControlContext;import java.util.Properties;import java.util.PropertyPermission;import java.util.StringTokenizer;import java.util.Map;import java.security.AccessController;import java.security.PrivilegedAction;import java.security.AllPermission;import java.nio.channels.Channel;import java.nio.channels.spi.SelectorProvider;import sun.nio.ch.Interruptible;import sun.reflect.CallerSensitive;import sun.reflect.Reflection;import sun.security.util.SecurityConstants;import sun.reflect.annotation.AnnotationType;** * The &lt;code&gt;System&lt;code&gt; class contains several useful class fields * and methods. It cannot be instantiated. * * &lt;p&gt;Among the facilities provided by the &lt;code&gt;System&lt;code&gt; class * are standard input, standard output, and error output streams; * access to externally defined properties and environment * variables; a means of loading files and libraries; and a utility * method for quickly copying a portion of an array. * * @author  unascribed * @since   JDK1.0 *public final class System &#123;    * register the natives via the static initializer.     *     * VM will invoke the initializeSystemClass method to complete     * the initialization for this class separated from clinit.     * Note that to use properties set by the VM, see the constraints     * described in the initializeSystemClass method.     *    private static native void registerNatives();    static &#123;        registerNatives();    &#125;    ** Dont let anyone instantiate this class *    private System() &#123;    &#125;    **     * The standard input stream. This stream is already     * open and ready to supply input data. Typically this stream     * corresponds to keyboard input or another input source specified by     * the host environment or user.     *    public final static InputStream in = null;    **     * The standard output stream. This stream is already     * open and ready to accept output data. Typically this stream     * corresponds to display output or another output destination     * specified by the host environment or user.     * &lt;p&gt;     * For simple stand-alone Java applications, a typical way to write     * a line of output data is:     * &lt;blockquote&gt;&lt;pre&gt;     *     System.out.println(data)     * &lt;pre&gt;&lt;blockquote&gt;     * &lt;p&gt;     * See the &lt;code&gt;println&lt;code&gt; methods in class &lt;code&gt;PrintStream&lt;code&gt;.     *     * @see     java.io.PrintStream#println()     * @see     java.io.PrintStream#println(boolean)     * @see     java.io.PrintStream#println(char)     * @see     java.io.PrintStream#println(char[])     * @see     java.io.PrintStream#println(double)     * @see     java.io.PrintStream#println(float)     * @see     java.io.PrintStream#println(int)     * @see     java.io.PrintStream#println(long)     * @see     java.io.PrintStream#println(java.lang.Object)     * @see     java.io.PrintStream#println(java.lang.String)     *    public final static PrintStream out = null;    **     * The standard error output stream. This stream is already     * open and ready to accept output data.     * &lt;p&gt;     * Typically this stream corresponds to display output or another     * output destination specified by the host environment or user. By     * convention, this output stream is used to display error messages     * or other information that should come to the immediate attention     * of a user even if the principal output stream, the value of the     * variable &lt;code&gt;out&lt;code&gt;, has been redirected to a file or other     * destination that is typically not continuously monitored.     *    public final static PrintStream err = null;    * The security manager for the system.     *    private static volatile SecurityManager security = null;    **     * Reassigns the standard input stream.     *     * &lt;p&gt;First, if there is a security manager, its &lt;code&gt;checkPermission&lt;code&gt;     * method is called with a &lt;code&gt;RuntimePermission(setIO)&lt;code&gt; permission     *  to see if its ok to reassign the standard input stream.     * &lt;p&gt;     *     * @param in the new standard input stream.     *     * @throws SecurityException     *        if a security manager exists and its     *        &lt;code&gt;checkPermission&lt;code&gt; method doesnt allow     *        reassigning of the standard input stream.     *     * @see SecurityManager#checkPermission     * @see java.lang.RuntimePermission     *     * @since   JDK1.1     *    public static void setIn(InputStream in) &#123;        checkIO();        setIn0(in);    &#125;    **     * Reassigns the standard output stream.     *     * &lt;p&gt;First, if there is a security manager, its &lt;code&gt;checkPermission&lt;code&gt;     * method is called with a &lt;code&gt;RuntimePermission(setIO)&lt;code&gt; permission     *  to see if its ok to reassign the standard output stream.     *     * @param out the new standard output stream     *     * @throws SecurityException     *        if a security manager exists and its     *        &lt;code&gt;checkPermission&lt;code&gt; method doesnt allow     *        reassigning of the standard output stream.     *     * @see SecurityManager#checkPermission     * @see java.lang.RuntimePermission     *     * @since   JDK1.1     *    public static void setOut(PrintStream out) &#123;        checkIO();        setOut0(out);    &#125;    **     * Reassigns the standard error output stream.     *     * &lt;p&gt;First, if there is a security manager, its &lt;code&gt;checkPermission&lt;code&gt;     * method is called with a &lt;code&gt;RuntimePermission(setIO)&lt;code&gt; permission     *  to see if its ok to reassign the standard error output stream.     *     * @param err the new standard error output stream.     *     * @throws SecurityException     *        if a security manager exists and its     *        &lt;code&gt;checkPermission&lt;code&gt; method doesnt allow     *        reassigning of the standard error output stream.     *     * @see SecurityManager#checkPermission     * @see java.lang.RuntimePermission     *     * @since   JDK1.1     *    public static void setErr(PrintStream err) &#123;        checkIO();        setErr0(err);    &#125;    private static volatile Console cons = null;    **     * Returns the unique &#123;@link java.io.Console Console&#125; object associated     * with the current Java virtual machine, if any.     *     * @return  The system console, if any, otherwise &lt;tt&gt;null&lt;tt&gt;.     *     * @since   1.6     *     public static Console console() &#123;         if (cons == null) &#123;             synchronized (System.class) &#123;                 cons = sun.misc.SharedSecrets.getJavaIOAccess().console();             &#125;         &#125;         return cons;     &#125;    **     * Returns the channel inherited from the entity that created this     * Java virtual machine.     *     * &lt;p&gt; This method returns the channel obtained by invoking the     * &#123;@link java.nio.channels.spi.SelectorProvider#inheritedChannel     * inheritedChannel&#125; method of the system-wide default     * &#123;@link java.nio.channels.spi.SelectorProvider&#125; object. &lt;p&gt;     *     * &lt;p&gt; In addition to the network-oriented channels described in     * &#123;@link java.nio.channels.spi.SelectorProvider#inheritedChannel     * inheritedChannel&#125;, this method may return other kinds of     * channels in the future.     *     * @return  The inherited channel, if any, otherwise &lt;tt&gt;null&lt;tt&gt;.     *     * @throws  IOException     *          If an IO error occurs     *     * @throws  SecurityException     *          If a security manager is present and it does not     *          permit access to the channel.     *     * @since 1.5     *    public static Channel inheritedChannel() throws IOException &#123;        return SelectorProvider.provider().inheritedChannel();    &#125;    private static void checkIO() &#123;        SecurityManager sm = getSecurityManager();        if (sm != null) &#123;            sm.checkPermission(new RuntimePermission(setIO));        &#125;    &#125;    private static native void setIn0(InputStream in);    private static native void setOut0(PrintStream out);    private static native void setErr0(PrintStream err);    **     * Sets the System security.     *     * &lt;p&gt; If there is a security manager already installed, this method first     * calls the security managers &lt;code&gt;checkPermission&lt;code&gt; method     * with a &lt;code&gt;RuntimePermission(setSecurityManager)&lt;code&gt;     * permission to ensure its ok to replace the existing     * security manager.     * This may result in throwing a &lt;code&gt;SecurityException&lt;code&gt;.     *     * &lt;p&gt; Otherwise, the argument is established as the current     * security manager. If the argument is &lt;code&gt;null&lt;code&gt; and no     * security manager has been established, then no action is taken and     * the method simply returns.     *     * @param      s   the security manager.     * @exception  SecurityException  if the security manager has already     *             been set and its &lt;code&gt;checkPermission&lt;code&gt; method     *             doesnt allow it to be replaced.     * @see #getSecurityManager     * @see SecurityManager#checkPermission     * @see java.lang.RuntimePermission     *    public static    void setSecurityManager(final SecurityManager s) &#123;        try &#123;            s.checkPackageAccess(java.lang);        &#125; catch (Exception e) &#123;             no-op        &#125;        setSecurityManager0(s);    &#125;    private static synchronized    void setSecurityManager0(final SecurityManager s) &#123;        SecurityManager sm = getSecurityManager();        if (sm != null) &#123;             ask the currently installed security manager if we             can replace it.            sm.checkPermission(new RuntimePermission                                     (setSecurityManager));        &#125;        if ((s != null) &amp;&amp; (s.getClass().getClassLoader() != null)) &#123;             New security manager class is not on bootstrap classpath.             Cause policy to get initialized before we install the new             security manager, in order to prevent infinite loops when             trying to initialize the policy (which usually involves             accessing some security andor system properties, which in turn             calls the installed security managers checkPermission method             which will loop infinitely if there is a non-system class             (in this case: the new security manager class) on the stack).            AccessController.doPrivileged(new PrivilegedAction&lt;Object&gt;() &#123;                public Object run() &#123;                    s.getClass().getProtectionDomain().implies                        (SecurityConstants.ALL_PERMISSION);                    return null;                &#125;            &#125;);        &#125;        security = s;    &#125;    **     * Gets the system security interface.     *     * @return  if a security manager has already been established for the     *          current application, then that security manager is returned;     *          otherwise, &lt;code&gt;null&lt;code&gt; is returned.     * @see     #setSecurityManager     *    public static SecurityManager getSecurityManager() &#123;        return security;    &#125;    **     * Returns the current time in milliseconds.  Note that     * while the unit of time of the return value is a millisecond,     * the granularity of the value depends on the underlying     * operating system and may be larger.  For example, many     * operating systems measure time in units of tens of     * milliseconds.     *     * &lt;p&gt; See the description of the class &lt;code&gt;Date&lt;code&gt; for     * a discussion of slight discrepancies that may arise between     * computer time and coordinated universal time (UTC).     *     * @return  the difference, measured in milliseconds, between     *          the current time and midnight, January 1, 1970 UTC.     * @see     java.util.Date     *    public static native long currentTimeMillis();    **     * Returns the current value of the running Java Virtual Machines     * high-resolution time source, in nanoseconds.     *     * &lt;p&gt;This method can only be used to measure elapsed time and is     * not related to any other notion of system or wall-clock time.     * The value returned represents nanoseconds since some fixed but     * arbitrary &lt;i&gt;origin&lt;i&gt; time (perhaps in the future, so values     * may be negative).  The same origin is used by all invocations of     * this method in an instance of a Java virtual machine; other     * virtual machine instances are likely to use a different origin.     *     * &lt;p&gt;This method provides nanosecond precision, but not necessarily     * nanosecond resolution (that is, how frequently the value changes)     * - no guarantees are made except that the resolution is at least as     * good as that of &#123;@link #currentTimeMillis()&#125;.     *     * &lt;p&gt;Differences in successive calls that span greater than     * approximately 292 years (2&lt;sup&gt;63&lt;sup&gt; nanoseconds) will not     * correctly compute elapsed time due to numerical overflow.     *     * &lt;p&gt;The values returned by this method become meaningful only when     * the difference between two such values, obtained within the same     * instance of a Java virtual machine, is computed.     *     * &lt;p&gt; For example, to measure how long some code takes to execute:     *  &lt;pre&gt; &#123;@code     * long startTime = System.nanoTime();     *  ... the code being measured ...     * long estimatedTime = System.nanoTime() - startTime;&#125;&lt;pre&gt;     *     * &lt;p&gt;To compare two nanoTime values     *  &lt;pre&gt; &#123;@code     * long t0 = System.nanoTime();     * ...     * long t1 = System.nanoTime();&#125;&lt;pre&gt;     *     * one should use &#123;@code t1 - t0 &lt; 0&#125;, not &#123;@code t1 &lt; t0&#125;,     * because of the possibility of numerical overflow.     *     * @return the current value of the running Java Virtual Machines     *         high-resolution time source, in nanoseconds     * @since 1.5     *    public static native long nanoTime();    **     * Copies an array from the specified source array, beginning at the     * specified position, to the specified position of the destination array.     * A subsequence of array components are copied from the source     * array referenced by &lt;code&gt;src&lt;code&gt; to the destination array     * referenced by &lt;code&gt;dest&lt;code&gt;. The number of components copied is     * equal to the &lt;code&gt;length&lt;code&gt; argument. The components at     * positions &lt;code&gt;srcPos&lt;code&gt; through     * &lt;code&gt;srcPos+length-1&lt;code&gt; in the source array are copied into     * positions &lt;code&gt;destPos&lt;code&gt; through     * &lt;code&gt;destPos+length-1&lt;code&gt;, respectively, of the destination     * array.     * &lt;p&gt;     * If the &lt;code&gt;src&lt;code&gt; and &lt;code&gt;dest&lt;code&gt; arguments refer to the     * same array object, then the copying is performed as if the     * components at positions &lt;code&gt;srcPos&lt;code&gt; through     * &lt;code&gt;srcPos+length-1&lt;code&gt; were first copied to a temporary     * array with &lt;code&gt;length&lt;code&gt; components and then the contents of     * the temporary array were copied into positions     * &lt;code&gt;destPos&lt;code&gt; through &lt;code&gt;destPos+length-1&lt;code&gt; of the     * destination array.     * &lt;p&gt;     * If &lt;code&gt;dest&lt;code&gt; is &lt;code&gt;null&lt;code&gt;, then a     * &lt;code&gt;NullPointerException&lt;code&gt; is thrown.     * &lt;p&gt;     * If &lt;code&gt;src&lt;code&gt; is &lt;code&gt;null&lt;code&gt;, then a     * &lt;code&gt;NullPointerException&lt;code&gt; is thrown and the destination     * array is not modified.     * &lt;p&gt;     * Otherwise, if any of the following is true, an     * &lt;code&gt;ArrayStoreException&lt;code&gt; is thrown and the destination is     * not modified:     * &lt;ul&gt;     * &lt;li&gt;The &lt;code&gt;src&lt;code&gt; argument refers to an object that is not an     *     array.     * &lt;li&gt;The &lt;code&gt;dest&lt;code&gt; argument refers to an object that is not an     *     array.     * &lt;li&gt;The &lt;code&gt;src&lt;code&gt; argument and &lt;code&gt;dest&lt;code&gt; argument refer     *     to arrays whose component types are different primitive types.     * &lt;li&gt;The &lt;code&gt;src&lt;code&gt; argument refers to an array with a primitive     *    component type and the &lt;code&gt;dest&lt;code&gt; argument refers to an array     *     with a reference component type.     * &lt;li&gt;The &lt;code&gt;src&lt;code&gt; argument refers to an array with a reference     *    component type and the &lt;code&gt;dest&lt;code&gt; argument refers to an array     *     with a primitive component type.     * &lt;ul&gt;     * &lt;p&gt;     * Otherwise, if any of the following is true, an     * &lt;code&gt;IndexOutOfBoundsException&lt;code&gt; is     * thrown and the destination is not modified:     * &lt;ul&gt;     * &lt;li&gt;The &lt;code&gt;srcPos&lt;code&gt; argument is negative.     * &lt;li&gt;The &lt;code&gt;destPos&lt;code&gt; argument is negative.     * &lt;li&gt;The &lt;code&gt;length&lt;code&gt; argument is negative.     * &lt;li&gt;&lt;code&gt;srcPos+length&lt;code&gt; is greater than     *     &lt;code&gt;src.length&lt;code&gt;, the length of the source array.     * &lt;li&gt;&lt;code&gt;destPos+length&lt;code&gt; is greater than     *     &lt;code&gt;dest.length&lt;code&gt;, the length of the destination array.     * &lt;ul&gt;     * &lt;p&gt;     * Otherwise, if any actual component of the source array from     * position &lt;code&gt;srcPos&lt;code&gt; through     * &lt;code&gt;srcPos+length-1&lt;code&gt; cannot be converted to the component     * type of the destination array by assignment conversion, an     * &lt;code&gt;ArrayStoreException&lt;code&gt; is thrown. In this case, let     * &lt;b&gt;&lt;i&gt;k&lt;i&gt;&lt;b&gt; be the smallest nonnegative integer less than     * length such that &lt;code&gt;src[srcPos+&lt;code&gt;&lt;i&gt;k&lt;i&gt;&lt;code&gt;]&lt;code&gt;     * cannot be converted to the component type of the destination     * array; when the exception is thrown, source array components from     * positions &lt;code&gt;srcPos&lt;code&gt; through     * &lt;code&gt;srcPos+&lt;code&gt;&lt;i&gt;k&lt;i&gt;&lt;code&gt;-1&lt;code&gt;     * will already have been copied to destination array positions     * &lt;code&gt;destPos&lt;code&gt; through     * &lt;code&gt;destPos+&lt;code&gt;&lt;i&gt;k&lt;I&gt;&lt;code&gt;-1&lt;code&gt; and no other     * positions of the destination array will have been modified.     * (Because of the restrictions already itemized, this     * paragraph effectively applies only to the situation where both     * arrays have component types that are reference types.)     *     * @param      src      the source array.     * @param      srcPos   starting position in the source array.     * @param      dest     the destination array.     * @param      destPos  starting position in the destination data.     * @param      length   the number of array elements to be copied.     * @exception  IndexOutOfBoundsException  if copying would cause     *               access of data outside array bounds.     * @exception  ArrayStoreException  if an element in the &lt;code&gt;src&lt;code&gt;     *               array could not be stored into the &lt;code&gt;dest&lt;code&gt; array     *               because of a type mismatch.     * @exception  NullPointerException if either &lt;code&gt;src&lt;code&gt; or     *               &lt;code&gt;dest&lt;code&gt; is &lt;code&gt;null&lt;code&gt;.     *    public static native void arraycopy(Object src,  int  srcPos,                                        Object dest, int destPos,                                        int length);    **     * Returns the same hash code for the given object as     * would be returned by the default method hashCode(),     * whether or not the given objects class overrides     * hashCode().     * The hash code for the null reference is zero.     *     * @param x object for which the hashCode is to be calculated     * @return  the hashCode     * @since   JDK1.1     *    public static native int identityHashCode(Object x);    **     * System properties. The following properties are guaranteed to be defined:     * &lt;dl&gt;     * &lt;dt&gt;java.version         &lt;dd&gt;Java version number     * &lt;dt&gt;java.vendor          &lt;dd&gt;Java vendor specific string     * &lt;dt&gt;java.vendor.url      &lt;dd&gt;Java vendor URL     * &lt;dt&gt;java.home            &lt;dd&gt;Java installation directory     * &lt;dt&gt;java.class.version   &lt;dd&gt;Java class version number     * &lt;dt&gt;java.class.path      &lt;dd&gt;Java classpath     * &lt;dt&gt;os.name              &lt;dd&gt;Operating System Name     * &lt;dt&gt;os.arch              &lt;dd&gt;Operating System Architecture     * &lt;dt&gt;os.version           &lt;dd&gt;Operating System Version     * &lt;dt&gt;file.separator       &lt;dd&gt;File separator ( on Unix)     * &lt;dt&gt;path.separator       &lt;dd&gt;Path separator (: on Unix)     * &lt;dt&gt;line.separator       &lt;dd&gt;Line separator (n on Unix)     * &lt;dt&gt;user.name            &lt;dd&gt;User account name     * &lt;dt&gt;user.home            &lt;dd&gt;User home directory     * &lt;dt&gt;user.dir             &lt;dd&gt;Users current working directory     * &lt;dl&gt;     *    private static Properties props;    private static native Properties initProperties(Properties props);    **     * Determines the current system properties.     * &lt;p&gt;     * First, if there is a security manager, its     * &lt;code&gt;checkPropertiesAccess&lt;code&gt; method is called with no     * arguments. This may result in a security exception.     * &lt;p&gt;     * The current set of system properties for use by the     * &#123;@link #getProperty(String)&#125; method is returned as a     * &lt;code&gt;Properties&lt;code&gt; object. If there is no current set of     * system properties, a set of system properties is first created and     * initialized. This set of system properties always includes values     * for the following keys:     * &lt;table summary=Shows property keys and associated values&gt;     * &lt;tr&gt;&lt;th&gt;Key&lt;th&gt;     *     &lt;th&gt;Description of Associated Value&lt;th&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.version&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Java Runtime Environment version&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vendor&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Java Runtime Environment vendor&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vendor.url&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Java vendor URL&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.home&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Java installation directory&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vm.specification.version&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Java Virtual Machine specification version&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vm.specification.vendor&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Java Virtual Machine specification vendor&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vm.specification.name&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Java Virtual Machine specification name&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vm.version&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Java Virtual Machine implementation version&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vm.vendor&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Java Virtual Machine implementation vendor&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.vm.name&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Java Virtual Machine implementation name&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.specification.version&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Java Runtime Environment specification  version&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.specification.vendor&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Java Runtime Environment specification  vendor&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.specification.name&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Java Runtime Environment specification  name&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.class.version&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Java class format version number&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.class.path&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Java class path&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.library.path&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;List of paths to search when loading libraries&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.io.tmpdir&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Default temp file path&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.compiler&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Name of JIT compiler to use&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;java.ext.dirs&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Path of extension directory or directories     *         &lt;b&gt;Deprecated.&lt;b&gt; &lt;i&gt;This property, and the mechanism     *            which implements it, may be removed in a future     *            release.&lt;i&gt; &lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;os.name&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Operating system name&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;os.arch&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Operating system architecture&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;os.version&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Operating system version&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;file.separator&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;File separator ( on UNIX)&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;path.separator&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Path separator (: on UNIX)&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;line.separator&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Line separator (n on UNIX)&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;user.name&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Users account name&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;user.home&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Users home directory&lt;td&gt;&lt;tr&gt;     * &lt;tr&gt;&lt;td&gt;&lt;code&gt;user.dir&lt;code&gt;&lt;td&gt;     *     &lt;td&gt;Users current working directory&lt;td&gt;&lt;tr&gt;     * &lt;table&gt;     * &lt;p&gt;     * Multiple paths in a system property value are separated by the path     * separator character of the platform.     * &lt;p&gt;     * Note that even if the security manager does not permit the     * &lt;code&gt;getProperties&lt;code&gt; operation, it may choose to permit the     * &#123;@link #getProperty(String)&#125; operation.     *     * @return     the system properties     * @exception  SecurityException  if a security manager exists and its     *             &lt;code&gt;checkPropertiesAccess&lt;code&gt; method doesnt allow access     *              to the system properties.     * @see        #setProperties     * @see        java.lang.SecurityException     * @see        java.lang.SecurityManager#checkPropertiesAccess()     * @see        java.util.Properties     *    public static Properties getProperties() &#123;        SecurityManager sm = getSecurityManager();        if (sm != null) &#123;            sm.checkPropertiesAccess();        &#125;        return props;    &#125;    **     * Returns the system-dependent line separator string.  It always     * returns the same value - the initial value of the &#123;@linkplain     * #getProperty(String) system property&#125; &#123;@code line.separator&#125;.     *     * &lt;p&gt;On UNIX systems, it returns &#123;@code n&#125;; on Microsoft     * Windows systems it returns &#123;@code rn&#125;.     *     * @return the system-dependent line separator string     * @since 1.7     *    public static String lineSeparator() &#123;        return lineSeparator;    &#125;    private static String lineSeparator;    **     * Sets the system properties to the &lt;code&gt;Properties&lt;code&gt;     * argument.     * &lt;p&gt;     * First, if there is a security manager, its     * &lt;code&gt;checkPropertiesAccess&lt;code&gt; method is called with no     * arguments. This may result in a security exception.     * &lt;p&gt;     * The argument becomes the current set of system properties for use     * by the &#123;@link #getProperty(String)&#125; method. If the argument is     * &lt;code&gt;null&lt;code&gt;, then the current set of system properties is     * forgotten.     *     * @param      props   the new system properties.     * @exception  SecurityException  if a security manager exists and its     *             &lt;code&gt;checkPropertiesAccess&lt;code&gt; method doesnt allow access     *              to the system properties.     * @see        #getProperties     * @see        java.util.Properties     * @see        java.lang.SecurityException     * @see        java.lang.SecurityManager#checkPropertiesAccess()     *    public static void setProperties(Properties props) &#123;        SecurityManager sm = getSecurityManager();        if (sm != null) &#123;            sm.checkPropertiesAccess();        &#125;        if (props == null) &#123;            props = new Properties();            initProperties(props);        &#125;        System.props = props;    &#125;    **     * Gets the system property indicated by the specified key.     * &lt;p&gt;     * First, if there is a security manager, its     * &lt;code&gt;checkPropertyAccess&lt;code&gt; method is called with the key as     * its argument. This may result in a SecurityException.     * &lt;p&gt;     * If there is no current set of system properties, a set of system     * properties is first created and initialized in the same manner as     * for the &lt;code&gt;getProperties&lt;code&gt; method.     *     * @param      key   the name of the system property.     * @return     the string value of the system property,     *             or &lt;code&gt;null&lt;code&gt; if there is no property with that key.     *     * @exception  SecurityException  if a security manager exists and its     *             &lt;code&gt;checkPropertyAccess&lt;code&gt; method doesnt allow     *              access to the specified system property.     * @exception  NullPointerException if &lt;code&gt;key&lt;code&gt; is     *             &lt;code&gt;null&lt;code&gt;.     * @exception  IllegalArgumentException if &lt;code&gt;key&lt;code&gt; is empty.     * @see        #setProperty     * @see        java.lang.SecurityException     * @see        java.lang.SecurityManager#checkPropertyAccess(java.lang.String)     * @see        java.lang.System#getProperties()     *    public static String getProperty(String key) &#123;        checkKey(key);        SecurityManager sm = getSecurityManager();        if (sm != null) &#123;            sm.checkPropertyAccess(key);        &#125;        return props.getProperty(key);    &#125;    **     * Gets the system property indicated by the specified key.     * &lt;p&gt;     * First, if there is a security manager, its     * &lt;code&gt;checkPropertyAccess&lt;code&gt; method is called with the     * &lt;code&gt;key&lt;code&gt; as its argument.     * &lt;p&gt;     * If there is no current set of system properties, a set of system     * properties is first created and initialized in the same manner as     * for the &lt;code&gt;getProperties&lt;code&gt; method.     *     * @param      key   the name of the system property.     * @param      def   a default value.     * @return     the string value of the system property,     *             or the default value if there is no property with that key.     *     * @exception  SecurityException  if a security manager exists and its     *             &lt;code&gt;checkPropertyAccess&lt;code&gt; method doesnt allow     *             access to the specified system property.     * @exception  NullPointerException if &lt;code&gt;key&lt;code&gt; is     *             &lt;code&gt;null&lt;code&gt;.     * @exception  IllegalArgumentException if &lt;code&gt;key&lt;code&gt; is empty.     * @see        #setProperty     * @see        java.lang.SecurityManager#checkPropertyAccess(java.lang.String)     * @see        java.lang.System#getProperties()     *    public static String getProperty(String key, String def) &#123;        checkKey(key);        SecurityManager sm = getSecurityManager();        if (sm != null) &#123;            sm.checkPropertyAccess(key);        &#125;        return props.getProperty(key, def);    &#125;    **     * Sets the system property indicated by the specified key.     * &lt;p&gt;     * First, if a security manager exists, its     * &lt;code&gt;SecurityManager.checkPermission&lt;code&gt; method     * is called with a &lt;code&gt;PropertyPermission(key, write)&lt;code&gt;     * permission. This may result in a SecurityException being thrown.     * If no exception is thrown, the specified property is set to the given     * value.     * &lt;p&gt;     *     * @param      key   the name of the system property.     * @param      value the value of the system property.     * @return     the previous value of the system property,     *             or &lt;code&gt;null&lt;code&gt; if it did not have one.     *     * @exception  SecurityException  if a security manager exists and its     *             &lt;code&gt;checkPermission&lt;code&gt; method doesnt allow     *             setting of the specified property.     * @exception  NullPointerException if &lt;code&gt;key&lt;code&gt; or     *             &lt;code&gt;value&lt;code&gt; is &lt;code&gt;null&lt;code&gt;.     * @exception  IllegalArgumentException if &lt;code&gt;key&lt;code&gt; is empty.     * @see        #getProperty     * @see        java.lang.System#getProperty(java.lang.String)     * @see        java.lang.System#getProperty(java.lang.String, java.lang.String)     * @see        java.util.PropertyPermission     * @see        SecurityManager#checkPermission     * @since      1.2     *    public static String setProperty(String key, String value) &#123;        checkKey(key);        SecurityManager sm = getSecurityManager();        if (sm != null) &#123;            sm.checkPermission(new PropertyPermission(key,                SecurityConstants.PROPERTY_WRITE_ACTION));        &#125;        return (String) props.setProperty(key, value);    &#125;    **     * Removes the system property indicated by the specified key.     * &lt;p&gt;     * First, if a security manager exists, its     * &lt;code&gt;SecurityManager.checkPermission&lt;code&gt; method     * is called with a &lt;code&gt;PropertyPermission(key, write)&lt;code&gt;     * permission. This may result in a SecurityException being thrown.     * If no exception is thrown, the specified property is removed.     * &lt;p&gt;     *     * @param      key   the name of the system property to be removed.     * @return     the previous string value of the system property,     *             or &lt;code&gt;null&lt;code&gt; if there was no property with that key.     *     * @exception  SecurityException  if a security manager exists and its     *             &lt;code&gt;checkPropertyAccess&lt;code&gt; method doesnt allow     *              access to the specified system property.     * @exception  NullPointerException if &lt;code&gt;key&lt;code&gt; is     *             &lt;code&gt;null&lt;code&gt;.     * @exception  IllegalArgumentException if &lt;code&gt;key&lt;code&gt; is empty.     * @see        #getProperty     * @see        #setProperty     * @see        java.util.Properties     * @see        java.lang.SecurityException     * @see        java.lang.SecurityManager#checkPropertiesAccess()     * @since 1.5     *    public static String clearProperty(String key) &#123;        checkKey(key);        SecurityManager sm = getSecurityManager();        if (sm != null) &#123;            sm.checkPermission(new PropertyPermission(key, write));        &#125;        return (String) props.remove(key);    &#125;    private static void checkKey(String key) &#123;        if (key == null) &#123;            throw new NullPointerException(key cant be null);        &#125;        if (key.equals()) &#123;            throw new IllegalArgumentException(key cant be empty);        &#125;    &#125;    **     * Gets the value of the specified environment variable. An     * environment variable is a system-dependent external named     * value.     *     * &lt;p&gt;If a security manager exists, its     * &#123;@link SecurityManager#checkPermission checkPermission&#125;     * method is called with a     * &lt;code&gt;&#123;@link RuntimePermission&#125;(getenv.+name)&lt;code&gt;     * permission.  This may result in a &#123;@link SecurityException&#125;     * being thrown.  If no exception is thrown the value of the     * variable &lt;code&gt;name&lt;code&gt; is returned.     *     * &lt;p&gt;&lt;a name=EnvironmentVSSystemProperties&gt;&lt;i&gt;System     * properties&lt;i&gt; and &lt;i&gt;environment variables&lt;i&gt;&lt;a&gt; are both     * conceptually mappings between names and values.  Both     * mechanisms can be used to pass user-defined information to a     * Java process.  Environment variables have a more global effect,     * because they are visible to all descendants of the process     * which defines them, not just the immediate Java subprocess.     * They can have subtly different semantics, such as case     * insensitivity, on different operating systems.  For these     * reasons, environment variables are more likely to have     * unintended side effects.  It is best to use system properties     * where possible.  Environment variables should be used when a     * global effect is desired, or when an external system interface     * requires an environment variable (such as &lt;code&gt;PATH&lt;code&gt;).     *     * &lt;p&gt;On UNIX systems the alphabetic case of &lt;code&gt;name&lt;code&gt; is     * typically significant, while on Microsoft Windows systems it is     * typically not.  For example, the expression     * &lt;code&gt;System.getenv(FOO).equals(System.getenv(foo))&lt;code&gt;     * is likely to be true on Microsoft Windows.     *     * @param  name the name of the environment variable     * @return the string value of the variable, or &lt;code&gt;null&lt;code&gt;     *         if the variable is not defined in the system environment     * @throws NullPointerException if &lt;code&gt;name&lt;code&gt; is &lt;code&gt;null&lt;code&gt;     * @throws SecurityException     *         if a security manager exists and its     *         &#123;@link SecurityManager#checkPermission checkPermission&#125;     *         method doesnt allow access to the environment variable     *         &lt;code&gt;name&lt;code&gt;     * @see    #getenv()     * @see    ProcessBuilder#environment()     *    public static String getenv(String name) &#123;        SecurityManager sm = getSecurityManager();        if (sm != null) &#123;            sm.checkPermission(new RuntimePermission(getenv.+name));        &#125;        return ProcessEnvironment.getenv(name);    &#125;    **     * Returns an unmodifiable string map view of the current system environment.     * The environment is a system-dependent mapping from names to     * values which is passed from parent to child processes.     *     * &lt;p&gt;If the system does not support environment variables, an     * empty map is returned.     *     * &lt;p&gt;The returned map will never contain null keys or values.     * Attempting to query the presence of a null key or value will     * throw a &#123;@link NullPointerException&#125;.  Attempting to query     * the presence of a key or value which is not of type     * &#123;@link String&#125; will throw a &#123;@link ClassCastException&#125;.     *     * &lt;p&gt;The returned map and its collection views may not obey the     * general contract of the &#123;@link Object#equals&#125; and     * &#123;@link Object#hashCode&#125; methods.     *     * &lt;p&gt;The returned map is typically case-sensitive on all platforms.     *     * &lt;p&gt;If a security manager exists, its     * &#123;@link SecurityManager#checkPermission checkPermission&#125;     * method is called with a     * &lt;code&gt;&#123;@link RuntimePermission&#125;(getenv.*)&lt;code&gt;     * permission.  This may result in a &#123;@link SecurityException&#125; being     * thrown.     *     * &lt;p&gt;When passing information to a Java subprocess,     * &lt;a href=#EnvironmentVSSystemProperties&gt;system properties&lt;a&gt;     * are generally preferred over environment variables.     *     * @return the environment as a map of variable names to values     * @throws SecurityException     *         if a security manager exists and its     *         &#123;@link SecurityManager#checkPermission checkPermission&#125;     *         method doesnt allow access to the process environment     * @see    #getenv(String)     * @see    ProcessBuilder#environment()     * @since  1.5     *    public static java.util.Map&lt;String,String&gt; getenv() &#123;        SecurityManager sm = getSecurityManager();        if (sm != null) &#123;            sm.checkPermission(new RuntimePermission(getenv.*));        &#125;        return ProcessEnvironment.getenv();    &#125;    **     * Terminates the currently running Java Virtual Machine. The     * argument serves as a status code; by convention, a nonzero status     * code indicates abnormal termination.     * &lt;p&gt;     * This method calls the &lt;code&gt;exit&lt;code&gt; method in class     * &lt;code&gt;Runtime&lt;code&gt;. This method never returns normally.     * &lt;p&gt;     * The call &lt;code&gt;System.exit(n)&lt;code&gt; is effectively equivalent to     * the call:     * &lt;blockquote&gt;&lt;pre&gt;     * Runtime.getRuntime().exit(n)     * &lt;pre&gt;&lt;blockquote&gt;     *     * @param      status   exit status.     * @throws  SecurityException     *        if a security manager exists and its &lt;code&gt;checkExit&lt;code&gt;     *        method doesnt allow exit with the specified status.     * @see        java.lang.Runtime#exit(int)     *    public static void exit(int status) &#123;        Runtime.getRuntime().exit(status);    &#125;    **     * Runs the garbage collector.     * &lt;p&gt;     * Calling the &lt;code&gt;gc&lt;code&gt; method suggests that the Java Virtual     * Machine expend effort toward recycling unused objects in order to     * make the memory they currently occupy available for quick reuse.     * When control returns from the method call, the Java Virtual     * Machine has made a best effort to reclaim space from all discarded     * objects.     * &lt;p&gt;     * The call &lt;code&gt;System.gc()&lt;code&gt; is effectively equivalent to the     * call:     * &lt;blockquote&gt;&lt;pre&gt;     * Runtime.getRuntime().gc()     * &lt;pre&gt;&lt;blockquote&gt;     *     * @see     java.lang.Runtime#gc()     *    public static void gc() &#123;        Runtime.getRuntime().gc();    &#125;    **     * Runs the finalization methods of any objects pending finalization.     * &lt;p&gt;     * Calling this method suggests that the Java Virtual Machine expend     * effort toward running the &lt;code&gt;finalize&lt;code&gt; methods of objects     * that have been found to be discarded but whose &lt;code&gt;finalize&lt;code&gt;     * methods have not yet been run. When control returns from the     * method call, the Java Virtual Machine has made a best effort to     * complete all outstanding finalizations.     * &lt;p&gt;     * The call &lt;code&gt;System.runFinalization()&lt;code&gt; is effectively     * equivalent to the call:     * &lt;blockquote&gt;&lt;pre&gt;     * Runtime.getRuntime().runFinalization()     * &lt;pre&gt;&lt;blockquote&gt;     *     * @see     java.lang.Runtime#runFinalization()     *    public static void runFinalization() &#123;        Runtime.getRuntime().runFinalization();    &#125;    **     * Enable or disable finalization on exit; doing so specifies that the     * finalizers of all objects that have finalizers that have not yet been     * automatically invoked are to be run before the Java runtime exits.     * By default, finalization on exit is disabled.     *     * &lt;p&gt;If there is a security manager,     * its &lt;code&gt;checkExit&lt;code&gt; method is first called     * with 0 as its argument to ensure the exit is allowed.     * This could result in a SecurityException.     *     * @deprecated  This method is inherently unsafe.  It may result in     *      finalizers being called on live objects while other threads are     *      concurrently manipulating those objects, resulting in erratic     *      behavior or deadlock.     * @param value indicating enabling or disabling of finalization     * @throws  SecurityException     *        if a security manager exists and its &lt;code&gt;checkExit&lt;code&gt;     *        method doesnt allow the exit.     *     * @see     java.lang.Runtime#exit(int)     * @see     java.lang.Runtime#gc()     * @see     java.lang.SecurityManager#checkExit(int)     * @since   JDK1.1     *    @Deprecated    public static void runFinalizersOnExit(boolean value) &#123;        Runtime.runFinalizersOnExit(value);    &#125;    **     * Loads the native library specified by the filename argument.  The filename     * argument must be an absolute path name.     *     * If the filename argument, when stripped of any platform-specific library     * prefix, path, and file extension, indicates a library whose name is,     * for example, L, and a native library called L is statically linked     * with the VM, then the JNI_OnLoad_L function exported by the library     * is invoked rather than attempting to load a dynamic library.     * A filename matching the argument does not have to exist in the     * file system.     * See the JNI Specification for more details.     *     * Otherwise, the filename argument is mapped to a native library image in     * an implementation-dependent manner.     *     * &lt;p&gt;     * The call &lt;code&gt;System.load(name)&lt;code&gt; is effectively equivalent     * to the call:     * &lt;blockquote&gt;&lt;pre&gt;     * Runtime.getRuntime().load(name)     * &lt;pre&gt;&lt;blockquote&gt;     *     * @param      filename   the file to load.     * @exception  SecurityException  if a security manager exists and its     *             &lt;code&gt;checkLink&lt;code&gt; method doesnt allow     *             loading of the specified dynamic library     * @exception  UnsatisfiedLinkError  if either the filename is not an     *             absolute path name, the native library is not statically     *             linked with the VM, or the library cannot be mapped to     *             a native library image by the host system.     * @exception  NullPointerException if &lt;code&gt;filename&lt;code&gt; is     *             &lt;code&gt;null&lt;code&gt;     * @see        java.lang.Runtime#load(java.lang.String)     * @see        java.lang.SecurityManager#checkLink(java.lang.String)     *    @CallerSensitive    public static void load(String filename) &#123;        Runtime.getRuntime().load0(Reflection.getCallerClass(), filename);    &#125;    **     * Loads the native library specified by the &lt;code&gt;libname&lt;code&gt;     * argument.  The &lt;code&gt;libname&lt;code&gt; argument must not contain any platform     * specific prefix, file extension or path. If a native library     * called &lt;code&gt;libname&lt;code&gt; is statically linked with the VM, then the     * JNI_OnLoad_&lt;code&gt;libname&lt;code&gt; function exported by the library is invoked.     * See the JNI Specification for more details.     *     * Otherwise, the libname argument is loaded from a system library     * location and mapped to a native library image in an implementation-     * dependent manner.     * &lt;p&gt;     * The call &lt;code&gt;System.loadLibrary(name)&lt;code&gt; is effectively     * equivalent to the call     * &lt;blockquote&gt;&lt;pre&gt;     * Runtime.getRuntime().loadLibrary(name)     * &lt;pre&gt;&lt;blockquote&gt;     *     * @param      libname   the name of the library.     * @exception  SecurityException  if a security manager exists and its     *             &lt;code&gt;checkLink&lt;code&gt; method doesnt allow     *             loading of the specified dynamic library     * @exception  UnsatisfiedLinkError if either the libname argument     *             contains a file path, the native library is not statically     *             linked with the VM,  or the library cannot be mapped to a     *             native library image by the host system.     * @exception  NullPointerException if &lt;code&gt;libname&lt;code&gt; is     *             &lt;code&gt;null&lt;code&gt;     * @see        java.lang.Runtime#loadLibrary(java.lang.String)     * @see        java.lang.SecurityManager#checkLink(java.lang.String)     *    @CallerSensitive    public static void loadLibrary(String libname) &#123;        Runtime.getRuntime().loadLibrary0(Reflection.getCallerClass(), libname);    &#125;    **     * Maps a library name into a platform-specific string representing     * a native library.     *     * @param      libname the name of the library.     * @return     a platform-dependent native library name.     * @exception  NullPointerException if &lt;code&gt;libname&lt;code&gt; is     *             &lt;code&gt;null&lt;code&gt;     * @see        java.lang.System#loadLibrary(java.lang.String)     * @see        java.lang.ClassLoader#findLibrary(java.lang.String)     * @since      1.2     *    public static native String mapLibraryName(String libname);    **     * Create PrintStream for stdouterr based on encoding.     *    private static PrintStream newPrintStream(FileOutputStream fos, String enc) &#123;       if (enc != null) &#123;            try &#123;                return new PrintStream(new BufferedOutputStream(fos, 128), true, enc);            &#125; catch (UnsupportedEncodingException uee) &#123;&#125;        &#125;        return new PrintStream(new BufferedOutputStream(fos, 128), true);    &#125;    **     * Initialize the system class.  Called after thread initialization.     *    private static void initializeSystemClass() &#123;         VM might invoke JNU_NewStringPlatform() to set those encoding         sensitive properties (user.home, user.name, boot.class.path, etc.)         during props initialization, in which it may need access, via         System.getProperty(), to the related system encoding property that         have been initialized (put into props) at early stage of the         initialization. So make sure the props is available at the         very beginning of the initialization and all system properties to         be put into it directly.        props = new Properties();        initProperties(props);   initialized by the VM         There are certain system configurations that may be controlled by         VM options such as the maximum amount of direct memory and         Integer cache size used to support the object identity semantics         of autoboxing.  Typically, the library will obtain these values         from the properties set by the VM.  If the properties are for         internal implementation use only, these properties should be         removed from the system properties.                 See java.lang.Integer.IntegerCache and the         sun.misc.VM.saveAndRemoveProperties method for example.                 Save a private copy of the system properties object that         can only be accessed by the internal implementation.  Remove         certain system properties that are not intended for public access.        sun.misc.VM.saveAndRemoveProperties(props);        lineSeparator = props.getProperty(line.separator);        sun.misc.Version.init();        FileInputStream fdIn = new FileInputStream(FileDescriptor.in);        FileOutputStream fdOut = new FileOutputStream(FileDescriptor.out);        FileOutputStream fdErr = new FileOutputStream(FileDescriptor.err);        setIn0(new BufferedInputStream(fdIn));        setOut0(newPrintStream(fdOut, props.getProperty(sun.stdout.encoding)));        setErr0(newPrintStream(fdErr, props.getProperty(sun.stderr.encoding)));         Load the zip library now in order to keep java.util.zip.ZipFile         from trying to use itself to load this library later.        loadLibrary(zip);         Setup Java signal handlers for HUP, TERM, and INT (where available).        Terminator.setup();         Initialize any miscellenous operating system settings that need to be         set for the class libraries. Currently this is no-op everywhere except         for Windows where the process-wide error mode is set before the java.io         classes are used.        sun.misc.VM.initializeOSEnvironment();         The main thread is not added to its thread group in the same         way as other threads; we must do it ourselves here.        Thread current = Thread.currentThread();        current.getThreadGroup().add(current);         register shared secrets        setJavaLangAccess();         Subsystems that are invoked during initialization can invoke         sun.misc.VM.isBooted() in order to avoid doing things that should         wait until the application class loader has been set up.         IMPORTANT: Ensure that this remains the last initialization action!        sun.misc.VM.booted();    &#125;    private static void setJavaLangAccess() &#123;         Allow privileged classes outside of java.lang        sun.misc.SharedSecrets.setJavaLangAccess(new sun.misc.JavaLangAccess()&#123;            public sun.reflect.ConstantPool getConstantPool(Class&lt;?&gt; klass) &#123;                return klass.getConstantPool();            &#125;            public boolean casAnnotationType(Class&lt;?&gt; klass, AnnotationType oldType, AnnotationType newType) &#123;                return klass.casAnnotationType(oldType, newType);            &#125;            public AnnotationType getAnnotationType(Class&lt;?&gt; klass) &#123;                return klass.getAnnotationType();            &#125;            public Map&lt;Class&lt;? extends Annotation&gt;, Annotation&gt; getDeclaredAnnotationMap(Class&lt;?&gt; klass) &#123;                return klass.getDeclaredAnnotationMap();            &#125;            public byte[] getRawClassAnnotations(Class&lt;?&gt; klass) &#123;                return klass.getRawAnnotations();            &#125;            public byte[] getRawClassTypeAnnotations(Class&lt;?&gt; klass) &#123;                return klass.getRawTypeAnnotations();            &#125;            public byte[] getRawExecutableTypeAnnotations(Executable executable) &#123;                return Class.getExecutableTypeAnnotationBytes(executable);            &#125;            public &lt;E extends Enum&lt;E&gt;&gt;                    E[] getEnumConstantsShared(Class&lt;E&gt; klass) &#123;                return klass.getEnumConstantsShared();            &#125;            public void blockedOn(Thread t, Interruptible b) &#123;                t.blockedOn(b);            &#125;            public void registerShutdownHook(int slot, boolean registerShutdownInProgress, Runnable hook) &#123;                Shutdown.add(slot, registerShutdownInProgress, hook);            &#125;            public int getStackTraceDepth(Throwable t) &#123;                return t.getStackTraceDepth();            &#125;            public StackTraceElement getStackTraceElement(Throwable t, int i) &#123;                return t.getStackTraceElement(i);            &#125;            public String newStringUnsafe(char[] chars) &#123;                return new String(chars, true);            &#125;            public Thread newThreadWithAcc(Runnable target, AccessControlContext acc) &#123;                return new Thread(target, acc);            &#125;            public void invokeFinalize(Object o) throws Throwable &#123;                o.finalize();            &#125;        &#125;);    &#125;&#125;\n\n","tags":["ç¼–ç¨‹","Java"],"path":"2019/09/06/Systemç±»/","external_link":""},{"title":"ä¸‰é˜¶é­”æ–¹è§£æ³•","date":"2019-09-12T10:09:12.000Z","content":"ä¸‰é˜¶é­”æ–¹è§£æ³•é¢„å¤‡ç¯‡ï¼šä¸‰é˜¶é­”æ–¹ç›¸å…³çŸ¥è¯†åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œç»Ÿä¸€ä½¿ç”¨å®˜æ–¹é…è‰²ï¼ˆä¸Šé»„ã€ä¸‹ç™½ã€å·¦æ©™ã€å³çº¢ã€å‰è“ã€åç»¿ï¼‰ï¼Œå¹¶åœ¨è¿˜åŸçš„è¿‡ç¨‹ä¸­ï¼Œç™½è‰²ä½œä¸ºåº•è‰²ã€‚\nä¸‹å›¾ä¸­ï¼ŒAã€Bã€Cåˆ†åˆ«è¡¨ç¤ºé¡¶å±‚ã€ä¸­å±‚ã€åº•å±‚ï¼›Dä¸ºä¸­å¿ƒå—ï¼Œåœ¨è¿˜åŸçš„è¿‡ç¨‹ä¸­ä»¥æ­¤ä½œä¸ºå‚ç…§è‰²ï¼ˆå³è¯¥é¢æ‰€æœ€ç»ˆè¿˜åŸçš„é¢œè‰²ï¼‰ï¼›Eä¸ºæ£±å—ï¼Œæ¯å—æœ‰ä¸¤ä¸ªé¢œè‰²ï¼›Fä¸ºè§’å—ï¼Œæ¯å—æœ‰ä¸‰ä¸ªé¢œè‰²ã€‚\nåœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œåˆ†åˆ«ç”¨Frontã€Backã€Leftã€Rightã€Upã€Downçš„é¦–å­—æ¯è¡¨ç¤ºå‰é¢ã€åé¢ã€å·¦é¢ã€å³é¢ã€ä¸Šé¢ã€ä¸‹é¢çš„é¡ºæ—¶é’ˆ90åº¦æ—‹è½¬ï¼Œå¸¦æ’‡å·çš„ä¸ºé€†æ—¶é’ˆ90åº¦é€†è½¬ï¼Œå¸¦æ•°å­—2çš„ä¸º180åº¦æ—‹è½¬ã€‚\n\n\nç¬¬ä¸€æ­¥ï¼šå®Œæˆåº•å±‚å››æ£±å­æ­¥éª¤ä¸€ï¼šæ‹¼æˆé»„å¿ƒç™½ç“£å°èŠ±å¦‚ä¸‹å›¾â‘ æ‰€ç¤ºï¼Œæˆ‘ä»¬åªè¦åœ¨é»„è‰²ä¸­å¿ƒå—çš„å››å‘¨çš„æ£±å—éƒ½æŒ¨ç€ç™½è‰²å³å¯ã€‚\nå¯¹äºåœ¨ä¸­å±‚çš„ç™½è‰²æ£±ï¼Œå¦‚â‘¡æ‰€ç¤ºï¼Œåªéœ€è½¬ä¸€ä¸ª90åº¦å³å¯å°†ç™½è‰²æœä¸Šï¼›å¯¹äºåœ¨é¡¶å±‚ã€åº•å±‚æœå¤–çš„ç™½è‰²æ£±ï¼Œå¦‚â‘¢æ‰€ç¤ºï¼Œå…ˆåœ¨ç™½è‰²æ‰€åœ¨é¢è½¬åŠ¨90åº¦åå˜æˆâ‘¡çš„æƒ…å†µå†å¤„ç†ï¼›è€Œåœ¨åº•å±‚æœä¸‹çš„ç™½è‰²æ£±ï¼Œå¦‚â‘£æ‰€ç¤ºï¼Œåˆ™é€šè¿‡180åº¦æ—‹è½¬å³å¯å°†ç™½è‰²æœä¸Šã€‚\nå€¼å¾—ç•™æ„çš„æ˜¯â‘¤ä¹‹ç±»çš„æƒ…å†µï¼Œå¦‚æœç›´æ¥è½¬90åº¦å°†ä¸­å±‚ç™½è‰²å—æœä¸Šï¼Œé‚£ä¹ˆä¼šç ´åæ‰ä¸Šæ–¹åŸå…ˆå·²æœ‰çš„ç™½è‰²å—ã€‚æ­¤æ—¶è¦å…ˆè½¬åŠ¨é¡¶å±‚ï¼ˆæ­¤ä¾‹ä¸ºUâ€™ï¼‰ï¼Œå°†ç©ºä½è½¬åˆ°å¯¹åº”ä½ç½®ï¼Œæ–¹å¯ä½¿è¯¥ç™½è‰²å—è½¬ä¸Šå»ã€‚\n\nå­æ­¥éª¤äºŒï¼šæ‰¾åˆ°ç›¸åº”é¢œè‰²å¹¶æ‰è½èŠ±ç“£å…ˆéšæ„é€‰å®šä¸€ä¸ªç™½è‰²æ£±ï¼ˆä¸‹å›¾ä»¥ç™½çº¢æ£±ä¸ºä¾‹ï¼‰ï¼Œè½¬åŠ¨é¡¶å±‚ï¼ˆæˆ–æ‰­è½¬ä¸­åº•å±‚ï¼‰ï¼Œç›´åˆ°è¯¥æ£±ä¾§é¢çš„é¢œè‰²ä¸ä¸­å¿ƒå—å»åˆæ—¶ï¼Œä»¥è¯¥ä¸­å¿ƒå—ä¸ºè½´è½¬åŠ¨180åº¦ï¼Œä½¿å…¶è½åˆ°ç™½è‰²ä¸­å¿ƒæ—è¾¹ã€‚ç”¨åŒæ ·çš„æ–¹æ³•å¤„ç†å…¶ä»–ä¸‰ä¸ªæ£±ä¹‹åï¼Œåœ¨åº•å±‚ä¼šå½¢æˆç™½è‰²çš„åå­—ï¼Œæ£±çš„ä¾§é¢ä¹Ÿä¸ä¸­å¿ƒå—ç›¸è¿ã€‚\n\nç¬¬äºŒæ­¥ï¼šå®Œæˆåº•å±‚å››è§’è¿™ä¸€æ­¥æˆ‘ä»¬ä¸ä»…è¦è®©ç™½è‰²çš„å››è§’å…¨éƒ½èšé›†åœ¨ä¸‹é¢ï¼Œè¿˜è¦ç•™æ„å…¶è§’å—ä¾§é¢çš„é¢œè‰²ä¹Ÿè¦å»åˆã€‚\nå¦‚ä¸‹å›¾çš„ä¸ŠåŠéƒ¨åˆ†æ‰€ç¤ºï¼Œæˆ‘ä»¬å…ˆåœ¨é¡¶å±‚å¯»æ‰¾å«ç™½è‰²çš„è§’å—ï¼ŒåŒæ—¶è§‚å¯Ÿè¯¥è§’å—å¦å¤–ä¸¤ç§é¢œè‰²ï¼Œè½¬åŠ¨é¡¶å±‚ï¼ˆæˆ–æ‰­è½¬ä¸­åº•å±‚ï¼‰ï¼Œä½¿ä¹‹å¤„åœ¨ç›¸åº”é¢œè‰²çš„ä¸¤ä¸ªä¸­å¿ƒå—ä¹‹é—´ã€‚\nå½“è§’å—è½¬åˆ°ç›¸åº”ä½ç½®åï¼Œè§‚å¯Ÿç™½è‰²çš„æœå‘ï¼Œåšç›¸åº”çš„å…¬å¼ï¼š\nâ‘ ä¸ºç™½è‰²æœå³ï¼ŒåšUâ€™ Fâ€™ U Fï¼›â‘¡ä¸ºç™½è‰²æœå‰ï¼ŒåšU R Uâ€™ Râ€™ï¼›â‘¢ä¸ºç™½è‰²æœä¸Šï¼Œåšä¸‰éçš„å…¬å¼â‘ ã€‚å½“é¡¶å±‚æ— ä»»ä½•ç™½è‰²è§’å—æ—¶ï¼Œæ­¤æ—¶å†è§‚å¯Ÿåº•å±‚æœ‰æ— é”™è¯¯æœå‘æˆ–ä½ç½®çš„ç™½è‰²è§’å—ï¼š\nâ‘£åœ¨åº•å±‚ï¼Œç™½è‰²æœå³ï¼Œåšä¸¤éçš„å…¬å¼â‘ ï¼›â‘¤åœ¨åº•å±‚ï¼Œç™½è‰²æœå‰ï¼Œåšä¸¤éçš„å…¬å¼â‘¡ï¼›â‘¥åœ¨åº•å±‚ï¼Œé”™è¯¯ä½ç½®è§’å—ï¼Œå…ˆåšå…¬å¼â‘ å°†å…¶èµ¶å›é¡¶å±‚ï¼Œç„¶åæ‰¾åˆ°ç›¸åº”æ­£ç¡®ä½ç½®è¿˜åŸã€‚ç”¨åŒæ ·çš„æ–¹æ³•å¤„ç†å…¶ä»–ä¸‰ä¸ªè§’ä¹‹åï¼Œåº•é¢ä¸ºå…¨ç™½è‰²ï¼Œä¾§é¢ä¼šå½¢æˆå€’Tå­—ã€‚\n\nç¬¬ä¸‰æ­¥ï¼šå®Œæˆä¸­å±‚å››æ£±å¦‚ä¸‹å›¾çš„ä¸ŠåŠéƒ¨åˆ†æ‰€ç¤ºï¼Œæˆ‘ä»¬å…ˆåœ¨é¡¶å±‚å¯»æ‰¾ä¸å«é»„è‰²çš„æ£±å—ï¼ŒåŒæ—¶è§‚å¯Ÿè¯¥æ£±å—å¦å¤–ä¸¤ç§é¢œè‰²ï¼Œè½¬åŠ¨é¡¶å±‚ï¼ˆæˆ–æ‰­è½¬ä¸­åº•å±‚ï¼‰ï¼Œä½¿ä¹‹æœå¤–çš„é¢œè‰²ä¸ä¸­å¿ƒå—ç›¸å»åˆã€‚\nå½“æ£±å—è½¬åˆ°ç›¸åº”ä½ç½®åï¼Œè§‚å¯Ÿæœ€ç»ˆæ‰€å½’çš„ç©ºä½ï¼Œå¹¶å°†ç©ºä½ç½®äºå³å‰æ–¹ï¼Œåšç›¸åº”çš„å…¬å¼ï¼ˆå‰é¢çš„å…¬å¼â‘ ä¸â‘¡ï¼Œåœ¨è¿™é‡Œç§°ä¸ºç”²ä¸ä¹™ï¼‰ï¼š\nâ‘ æƒ…å†µåšUâ€™ Fâ€™ U F U R Uâ€™ Râ€™ï¼ˆå…ˆç”²åä¹™ï¼‰ï¼›â‘¡æƒ…å†µåšU R Uâ€™ Râ€™ Uâ€™ Fâ€™ U Fï¼ˆå…ˆä¹™åç”²ï¼‰ï¼›å½“é¡¶å±‚å…¨ä¸ºæœ‰é»„è‰²çš„æ£±å—æ—¶ï¼Œæ­¤æ—¶å†è§‚å¯Ÿä¸­å±‚æœ‰æ— é”™è¯¯æœå‘æˆ–ä½ç½®çš„æ£±å—ï¼š\nâ‘¢ä¸â‘£æƒ…å†µï¼Œå…ˆåšç”²+ä¹™å°†å…¶èµ¶å›é¡¶å±‚ï¼Œç„¶åæ‰¾åˆ°ç›¸åº”æ­£ç¡®ä½ç½®è¿˜åŸã€‚ç”¨åŒæ ·çš„æ–¹æ³•å¤„ç†å…¶ä»–ä¸‰ä¸ªæ£±ä¹‹åï¼Œç¬¬äºŒå±‚å³å®Œæˆã€‚\n\nç¬¬å››æ­¥ï¼šå®Œæˆé¡¶é¢åå­—ç°åœ¨è§‚å¯Ÿé¡¶é¢çš„æ£±ä¸ä¸­å¿ƒå—æ‰€æ„æˆçš„å›¾å½¢ï¼ˆå¿½è§†è§’å—é»„è‰²æ˜¯å¦æœä¸Šä¸å¦ï¼‰åˆ†ä¸ºâ€œç‚¹ã€çº¿ã€æ‹ã€åå­—â€å››ç§æƒ…å†µã€‚æ‰¾åˆ°ç›¸åº”çš„æƒ…å†µå¹¶æŒ‰å›¾ç¤ºæœå‘æ‘†æ”¾åï¼ŒæŒ‰ç…§ä¸‹æµç¨‹å›¾æ¯æ¬¡åšRâ€™ Uâ€™ Fâ€™ U F Rï¼ˆRâ€™+ç”²+Rï¼‰ç›´åˆ°å˜æˆåå­—ä¸ºæ­¢ã€‚å…¶ä¸­â€œçº¿â€çš„æƒ…å†µè¿˜æœ‰ä¸€æ¡æ·å¾„ï¼Œå³F R U Râ€™ Uâ€™ Fâ€™ã€‚\nCube solve 7a.png\nç¬¬äº”æ­¥ï¼šè°ƒæ•´é¡¶æ£±é¡ºåºå…ˆè½¬åŠ¨é¡¶å±‚ï¼ˆæˆ–æ‰­è½¬ä¸­åº•å±‚ï¼‰ï¼Œç›´åˆ°è‡³å°‘æœ‰ä¸¤ä¸ªæ£±ä¾§é¢çš„é¢œè‰²ä¸ä¸­å¿ƒå—å»åˆã€‚\nç°åœ¨è§‚å¯Ÿå¦å¤–ä¸¤ä¸ªé”™è¯¯çš„æ£±å¤„äºç›¸é‚»è¿˜æ˜¯ç›¸å¯¹ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™æ­¤æ­¥è·³è¿‡ï¼›å¦‚æœæ˜¯ç›¸é‚»çš„ï¼Œåˆ™å°†ä¸¤ä¸ªé”™è¯¯çš„ç½®ä¸€å‰ä¸€å³ï¼Œåšä¸™å…¬å¼Uâ€™ Fâ€™ Uâ€™ F Uâ€™ Fâ€™ U2 Fï¼›å¦‚æœæ˜¯ç›¸å¯¹çš„ï¼Œåˆ™å°†ä¸¤ä¸ªé”™è¯¯çš„ç½®ä¸€å·¦ä¸€åï¼Œå…ˆåšä¸™å…¬å¼ï¼Œç„¶åè½¬ä¸‹é¡¶å±‚å˜ä¸ºç›¸é‚»çš„ï¼Œå†ç½®ä¸€å‰ä¸€å³åšä¸™å…¬å¼å®Œæˆã€‚\nCube solve 8.png\nç¬¬å…­æ­¥ï¼šè°ƒæ•´é¡¶è§’é¡ºåºè§‚å¯Ÿé¡¶è§’ï¼Œæ‰¾åˆ°åœ¨æ­£ç¡®ä½ç½®çš„ä¸€ä¸ªè§’ï¼ˆæœå‘æ˜¯å¦æ­£ç¡®æš‚æ—¶ä¸è€ƒè™‘ï¼‰ã€‚å¦‚æœå››è§’éƒ½åœ¨æ­£ç¡®ä½ç½®ï¼Œåˆ™æ­¤æ­¥è·³è¿‡ï¼›å¦‚æœåªæœ‰ä¸€ä¸ªï¼Œåˆ™å°†æ­£ç¡®çš„è§’ç½®äºå·¦å‰æ–¹ï¼Œåšä¸å…¬å¼Uâ€™ Lâ€™ U R Uâ€™ L U Râ€™ï¼ˆåšä¸€éä»æœªæˆåŠŸåˆ™å†åšç¬¬äºŒéï¼‰ï¼›å¦‚æœæ²¡æœ‰ä¸€ä¸ªè§’åœ¨æ­£ç¡®ä½ç½®ï¼Œåˆ™å…ˆåšä¸å…¬å¼ç„¶åå˜æˆæœ‰ä¸€ä¸ªè§’åœ¨æ­£ç¡®ä½ç½®å†ç›¸åº”å¤„ç†ã€‚\nCube solve 9.png\nç¬¬ä¸ƒæ­¥ï¼šè°ƒæ•´é¡¶è§’æœå‘æ­¤æ—¶æˆ‘ä»¬ç»Ÿä¸€å°†è“è‰²ä¸­å¿ƒå—ä¿æŒå‰é¢æ”¾ç½®ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯åœ¨æ“ä½œçš„è¿‡ç¨‹ä¸­é­”æ–¹çš„åº•å±‚ä¼šè¢«æš‚æ—¶æ€§æ‰“ä¹±ï¼Œä¸è¿‡ä¸è¦ç´§ï¼Œåªè¦æ­£ç¡®æ“ä½œå®Œåé­”æ–¹ä¼šæ­£å¸¸è¿˜åŸã€‚\nè§‚å¯Ÿé¡¶å±‚å‰å³æ–¹çš„è§’å—çš„é»„è‰²æœå‘ï¼ŒåšæˆŠå…¬å¼Fâ€™ R F Râ€™äºŒæˆ–å››éä½¿é»„è‰²æœä¸Šã€‚å®Œæˆä¸€ä¸ªè§’å—çš„æœå‘å¤„ç†ä¹‹åï¼Œè¦è½¬åŠ¨é¡¶å±‚ï¼ˆUã€Uâ€™ã€U2ï¼‰ï¼Œå¹¶ä¿æŒè“è‰²ä¸­å¿ƒå—åœ¨å‰é¢ä¸åŠ¨ï¼Œå†å¤„ç†å…¶ä»–è§’å—æœå‘ã€‚(åœ¨æ¯ä¸€è§’è½éƒ½è¦æ‰­)\nCube solve 10.png\nç»´åŸºç™¾ç§‘\n","tags":["é­”æ–¹"],"path":"2019/09/12/ä¸‰é˜¶é­”æ–¹è§£æ³•/","external_link":""},{"title":"gitæ•™ç¨‹","date":"2019-08-16T07:47:37.000Z","content":"åç§°git - æ„šè ¢çš„å†…å®¹è·Ÿè¸ªå™¨\næ¦‚è¦git [--version] [ -  help] [-C &lt;path&gt;] [-c &lt;name&gt; = &lt;value&gt;]\n    [--exec-path [= &lt;path&gt;]] [--html-path] [--man-path] [--info-path]\n    [-p | --paginate | -P | --no-pager] [ -  no-replace-objects] [--bare]\n    [--git-dir = &lt;path&gt;] [ -  work-tree = &lt;path&gt;] [--namespace = &lt;name&gt;]\n    [--superå‰ç¼€= &lt;è·¯å¾„&gt;]\n    &lt;command&gt; [&lt;args&gt;]æè¿°Gitæ˜¯ä¸€ä¸ªå¿«é€Ÿï¼Œå¯æ‰©å±•çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå…·æœ‰å¼‚å¸¸ä¸°å¯Œçš„å‘½ä»¤é›†ï¼Œå¯æä¾›é«˜çº§æ“ä½œå’Œå¯¹å†…éƒ¨çš„å®Œå…¨è®¿é—®ã€‚\nè¯·å‚é˜…gittutorial [7]ä»¥å¼€å§‹ä½¿ç”¨ï¼Œç„¶åæŸ¥çœ‹ giteveryday [7]ä»¥è·å–æœ‰ç”¨çš„æœ€å°å‘½ä»¤é›†ã€‚åœ¨Gitçš„ç”¨æˆ·æ‰‹å†Œæœ‰ä¸€ä¸ªæ›´æ·±å…¥çš„ä»‹ç»ã€‚\næŒæ¡äº†åŸºæœ¬æ¦‚å¿µåï¼Œæ‚¨å¯ä»¥å›åˆ°æ­¤é¡µé¢äº†è§£Gitæä¾›çš„å‘½ä»¤ã€‚æ‚¨å¯ä»¥ä½¿ç”¨â€œgit help commandâ€äº†è§£æœ‰å…³å„ä¸ªGitå‘½ä»¤çš„æ›´å¤šä¿¡æ¯ã€‚ gitcli [7] æ‰‹å†Œé¡µæ¦‚è¿°äº†å‘½ä»¤è¡Œå‘½ä»¤è¯­æ³•ã€‚\nå¯ä»¥åœ¨ä»¥ä¸‹ä½ç½®æŸ¥çœ‹æœ€æ–°Gitæ–‡æ¡£çš„æ ¼å¼åŒ–å’Œè¶…é“¾æ¥å‰¯æœ¬https:git.github.iohtmldocsgit.htmlã€‚\nOPTIONS\nç‰ˆæ‰“å°gitç¨‹åºæ¥è‡ªçš„Gitå¥—ä»¶ç‰ˆæœ¬ã€‚\n\næ•‘å‘½æ‰“å°æ¦‚è¦å’Œæœ€å¸¸ç”¨å‘½ä»¤çš„åˆ—è¡¨ã€‚å¦‚æœé€‰æ‹©â€“allæˆ–-aå·²ç»™å‡ºï¼Œåˆ™æ‰“å°æ‰€æœ‰å¯ç”¨å‘½ä»¤ã€‚å¦‚æœå‘½åäº†Gitå‘½ä»¤ï¼Œåˆ™æ­¤é€‰é¡¹å°†æ˜¾ç¤ºè¯¥å‘½ä»¤çš„æ‰‹å†Œé¡µã€‚\n\n\nå…¶ä»–é€‰é¡¹å¯ç”¨äºæ§åˆ¶æ‰‹å†Œé¡µçš„æ˜¾ç¤ºæ–¹å¼ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…git-help [1]ï¼Œå› ä¸ºgit â€“help â€¦å†…éƒ¨è½¬æ¢ä¸ºgit help â€¦ã€‚\n-C &lt;è·¯å¾„&gt;è¿è¡Œå°±å¥½åƒgitæ˜¯åœ¨è€Œä¸æ˜¯å½“å‰å·¥ä½œç›®å½•ä¸­å¯åŠ¨çš„ã€‚å½“-Cç»™å‡ºå¤šä¸ªé€‰é¡¹æ—¶ï¼Œ-C ç›¸å¯¹äºå‰é¢çš„æ¯ä¸ªåç»­éç»å¯¹å€¼è¢«è§£é‡Š-C ã€‚å¦‚æœå­˜åœ¨ä½†æ˜¯ä¸ºç©ºï¼Œä¾‹å¦‚-C â€œâ€ï¼Œåˆ™ä¿æŒå½“å‰å·¥ä½œç›®å½•ä¸å˜ã€‚\næ­¤é€‰é¡¹ä¼šå½±å“é¢„æœŸçš„è·¯å¾„åçš„é€‰é¡¹ä¸€æ ·â€“git-dirï¼Œå¹¶ â€“work-treeåœ¨ä»–ä»¬çš„è·¯å¾„åçš„è§£é‡Šï¼Œå°†ç›¸å¯¹äºæ‰€é€ æˆçš„å·¥ä½œç›®å½•è¿›è¡Œ-Cé€‰æ‹©ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹è°ƒç”¨æ˜¯ç­‰æ•ˆçš„ï¼š\ngit --git-dir = a.git --work-tree = b -C c status\ngit --git-dir = c  a.git --work-tree = c  b status-c  = å°†é…ç½®å‚æ•°ä¼ é€’ç»™å‘½ä»¤ã€‚ç»™å®šçš„å€¼å°†è¦†ç›–é…ç½®æ–‡ä»¶ä¸­çš„å€¼ã€‚çš„æ ¼å¼ä¸git configåˆ—å‡ºçš„æ ¼å¼ç›¸åŒ ï¼ˆä»¥ç‚¹åˆ†éš”çš„å­é”®ï¼‰ã€‚\nè¯·æ³¨æ„ï¼Œå…è®¸çœç•¥=in git -c foo.bar â€¦å¹¶è®¾ç½® foo.barä¸ºå¸ƒå°”å€¼trueï¼ˆå°±åƒ[foo]baråœ¨é…ç½®æ–‡ä»¶ä¸­ä¸€æ ·ï¼‰ã€‚åŒ…æ‹¬equalsä½†ç©ºå€¼ï¼ˆå¦‚git -c foo.bar= â€¦ï¼‰è®¾ç½®foo.barä¸ºgit config â€“type=boolå°†è½¬æ¢ä¸ºçš„ç©ºå­—ç¬¦ä¸²falseã€‚\nâ€“execè·¯å¾„[= &lt;è·¯å¾„&gt;]å®‰è£…æ ¸å¿ƒGitç¨‹åºçš„è·¯å¾„ã€‚è¿™ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®GIT_EXEC_PATHç¯å¢ƒå˜é‡æ¥æ§åˆ¶ã€‚å¦‚æœæ²¡æœ‰ç»™å‡ºè·¯å¾„ï¼Œgitå°†æ‰“å°å½“å‰è®¾ç½®ç„¶åé€€å‡ºã€‚\nâ€“htmlè·¯å¾„æ‰“å°è·¯å¾„ï¼Œä¸å¸¦æ–œæ ï¼Œå®‰è£…Gitçš„HTMLæ–‡æ¡£å¹¶é€€å‡ºã€‚\nâ€“manè·¯å¾„æ‰“å°manpathï¼ˆè¯·å‚é˜…å‚è€ƒèµ„æ–™man(1)ï¼‰è·å–æ­¤ç‰ˆæœ¬Gitçš„æ‰‹å†Œé¡µå¹¶é€€å‡ºã€‚\nâ€“infoè·¯å¾„æ‰“å°å®‰è£…è®°å½•æ­¤ç‰ˆæœ¬Gitçš„Infoæ–‡ä»¶çš„è·¯å¾„å¹¶é€€å‡ºã€‚\n-pâ€“paginateå¦‚æœæ ‡å‡†è¾“å‡ºæ˜¯ç»ˆç«¯ï¼Œåˆ™å°†æ‰€æœ‰è¾“å‡ºä¼ è¾“åˆ°è¾ƒå°‘ï¼ˆæˆ–å¦‚æœè®¾ç½®ä¸º$ PAGERï¼‰ã€‚è¿™å°†è¦†ç›–pager. é…ç½®é€‰é¡¹ï¼ˆè¯·å‚é˜…ä¸‹é¢çš„â€œé…ç½®æœºåˆ¶â€éƒ¨åˆ†ï¼‰ã€‚\n-Pâ€“noå¯»å‘¼æœºä¸è¦å°†Gitè¾“å‡ºä¼ è¾“åˆ°å¯»å‘¼æœºã€‚\nâ€“git-DIR = &lt;è·¯å¾„&gt;è®¾ç½®å­˜å‚¨åº“çš„è·¯å¾„ã€‚è¿™ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®GIT_DIRç¯å¢ƒå˜é‡æ¥æ§åˆ¶ã€‚å®ƒå¯ä»¥æ˜¯å½“å‰å·¥ä½œç›®å½•çš„ç»å¯¹è·¯å¾„æˆ–ç›¸å¯¹è·¯å¾„ã€‚\n\nå…±åŒåŠªåŠ›æ ‘= &lt;è·¯å¾„&gt;è®¾ç½®å·¥ä½œæ ‘çš„è·¯å¾„ã€‚å®ƒå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„æˆ–ç›¸å¯¹äºå½“å‰å·¥ä½œç›®å½•çš„è·¯å¾„ã€‚è¿™ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®GIT_WORK_TREEç¯å¢ƒå˜é‡å’Œcore.worktreeé…ç½®å˜é‡æ¥æ§åˆ¶ï¼ˆæœ‰å…³æ›´è¯¦ç»†çš„è®¨è®ºï¼Œè¯·å‚é˜…git-config [1]ä¸­çš„core.worktree ï¼‰ã€‚\n\nâ€“namespace = &lt;è·¯å¾„&gt;è®¾ç½®Gitåç§°ç©ºé—´ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…gitnamespaces [7]ã€‚ç›¸å½“äºè®¾ç½®GIT_NAMESPACEç¯å¢ƒå˜é‡ã€‚\nâ€“superå‰ç¼€= &lt;è·¯å¾„&gt;ç›®å‰ä»…ä¾›å†…éƒ¨ä½¿ç”¨ã€‚è®¾ç½®ä¸€ä¸ªå‰ç¼€ï¼Œè¯¥å‰ç¼€æä¾›ä»å­˜å‚¨åº“ä¸Šæ–¹åˆ°å…¶æ ¹ç›®å½•çš„è·¯å¾„ã€‚ä¸€ä¸ªç”¨é€”æ˜¯ç»™å‡ºè°ƒç”¨å®ƒçš„è¶…çº§é¡¹ç›®çš„å­æ¨¡å—ä¸Šä¸‹æ–‡ã€‚\n\nè£¸å°†å­˜å‚¨åº“è§†ä¸ºè£¸å­˜å‚¨åº“ã€‚å¦‚æœæœªè®¾ç½®GIT_DIRç¯å¢ƒï¼Œåˆ™å°†å…¶è®¾ç½®ä¸ºå½“å‰å·¥ä½œç›®å½•ã€‚\n\nâ€“noæ›¿æ¢å¯¹è±¡ä¸è¦ä½¿ç”¨æ›¿æ¢å¼•ç”¨æ¥æ›¿æ¢Gitå¯¹è±¡ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… git-replace [1]ã€‚\nâ€“literalæŒ‰æœ¬ä¹‰ï¼ŒpathspecsæŒ‰å­—é¢æ„æ€å¤„ç†pathspecsï¼ˆå³æ²¡æœ‰globbingï¼Œæ²¡æœ‰pathspecé­”æ³•ï¼‰ã€‚è¿™ç›¸å½“äºå°†GIT_LITERAL_PATHSPECSç¯å¢ƒå˜é‡è®¾ç½®ä¸º1ã€‚\nâ€“glob-pathspecsä¸ºæ‰€æœ‰pathspecæ·»åŠ â€œglobâ€é­”æ³•ã€‚è¿™ç›¸å½“äºå°†GIT_GLOB_PATHSPECSç¯å¢ƒå˜é‡è®¾ç½®ä¸º1ã€‚å¯ä»¥ä½¿ç”¨pathspec magicâ€œ:( literalï¼‰â€åœ¨å„ä¸ªpathspecä¸Šç¦ç”¨é€šé…ç¬¦\nâ€“noglob-pathspecsä¸ºæ‰€æœ‰pathspecæ·»åŠ â€œliteralâ€é­”æ³•ã€‚è¿™ç›¸å½“äºå°†GIT_NOGLOB_PATHSPECSç¯å¢ƒå˜é‡è®¾ç½®ä¸º1ã€‚å¯ä»¥ä½¿ç”¨pathspec magicâ€œ:( globï¼‰â€åœ¨å„ä¸ªpathspecä¸Šå¯ç”¨globbing\nâ€“icase-pathspecsä¸ºæ‰€æœ‰pathspecæ·»åŠ â€œicaseâ€é­”æ³•ã€‚è¿™ç›¸å½“äºå°†GIT_ICASE_PATHSPECSç¯å¢ƒå˜é‡è®¾ç½®ä¸º1ã€‚\nâ€“no-å¯é€‰é”ä¸è¦æ‰§è¡Œéœ€è¦é”å®šçš„å¯é€‰æ“ä½œã€‚è¿™ç›¸å½“äºè®¾ç½®GIT_OPTIONAL_LOCKSä¸º0ã€‚\nâ€“list-CMDS =åŸºå›¢[ï¼Œç»„â€¦]æŒ‰ç»„åˆ—å‡ºå‘½ä»¤ã€‚è¿™æ˜¯ä¸€ä¸ªå†…éƒ¨å®éªŒé€‰é¡¹ï¼Œå¯èƒ½ä¼šåœ¨å°†æ¥æ›´æ”¹æˆ–åˆ é™¤ã€‚æ”¯æŒçš„ç»„åŒ…æ‹¬ï¼šbuiltinsï¼Œparseoptï¼ˆä½¿ç”¨parse-optionsçš„å†…ç½®å‘½ä»¤ï¼‰ï¼Œmainï¼ˆlibexecç›®å½•ä¸­çš„æ‰€æœ‰å‘½ä»¤ï¼‰ï¼Œå…¶ä»–ï¼ˆæ‰€æœ‰å…¶ä»–å‘½ä»¤$PATHéƒ½æœ‰git-å‰ç¼€ï¼‰ï¼Œlist- ï¼ˆè¯·å‚é˜…å‘½ä»¤ä¸­çš„ç±»åˆ« - list.txtï¼‰ï¼Œnohelpersï¼ˆæ’é™¤å¸®åŠ©ç¨‹åºå‘½ä»¤ï¼‰ï¼Œåˆ«åå’Œé…ç½®ï¼ˆä»é…ç½®å˜é‡completion.commandsæ£€ç´¢å‘½ä»¤åˆ—è¡¨ï¼‰\n","tags":["æ–‡ç« ","git"],"path":"2019/08/16/gitæ•™ç¨‹/","external_link":""},{"title":"ä½ ä¹Ÿèƒ½æ‡‚ç›¸å¯¹è®º","date":"2019-09-08T11:25:53.000Z","content":"\nç›¸å¯¹è®º\nå…‰çº¿åœ¨é€šè¿‡å¼ºå¼•åŠ›åœºé™„è¿‘æ—¶ä¼šå‘ç”Ÿå¼¯æ›²ï¼Œè¿™æ˜¯å¹¿ä¹‰ç›¸å¯¹è®ºçš„é‡è¦é¢„è¨€ä¹‹ä¸€\n\n\nå¦‚æœæˆ‘è¯´ï¼Œç›¸å¯¹è®ºä¸æ—¥å¸¸ç”Ÿç”¨æ¯æ¯ç›¸å…³ï¼Œä½ ä¼šä¿¡å—ï¼Ÿæˆ–è®¸å°±ç®—æˆ‘æ˜¯ä¸€ä½çŸ¥åçš„ç‰©ç†å­¦æ•™æˆï¼Œè¯´æœåŠ›ç›¸ä¿¡ä¹Ÿä¸ä¼šå¤§å¾—å¤šå°‘ã€‚ä»¥ä¸‹æˆ‘å°†è¦ç”¨æ¯”è¾ƒæµ…ç™½ç®€å•çš„æ–‡å­—å’Œå°‘è®¸åˆç­‰ä»£æ•°ï¼Œè¯´æ˜å¹¶è¯´æœå¤§å®¶ï¼Œç›¸å¯¹è®ºå¹¶ä¸éš¾æ‡‚ï¼Œè€Œä¸”å®ƒåœ¨æ—¥å¸¸ç»éªŒä¸­æ˜¯å¦‚æ­¤çš„æ˜æ˜¾ã€å¦‚æ­¤çš„å¿…è¦ï¼\n1905 å¹´è¢«ç§°ä¸ºçˆ±å› æ–¯å¦çš„ã€Œå¥‡è¿¹å¹´ã€ï¼Œçˆ±å› æ–¯å¦å‘ä¸–ç•Œæå‡ºäº†ä¸€å¥—éå¸¸æ˜æ˜¾ã€éå¸¸åˆç†ï¼Œä½†å´ä¸€ç›´ä¸ä¸ºäººæ‰€ç†è§£çš„ç†è®ºç‹­ä¹‰ç›¸å¯¹è®º(special relativity)ã€‚è¢«ç§°ä¸ºã€Œç‹­ä¹‰ã€æ˜¯å› ä¸ºè¿™ä¸ªç†è®ºåªåœ¨æƒ¯æ€§åº§æ ‡ç³»ä¸­é€‚ç”¨ï¼›æ¢å¥è¯è¯´ï¼Œå³æ˜¯åœ¨æ‰€æœ‰æ²¡æœ‰åŠ é€Ÿåº¦çš„ç³»ç»Ÿä¸­éƒ½é€‚ç”¨ã€‚ç‹­ä¹‰ç›¸å¯¹è®ºå»ºåŸºäºä¸¤å¤§å‡è®¾ï¼š\n\nåœ¨æ‰€æœ‰çš„æƒ¯æ€§ç³»ç»Ÿä¸­ï¼Œæ‰€æœ‰æœ‰ç‰©ç†å®šå¾‹ä¿æŒä¸å˜ã€‚\nå¯¹äºæ‰€æœ‰ç³»ç»Ÿä¸­çš„æ‰€æœ‰è§‚æµ‹è€…ï¼Œå…‰é€Ÿæ°¸è¿œä¸å˜ï¼Œè€Œä¸”ä¸æ˜¯æ— é™å¿«çš„ã€‚\n\nå‡è®¾(ä¸€)ã€Œæ‰€æœ‰è‡ªç„¶å®šå¾‹ä¸å˜ã€ä¸€èˆ¬è¢«ç§°ä¸ºç›¸å¯¹æ€§åŸç†(principle of relativity)ï¼Œæ˜æ˜¾æ¯”è¾ƒåˆç†ï¼Œä¹Ÿæ¯”è¾ƒå®¹æ˜“ç†è§£ã€‚è€Œä¹çœ‹ä¹‹ä¸‹ï¼Œå…‰é€Ÿç›¸å¯¹äºæ‰€æœ‰äººéƒ½ä¸å˜ï¼Œè€Œä¸è®ºé‚£äººæ­£åœ¨é«˜é€Ÿå¥”è·‘æˆ–è€…é™æ­¢ä¸åŠ¨éƒ½æ²¡æœ‰å…³ç³»ï¼Œå°±æ˜¾å¾—è¾ƒä¸ºå¥‡æ€ªäº†ã€‚è¦ç†è§£è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦ç”±é€Ÿåº¦çš„æ„ä¹‰è¯´èµ·ã€‚é€Ÿåº¦ï¼Œå°±æ˜¯åœ¨è¯´ã€Œæ¯å•ä½æ—¶é—´å†…èµ°äº†å¤šè¿œã€ã€‚è¯´å¾—å†æµ…ç™½ä¸€ç‚¹ï¼Œå¯ä»¥æƒ³åƒä¸ºã€Œæ¯ç§’èµ°äº†å¤šå°‘ç±³(ms)ã€ã€‚ä½†è¿™åªæ˜¯æƒ¯ç”¨å•ä½çš„é—®é¢˜ï¼Œä½ å½“ç„¶å¯ä»¥æƒ³æˆã€Œæ¯å°æ—¶èµ°äº†å¤šå°‘å…¬é‡Œ(kmh)ã€ï¼Œè¿™æ­£æ˜¯å¸æœºä»¬æƒ¯ç”¨çš„å•ä½ã€‚åœ¨ç§‘å­¦ä¸­ï¼Œå•ä½æ˜¯è‡³å…³é‡è¦çš„ï¼Œå› ä¸ºä¸åŒå•ä½çš„ä¸œè¥¿å°±æ˜¯ä¸åŒæ€§è´¨çš„ä¸œè¥¿ï¼Œä¸å¯ä»¥æ··ä¸ºä¸€è°ˆçš„æ¯”è¾ƒï¼Œå¥½åƒä¸€ä¸ªè‹¹æœæ°¸è¿œä¸ä¼šç­‰äºä¸€ä¸ªæ©™ã€‚\nå‡è®¾(äºŒ)ã€Œå…‰é€Ÿç›¸å¯¹æ‰€æœ‰äººéƒ½ä¸å˜ã€ï¼Œå°±æ˜¯è¯´ç›¸å¯¹äºæ‰€æœ‰äººï¼Œå…‰åœ¨æ¯å•ä½æ—¶é—´å†…èµ°çš„è·ç¦»éƒ½ä¸€æ ·ã€‚å°±æ˜¯è¯´ï¼Œå½“ä½ å‘ç€ä¸€é“å…‰å¥”è·‘ï¼Œã€Œç›´è§‰ä¸Šã€ä½ ä¼šè®¤ä¸ºä½ æ‰€çœ‹åˆ°çš„å…‰é€Ÿæ¯”èµ·ä½ åœ¨é™æ­¢ä¸åŠ¨æ—¶å¿«ï¼Œå› ä¸ºåœ¨ä½ å‘å…‰è·‘å»çš„ã€ŒåŒæ—¶ã€ï¼Œå…‰äº¦å‘ç€ä½ å†²å»ã€‚æ¢æˆæ•°å­¦ä¸Šçš„è¡¨è¾¾ï¼Œå°±æ˜¯è¯´å¦‚æœä½ ç”¨é€Ÿåº¦  v å‘ç€å…‰å†²å»ï¼Œè€Œæˆ‘ä»¬ç”¨  c ä»£è¡¨ä½ åœ¨é™æ­¢æ—¶çœ‹åˆ°çš„å…‰é€Ÿï¼Œé‚£ä½ çœ‹åˆ°çš„å…‰é€Ÿå°±ä¼šå˜æˆäº†c + vã€‚è¿™å°±æ˜¯æ‰€è°“çš„ä¼½ä¿ç•¥å˜æ¢ï¼Œäº¦è¢«ä¸€èˆ¬äººå«åšã€Œå¸¸è¯†ã€ã€‚å½“ç„¶äº†å•Šï¼Œä¸¤ä¸ªç‰©ä»¶äº’ç›¸å†²å»ï¼Œå½“ç„¶ä¼šæ¯”å…¶ä¸­ä¸€ä¸ªä¸åŠ¨ã€æˆ–ä¸¤è€…äº’ç›¸è¿œç¦»å¿«å•Šã€‚ä½†æ˜¯ï¼Œçˆ±å› æ–¯å¦å´è¯´ä¸è®ºä½ ç”¨ä»€ä¹ˆé€Ÿåº¦ï¼Œå‘ç€å…‰æˆ–ç¦»å¼€å…‰ç§»åŠ¨ï¼Œä½ åˆ°çš„å…‰é€Ÿéƒ½ä»ç„¶ä¸º  cï¼Œä¸å¤šä¹Ÿä¸å°‘ï¼\nä½ ä¼šè¯´ï¼šã€Œè¿™æ€å¯èƒ½ï¼è¿™æ˜¯è¿åå¸¸è¯†çš„ï¼ã€æˆ‘çš„å›ç­”æ˜¯ï¼Œä¸€èˆ¬äººçš„å¸¸è¯†å­˜åœ¨éå¸¸æ˜æ˜¾çš„æ¼æ´ï¼Œå¯æ˜¯åœ¨çˆ±å› æ–¯å¦ä¹‹å‰å´ä¸€ç›´æ²¡æœ‰äººç•™æ„åˆ°è¿™ä¸ªä¸¥é‡çš„é”™è¯¯ï¼è¿™ä¸ªé”™è¯¯å°±æ˜¯ã€ŒåŒæ—¶ã€è¿™ä¸€æ¦‚å¿µçš„æ¼”ç»ã€‚ä»€ä¹ˆæ˜¯ã€ŒåŒæ—¶ã€ï¼Ÿå°±æ˜¯è¯´å¤§å®¶çš„æ—¶é’Ÿæ˜¾ç¤ºçš„æ—¶é—´éƒ½ä¸€æ ·å•Šï¼å¯¹ï¼Œè¿™ä¹Ÿæ˜¯çˆ±å› æ–¯å¦å¯¹ã€ŒåŒæ—¶ã€çš„ç†è§£ã€‚ä½†ç°åœ¨è¦å†é—®ä¸€é“é—®é¢˜ï¼Œå¦‚ä½•çŸ¥é“ä¸¤ä¸ªæ—¶é’Ÿçš„æ—¶é—´ä¸€æ ·ï¼Ÿ\né—®é¢˜åˆ°è‚‰äº†ï¼Œå¯æ˜¯ä½ ä¼šè§‰å¾—å¾ˆæ— èŠï¼šã€Œè¯´ä»€ä¹ˆåºŸè¯ï¼åªè¦æˆ‘çœ‹åˆ°ä¸¤ä¸ªé’Ÿçš„æŒ‡é’ˆæ‹ç€çš„æ—¶é—´å°±æ˜¯äº†ï¼ã€å¥½ï¼Œåœä¸€åœï¼Œæƒ³ä¸€æƒ³ï¼šæˆ‘ä»¬èƒ½ã€Œçœ‹ã€åˆ°ä¸œè¥¿ï¼Œæ˜¯å› ä¸ºå…‰è¿›å…¥åˆ°æˆ‘ä»¬çš„çœ¼çƒç©¿è¿‡æ°´æ™¶ä½“æŠ˜å°„åæŠ•å½±åœ¨è§†ç½‘è†œä¸Šã€‚æ€»è¨€ä¹‹ï¼Œæˆ‘ä»¬èƒ½çœ‹åˆ°ä¸œè¥¿ï¼Œæ˜¯å› ä¸ºæœ‰å…‰ã€‚å…‰ä»¥ä¸€å®šçš„é€Ÿåº¦å‰è¿›ï¼Œè€Œä¸”å› ä¸ºå…‰é€Ÿæœ‰é™ï¼Œå› æ­¤åœ¨ä¸åŒè·ç¦»å‘å‡ºçš„å…‰ç›¸å¯¹äºåŒä¸€ä¸ªè§‚æµ‹è€…è€Œè¨€ï¼Œä¼šåœ¨ä¸åŒæ—¶é—´åˆ°è¾¾ã€‚è¯•æƒ³åƒï¼Œä¸¤ä¸ªäººç›¸è·éå¸¸è¿œï¼Œè€Œä¸¤ä¸ªäººéƒ½å¸¦ç€ä¸€ä¸ªæ—¶é’Ÿï¼Œé‚£ä¹ˆå½“ç„¶ï¼Œä»»ä½•ä¸€æ–¹éƒ½ä¼šè§‰å¾—å¯¹æ–¹é‚£ä¸ªæ—¶é’Ÿæ‰€å‘å‡ºçš„å…‰ï¼Œä¼šæ¯”è‡ªå·±æ‰‹ä¸Šçš„æ—¶é’Ÿæ‰€å‘å‡ºçš„å…‰è¦ç”¨æ›´å¤šæ—¶é—´æ‰èƒ½è¿›å…¥ä½ çš„çœ¼ç›å§ï¼å¥½äº†ï¼Œæˆ‘å¸Œæœ›å¤§å®¶æƒ³æƒ³ï¼Œç©¶ç«Ÿäº‹å…ˆè¦å¦‚ä½•è°ƒæ•´ä¸¤ä¸ªæ—¶é’Ÿï¼Œæ‰èƒ½ä½¿ä½ å’Œå¯¹æ–¹éƒ½çœ‹åˆ°ä¸¤ä¸ªæ—¶é’Ÿæ˜¯åŒæ­¥çš„å‘¢ï¼Ÿå½“ç„¶ï¼Œè¿™æ˜¯åŠä¸åˆ°çš„ï¼å› ä¸ºä¸¤ä¸ªæ—¶é’Ÿç›¸è·ä¸¤ä¸ªäººçš„è·ç¦»éƒ½ä¸åŒã€‚è‹¥ç„¶ä½ çœ‹åˆ°å®ƒä»¬æ˜¯åŒæ­¥çš„ï¼Œå¯¹æ–¹å°±ä¼šçœ‹åˆ°ä»–æ‰‹ä¸Šçš„èµ°å¾—è¾ƒå¿«ï¼Œåä¹‹äº¦ç„¶ã€‚\nå¦‚æœä½ ä¸å¤ªç†è§£çš„è¯ï¼Œè¯·ä»å¤´æ€è€ƒä¸€æ¬¡ï¼Œå…ˆä¸è¦è·³è¿‡è¯»ä¸‹å»ï¼Œå› ä¸ºåˆšæ‰æ‰€è¯´çš„å°±æ˜¯ç›¸å¯¹è®ºçš„ç²¾é«“æ‰€åœ¨ã€‚é‡ç‚¹æ˜¯ï¼Œè¦çŸ¥é“ä¸–ç•Œä¸Šå¹¶æ²¡æœ‰ã€Œå¯¹æ‰€æœ‰äººéƒ½åŒæ—¶ã€è¿™ä¸ªæ¦‚å¿µå­˜åœ¨ï¼Œå› æ­¤ä¹Ÿå¯ä»¥è¯´ï¼Œã€ŒåŒæ—¶ã€è¿™ä¸ªæ¦‚å¿µå¯¹æ¯ä¸ªäººéƒ½ä¸åŒï¼›è¯´ã€Œå¯¹å¤§å®¶æ¥è¯´éƒ½æ˜¯åŒæ—¶ã€å°±æ˜¯é”™è¯¯çš„ï¼Œæ²¡æœ‰å¯èƒ½å‘ç”Ÿã€‚è¿™æ˜¯éå¸¸æ˜æ˜¾çš„ï¼Œä½†å´ä¸€ç›´è¢«æˆ‘ä»¬æ‰€å¿½ç•¥ã€‚è¿™å®Œå…¨æ˜¯å› ä¸ºå¯¹äºäººç±»çš„æ„Ÿè§‰æ¥è¯´ï¼Œå…‰é€Ÿ(æ¯ç§’ä¸‰åä¸‡å…¬é‡Œï¼Œèƒ½å¤Ÿç¯ç»•åœ°çƒä¸ƒä¸ªåŠåœˆ) å®åœ¨æ˜¯å¤ªå¿«ã€å¤ªå¿«äº†ã€‚\nå¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘è¦ä»‹ç»ç›¸å¯¹è®ºå¯¼è‡´çš„ä¸¤ä¸ªéå¸¸é‡è¦çš„ç»“æœï¼Œè¿™äº›ç»“æœä»¤äººç±»å¯¹æ—¶é—´åŠç©ºé—´çš„æ¦‚å¿µæœ‰äº†æ ¹æœ¬ä¸Šçš„æ”¹å˜ï¼šæ—¶é—´åŠç©ºé—´å…¶å®æ˜¯äº’ç›¸çº ç¼ ã€éš¾åˆ†éš¾ç¦»çš„ã€‚åœ¨è¿™éƒ¨åˆ†æˆ‘ä¼šä»¥æ•°å­¦è®ºè¯ï¼Œç‹­ä¹‰ç›¸å¯¹è®ºæ‰€æ¶‰åŠçš„æ•°å­¦éƒ½åªæ˜¯åŸºæœ¬æ•°å­¦è¿ç®—ä»¥åŠå‘é‡å¾®ç§¯åˆ†ï¼Œç›¸ä¿¡å¯¹æœ‰ä¼šè€ƒç‰©ç†æ ¹åŸºçš„æœ‹å‹æ¥è¯´ä¸ä¼šå¤ªéš¾ã€‚\n\nåœ¨æˆ‘ä»¬ç”Ÿæ´»çš„ä¸‰ç»´ç©ºé—´ä¸­ï¼Œæ¯ä¸€ä»¶äº‹ä»¶éƒ½å¯ä»¥ç”¨åº§æ ‡ç³»çš„å››ä¸ªå˜é‡å†³å®šï¼Œå°±æ˜¯(é•¿ï¼Œé˜”ï¼Œé«˜ï¼Œæ—¶é—´)ï¼Œæ•°å­¦è¡¨è¾¾ä¸º( x , y , z , t )ã€‚å‡è®¾åœ¨åº§æ ‡ç³»  S ä¸­æœ‰ä¸€åŸç‚¹  Oï¼Œåœ¨  S å†…è§‚æµ‹çš„äººéƒ½ä¼šå¯¹æ¯ä¸€ä»¶äº‹ä»¶æµ‹å¾—ä¸€ç»„åº§æ ‡( x , y , z , t )ï¼›è€Œç°åœ¨æœ‰å¦ä¸€åº§æ ‡ç³»Sâ€™æ­£åœ¨ç›¸å¯¹Sä»¥é€Ÿåº¦  v å‘å³ç§»åŠ¨ï¼Œå®ƒçš„åŸç‚¹  Oâ€™ åœ¨æ—¶é—´  t = 0çš„æ—¶å€™åˆšå¥½ä¸  Oé‡å ï¼Œè€Œåœ¨Sâ€™å†…è§‚æµ‹çš„äººéƒ½ä¼šå¯¹æ¯ä¸€ä»¶äº‹ä»¶æµ‹å¾—ä¸€ç»„åº§æ ‡( xâ€™ , yâ€™ , zâ€™ ,       tâ€™ )ã€‚é‚£ä¹ˆï¼Œåœ¨æˆ‘ä»¬çš„ã€Œå¸¸è¯†ã€ä¸­ï¼Œ ( x , y , z , t )ä¸ ( xâ€™ , yâ€™ , zâ€™ , tâ€™ )çš„å…³ç³»å°±æ˜¯ç”±ä¼½ä¿ç•¥å˜æ¢æ¥å†³å®šï¼š\n\nè¿™å°±æ˜¯æˆ‘ä»¬è®¤ä¸ºçš„ã€Œå¸¸è¯†ã€çš„æ•°å­¦è¡¨è¾¾æ–¹æ³•ã€‚ç•™æ„å½“ä¸­tâ€™ = tï¼Œå› ä¸ºåœ¨ä¼ ç»Ÿçš„è§‚å¿µé‡Œï¼Œã€ŒåŒæ—¶ã€è¿™æ¦‚å¿µä»ç„¶å­˜åœ¨ã€‚æ˜æ˜¾åœ°ï¼Œåœ¨ä¼½ä¿ç•¥å˜æ¢å½“ä¸­ï¼Œæ—¶é—´æ˜¯ç‹¬ç«‹åœ°æµé€çš„ï¼Œä¸ç©ºé—´( x , y , z )æ— å…³ã€‚å¯æ˜¯ï¼Œåœ¨ä¸Šæ–‡ä¸­æˆ‘ä»¬çŸ¥é“ã€ŒåŒæ—¶ã€æ˜¯ä¸å­˜åœ¨çš„ã€‚\n\næƒ³åƒå°æ˜ç«™åœ¨ä¸€èŠ‚æ­£åœ¨è¡Œè¿›çš„åˆ—è½¦è½¦å¢æ­£ä¸­é—´ï¼Œåœ¨è½¦å¤´åŠè½¦å°¾éƒ½æ‘†æ”¾äº†æ„Ÿåº”å™¨ã€‚ä»–å‘å·¦å³åŒæ—¶ç…§å°„å‡ºä¸¤é“å…‰æŸã€‚å¯¹å°æ˜æ¥è¯´ï¼Œè½¦å¢å¹¶æ²¡æœ‰ç§»åŠ¨ï¼Œæ‰€ä»¥ä»–ä¼šçœ‹åˆ°ä¸¤é“å…‰æŸåŒæ—¶åˆ°è¾¾æ„Ÿåº”å™¨ã€‚å¯æ˜¯ï¼Œå¯¹äºä¸€ä½ç«™åœ¨æœˆå°ä¸Šçš„äººæ¥è¯´ï¼Œå› ä¸ºåˆ—è½¦æ­£åœ¨å‘å³ç§»åŠ¨ï¼Œå³è¾¹çš„æ„Ÿåº”å™¨ä¸æ–­è¿œç¦»å…‰æŸï¼Œè€Œå·¦è¾¹çš„å°±ä¸æ–­é è¾¹å…‰æŸã€‚æ‰€ä»¥ä»–ä¼šçœ‹åˆ°å·¦è¾¹é‚£é“å…‰æŸé¦–å…ˆåˆ°è¾¾æ„Ÿåº”å™¨ã€‚å› æ­¤ï¼Œæ—¶é—´ä¼šå› ä¸ºè§‚æµ‹è€…çš„è¿åŠ¨çŠ¶æ€ä¸åŒè€Œæœ‰æ‰€åˆ†åˆ«ï¼Œè€Œä¸”è¿™æ˜¯éå¸¸æ˜æ˜¾çš„ï¼è¯·æ³¨æ„ï¼Œä¸Šè¿°ä¸¤ç§æƒ…å†µéƒ½æ˜¯æ­£ç¡®çš„ï¼Œæ²¡æœ‰è°å¯¹è°é”™ï¼Œå®Œå…¨å› ä¸ºè§‚ç‚¹ä¸è§’åº¦è€Œå·²ã€‚å›åˆ°  S å’Œ  Sâ€™ åº§æ ‡ç³»çš„è®¨è®ºï¼Œå› ä¸ºä¸¤ä¸ªåº§æ ‡ç³»çš„è¿åŠ¨çŠ¶æ€ä¸åŒï¼Œæ‰€ä»¥ä¼½ä¿ç•¥å˜æ¢å°±ä¸æ˜¯æ­£ç¡®çš„æè¿°äº†ï¼Œæˆ‘ä»¬å¿…é¡»æ”¹ç”¨å¦å¤–ä¸€ç§åº§æ ‡å˜æ¢æ–¹æ³•ï¼Œåä¸ºæ´›ä¼¦å…¹å˜æ¢( Lorentz Transformation)ï¼š\n\næœ‰å…³è¿™ç»„å…¬å¼çš„æ¨å¯¼è¿‡ç¨‹ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥å‚è€ƒä»»ä½•ç›¸å¯¹è®ºè¯¾æœ¬ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬æœ‰å…´è¶£çš„æ˜¯ï¼šå¦‚æœæ—¶é—´åŠç©ºé—´ç¡®å®æ ¹æ®ä»¥ä¸Šæ–¹ç¨‹ç»„å˜æ¢çš„è¯ï¼Œä¼šæœ‰ä»€ä¹ˆæœ‰è¶£çš„äº‹æƒ…å‘ç”Ÿï¼Ÿ\n\né¦–å…ˆï¼Œè€ƒè™‘ä¸€ä¸ªã€Œå…‰é’Ÿã€ï¼Œè¿™æ˜¯ä¸€ä¸ªçº¯ç²¹ç”±ä¸¤å—äº’ç›¸å¹³è¡Œçš„å¹³é¢é•œç»„æˆçš„è®¡æ—¶å™¨ï¼Œæœ‰ä¸€æŸå…‰åœ¨ä¸¤å—é•œä¹‹é—´æ¥å›åå¼¹ã€‚ç„¶åæˆ‘ä»¬å®šä¹‰è¿™æŸå…‰æ¥å›åå¼¹ä¸€æ¬¡çš„æ—¶é—´Î” t = 2 h  c ä¸ºä¸€ä¸ªæ—¶é—´å•ä½ï¼Œæ•…æ­¤æˆ‘ä»¬å°±æœ‰äº†è¿™æ ·ä¸€ç§æœ‰è¶£çš„è®¡æ—¶å™¨ã€‚\n\nç°åœ¨ï¼Œæˆ‘ä»¬è®©è¿™ä¸ªå…‰é’Ÿåœ¨Såº§æ ‡ç³»ä¸­ä»¥æ°´å¹³æ–¹å‘å‘å³ä»¥å‡é€Ÿ  v ç§»åŠ¨ã€‚æ‰€ä»¥æˆ‘ä»¬å°±çŸ¥é“ï¼Œå¦‚æœæˆ‘ä»¬ç§°å…‰é’Ÿä¸ºSâ€™ åº§æ ‡ç³»ï¼Œå°±æœ‰Î” tâ€™ = 2 h  cã€‚åœ¨S åº§æ ‡ç³»å½“ä¸­ï¼Œå…‰å°±æ˜¯ä»¥æ–œçº¿è¡Œè¿›çš„ï¼Œæ ¹æ®æ¯•æ°å®šç†ï¼Œæˆ‘ä»¬å¾—åˆ°  \n  \nä½¿ç”¨ç®€å•ä»£æ•°è¿ç®—æ±‚å¾—Î” tï¼š\n\nå› ä¸ºv &lt; cï¼Œæ‰€ä»¥åˆ†æ¯å¿…å®šå°äº1 ï¼Œæ•…æ­¤Î” tâ€™ &lt; Î” tã€‚æ¢å¥è¯è¯´ï¼Œç§»åŠ¨ä¸­çš„åº§æ ‡ç³»çš„æ—¶é—´æµé€å¾—æ¯”è¾ƒæ…¢ã€‚è¿™å°±æ˜¯è‘—åçš„æ—¶é—´è¿Ÿæ»(Time Dilation) ã€‚ \né™¤äº†ç§»åŠ¨ä¸­çš„äººçš„æ—¶é—´åœ¨å…¶ä»–äººçœ¼ä¸­ä¼šå˜æ…¢ä¹‹å¤–ï¼Œç§»åŠ¨ä¸­çš„ç‰©ä½“çœ‹èµ·æ¥ä¹Ÿä¼šå˜çŸ­ã€‚è¿™å«åšé•¿åº¦æ”¶ç¼©(Length Contraction)ã€‚å¦‚æœL 0 æ˜¯ç‰©ä½“é™æ­¢æ—¶çš„é•¿åº¦ï¼ŒLæ˜¯ç‰©ä½“ç›¸å¯¹äºè§‚æµ‹è€…ä»¥é€Ÿåº¦  vç§»åŠ¨æ—¶çš„é•¿åº¦ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¼šå¾—åˆ°   \n\nå…¬å¼(3) çš„æ¨å¯¼è¿‡ç¨‹ä¸å…¬å¼(2) å·®ä¸å¤šï¼Œåªè¦æŠŠå…‰é’Ÿè½¬ä¸ªç›´è§’å†è€ƒè™‘æ°´å¹³ç§»åŠ¨å°±å¯ä»¥äº†ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥è‡ªå·±å½“åšç»ƒä¹ è¯•è¯•æ¨å¯¼ã€‚\nä»¥ä¸Šä¸¤ä¸ªã€Œè¿åç›´è§‰ã€çš„ç°è±¡éƒ½å·²ç»è¢«å®éªŒè§‚æµ‹æ‰€è¯å®äº†ã€‚å…¶ä¸­ä¸€ä¸ªé‡è¦çš„è¯æ˜æ˜¯å…³äºå®‡å®™å°„çº¿çš„é—®é¢˜ã€‚æ¯åˆ†æ¯ç§’éƒ½æœ‰å¤§é‡çš„å®‡å®™å°„çº¿æ”»å‡»ç€åœ°çƒï¼Œè¿™äº›å°„çº¿å¤šæ˜¯å¸¦ç”µç²’å­è¯¸å¦‚è´¨å­åŠç”µå­ç­‰ç­‰ï¼Œèƒ½é‡å¾ˆé«˜ã€‚å¹¸å¥½åœ°çƒæœ‰ç£åœºä»¥åŠå¤§æ°”å±‚çš„ä¿æŠ¤ï¼Œä¸ç„¶åœ°çƒä¸Šå°±ä¸å¯èƒ½æœ‰ç”Ÿå‘½å­˜åœ¨äº†ã€‚\nä¸€äº›ç²’å­ä¸å¤§æ°”ç²’å­ç¢°æ’åï¼Œä¼šäº§ç”Ÿè®¸å¤šä¸åŒç§ç±»çš„ç²’å­ï¼Œå‘å„ä¸ªæ–¹å‘æ•£å°„ã€‚è¿™äº›ç²’å­çš„å¯¿å‘½ä¸€èˆ¬éƒ½éå¸¸çŸ­æš‚ï¼Œå°±ç®—åœ¨äº§ç”Ÿçš„ä¸€åˆ»å¼€å§‹å·²ç»ç”¨æ¥è¿‘å…‰é€Ÿå‰è¿›ï¼Œåœ¨å®ƒå†è¡°å˜æˆå…¶ä»–ç²’å­ä¹‹å‰ï¼Œå‰è¿›çš„è·ç¦»æœ€å¤šä¹Ÿåªå¾—å‡ ç™¾ç±³ã€‚ä½†æ˜¯ï¼Œè™½ç„¶åœ°çƒçš„å¤§æ°”å±‚åšåº¦çº¦ä¸º100å…¬é‡Œï¼Œè®¾ç½®åœ¨åœ°é¢ä¸Šçš„ä»ªå™¨å´å¯ä»¥æ¢æµ‹åˆ°å®ƒä»¬ï¼è¿™å®Œå…¨æ˜¯å› ä¸ºè¿™äº›ç²’å­ä»¥æ¥è¿‘å…‰é€Ÿè¡Œè¿›ï¼Œç›¸å¯¹è®ºçš„æ•ˆåº”å°±ä¼šå˜å¾—å¾ˆå¤§ã€‚å¦‚æœåœ¨é™æ­¢æ—¶è¿™äº›ç²’å­çš„å¯¿å‘½æ˜¯  Tï¼Œé‚£ä¹ˆæ ¹æ®æ—¶é—´è¿Ÿæ»ç°è±¡ï¼Œåœ°é¢ä¸Šçš„äººå°±ä¼šæµ‹å¾—å®ƒä»¬çš„å¯¿å‘½ä¸º\n\nå…¶ä¸­  v æ˜¯ç²’å­çš„é€Ÿåº¦ã€‚æ˜æ˜¾åœ°ï¼Œå½“  v éå¸¸æ¥è¿‘  c çš„æ—¶å€™ï¼ŒTâ€™ å°±ä¼šå˜å¾—éå¸¸å¤§ï¼Œæ‰€ä»¥å®ƒä»¬æœ‰è¶³å¤Ÿçš„æ—¶é—´å¯ä»¥ç©¿è¿‡åšåšçš„å¤§æ°”å±‚è½åˆ°åœ°é¢ã€‚\næˆ‘æœ€åæƒ³ä»‹ç»çš„æ˜¯è‘—åçš„çˆ±å› æ–¯å¦é€Ÿåº¦ç›¸åŠ æ³•åˆ™ã€‚åœ¨æ—©å‰çš„è®¨è®ºä¸­ï¼Œæˆ‘ä»¬å·²ç»æ˜ç™½åˆ°ï¼Œåœ¨å…‰é€Ÿä¸æ˜¯æ— é™å¿«çš„æ¡ä»¶ä¸‹ï¼Œæ—¶é—´å¿…é¡»æ˜¯ã€Œç›¸å¯¹ã€çš„ã€‚äº¦å³æ˜¯è¯´ï¼Œå¯¹äºä¸åŒè¿åŠ¨çŠ¶æ€çš„è§‚æµ‹è€…ï¼Œæ—¶é—´çš„æµé€é€Ÿç‡å„æœ‰ä¸åŒã€‚åŒæ ·åœ°å¯¹äºç©ºé—´æ¥è¯´ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°±ä¸èƒ½è¯´ä¸¤ä¸ªäº’ç›¸é è¿‘çš„äººçš„ç›¸å¯¹é€Ÿåº¦  vâ€™ï¼Œä¼šç®€å•åœ°ä¸º  vâ€™ = v 1 + v 2ï¼Œå…¶ä¸­  v 1 å’Œ  v 2 åˆ†åˆ«ä¸ºä¸¤ä¸ªäººçš„é€Ÿåº¦ã€‚é‚£ä¹ˆ  vâ€™ åº”è¯¥å¦‚ä½•è¡¨è¾¾æ‰å¯¹å‘¢ï¼Ÿå…¶å®ç®€å•å¾—å¾ˆï¼Œåªè¦æŠŠæ´›ä¼¦å…¹å…¬å¼å¯¹æ—¶é—´å¾®åˆ†å°±å¯ä»¥äº†ã€‚è¯¦ç»†çš„åšæ³•å¯ä»¥å‚è€ƒæ•™ç§‘ä¹¦ï¼Œå…¶ç»“æœä¸º\n\nå› æ­¤å¯ä»¥çœ‹åˆ°åœ¨ç›¸å¯¹è®ºä¸‹ï¼Œç›¸å¯¹é€Ÿåº¦  vâ€™ æ¯”è¾ƒå°ã€‚å¦‚æœä»£å…¥æ–‡ç« å¼€å¤´çš„ä¾‹å­ï¼Œä½ å’Œå…‰æŸäº’ç›¸å†²å‘å¯¹æ–¹ï¼Œå°±æœ‰\n\næ‰€ä»¥ä½ ä¼šæƒŠè®¶åœ°å‘ç°ï¼Œc + v ä»ç„¶æ˜¯  cï¼è¿™æ˜¯å½“ç„¶çš„ï¼Œå› ä¸ºç›¸å¯¹è®ºæœ¬èº«å¿…é¡»ç¬¦åˆå®ƒçš„å‡è®¾ï¼šå…‰é€Ÿä¸å˜ã€‚\nå…¶å®ç‹­ä¹‰ç›¸å¯¹è®ºè¿˜æœ‰è®¸å¤šæœ‰è¶£çš„é¢˜ç›®å¯ä»¥è®¨è®ºçš„ï¼Œä¾‹å¦‚è‘—åçš„è´¨èƒ½å…¬å¼E = mc^2ã€åŒç”Ÿå­æ‚–è®ºã€èƒ½é‡-åŠ¨é‡å››ç»´å‘é‡ã€ä»¥åŠç›¸å¯¹è®ºæ€§ç”µç£åœºç†è®ºç­‰ç­‰ï¼Œæˆ–è®¸åœ¨ä»¥åæˆ‘ä¼šå’Œå¤§å®¶æ·±å…¥è®¨è®ºã€‚è€Œçˆ±å› æ–¯å¦åœ¨1916 å¹´æå‡ºçš„å¹¿ä¹‰ç›¸å¯¹è®º(general relativity)ï¼Œåˆ™æ˜¯ä¸€å¥—æŠŠé‡åŠ›ä¸åŠ é€Ÿåº¦éƒ½åŒ…å«åœ¨å†…çš„æ—¶ç©ºç†è®ºï¼Œèƒ½å¤Ÿéå¸¸å‡†ç¡®åœ°æè¿°æˆ‘ä»¬èº«å¤„çš„å®‡å®™ã€‚å¹¿ä¹‰ç›¸å¯¹è®ºæ‰€æ¶‰åŠçš„æ•°å­¦éå¸¸æ·±å¥¥ï¼Œéœ€è¦ä½¿ç”¨åˆ°ååˆ†æŠ½è±¡çš„é»æ›¼å‡ ä½•ä»¥åŠå¼ é‡çš„æ¦‚å¿µï¼Œç¡®å®å¹¶éæ¯ä¸ªå­¦ç”Ÿä¹Ÿèƒ½æ˜ç™½ã€‚åœ¨ä»¥åæˆ‘ä¼šè¯•è¯•ä¸ºå¤§å®¶è¯´æ˜å¹¿ä¹‰ç›¸å¯¹è®ºçš„é‡è¦æ€§ã€‚æ€»è€Œè¨€ä¹‹ï¼Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å¸Œæœ›å¤§å®¶æ˜ç™½çš„äº‹ï¼Œæ˜¯ç›¸å¯¹è®ºå…¶å®å¹¶éä¸€èˆ¬äººæƒ³åƒçš„é‚£ä¹ˆæ·±å¥¥éš¾æ‡‚ã€‚è‡³å°‘ï¼Œå°±ç‹­ä¹‰ç›¸å¯¹è®ºè€Œè¨€ï¼Œåªéœ€è¦ä¸­å­¦ç¨‹åº¦çš„ç‰©ç†åŠæ•°å­¦çŸ¥è¯†å°±å¯ä»¥äº†ã€‚\nåŸæ–‡é“¾æ¥\n","tags":["ç›¸å¯¹è®º","çˆ±å› æ–¯å¦"],"path":"2019/09/08/ä½ ä¹Ÿèƒ½æ‡‚ç›¸å¯¹è®º/","external_link":""},{"title":"å¤©å¹³ç ç æ‘†æ”¾é—®é¢˜","date":"2019-09-02T04:41:41.000Z","content":"é¢˜ç›®ä¸€ä¸ªå¤©å¹³ä¸Šæœ‰6ä¸ªä½ç½®ï¼Œå·¦å³å„ä¸‰ä¸ªä½ç½®ï¼Œæœ‰6ä¸ªç ç ï¼Œåˆ†åˆ«æ˜¯1ã€2ã€3ã€4ã€5ã€6å…‹é‡ã€‚è¦ä½¿å¤©å¹³å¹³è¡¡ï¼Œæœ‰å¤šå°‘ç§æ–¹æ³•ï¼Ÿï¼ˆå¯¹ç§°æ‘†æ”¾ç®—ä½œä¸€ç§æ–¹æ³•ï¼‰ \n\né¢˜è§£æš´åŠ›æ±‚è§£\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;algorithm&gt;using namespace std;int main() &#123;    int t = 6;    int count = 0;    vector&lt;string&gt; v;    for (int i = 1; i &lt;= t; ++i) &#123;        for (int j = 1; j &lt;= t; ++j) &#123;            for (int k = 1; k &lt;= t; ++k) &#123;                for (int l = 1; l &lt;= t; ++l) &#123;                    for (int m = 1; m &lt;= t; ++m) &#123;                        for (int n = 1; n &lt;= t; ++n) &#123;                            if (i == j ||                                i == k || j == k ||                                i == l || j == l || k == l ||                                i == m || j == m || k == m || l == m ||                                i == n || j == n || k == n || l == n || m == n)                                continue;                            if ((3 * i + 2 * j + k) == (l + 2 * m + 3 * n)) &#123;                                string s = to_string(i) + to_string(j) + to_string(k) + to_string(l) + to_string(m) +                                           to_string(n);                                int te = 0;                                if (v.size() &gt; 0) &#123;                                    string tem = s;                                    reverse(tem.begin(), tem.end());                                    vector&lt;string&gt;::iterator it;                                    for (it = v.begin(); it != v.end(); it++) &#123;                                        if (*it == tem) &#123;                                            cout&lt;&lt;tem&lt;&lt;endl;                                            te = 1;                                            break;                                        &#125;                                    &#125;                                &#125;                                if (te == 0) &#123;                                    v.push_back(s);                                    count++;                                    printf( %d %d %d | %d %d %dn, i, j, k, l, m, n);                                &#125;                            &#125;                        &#125;                    &#125;                &#125;            &#125;        &#125;    &#125;    cout &lt;&lt; count &lt;&lt; endl;    return 0;&#125;\n\n1234567891011121314151617181 4 6 | 5 3 21 5 6 | 2 4 31 5 6 | 3 2 41 6 4 | 3 5 21 6 5 | 2 3 42 4 6 | 1 5 32 4 6 | 3 1 52 6 3 | 4 1 52 6 4 | 1 3 53 2 6 | 5 1 43 4 5 | 2 1 63 5 4 | 1 2 63 6 2 | 1 5 44 2 6 | 1 3 54 3 5 | 1 2 65 2 4 | 3 1 65 4 2 | 1 3 617","tags":["ç®—æ³•","å¤©å¹³","æš´åŠ›ç ´è§£"],"path":"2019/09/02/å¤©å¹³ç ç æ‘†æ”¾é—®é¢˜/","external_link":""},{"title":"åˆ¤æ–­ç´ æ•°","date":"2019-09-05T18:53:05.000Z","content":"\nç´ æ•°\nè´¨æ•°åˆç§°ç´ æ•°ã€‚ä¸€ä¸ªå¤§äº1çš„è‡ªç„¶æ•°ï¼Œé™¤äº†1å’Œå®ƒè‡ªèº«å¤–ï¼Œä¸èƒ½è¢«å…¶ä»–è‡ªç„¶æ•°æ•´é™¤çš„æ•°å«åšè´¨æ•°ï¼›å¦åˆ™ç§°ä¸ºåˆæ•°ã€‚\n0å’Œ1æ—¢ä¸æ˜¯è´¨æ•°ä¹Ÿä¸æ˜¯åˆæ•°ï¼Œæœ€å°çš„è´¨æ•°æ˜¯2\n\n\næœ€ç›´è§‚ï¼Œä½†æ•ˆç‡æœ€ä½çš„å†™æ³•\n\nè¿™é‡Œç‰¹æ®Šå¤„ç†äº†ä¸€ä¸‹å°äºç­‰äº3çš„æ•°ï¼Œå› ä¸ºå°äºç­‰äº3çš„è‡ªç„¶æ•°åªæœ‰2å’Œ3æ˜¯è´¨æ•°ã€‚\nç„¶åï¼Œæˆ‘ä»¬åªéœ€è¦ä»2å¼€å§‹ï¼Œä¸€ç›´åˆ°å°äºå…¶è‡ªèº«ï¼Œä¾æ¬¡åˆ¤æ–­èƒ½å¦è¢«næ•´é™¤å³å¯ï¼Œèƒ½å¤Ÿæ•´é™¤åˆ™ä¸æ˜¯è´¨æ•°ï¼Œå¦åˆ™æ˜¯è´¨æ•°ã€‚\n1234567891011public static boolean isPrime(int n)&#123;    if (n &lt;= 3) &#123;        return n &gt; 1;    &#125;    for(int i = 2; i &lt; n; i++)&#123;        if (n % i == 0) &#123;            return false;        &#125;    &#125;    return true;&#125;\n\n\nä¼˜åŒ–\n\næˆ‘ä»¬ç»§ç»­åˆ†æï¼Œå…¶å®è´¨æ•°è¿˜æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯å®ƒæ€»æ˜¯ç­‰äº 6x-1 æˆ–è€… 6x+1ï¼Œå…¶ä¸­ x æ˜¯å¤§äºç­‰äº1çš„è‡ªç„¶æ•°ã€‚\nå¦‚ä½•è®ºè¯è¿™ä¸ªç»“è®ºå‘¢ï¼Œå…¶å®ä¸éš¾ã€‚é¦–å…ˆ 6x è‚¯å®šä¸æ˜¯è´¨æ•°ï¼Œå› ä¸ºå®ƒèƒ½è¢« 6 æ•´é™¤ï¼›å…¶æ¬¡ 6x+2 è‚¯å®šä¹Ÿä¸æ˜¯è´¨æ•°ï¼Œå› ä¸ºå®ƒè¿˜èƒ½è¢«2æ•´é™¤ï¼›ä¾æ¬¡ç±»æ¨ï¼Œ6x+3 è‚¯å®šèƒ½è¢« 3 æ•´é™¤ï¼›6x+4 è‚¯å®šèƒ½è¢« 2 æ•´é™¤ã€‚é‚£ä¹ˆï¼Œå°±åªæœ‰ 6x+1 å’Œ 6x+5 (å³ç­‰åŒäº6x-1) å¯èƒ½æ˜¯è´¨æ•°äº†ã€‚æ‰€ä»¥å¾ªç¯çš„æ­¥é•¿å¯ä»¥è®¾ä¸º 6ï¼Œç„¶åæ¯æ¬¡åªåˆ¤æ–­ 6 ä¸¤ä¾§çš„æ•°å³å¯ã€‚\n12345678910111213141516public static boolean isPrime(int num) &#123;    if (num &lt;= 3) &#123;        return num &gt; 1;    &#125;     ä¸åœ¨6çš„å€æ•°ä¸¤ä¾§çš„ä¸€å®šä¸æ˜¯è´¨æ•°    if (num % 6 != 1 &amp;&amp; num % 6 != 5) &#123;        return false;    &#125;    int sqrt = (int) Math.sqrt(num);    for (int i = 5; i &lt;= sqrt; i += 6) &#123;        if (num % i == 0 || num % (i + 2) == 0) &#123;            return false;        &#125;    &#125;    return true;&#125;\n\n\næ€§èƒ½å¯¹æ¯”\n\n12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152import java.util.*;public class Main &#123;    public static void main(String[] args) &#123;         Scanner in = new Scanner(System.in);         int n = in.nextInt();         in.close();        Stack&lt;Integer&gt; a = new Stack&lt;&gt;(), b = new Stack&lt;&gt;();        int n = 100000;        long s = System.currentTimeMillis(), e;        for (int i = 1; i &lt; n; i++) &#123;            if (f(i))                a.push(i);        &#125;        e = System.currentTimeMillis();        System.out.println(e - s +  ms);        s = System.currentTimeMillis();        for (int i = 1; i &lt; n; i++) &#123;            if (func(i))                b.push(i);        &#125;        e = System.currentTimeMillis();        System.out.println(e - s +  ms);        System.gc();    &#125;    static boolean f(int n) &#123;        if (n &lt;= 3)            return n &gt; 1;        for (int i = 2; i &lt; n; i++) &#123;            if (n % i == 0) &#123;                return false;            &#125;        &#125;        return true;    &#125;    static boolean func(int n) &#123;        if (n &lt;= 3)            return n &gt; 1;        if (n % 6 != 1 &amp;&amp; n % 6 != 5) &#123;            return false;        &#125;        int tem = (int) Math.sqrt(n);        for (int i = 5; i &lt;= tem; i += 6) &#123;            if (n % i == 0 || n % (i + 2) == 0)                return false;        &#125;        return true;    &#125;&#125;\n\n121392 ms5 ms","author":"times","tags":["ç¼–ç¨‹","Java","ç´ æ•°"],"path":"2019/09/06/åˆ¤æ–­ç´ æ•°/","external_link":""},{"title":"æŠ€æœ¯æ ˆ","date":"2019-08-18T15:30:34.000Z","content":"\nHTML  CSS\nã€HTMLã€‘HTMLï¼Œå³è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼ˆHyper Text Markup Languageï¼‰\nã€HTML5ã€‘HTML5 æ˜¯ä¸‹ä¸€ä»£ HTML æ ‡å‡†\nã€CSSã€‘å±‚å æ ·å¼è¡¨ï¼ˆCascading StyleSheetï¼‰\nã€CSS3ã€‘CSS3æ˜¯CSSæŠ€æœ¯çš„å‡çº§ç‰ˆæœ¬\nã€Bootstrap3ã€‘Bootstrapï¼Œæ¥è‡ª Twitterï¼Œæ˜¯ç›®å‰æœ€å—æ¬¢è¿çš„å‰ç«¯æ¡†æ¶\nã€Bootstrap4ã€‘Bootstrap4 ç›®å‰æ˜¯ Bootstrap çš„æœ€æ–°ç‰ˆæœ¬\nã€Font Awesomeã€‘Font Awesome æ˜¯ä¸€å¥—ç»ä½³çš„å›¾æ ‡å­—ä½“åº“å’ŒCSSæ¡†æ¶ã€‚\nã€Foundationã€‘Foundation ç”¨äºå¼€å‘å“åº”å¼çš„ HTML, CSS and JavaScript æ¡†æ¶JavaScript\nã€JavaScriptã€‘JavaScript æ˜¯ Web çš„ç¼–ç¨‹è¯­è¨€\nã€HTML DOMã€‘HTML DOM å®šä¹‰äº†è®¿é—®å’Œæ“ä½œ HTML æ–‡æ¡£çš„æ ‡å‡†æ–¹æ³•\nã€jQueryã€‘jQuery æ˜¯ä¸€ä¸ª JavaScript åº“\nã€AngularJSã€‘AngularJS é€šè¿‡æ–°çš„å±æ€§å’Œè¡¨è¾¾å¼æ‰©å±•äº† HTML\nã€AngularJS2ã€‘AngularJS2 æ˜¯ä¸€æ¬¾å¼€æºJavaScriptåº“ï¼Œç”±Googleç»´æŠ¤ã€‚\nã€Vue.jsã€‘Vue.js æ˜¯ä¸€å¥—æ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼æ¡†æ¶ã€‚\nã€Reactã€‘React æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JAVASCRIPT åº“\nã€TypeScriptã€‘TypeScript æ˜¯ JavaScript çš„ä¸€ä¸ªè¶…é›†ï¼Œæ”¯æŒ ECMAScript 6 æ ‡å‡†\nã€jQuery UIã€‘jQuery UI æ˜¯å»ºç«‹åœ¨ jQueryä¸Šçš„ä¸€ç»„ç”¨æˆ·ç•Œé¢äº¤äº’ã€ç‰¹æ•ˆã€å°éƒ¨ä»¶åŠä¸»é¢˜\nã€jQuery EasyUI ã€‘jQuery EasyUI æ˜¯ä¸€ä¸ªåŸºäº jQuery çš„æ¡†æ¶ï¼Œé›†æˆäº†å„ç§ç”¨æˆ·ç•Œé¢æ’ä»¶\nã€Node.jsã€‘Node.js æ˜¯è¿è¡Œåœ¨æœåŠ¡ç«¯çš„ JavaScript\nã€AJAXã€‘AJAX = Asynchronous JavaScript and XMLï¼ˆå¼‚æ­¥çš„ JavaScript å’Œ XMLï¼‰\nã€JSONã€‘JSON æ˜¯å­˜å‚¨å’Œäº¤æ¢æ–‡æœ¬ä¿¡æ¯çš„è¯­æ³•\nã€Highchartsã€‘Highcharts æ˜¯ä¸€ä¸ªç”¨çº¯JavaScriptç¼–å†™çš„ä¸€ä¸ªå›¾è¡¨åº“\nã€Google åœ°å›¾ã€‘Google åœ°å›¾æ¥å£ä½¿ç”¨è¯´æ˜\n\næœåŠ¡ç«¯\nã€PHPã€‘PHP æ˜¯ä¸€ç§é€šç”¨å¼€æºè„šæœ¬è¯­è¨€\nã€Pythonã€‘Python æ˜¯ä¸€ç§é¢å‘å¯¹è±¡ã€è§£é‡Šå‹è®¡ç®—æœºç¨‹åºè®¾è®¡è¯­è¨€\nã€Python3ã€‘Python å‡çº§ç‰ˆï¼Œå˜åŒ–è¾ƒå¤§\nã€Djangoã€‘Djangoæ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„Webåº”ç”¨æ¡†æ¶ï¼Œç”±Pythonå†™æˆ\nã€Linuxã€‘Linuxæ˜¯ä¸€å¥—å…è´¹ä½¿ç”¨å’Œè‡ªç”±ä¼ æ’­çš„ç±»Unixæ“ä½œç³»ç»Ÿ\nã€Dockerã€‘Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼ŒåŸºäº Go è¯­è¨€\nã€Rubyã€‘ä¸€ç§ä¸ºç®€å•å¿«æ·çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆé¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ï¼‰è€Œåˆ›çš„è„šæœ¬è¯­è¨€\nã€Javaã€‘ä¸€ç§å¯ä»¥æ’°å†™è·¨å¹³å°åº”ç”¨è½¯ä»¶çš„é¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡è¯­è¨€\nã€Cã€‘ä¸€é—¨é€šç”¨è®¡ç®—æœºç¼–ç¨‹è¯­è¨€\nã€C++ã€‘C++æ˜¯åœ¨Cè¯­è¨€çš„åŸºç¡€ä¸Šå¼€å‘çš„ä¸€ç§é€šç”¨ç¼–ç¨‹è¯­è¨€\nã€Perlã€‘Perl æ˜¯é«˜çº§ã€é€šç”¨ã€ç›´è¯‘å¼ã€åŠ¨æ€çš„ç¨‹åºè¯­è¨€\nã€Servlet ã€‘è¿è¡Œåœ¨ Web æœåŠ¡å™¨æˆ–åº”ç”¨æœåŠ¡å™¨ä¸Šçš„ç¨‹åº\nã€JSPã€‘JSPä¸PHPã€ASPã€ASP.NETç­‰è¯­è¨€ç±»ä¼¼ï¼Œè¿è¡Œåœ¨æœåŠ¡ç«¯çš„è¯­è¨€\nã€Luaã€‘Lua æ˜¯ä¸€ç§è½»é‡å°å·§çš„è„šæœ¬è¯­è¨€ï¼Œç”¨æ ‡å‡†Cè¯­è¨€ç¼–å†™å¹¶ä»¥æºä»£ç å½¢å¼å¼€æ”¾\nã€Scalaã€‘Scala æ˜¯ä¸€é—¨å¤šèŒƒå¼ï¼ˆmulti-paradigmï¼‰çš„ç¼–ç¨‹è¯­è¨€ã€‚\nã€Goã€‘Goè¯­è¨€æ˜¯è°·æ­Œæ¨å‡ºçš„ä¸€ç§å…¨æ–°çš„ç¼–ç¨‹è¯­è¨€\nã€è®¾è®¡æ¨¡å¼ã€‘è®¾è®¡æ¨¡å¼ä»£è¡¨äº†æœ€ä½³çš„å®è·µï¼Œé€šå¸¸è¢«æœ‰ç»éªŒçš„é¢å‘å¯¹è±¡çš„è½¯ä»¶å¼€å‘äººå‘˜æ‰€é‡‡ç”¨\nã€æ­£åˆ™è¡¨è¾¾å¼ã€‘æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¯¹å­—ç¬¦ä¸²æ“ä½œçš„ä¸€ç§é€»è¾‘å…¬å¼\nã€Mavenã€‘Maven æ˜¯ä¸€ä¸ªé¡¹ç›®ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å¯¹ Java é¡¹ç›®è¿›è¡Œæ„å»ºã€ä¾èµ–ç®¡ç†ã€‚\nã€NumPyã€‘NumPy æ˜¯ Python è¯­è¨€çš„ä¸€ä¸ªæ‰©å±•ç¨‹åºåº“ï¼Œæ”¯æŒå¤§é‡çš„ç»´åº¦æ•°ç»„ä¸çŸ©é˜µè¿ç®—ã€‚\nã€ASPã€‘ASPï¼ˆActive Server Pages åŠ¨æ€æœåŠ¡å™¨é¡µé¢ï¼‰æ˜¯ä¸€ç§ç”ŸæˆåŠ¨æ€äº¤äº’æ€§ç½‘é¡µçš„å¼ºæœ‰åŠ›å·¥å…·\nã€AppMLã€‘AppML æ˜¯ä¸€ä¸ªä¸ºwebåº”ç”¨ç¨‹åºè®¾è®¡çš„HTMLæ‰©å±•æ¡†\nã€VBScriptã€‘ä¸€ç§å¾®è½¯ç¯å¢ƒä¸‹çš„è½»é‡çº§çš„è§£é‡Šå‹è¯­è¨€\n\næ•°æ®åº“\nã€SQLã€‘ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€(Structured Query Language)\nã€Mysqlã€‘MySQLæ˜¯ä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ\nã€PostgreSQLã€‘PostgreSQL æ˜¯ä¸€ä¸ªå…è´¹çš„å¯¹è±¡-å…³ç³»æ•°æ®åº“æœåŠ¡å™¨(ORDBMS)\nã€SQLiteã€‘ä¸€æ¬¾è½»å‹çš„æ•°æ®åº“\nã€MongoDBã€‘Mongo DB æ˜¯ç›®å‰åœ¨ITè¡Œä¸šéå¸¸æµè¡Œçš„ä¸€ç§éå…³ç³»å‹æ•°æ®åº“(NoSql)\nã€Redisã€‘ä¸€ä¸ªé«˜æ€§èƒ½çš„key-valueæ•°æ®åº“\nã€Memcachedã€‘Memcachedæ˜¯ä¸€ä¸ªè‡ªç”±å¼€æºçš„ï¼Œé«˜æ€§èƒ½ï¼Œåˆ†å¸ƒå¼å†…å­˜å¯¹è±¡ç¼“å­˜ç³»ç»Ÿã€‚\n\nç§»åŠ¨ç«¯\nã€Androidã€‘Android æ˜¯ä¸€ç§åŸºäºLinuxçš„è‡ªç”±åŠå¼€æ”¾æºä»£ç çš„æ“ä½œç³»ç»Ÿï¼Œä¸»è¦ä½¿ç”¨äºç§»åŠ¨è®¾å¤‡\nã€Swiftã€‘Swift æ˜¯ä¸€ç§æ”¯æŒå¤šç¼–ç¨‹èŒƒå¼å’Œç¼–è¯‘å¼çš„ç¼–ç¨‹è¯­è¨€,ç”¨äºå¼€å‘ iOSï¼ŒOS X å’Œ watchOSåº”ç”¨ç¨‹åºã€‚\nã€jQuery Mobileã€‘jQuery Mobileæ˜¯jQuery åœ¨æ‰‹æœºä¸Šå’Œå¹³æ¿è®¾å¤‡ä¸Šçš„ç‰ˆæœ¬\nã€ionicã€‘ionic æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ HTML5 åº”ç”¨ç¨‹åºå¼€å‘æ¡†æ¶(HTML5 Hybrid Mobile App Framework )\nã€Kotlinã€‘åœ¨ Java è™šæ‹Ÿæœºä¸Šè¿è¡Œçš„é™æ€ç±»å‹ç¼–ç¨‹è¯­è¨€ï¼ŒAndroid å®˜æ–¹å¼€å‘è¯­è¨€\n\nXML æ•™ç¨‹\nã€XMLã€‘XML è¢«è®¾è®¡ç”¨æ¥ä¼ è¾“å’Œå­˜å‚¨æ•°æ®\nã€DTDã€‘DTDï¼ˆæ–‡æ¡£ç±»å‹å®šä¹‰ï¼‰çš„ä½œç”¨æ˜¯å®šä¹‰ XML æ–‡æ¡£çš„åˆæ³•æ„å»ºæ¨¡å—\nã€XML DOMã€‘XML DOM å®šä¹‰è®¿é—®å’Œæ“ä½œXMLæ–‡æ¡£çš„æ ‡å‡†æ–¹æ³•\nã€XSLTã€‘XSL æ˜¯ä¸€ä¸ª XML æ–‡æ¡£çš„æ ·å¼è¡¨è¯­è¨€ï¼ŒXSLT æŒ‡ XSL è½¬æ¢\nã€XPathã€‘XPath æ˜¯ä¸€é—¨åœ¨ XML æ–‡æ¡£ä¸­æŸ¥æ‰¾ä¿¡æ¯çš„è¯­è¨€\nã€XQueryã€‘XQuery è¢«è®¾è®¡ç”¨æ¥æŸ¥è¯¢ XML æ•°æ®\nã€XLinkã€‘XLink å®šä¹‰åœ¨ XML æ–‡æ¡£ä¸­åˆ›å»ºè¶…çº§é“¾æ¥çš„æ ‡å‡†æ–¹æ³•\nã€XPointerã€‘XPointeræ˜¯åœ¨å¯æ‰©å±•æ ‡å¿—è¯­è¨€ï¼ˆXMLï¼‰æ–‡ä»¶ä¸­å®šä½æ•°æ®çš„ä¸€ç§è¯­è¨€\nã€XML Schemaã€‘XML Schema æè¿°äº† XMLæ–‡æ¡£çš„ç»“æ„\nã€XSL-FOã€‘XSL-FO æŒ‡å¯æ‰©å±•æ ·å¼è¡¨è¯­è¨€æ ¼å¼åŒ–å¯¹è±¡\nã€SVGã€‘SVG ä½¿ç”¨ XML æ ¼å¼å®šä¹‰å›¾åƒ\n\nASP.NET\nã€ASP.NETã€‘ASP.NET æ˜¯ä¸€ä¸ªä½¿ç”¨ HTMLã€CSSã€JavaScript å’ŒæœåŠ¡å™¨è„šæœ¬åˆ›å»ºç½‘é¡µå’Œç½‘ç«™çš„å¼€å‘æ¡†æ¶\nã€C#ã€‘C# æ˜¯ä¸€ä¸ªç®€å•çš„ã€ç°ä»£çš„ã€é€šç”¨çš„ã€é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€\nã€Web Pagesã€‘Web Pages æ˜¯ä¸‰ç§ç½‘é¡µç¼–ç¨‹æ¨¡å‹ä¸­çš„ä¸€ç§ï¼Œç”¨äºåˆ›å»ºç½‘ç«™å’Œweb åº”ç”¨ç¨‹åº\nã€Razorã€‘Razor æ˜¯ä¸€ç§æ ‡è®°è¯­æ³•ï¼Œå¯ä»¥è®©æ‚¨å°†åŸºäºæœåŠ¡å™¨çš„ä»£ç ï¼ˆVisual Basic å’Œ C#ï¼‰åµŒå…¥åˆ°ç½‘é¡µä¸­\nã€MVCã€‘MVCï¼ˆModel View Controller æ¨¡å‹-è§†å›¾-æ§åˆ¶å™¨ï¼‰\nã€Web Formsã€‘Web Forms æ˜¯ä¸‰ç§åˆ›å»º ASP.NET ç½‘ç«™å’Œ Web åº”ç”¨ç¨‹åºçš„ç¼–ç¨‹æ¨¡å¼ä¸­çš„ä¸€ç§\n\nWeb Service\nã€Web Serviceã€‘Web Service è„šæœ¬å¹³å°éœ€æ”¯æŒ XML + HTTP\nã€WSDLã€‘WSDLæ˜¯ä¸€é—¨åŸºäº XML çš„è¯­è¨€ï¼Œç”¨äºæè¿° Web Service ä»¥åŠå¦‚ä½•å¯¹å®ƒä»¬è¿›è¡Œè®¿é—®\nã€SOAPã€‘SOAP æ˜¯ä¸€ç§ç®€å•çš„åŸºäº XML çš„åè®®ï¼Œå®ƒä½¿åº”ç”¨ç¨‹åºé€šè¿‡ HTTP æ¥äº¤æ¢ä¿¡æ¯\nã€RSSã€‘RSSåŸºäºXMLæ ‡å‡†ï¼Œåœ¨äº’è”ç½‘ä¸Šè¢«å¹¿æ³›é‡‡ç”¨çš„å†…å®¹åŒ…è£…å’ŒæŠ•é€’åè®®\nã€RDFã€‘DF(èµ„æºæè¿°æ¡†æ¶)æ˜¯æè¿°ç½‘ç»œèµ„æºçš„ W3C æ ‡å‡†\n\nå¼€å‘å·¥å…·\nã€Eclipseã€‘Eclipse æ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„ã€åŸºäº Java çš„å¯æ‰©å±•å¼€å‘å¹³å°\nã€Gitã€‘Gitæ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºæ•æ·é«˜æ•ˆåœ°å¤„ç†ä»»ä½•æˆ–å°æˆ–å¤§çš„é¡¹ç›®\nã€Svnã€‘SVN æ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ\nã€Markdownã€‘Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­\n\nç½‘ç«™å»ºè®¾\nã€HTTPã€‘HTTPåè®®ï¼ˆHyperText Transfer Protocolï¼Œè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰æ˜¯å› ç‰¹ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œä¼ è¾“åè®®\nã€ç½‘ç«™å»ºè®¾æŒ‡å—ã€‘ç½‘ç«™å»ºè®¾æŒ‡å¯¼è¯¾ç¨‹\nã€æµè§ˆå™¨ä¿¡æ¯ã€‘å¯¹äºç½‘ç«™å¼€å‘äººå‘˜æ¥è¯´ï¼Œæµè§ˆå™¨ä¿¡æ¯å’Œç»Ÿè®¡æ•°æ®éƒ½æ˜¯éå¸¸é‡è¦çš„\nã€ç½‘ç«™ä¸»æœºæ•™ç¨‹ã€‘å¦‚æœæ‚¨å¸Œæœ›å‘å…¨ä¸–ç•Œå‘å¸ƒè‡ªå·±çš„ç½‘ç«™ï¼Œé‚£ä¹ˆæ‚¨çš„ç½‘ç«™å°±éœ€è¦è¢«æ”¾ç½®äºä¸€ä¸ª WEB æœåŠ¡å™¨\nã€TCPIPã€‘TCPIP æ˜¯å› ç‰¹ç½‘çš„é€šä¿¡åè®®\nã€W3Cã€‘W3C è®©æ¯ä¸ªäººéƒ½èƒ½åœ¨äº’è”ç½‘ä¸Šåˆ†äº«èµ„æº\nã€ç½‘ç«™å“è´¨ã€‘ä½•åˆ›å»ºé«˜è´¨é‡çš„webç½‘ç«™\n\nèœé¸Ÿæ•™ç¨‹\n","tags":["æ–‡ç« ","ç¼–ç¨‹"],"path":"2019/08/18/æŠ€æœ¯æ ˆ/","external_link":""},{"title":"æ·±å…¥ç†è§£Node.js ä¸­çš„è¿›ç¨‹ä¸çº¿ç¨‹","date":"2019-09-05T13:26:58.000Z","content":"\nå‰è¨€è¿›ç¨‹ä¸çº¿ç¨‹æ˜¯ä¸€ä¸ªç¨‹åºå‘˜çš„å¿…çŸ¥æ¦‚å¿µï¼Œé¢è¯•ç»å¸¸è¢«é—®åŠï¼Œä½†æ˜¯ä¸€äº›æ–‡ç« å†…å®¹åªæ˜¯è®²è®²ç†è®ºçŸ¥è¯†ï¼Œå¯èƒ½ä¸€äº›å°ä¼™ä¼´å¹¶æ²¡æœ‰çœŸçš„ç†è§£ï¼Œåœ¨å®é™…å¼€å‘ä¸­åº”ç”¨ä¹Ÿæ¯”è¾ƒå°‘ã€‚æœ¬ç¯‡æ–‡ç« é™¤äº†ä»‹ç»æ¦‚å¿µï¼Œé€šè¿‡Node.js çš„è§’åº¦è®²è§£è¿›ç¨‹ä¸çº¿ç¨‹ï¼Œå¹¶ä¸”è®²è§£ä¸€äº›åœ¨é¡¹ç›®ä¸­çš„å®æˆ˜çš„åº”ç”¨ï¼Œè®©ä½ ä¸ä»…èƒ½è¿æˆ˜é¢è¯•å®˜è¿˜å¯ä»¥åœ¨å®æˆ˜ä¸­å®Œç¾åº”ç”¨ã€‚\né¢è¯•ä¼šé—®\nNode.jsæ˜¯å•çº¿ç¨‹å—ï¼Ÿ\n\n\nNode.js åšè€—æ—¶çš„è®¡ç®—æ—¶å€™ï¼Œå¦‚ä½•é¿å…é˜»å¡ï¼Ÿ\n\n\nNode.jså¦‚ä½•å®ç°å¤šè¿›ç¨‹çš„å¼€å¯å’Œå…³é—­ï¼Ÿ\n\n\nNode.jså¯ä»¥åˆ›å»ºçº¿ç¨‹å—ï¼Ÿ\n\n\nä½ ä»¬å¼€å‘è¿‡ç¨‹ä¸­å¦‚ä½•å®ç°è¿›ç¨‹å®ˆæŠ¤çš„ï¼Ÿ\n\n\né™¤äº†ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œä½ ä»¬è‡ªå·±æ˜¯å¦å°è£…è¿‡ä¸€ä¸ªå¤šè¿›ç¨‹æ¶æ„?\n\nè¿›ç¨‹è¿›ç¨‹Processæ˜¯è®¡ç®—æœºä¸­çš„ç¨‹åºå…³äºæŸæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ˜¯æ“ä½œç³»ç»Ÿç»“æ„çš„åŸºç¡€ï¼Œè¿›ç¨‹æ˜¯çº¿ç¨‹çš„å®¹å™¨ï¼ˆæ¥è‡ªç™¾ç§‘ï¼‰ã€‚è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„æœ€å°å•ä½ã€‚æˆ‘ä»¬å¯åŠ¨ä¸€ä¸ªæœåŠ¡ã€è¿è¡Œä¸€ä¸ªå®ä¾‹ï¼Œå°±æ˜¯å¼€ä¸€ä¸ªæœåŠ¡è¿›ç¨‹ï¼Œä¾‹å¦‚ Java é‡Œçš„ JVM æœ¬èº«å°±æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼ŒNode.js é‡Œé€šè¿‡ node app.js å¼€å¯ä¸€ä¸ªæœåŠ¡è¿›ç¨‹ï¼Œå¤šè¿›ç¨‹å°±æ˜¯è¿›ç¨‹çš„å¤åˆ¶ï¼ˆforkï¼‰ï¼Œfork å‡ºæ¥çš„æ¯ä¸ªè¿›ç¨‹éƒ½æ‹¥æœ‰è‡ªå·±çš„ç‹¬ç«‹ç©ºé—´åœ°å€ã€æ•°æ®æ ˆï¼Œä¸€ä¸ªè¿›ç¨‹æ— æ³•è®¿é—®å¦å¤–ä¸€ä¸ªè¿›ç¨‹é‡Œå®šä¹‰çš„å˜é‡ã€æ•°æ®ç»“æ„ï¼Œåªæœ‰å»ºç«‹äº† IPC é€šä¿¡ï¼Œè¿›ç¨‹ä¹‹é—´æ‰å¯æ•°æ®å…±äº«ã€‚\n1234567const http = require(http);const server = http.createServer();server.listen(3000,()=&gt;&#123;    process.title=ç¨‹åºå‘˜æˆé•¿æŒ‡åŒ—æµ‹è¯•è¿›ç¨‹;    console.log(è¿›ç¨‹id,process.pid)&#125;)\n\nè¿è¡Œä¸Šé¢ä»£ç åï¼Œä»¥ä¸‹ä¸º Mac ç³»ç»Ÿè‡ªå¸¦çš„ç›‘æ§å·¥å…· â€œæ´»åŠ¨ç›‘è§†å™¨â€ æ‰€å±•ç¤ºçš„æ•ˆæœï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆšå¼€å¯çš„ Nodejs è¿›ç¨‹ 7663\nçº¿ç¨‹çº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•ä½ï¼Œé¦–å…ˆæˆ‘ä»¬è¦æ¸…æ¥šçº¿ç¨‹æ˜¯éš¶å±äºè¿›ç¨‹çš„ï¼Œè¢«åŒ…å«äºè¿›ç¨‹ä¹‹ä¸­ã€‚ä¸€ä¸ªçº¿ç¨‹åªèƒ½éš¶å±äºä¸€ä¸ªè¿›ç¨‹ï¼Œä½†æ˜¯ä¸€ä¸ªè¿›ç¨‹æ˜¯å¯ä»¥æ‹¥æœ‰å¤šä¸ªçº¿ç¨‹çš„ã€‚\nå•çº¿ç¨‹å•çº¿ç¨‹å°±æ˜¯ä¸€ä¸ªè¿›ç¨‹åªå¼€ä¸€ä¸ªçº¿ç¨‹\nJavascript å°±æ˜¯å±äºå•çº¿ç¨‹ï¼Œç¨‹åºé¡ºåºæ‰§è¡Œ(è¿™é‡Œæš‚ä¸”ä¸æJSå¼‚æ­¥)ï¼Œå¯ä»¥æƒ³è±¡ä¸€ä¸‹é˜Ÿåˆ—ï¼Œå‰é¢ä¸€ä¸ªæ‰§è¡Œå®Œä¹‹åï¼Œåé¢æ‰å¯ä»¥æ‰§è¡Œï¼Œå½“ä½ åœ¨ä½¿ç”¨å•çº¿ç¨‹è¯­è¨€ç¼–ç æ—¶åˆ‡å‹¿æœ‰è¿‡å¤šè€—æ—¶çš„åŒæ­¥æ“ä½œï¼Œå¦åˆ™çº¿ç¨‹ä¼šé€ æˆé˜»å¡ï¼Œå¯¼è‡´åç»­å“åº”æ— æ³•å¤„ç†ã€‚ä½ å¦‚æœé‡‡ç”¨ Javascript è¿›è¡Œç¼–ç æ—¶å€™ï¼Œè¯·å°½å¯èƒ½çš„åˆ©ç”¨Javascriptå¼‚æ­¥æ“ä½œçš„ç‰¹æ€§ã€‚\n123456789101112131415161718192021222324const http = require(http);const longComputation = () =&gt; &#123;  let sum = 0;  for (let i = 0; i &lt; 1e10; i++) &#123;    sum += i;  &#125;;  return sum;&#125;;const server = http.createServer();server.on(request, (req, res) =&gt; &#123;  if (req.url === compute) &#123;    console.info(è®¡ç®—å¼€å§‹,new Date());    const sum = longComputation();    console.info(è®¡ç®—ç»“æŸ,new Date());    return res.end(`Sum is $&#123;sum&#125;`);  &#125; else &#123;    res.end(Ok)  &#125;&#125;);server.listen(3000);æ‰“å°ç»“æœè®¡ç®—å¼€å§‹ 2019-07-28T07:08:49.849Zè®¡ç®—ç»“æŸ 2019-07-28T07:09:04.522Z\n\næŸ¥çœ‹æ‰“å°ç»“æœï¼Œå½“æˆ‘ä»¬è°ƒç”¨127.0.0.1:3000computeçš„æ—¶å€™ï¼Œå¦‚æœæƒ³è¦è°ƒç”¨å…¶ä»–çš„è·¯ç”±åœ°å€æ¯”å¦‚127.0.0.1å¤§çº¦éœ€è¦15ç§’æ—¶é—´ï¼Œä¹Ÿå¯ä»¥è¯´ä¸€ä¸ªç”¨æˆ·è¯·æ±‚å®Œç¬¬ä¸€ä¸ªcomputeæ¥å£åéœ€è¦ç­‰å¾…15ç§’ï¼Œè¿™å¯¹äºç”¨æˆ·æ¥è¯´æ˜¯æå…¶ä¸å‹å¥½çš„ã€‚ä¸‹æ–‡æˆ‘ä¼šé€šè¿‡åˆ›å»ºå¤šè¿›ç¨‹çš„æ–¹å¼child_process.fork å’Œcluster æ¥è§£å†³è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\nå•çº¿ç¨‹çš„ä¸€äº›è¯´æ˜\n\nNode.js è™½ç„¶æ˜¯å•çº¿ç¨‹æ¨¡å‹ï¼Œä½†æ˜¯å…¶åŸºäºäº‹ä»¶é©±åŠ¨ã€å¼‚æ­¥éé˜»å¡æ¨¡å¼ï¼Œå¯ä»¥åº”ç”¨äºé«˜å¹¶å‘åœºæ™¯ï¼Œé¿å…äº†çº¿ç¨‹åˆ›å»ºã€çº¿ç¨‹ä¹‹é—´ä¸Šä¸‹æ–‡åˆ‡æ¢æ‰€äº§ç”Ÿçš„èµ„æºå¼€é”€ã€‚\nå½“ä½ çš„é¡¹ç›®ä¸­éœ€è¦æœ‰å¤§é‡è®¡ç®—ï¼ŒCPU è€—æ—¶çš„æ“ä½œæ—¶å€™ï¼Œè¦æ³¨æ„è€ƒè™‘å¼€å¯å¤šè¿›ç¨‹æ¥å®Œæˆäº†ã€‚\nNode.js å¼€å‘è¿‡ç¨‹ä¸­ï¼Œé”™è¯¯ä¼šå¼•èµ·æ•´ä¸ªåº”ç”¨é€€å‡ºï¼Œåº”ç”¨çš„å¥å£®æ€§å€¼å¾—è€ƒéªŒï¼Œå°¤å…¶æ˜¯é”™è¯¯çš„å¼‚å¸¸æŠ›å‡ºï¼Œä»¥åŠè¿›ç¨‹å®ˆæŠ¤æ˜¯å¿…é¡»è¦åšçš„ã€‚\nå•çº¿ç¨‹æ— æ³•åˆ©ç”¨å¤šæ ¸CPUï¼Œä½†æ˜¯åæ¥Node.js æä¾›çš„APIä»¥åŠä¸€äº›ç¬¬ä¸‰æ–¹å·¥å…·ç›¸åº”éƒ½å¾—åˆ°äº†è§£å†³ï¼Œæ–‡ç« åé¢éƒ½ä¼šè®²åˆ°ã€‚\n\n","tags":["Nodejs"],"path":"2019/09/05/æ·±å…¥ç†è§£Node-js-ä¸­çš„è¿›ç¨‹ä¸çº¿ç¨‹/","external_link":""},{"title":"æ ‘çš„é«˜åº¦ï¼ˆå°ç±³2017ç§‹æ‹›çœŸé¢˜ï¼‰","date":"2019-09-05T08:08:46.000Z","content":"\næ ‘çš„é«˜åº¦ï¼ˆå°ç±³2017ç§‹æ‹›çœŸé¢˜ï¼‰é¢˜ç›®é¢˜ç›®æè¿°\nç°åœ¨æœ‰ä¸€æ£µåˆæ³•çš„äºŒå‰æ ‘ï¼Œæ ‘çš„èŠ‚ç‚¹éƒ½æ˜¯ç”¨æ•°å­—è¡¨ç¤ºï¼Œç°åœ¨ç»™å®šè¿™æ£µæ ‘ä¸Šæ‰€æœ‰çš„çˆ¶å­å…³ç³»ï¼Œæ±‚è¿™æ£µæ ‘çš„é«˜åº¦\næ—¶é—´é™åˆ¶CC++è¯­è¨€ï¼š1000MS å…¶å®ƒè¯­è¨€ï¼š3000MS\nå†…å­˜é™åˆ¶CC++è¯­è¨€ï¼š65536KB å…¶å®ƒè¯­è¨€ï¼š589824KB\nè¾“å…¥\nè¾“å…¥çš„ç¬¬ä¸€è¡Œè¡¨ç¤ºèŠ‚ç‚¹çš„ä¸ªæ•°nï¼ˆ1&lt;=n&lt;=1000ï¼ŒèŠ‚ç‚¹çš„ç¼–å·ä¸º0åˆ°n-1ï¼‰ç»„æˆï¼Œä¸‹é¢æ˜¯n-1è¡Œï¼Œæ¯è¡Œæœ‰ä¸¤ä¸ªæ•´æ•°ï¼Œç¬¬ä¸€ä¸ªæ•°è¡¨ç¤ºçˆ¶èŠ‚ç‚¹çš„ç¼–å·ï¼Œç¬¬äºŒä¸ªæ•°è¡¨ç¤ºå­èŠ‚ç‚¹çš„ç¼–å·\nè¾“å‡º\nè¾“å‡ºæ ‘çš„é«˜åº¦ï¼Œä¸ºä¸€ä¸ªæ•´æ•°\næ ·ä¾‹è¾“å…¥\n1234550 10 21 31 4\n\næ ·ä¾‹è¾“å‡º\n13\n\né¢˜è§£java\n1234567891011121314151617181920212223242526272829303132import java.util.Scanner;public class Main &#123;    public static void main(String[] args) &#123;        Scanner sc = new Scanner(System.in);        int n = sc.nextInt();        int[] parent = new int[n];        for (int i = 0; i &lt; n; i++) &#123;            parent[i] = -1;        &#125;        for (int i = 0; i &lt; n - 1; i++) &#123;            int a = sc.nextInt();            int b = sc.nextInt();            parent[b] = a;        &#125;        int h = 0;        for (int i = 0; i &lt; n; i++) &#123;            int max = 1;            int j = i;            while (parent[j] != -1) &#123;                j = parent[j];                max++;            &#125;            h = max &gt; h ? max : h;        &#125;        System.out.println(h);    &#125;&#125;\n\npython\n1234567891011121314import sysdef get(x):    try:        return 1 + get(dic_s[x])    except KeyError:        return 1n = int(sys.stdin.readline().strip())dic_s = &#123;&#125;for i in range(int(n)-1):    j_1,j_2 = sys.stdin.readline().strip().split()    dic_s[j_2] = j_1print max([get(i) for i in set(dic_s.keys()) - set(dic_s.values())]) if n&gt;1 else 1\n\njavascript\n12345678910111213141516var n=readInt(),rec=&#123;&#125;,dps=&#123;&#125;,rs=1while(n--&gt;1) &#123;  var a=readInt(),b=readInt()  rec[a]=rec[a]||[]  rec[a].push(b)&#125;for(var k in rec) rs=Math.max(rs,maxDps(k))print(rs)function maxDps(n)&#123;  if(!rec[n]) return 1  if(dps[n]) return dps[n]  var r=1  for(var x of rec[n]) r=Math.max(r,maxDps(x)+1)  dps[n]=r  return dps[n]&#125;\n\n","tags":["ç®—æ³•","æ ‘","äºŒå‰æ ‘"],"path":"2019/09/05/æ ‘çš„é«˜åº¦ï¼ˆå°ç±³2017ç§‹æ‹›çœŸé¢˜ï¼‰/","external_link":""},{"title":"ç­éœ¸è„šæœ¬","date":"2019-09-08T23:20:36.000Z","content":"Thanos.shThis command could delete list half your files randomly.\ndonâ€™t use it at home and other places. this is a real gun, use it wiselyâ€¦ \nfeel free to post your story on waiting.12345678910111213141516# ç­éœ¸è„šæœ¬è¿™ä¸ªå‘½ä»¤ä¼šéšæœºâ€œåˆ æ‰â€æ‚¨ä¸€åŠçš„æ–‡ä»¶ã€‚ã€‚è¯·ä¸è¦åœ¨å®¶é‡Œæˆ–å…¶ä»–åœ°æ–¹ä½¿ç”¨ã€‚è¿™æ˜¯çœŸå®¶ä¼™ï¼Œè¦å°å¿ƒâ€¦ä½ å¯ä»¥åœ¨```Story.md```æ–‡ä»¶é‡Œå‘å¸ƒä½ çš„æ•…äº‹ï¼ŒæœŸå¾…ä¸­â€¦  ## ç‰¹åˆ«è¯´æ˜ &gt; 1. æ”¯æŒmacç³»ç»Ÿï¼Œä½†æ˜¯éœ€è¦ä½¿ç”¨åˆ°```gshuf```å‘½ä»¤ï¼Œéœ€è¦é€šè¿‡```brew```å®‰è£…,å®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š```shell    #å®‰è£…brew    usrbinruby -e &quot;$(curl -fsSL https:raw.githubusercontent.comHomebrewinstallmasterinstall)&quot;    #å®‰è£…gshuf    brew install coreutils`\n\n\næ­¤è„šæœ¬åªä¼šåˆ—å‡ºå½“å‰ç›®å½•ä¸€åŠçš„æ–‡ä»¶ã€‚å¹¶ä¸”ã€‚ã€‚ã€‚æ€»ä¹‹å°å¿ƒç‚¹ã€‚ã€‚ã€‚  \n\n\nInvoke-Thanos.ps1Invokes Thanos to remove each object with probability 12. It works with files, registry, environment variables, functions, variables, aliases and certificates.\nFor help, use Get-Help .Invoke-Thanos.ps1. Be sure to not actually invoke it!\n123456789101112131415#!binshlet i=`find . -type f | wc -l`2;if [[ uname==Darwin ]]; then    find . -not -name Thanos.sh -type f -print0 | gshuf -z -n $i | xargs -0  -- cat;else    find . -not -name Thanos.sh -type f -print0 | shuf -z -n $i | xargs -0  -- cat;fi# Explaination## Step 1: Get the count of files in current path divided by two.## Step 2: Get all the files in current path and print in one line.## Step 3: Turn half of the second step output into standard input randomly.## Step 4: Show half of the files in terminal.# Key Point## If you want to make delete, what you need to do is turn cat into rm.\n\næœ¬äººåœ¨çº¿ä¸ŠæœåŠ¡å™¨ä¸Šè¿è¡Œäº†ä¸€æ¬¡ï¼Œâ€¦\n\n\n","tags":["è„šæœ¬"],"path":"2019/09/09/ç­éœ¸è„šæœ¬/","external_link":""},{"title":"æ•°æ®åº“å¤‡ä»½æ¢å¤å®¹å™¨åŒ–é¡¹ç›®å®è·µç»éªŒæ€»ç»“","date":"2019-09-08T13:35:18.000Z","content":"æ•°æ®åº“å¤‡ä»½æ¢å¤å®¹å™¨åŒ–é¡¹ç›®å®è·µç»éªŒæ€»ç»“\næœ¬æ–‡åˆ†äº«äº†å”¯å“ä¼šæ•°æ®åº“Dockerçš„å¼‚åœ°å®¹ç¾é¡¹ç›®å®è·µç»éªŒï¼Œé¡¹ç›®ä¸­é’ˆå¯¹ç”¨æˆ·æ•°æ®åº“çš„å¼‚åœ°æ¢å¤åœºæ™¯çš„éœ€æ±‚è¿›è¡Œå¼€å‘å’Œæµ‹è¯•ï¼Œæ•´åˆäº†ç½‘ç»œï¼Œå­˜å‚¨ã€è°ƒåº¦ã€ç›‘æ§ï¼Œé•œåƒç­‰å¤šä¸ªæ¨¡å—ã€‚åœ¨å®æ–½å®Œæˆåï¼Œä»æŠ€æœ¯ä¸Šæ€»ç»“å…³äºé€‰å‹ã€å¼€å‘ã€è¸©å‘ã€æµ‹è¯•ç­‰æ–¹é¢çš„ç»éªŒã€‚\n\né¡¹ç›®èƒŒæ™¯æ•°æ®åº“Dockerçš„å¼‚åœ°å¤‡ä»½æ¢å¤å®¹ç¾é¡¹ç›®ï¼Œé’ˆå¯¹ç”¨æˆ·æ•°æ®åº“çš„å¼‚åœ°å¤‡ä»½æ¢å¤åœºæ™¯çš„éœ€æ±‚è¿›è¡Œå¼€å‘å’Œæµ‹è¯•ï¼Œæ•´åˆäº†å®¹å™¨ç½‘ç»œã€å­˜å‚¨ã€è°ƒåº¦ã€ç›‘æ§ã€é•œåƒç­‰å¤šä¸ªæ¨¡å—ã€‚åŒæ—¶é’ˆå¯¹æ•°æ®åº“çš„æ—¥å¸¸è¿ç»´å·¥ä½œå¼€å‘äº†ç›‘æ§ã€èµ„æºè°ƒåº¦ã€æ—¥å¿—ã€Puppetè‡ªåŠ¨æ¨é€ç­‰å·¥å…·ã€‚\né€šè¿‡Dockerå¤©ç”Ÿéš”ç¦»æ€§å’Œå¿«é€Ÿéƒ¨ç½²ç­‰ç‰¹ç‚¹ï¼Œå®ç°åœ¨å•å°ç‰©ç†æœºä¸Šè¿è¡Œå¤šä¸ªæ•°æ®åº“å¤‡ä»½æ¢å¤å®ä¾‹ï¼Œå¤§å¤§æé«˜æœåŠ¡å™¨ä½¿ç”¨ç‡ï¼ŒèŠ‚çœå¤§é‡æˆæœ¬ã€‚é€šè¿‡å¯¹Dockeræœ¬èº«å’Œç›¸å…³ç»„ä»¶çš„ç ”ç©¶å’Œæ”¹é€ ï¼Œä»æ™®é€šå¼€æºäº§å“è½åœ°åˆ°å…¬å¸å†…éƒ¨ç”Ÿäº§ç¯å¢ƒï¼Œç§¯ç´¯å®è´µçš„å¼€å‘ç»éªŒã€‚é€šè¿‡å¯¹Dockerå·²ç»åœ¨å…¶ä¸Šå±‚è¿è¡Œçš„æ•°æ®åº“æ—¥å¸¸è¿ç»´å’Œç›‘æ§ï¼Œä¹Ÿç§¯ç´¯å®è´µçš„Dockerè¿ç»´ç»éªŒï¼Œä¸ºæ›´å¤§è§„æ¨¡æ¨å¹¿å®¹å™¨æä¾›åŸºç¡€ã€‚\n\nå…³äºå®¹å™¨æŠ€æœ¯é€šè¿‡å®è·µï¼Œè¯æ˜å®¹å™¨æŠ€æœ¯åœ¨æ˜“ç”¨æ€§ï¼Œå¯ç®¡ç†æ€§ï¼Œå¿«é€Ÿéƒ¨ç½²å…·å¤‡å¤©ç„¶çš„ä¼˜åŠ¿ã€‚åœ¨èµ„æºåˆ©ç”¨ç‡æ–¹é¢ï¼Œå®¹å™¨éƒ¨ç½²åœ¨ä¸Šç™¾ä¸ªç‰©ç†èŠ‚ç‚¹ä¸Šï¼Œæä¾›çº¦500å¤šä¸ªæ•°æ®åº“ç¾å¤‡å®ä¾‹ï¼Œæå‡äº†ç¡¬ä»¶èµ„æºçš„åˆ©ç”¨ç‡ï¼ŒèŠ‚çº¦äº†çº¦400å°ç‰©ç†æœºçš„é‡‡è´­æˆæœ¬ã€‚è¿™äº›æ˜¯å®¹å™¨æŠ€æœ¯å¸¦æ¥çš„å®å®åœ¨åœ¨æ”¶ç›Šã€‚åœ¨èµ„æºåˆ†é…ä¸éš”ç¦»æ–¹é¢ï¼Œåˆä¸è¾“äºè™šæ‹Ÿæœºã€‚CPUã€å†…å­˜ã€ç£ç›˜IOã€ç½‘ç»œIOé™æµç­‰æŠ€æœ¯çš„åº”ç”¨ï¼Œä¿è¯äº†èµ„æºçš„åˆç†ä½¿ç”¨ï¼Œä»æœºåˆ¶ä¸Šé˜»æ­¢äº†å•ä¸€å®ä¾‹çš„èµ„æºè¿‡åˆ†æ¶ˆè€—çš„é—®é¢˜ã€‚\nç¨³å®šæ€§æ˜¯ä½¿ç”¨å®¹å™¨æŠ€æœ¯éå¸¸å…³æ³¨çš„ä¸€ä¸ªç‚¹ï¼Œä¹Ÿæ˜¯åŸºçŸ³ã€‚MySQLå¤‡ä»½æ¢å¤å±äºCPUå¯†é›† + ç£ç›˜IOå¯†é›† + ç½‘ç»œIOå¯†é›†å‹ä¸šåŠ¡ï¼Œå¯¹äºDocker daemonæ˜¯ä¸ªè¾ƒå¤§çš„è€ƒéªŒã€‚å°±ç›®å‰æ¥çœ‹ï¼Œé™åˆ¶æ¯å°å®¿ä¸»æœºçš„å®¹å™¨æ•°é‡ï¼ˆ5ä¸ªå·¦å³ï¼‰çš„æƒ…å†µä¸‹ï¼Œé›†ç¾¤è·‘äº†ä¸‰ä¸ªå¤šæœˆæ²¡æœ‰å‡ºç°å› ä¸ºå®¹å™¨è´Ÿè½½è¿‡å¤§å¯¼è‡´çš„crashç°è±¡ï¼Œè¿˜æ˜¯å€¼å¾—ä¿¡èµ–çš„ã€‚é‡åˆ°çš„å”¯ä¸€ç›¸å…³é—®é¢˜æ˜¯Docker daemonæŒ‚æ­»ï¼Œå…·ä½“ç°è±¡æ˜¯docker infoã€docker psæ²¡æœ‰å“åº”ï¼Œdocker volumeã€docker images æ­£å¸¸ï¼Œä¸‹é¢çš„å®¹å™¨è¿è¡Œæ­£å¸¸ã€‚è¿™æ˜¯å¶å‘äº‹ä»¶ï¼Œæ— æ³•é‡ç°ï¼Œä»¥åéœ€è¦ç»§ç»­è§‚å¯Ÿã€‚\nç”±äºå®¹å™¨ä»¥è¿›ç¨‹æ–¹å¼å­˜åœ¨ï¼Œä½“ç°å‡ºå‡ ä¹ä¸ç‰©ç†æœºä¸Šç›¸å½“çš„æ€§èƒ½ï¼ŒOverheadsæä½ï¼ˆä½äº10%ï¼‰ã€‚ä»æ•°æ®æŠ½å–ä»»åŠ¡çš„ç»“æœæ¥çœ‹ï¼Œä¸ç‰©ç†æœºç›¸æ¯”ï¼Œä½¿ç”¨å®¹å™¨å¯¹æˆåŠŸç‡æ²¡æœ‰å½±å“ï¼Œæ•ˆç‡ä¹Ÿå·®ä¸å¤šã€‚è¿™ä¹Ÿå¾ˆç¬¦åˆæœ€åˆé¢„æƒ³ï¼Œä¸ç®¡è·‘å®¹å™¨è¿˜æ˜¯å¤–éƒ¨æœåŠ¡ä»ç‰©ç†æœºè§’åº¦æ¥è¯´å®ƒä»¬ä¹‹é—´æ˜¯æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«çš„ï¼Œéƒ½æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œå”¯ä¸€ä¸åŒæ˜¯çˆ¶è¿›ç¨‹ä¸ä¸€æ ·è€Œå·²ã€‚\nä»¥ä¸Šæ˜¯å®¹å™¨â€œRUNâ€å¸¦æ¥çš„å¥½å¤„ï¼Œé€šè¿‡ç»Ÿä¸€å¼€å‘æµç¨‹ï¼Œåº”ç”¨å¾®æœåŠ¡åŒ–ï¼ŒCICDç­‰æ–¹é¢çš„æ”¹è¿›ï¼Œèƒ½å¤Ÿè¿›ä¸€æ­¥åˆ©ç”¨å®¹å™¨â€œBUILDâ€ã€â€œSHIPâ€ ä¼˜åŠ¿ï¼Œå®¹å™¨æŠ€æœ¯è¿˜æ¥çš„æ½œåŠ›æ˜¯å·¨å¤§çš„ã€‚è¦è¯´å®¹å™¨æŠ€æœ¯çš„ç¼ºç‚¹ï¼Œè¿˜çœŸçš„ä¸æ˜æ˜¾ã€‚ç¡¬è¦æçš„è¯ä¸€ä¸ªæ˜¯éœ€è¦ä¸€å®šçš„å­¦ä¹ æˆæœ¬ï¼Œæ”¹å˜å¼€å‘æµç¨‹ä¸æ–¹å¼ï¼Œä¸€ä¸ªæ˜¯å¼€å‘äººå‘˜å¯¹å®¹å™¨æŠ€æœ¯çš„æ¥å—ç¨‹åº¦ã€‚è¿™ä¸ªé¡¹ç›®ä»…ç”¨äº†ä¸åˆ°äºŒç™¾äººå¤©ï¼Œå¯¹äºä¸€ä¸ªé‡‡ç”¨æ–°æŠ€æœ¯çš„é¡¹ç›®æ¥è¯´ï¼ŒçœŸçš„æ˜¯å¾ˆä½çš„äº†ã€‚ä¸€å¼€å§‹æˆ‘ä»¬ä¹Ÿæ‹…å¿ƒå› ä¸ºé‡‡ç”¨æ–°æŠ€æœ¯å¯¼è‡´å¼€å‘æ¨å¹¿æœ‰å›°éš¾ï¼Œåæ¥å®é™…èƒ½é€šè¿‡æŠ€æœ¯ä¸Šè§£å†³é—®é¢˜ï¼Œæ‰“æ¶ˆäº†å¤§éƒ¨åˆ†ç”¨æˆ·å¯¹ä½¿ç”¨Dockerçš„ç–‘è™‘ï¼Œåè€Œæœ‰åŠ©äºè¯¥æŠ€æœ¯çš„æ™®éåº”ç”¨ã€‚\nå…³äºDocker daemonç‰ˆæœ¬çš„é€‰æ‹©ï¼Œæˆ‘ä»¬ä¹‹å‰æ˜¯æœ‰è¿‡ä¸€äº›è®¨è®ºçš„ã€‚ç°åœ¨Dockerç¤¾åŒºéå¸¸æ´»è·ƒï¼Œå½“æ—¶æˆ‘ä»¬ç”¨1.10.3ï¼Œ åˆ°ç°åœ¨å·²ç»å‡ºäº†ä¸¤ä¸ªæ–°ç‰ˆæœ¬äº†ã€‚åœ¨åŠŸèƒ½æ»¡è¶³çš„å‰æä¸‹ï¼Œç¨³å®šæ€§æ˜¯ç¬¬ä¸€è€ƒé‡ã€‚Dockerè‡ª1.9.0å¼•å…¥CNMç½‘ç»œæ¨¡å‹ï¼Œ1.10ç®—æ˜¯æ¯”è¾ƒæˆç†Ÿã€‚CNMæ˜¯æˆ‘ä»¬å¸Œæœ›åœ¨è¿™ä¸ªé¡¹ç›®å°è¯•çš„ä¸€éƒ¨åˆ†ã€‚ç½‘ç»œä¸Volumeæ’ä»¶åŠŸèƒ½ä¸ç¨³å®šæ€§çš„æå‡ï¼Œå¼€å§‹æ”¯æŒç£ç›˜IOè¯»å†™é™é€Ÿï¼ŒDevice Mapperçš„æ”¯æŒï¼Œç­‰ç­‰ï¼Œéƒ½æ˜¯é€‰æ‹©äº†è¿™ä¸ªç‰ˆæœ¬çš„åŸå› ã€‚å¦å¤–ï¼ŒDockeræ’ä»¶çš„å¼•å…¥ï¼Œå¾ˆå¥½åœ°è§£è€¦äº†Dockerä¸åº•å±‚æ¨¡å—çš„å…³ç³»ï¼Œä½¿æˆ‘ä»¬å¯ä»¥ä¸“æ³¨äºåº•å±‚ï¼ˆç½‘ç»œã€å­˜å‚¨ï¼‰å®ç°è€Œä¸éœ€è¦ä¿®æ”¹Docker daemonæœ¬èº«ï¼ŒåŒæ—¶é¿å…äº§ç”Ÿå‡çº§ä¾èµ–ã€‚\nå…³äºå®¹å™¨å­˜å‚¨å®¹å™¨å¤–éƒ¨å·ä½¿ç”¨Convoyï¼Œä»¥æ’ä»¶çš„å½¢å¼æ”¯æŒå®¹å™¨æŒä¹…åŒ–æ•°æ®ã€‚å®¹å™¨æœ¬èº«ä¸å¤–éƒ¨å·å‡ä½¿ç”¨Device Mapperä½œä¸ºåº•å±‚ã€‚æ²¡æœ‰é€‰æ‹©åˆ†å¸ƒå¼å­˜å‚¨åŸå› ï¼Œä¸»è¦æ˜¯ä¸ºäº†ç®€åŒ–å®ç°ï¼Œæ›´ç¨³å®šã€‚é€šè¿‡é™åˆ¶æ¯ä¸ªå®¹å™¨çš„BlkioDeviceReadBpsã€BlkioDeviceWriteBpsã€BlkioDeviceReadIOpsã€BlkioDeviceWriteIOpsï¼Œä½¿ç£ç›˜IOç¨³å®šåœ°è¾¾åˆ°ç›¸å½“äº95%ç‰©ç†æœºæ€§èƒ½ã€‚\n\nå¯¹äºDevice Mapperï¼Œå› ä¸ºæ˜¯çº¢å¸½æ¨èçš„ï¼Œè€ŒOSåˆæ˜¯ç”¨çš„CentOS7.2, æ‰€ä»¥å°±ç”¨äº†å®ƒã€‚æµ‹è¯•è¿‡ç¨‹ä¸­å‘ç°Device Mapperå¥å£®æ€§ä¸æ˜¯å¾ˆå¥½ï¼Œä»…ä»…åœ¨ä½å¹¶å‘ä¸‹ï¼Œä¹Ÿä¼šå‡ºç°å®¹å™¨åˆ é™¤å¤±è´¥çš„æƒ…å†µï¼Œå®¹å™¨å¹¶å‘å¯åœå¶å°”å‡ºç°æ‰¾ä¸åˆ°è®¾å¤‡çš„æƒ…å†µã€‚è¿™ç§ä½¿ç”¨æ˜ å°„å…³ç³»çš„è®¾å¤‡ï¼ŒåŠŸèƒ½æ˜¯ä¸°å¯Œï¼Œå®ç°ä¸Šè¿‡äºå¤æ‚ï¼Œæ¯æ¬¡å¯¹è®¾å¤‡çš„ä¿®æ”¹éƒ½éœ€è¦é¢å¤–å»æ›´æ–°Metadataï¼Œå¹¶å‘åœºæ™¯å‡ºé”™çš„æœºä¼šå°±å¤§äº†ã€‚è®©æˆ‘å†é€‰çš„è¯æˆ‘ä¼šè€ƒè™‘Overlayè¿™ç§æ›´ç®€å•çš„driverã€‚\nå¯¹äºConvoyï¼Œæ˜¯æ¥è‡ªRancherçš„äº§å“ï¼ŒGoè¯­è¨€ï¼Œä»ç„¶å¤„äºæœªæˆç†Ÿé˜¶æ®µï¼Œç‰ˆæœ¬å·0.5, å¹¶æ²¡æœ‰å®Œå…¨å®ç°Volume Pluginæ¥å£ã€‚ç›¸æ¯”å…¶å®ƒæ¨¡å—å®ƒçš„é—®é¢˜ä¹Ÿæ˜¯æœ€å¤šçš„ï¼Œä¾‹å¦‚Volumeåˆ›å»ºå¤±è´¥ï¼Œæ— æ³•åˆ é™¤ï¼ŒUNIX Socketæ³„æ¼ï¼Œé‡åå†²çªï¼Œå¼‚å¸¸è‡ªåŠ¨é€€å‡ºç­‰ã€‚å±äºèƒ½ç”¨ï¼Œä½†æœªå®Œå–„çš„çŠ¶æ€ï¼Œä½ è‡ªå·±å¾—æœ‰ä¸€å®šå¼€å‘è°ƒè¯•èƒ½åŠ›å»è§£å†³å‘ç°çš„é—®é¢˜ã€‚å…¶å®ƒå‡ ä¸ªå­˜å‚¨æ’ä»¶æƒ…å†µä¹Ÿå·®ä¸å¤šï¼ŒFlockerã€Blockbridgeã€Horcruxç­‰ç­‰ï¼Œæœ‰çš„è¿ç¬¬ä¸€ä¸ªæ­£å¼å‘å¸ƒç‰ˆéƒ½è¿˜æ²¡æœ‰ï¼ŒConvoyåè€Œç›¸å¯¹å¥½ç‚¹ï¼Œæœ‰ç‚¹çƒ‚æŸ¿å­å †é‡ŒæŒ‘çš„æ„Ÿè§‰ã€‚\nå…³äºå®¹å™¨ç›‘æ§å®¹å™¨ç›‘æ§åœ¨è¿™ä¸ªé¡¹ç›®é‡Œè¿˜å¯ä»¥æœ‰å¾ˆå¤§çš„ç©ºé—´å¯ä»¥æ”¹è¿›ã€‚é¡¹ç›®é‡Œç”¨çš„æ˜¯cAdvisorï¼Œå®¹å™¨å†…topã€freeã€iostatå‘½ä»¤åŠ«æŒï¼ŒåŸºäºå·²æœ‰çš„Zabbixä½“ç³»ä½œæ•°æ®æ”¶é›†ä¸å±•ç¤ºã€‚ç»“è®ºæ˜¯Zabbixå®Œå…¨ä¸åˆé€‚åšå®¹å™¨ç›‘æ§ï¼Œæ•°æ®æ”¶é›†å¯†åº¦ï¼Œå±•ç¤ºè´¨é‡ï¼Œçµæ´»åº¦éƒ½æ²¡èƒ½æ»¡è¶³éœ€æ±‚ã€‚\nåæ¥åœ¨æµ‹è¯•ä¸­å°è¯•ä½¿ç”¨Telegraf + InfluxDB + Grafanaã€‚ åªéœ€è¦Grafanaç®€å•çš„é…ç½®ï¼Œèƒ½å¤Ÿå¸®å¿™æˆ‘ä»¬æ¸…æ™°åœ°å±•ç¤ºå®¹å™¨åŠæœåŠ¡è¿›ç¨‹CPUã€å†…å­˜ã€ç½‘ç»œã€ç£ç›˜ç­‰æƒ…å†µã€‚Grafanaä¸ŠSQLæŸ¥è¯¢è¯­å¥çš„è°ƒè¯•ä¸å¼€å‘ï¼Œç¡®å®éœ€è¦ä¸å°‘çš„æ—¶é—´ï¼Œä½†è¿™ä¸ªå·¥ä½œé‡æ˜¯ä¸€æ¬¡æ€§çš„ã€‚å› ä¸ºæ˜¯Goå†™çš„ï¼ŒTelegraf CPUå ç”¨å±äºæ¯”è¾ƒä½çš„æ°´å¹³ï¼ˆ0.4 â€“ 5%ï¼‰ã€‚åŠŸèƒ½ä¸Šæ¯”è¾ƒä¸°å¯Œï¼ŒåŒæ—¶æ”¯æŒå¤–éƒ¨è¿›ç¨‹ä¸å®¹å™¨çš„æ•°æ®æ”¶é›†ï¼Œå¤šè¾¾55ç§æ•°æ®æºæ’ä»¶ï¼Œæœ‰å®ƒå°±ä¸éœ€è¦å¸ƒcAdvisoräº†ï¼Œä¸ªäººæ¯”è¾ƒæ¨èã€‚éœ€è¦å‘Šè­¦çš„åŒå­¦ï¼Œå¯ä»¥è€ƒè™‘æŠŠinfluxDBæ”¹æˆPrometheusã€‚å®ƒåŒ…å«Alertmanagerå®ç°Emailã€PagerDutyç­‰æ¶ˆæ¯é€šçŸ¥ã€‚æ•°æ®Backendå¯ä»¥é€‰æ‹©è‡ªå¸¦çš„DBï¼Œä¹Ÿå¯ä»¥å¤–æ¥influxDBã€Graphiteã€OpenTSDBç­‰æµè¡Œæ–¹æ¡ˆã€‚\n\nç›‘æ§é¢†åŸŸä¸šç•Œå·²ç»æœ‰å¾ˆå¤šå¼€æºæ–¹æ¡ˆå¯ä»¥å‚è€ƒï¼Œä»¥ä¸‹æ˜¯è¦è¡¡é‡çš„æ ‡å‡†ï¼šæ˜“æ‰©å±•ã€å¼€é”€ä½ã€å…¥ä¾µå°ã€å¤§é›†ä¸­ã€æ˜“éƒ¨ç½²ã€å®æ—¶æ€§ã€å±•ç°æ¸…æ™°çµæ´»ã€‚è¿™æ–¹é¢å¸Œæœ›ä¸å„ä½æœ‰æ›´å¤šçš„äº¤æµã€‚\n","tags":["æ•°æ®åº“","å¤‡ä»½","Docker"],"path":"2019/09/08/æ•°æ®åº“å¤‡ä»½æ¢å¤å®¹å™¨åŒ–é¡¹ç›®å®è·µç»éªŒæ€»ç»“/","external_link":""},{"title":"ç‹‚é‡é£™è½¦9","date":"2019-09-04T18:19:56.000Z","content":"å…°åšåŸºå°¼\næ³•æ‹‰åˆ©\nå¸ƒåŠ è¿ª\nè¿ˆå‡¯ä¼¦\nå…°åšåŸºå°¼\né£ç¥\n","tags":["ç‹‚é‡é£™è½¦","è·‘è½¦"],"path":"2019/09/05/ç‹‚é‡é£™è½¦9/","external_link":""},{"title":"é¢è¯•çº¢é»‘æ ‘","date":"2019-09-08T02:43:14.000Z","content":"ä»€ä¹ˆæ˜¯çº¢é»‘æ ‘çº¢é»‘æ ‘æœ¬è´¨ä¸Šæ˜¯ä¸€ç§äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œä½†å®ƒåœ¨äºŒå‰æŸ¥æ‰¾æ ‘çš„åŸºç¡€ä¸Šé¢å¤–æ·»åŠ äº†ä¸€ä¸ªæ ‡è®°ï¼ˆé¢œè‰²ï¼‰ï¼ŒåŒæ—¶å…·æœ‰ä¸€å®šçš„è§„åˆ™ã€‚è¿™äº›è§„åˆ™ä½¿çº¢é»‘æ ‘ä¿è¯äº†ä¸€ç§å¹³è¡¡ï¼Œæ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾çš„æœ€åæ—¶é—´å¤æ‚åº¦éƒ½ä¸º O(logn)ã€‚\nå®ƒçš„ç»Ÿè®¡æ€§èƒ½è¦å¥½äºå¹³è¡¡äºŒå‰æ ‘ï¼ˆAVLæ ‘ï¼‰ï¼Œå› æ­¤ï¼Œçº¢é»‘æ ‘åœ¨å¾ˆå¤šåœ°æ–¹éƒ½æœ‰åº”ç”¨ã€‚æ¯”å¦‚åœ¨ Java é›†åˆæ¡†æ¶ä¸­ï¼Œå¾ˆå¤šéƒ¨åˆ†(HashMap, TreeMap, TreeSet ç­‰)éƒ½æœ‰çº¢é»‘æ ‘çš„åº”ç”¨ï¼Œè¿™äº›é›†åˆå‡æä¾›äº†å¾ˆå¥½çš„æ€§èƒ½ã€‚\nç”±äº TreeMap å°±æ˜¯ç”±çº¢é»‘æ ‘å®ç°çš„ï¼Œå› æ­¤æœ¬æ–‡å°†ä½¿ç”¨ TreeMap çš„ç›¸å…³æ“ä½œçš„ä»£ç è¿›è¡Œåˆ†æã€è®ºè¯ã€‚\né»‘è‰²é«˜åº¦ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„ä¸Šé»‘è‰²èŠ‚ç‚¹çš„ä¸ªæ•°ï¼Œå«åšæ ‘çš„é»‘è‰²é«˜åº¦ã€‚\nçº¢é»‘æ ‘çš„ 5 ä¸ªç‰¹æ€§\nçº¢é»‘æ ‘åœ¨åŸæœ‰çš„äºŒå‰æŸ¥æ‰¾æ ‘åŸºç¡€ä¸Šå¢åŠ äº†å¦‚ä¸‹å‡ ä¸ªè¦æ±‚ï¼š\n\nEvery node is either red or black.\nThe root is black.\nEvery leaf (NIL) is black.\nIf a node is red, then both its children are black.\nFor each node, all simple paths from the node to descendant leaves contain the same number of black nodes.\n\nä¸­æ–‡æ„æ€æ˜¯ï¼š\n\næ¯ä¸ªèŠ‚ç‚¹è¦ä¹ˆæ˜¯çº¢è‰²ï¼Œè¦ä¹ˆæ˜¯é»‘è‰²ï¼›\næ ¹èŠ‚ç‚¹æ°¸è¿œæ˜¯é»‘è‰²çš„ï¼›\næ‰€æœ‰çš„å¶èŠ‚ç‚¹éƒ½æ˜¯æ˜¯é»‘è‰²çš„ï¼ˆæ³¨æ„è¿™é‡Œè¯´å¶å­èŠ‚ç‚¹å…¶å®æ˜¯ä¸Šå›¾ä¸­çš„ NIL èŠ‚ç‚¹ï¼‰ï¼›\næ¯ä¸ªçº¢è‰²èŠ‚ç‚¹çš„ä¸¤ä¸ªå­èŠ‚ç‚¹ä¸€å®šéƒ½æ˜¯é»‘è‰²ï¼›\nä»ä»»ä¸€èŠ‚ç‚¹åˆ°å…¶å­æ ‘ä¸­æ¯ä¸ªå¶å­èŠ‚ç‚¹çš„è·¯å¾„éƒ½åŒ…å«ç›¸åŒæ•°é‡çš„é»‘è‰²èŠ‚ç‚¹ï¼›\n\næ³¨æ„ï¼šæ€§è´¨ 3 ä¸­æŒ‡å®šçº¢é»‘æ ‘çš„æ¯ä¸ªå¶å­èŠ‚ç‚¹éƒ½æ˜¯ç©ºèŠ‚ç‚¹ï¼Œè€Œä¸”å¹¶å¶å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²ã€‚ä½† Java å®ç°çš„çº¢é»‘æ ‘å°†ä½¿ç”¨ null æ¥ä»£è¡¨ç©ºèŠ‚ç‚¹ï¼Œå› æ­¤éå†çº¢é»‘æ ‘æ—¶å°†çœ‹ä¸åˆ°é»‘è‰²çš„å¶å­èŠ‚ç‚¹ï¼Œåè€Œçœ‹åˆ°æ¯ä¸ªå¶å­èŠ‚ç‚¹éƒ½æ˜¯çº¢è‰²çš„ã€‚\næ€§è´¨ 4 çš„æ„æ€æ˜¯ï¼šä»æ¯ä¸ªæ ¹åˆ°èŠ‚ç‚¹çš„è·¯å¾„ä¸Šä¸ä¼šæœ‰ä¸¤ä¸ªè¿ç»­çš„çº¢è‰²èŠ‚ç‚¹ï¼Œä½†é»‘è‰²èŠ‚ç‚¹æ˜¯å¯ä»¥è¿ç»­çš„ã€‚å› æ­¤è‹¥ç»™å®šé»‘è‰²èŠ‚ç‚¹çš„ä¸ªæ•° Nï¼Œæœ€çŸ­è·¯å¾„çš„æƒ…å†µæ˜¯è¿ç»­çš„ N ä¸ªé»‘è‰²ï¼Œæ ‘çš„é«˜åº¦ä¸º N - 1;æœ€é•¿è·¯å¾„çš„æƒ…å†µä¸ºèŠ‚ç‚¹çº¢é»‘ç›¸é—´ï¼Œæ ‘çš„é«˜åº¦ä¸º 2(N - 1) ã€‚\næ€§è´¨ 5 æ˜¯æˆä¸ºçº¢é»‘æ ‘æœ€ä¸»è¦çš„æ¡ä»¶ï¼Œååºçš„æ’å…¥ã€åˆ é™¤æ“ä½œéƒ½æ˜¯ä¸ºäº†éµå®ˆè¿™ä¸ªè§„å®šã€‚\nçº¢é»‘æ ‘å¹¶ä¸æ˜¯æ ‡å‡†å¹³è¡¡äºŒå‰æ ‘ï¼Œå®ƒä»¥æ€§è´¨ 5 ä½œä¸ºä¸€ç§å¹³è¡¡æ–¹æ³•ï¼Œä½¿è‡ªå·±çš„æ€§èƒ½å¾—åˆ°äº†æå‡ã€‚\nçº¢é»‘æ ‘çš„å·¦æ—‹å³æ—‹\nçº¢é»‘æ ‘çš„å·¦å³æ—‹æ˜¯æ¯”è¾ƒé‡è¦çš„æ“ä½œï¼Œå·¦å³æ—‹çš„ç›®çš„æ˜¯è°ƒæ•´çº¢é»‘èŠ‚ç‚¹ç»“æ„ï¼Œè½¬ç§»é»‘è‰²èŠ‚ç‚¹ä½ç½®ï¼Œä½¿å…¶åœ¨è¿›è¡Œæ’å…¥ã€åˆ é™¤åä»èƒ½ä¿æŒçº¢é»‘æ ‘çš„ 5 æ¡æ€§è´¨ã€‚\næ¯”å¦‚ X å·¦æ—‹(å³å›¾è½¬æˆå·¦å›¾)çš„ç»“æœï¼Œæ˜¯è®©åœ¨ Y å·¦å­æ ‘çš„é»‘è‰²èŠ‚ç‚¹è·‘åˆ° X å³å­æ ‘å»ã€‚\næˆ‘ä»¬ä»¥ Java é›†åˆæ¡†æ¶ä¸­çš„ TreeMap ä¸­çš„ä»£ç æ¥çœ‹ä¸‹å·¦å³æ—‹çš„å…·ä½“æ“ä½œæ–¹æ³•ï¼š\næŒ‡å®šèŠ‚ç‚¹ x çš„å·¦æ—‹ (å³å›¾è½¬æˆå·¦å›¾)ï¼š\n123456789101112131415161718 è¿™é‡Œ p ä»£è¡¨ xprivate void rotateLeft(Entry p) &#123;    if (p != null) &#123;        Entry r = p.right;  p æ˜¯ä¸Šå›¾ä¸­çš„ xï¼Œr å°±æ˜¯ y        p.right = r.left;        å·¦æ—‹åï¼Œx çš„å³å­æ ‘å˜æˆäº† y çš„å·¦å­æ ‘ Î²         if (r.left != null)                     r.left.parent = p;  Î² ç¡®è®¤çˆ¶äº²ä¸º x        r.parent = p.parent;        y å–ä»£ x çš„ç¬¬ä¸€æ­¥ï¼šè®¤ x çš„çˆ¶äº²ä¸ºçˆ¹        if (p.parent == null)       è¦æ˜¯ x æ²¡æœ‰çˆ¶äº²ï¼Œé‚£ y å°±æ˜¯æœ€è€çš„æ ¹èŠ‚ç‚¹            root = r;        else if (p.parent.left == p) å¦‚æœ x æœ‰çˆ¶äº²å¹¶ä¸”æ˜¯å®ƒçˆ¶äº²çš„å·¦å­©å­ï¼Œx çš„çˆ¶äº²ç°åœ¨è®¤ y ä¸ºå·¦å­©å­ï¼Œä¸è¦ x äº†            p.parent.left = r;        else                            å¦‚æœ x æ˜¯çˆ¶äº²çš„å³å­©å­ï¼Œçˆ¶äº²å°±è®¤ y ä¸ºå³å­©å­ï¼ŒæŠ›å¼ƒ x            p.parent.right = r;        r.left = p;     y é€†è¢­æˆåŠŸï¼Œä»¥å‰çš„çˆ¸çˆ¸ x ç°åœ¨æˆäº†å®ƒçš„å·¦å­©å­        p.parent = r;    &#125;&#125;\n\nå¯ä»¥çœ‹åˆ°ï¼Œx èŠ‚ç‚¹çš„å·¦æ—‹å°±æ˜¯æŠŠ x å˜æˆ å³å­©å­ y çš„å·¦å­©å­ï¼ŒåŒæ—¶æŠŠ y çš„å·¦å­©å­é€ç»™ x å½“å³å­æ ‘ã€‚\nç®€å•ç‚¹è®°å°±æ˜¯ï¼šå·¦æ—‹æŠŠå³å­æ ‘é‡Œçš„ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆä¸Šå›¾ Î²ï¼‰ç§»åŠ¨åˆ°äº†å·¦å­æ ‘ã€‚\næŒ‡å®šèŠ‚ç‚¹ y çš„å³æ—‹ï¼ˆå·¦å›¾è½¬æˆå³å›¾ï¼‰ï¼š\n123456789101112131415private void rotateRight(Entry p) &#123;    if (p != null) &#123;        Entry l = p.left;        p.left = l.right;        if (l.right != null) l.right.parent = p;        l.parent = p.parent;        if (p.parent == null)            root = l;        else if (p.parent.right == p)            p.parent.right = l;        else p.parent.left = l;        l.right = p;        p.parent = l;    &#125;&#125;\n\nåŒç†ï¼Œy èŠ‚ç‚¹çš„å³æ—‹å°±æ˜¯æŠŠ y å˜æˆ å·¦å­©å­ x çš„å³å­©å­ï¼ŒåŒæ—¶æŠŠ x çš„å³å­©å­é€ç»™ x å½“å·¦å­æ ‘ã€‚\nç®€å•ç‚¹è®°å°±æ˜¯ï¼šå³æ—‹æŠŠå·¦å­æ ‘é‡Œçš„ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆä¸Šå›¾ Î²ï¼‰ç§»åŠ¨åˆ°äº†å³å­æ ‘ã€‚\näº†è§£å·¦æ—‹ã€å³æ—‹çš„æ–¹æ³•åŠæ„ä¹‰åï¼Œå°±å¯ä»¥äº†è§£çº¢é»‘æ ‘çš„ä¸»è¦æ“ä½œï¼šæ’å…¥ã€åˆ é™¤ã€‚\næ€»ç»“çº¢é»‘æ ‘å¹¶ä¸æ˜¯çœŸæ­£çš„å¹³è¡¡äºŒå‰æ ‘ï¼Œä½†åœ¨å®é™…åº”ç”¨ä¸­ï¼Œçº¢é»‘æ ‘çš„ç»Ÿè®¡æ€§èƒ½è¦é«˜äºå¹³è¡¡äºŒå‰æ ‘ï¼Œä½†æç«¯æ€§èƒ½ç•¥å·®ã€‚\nçº¢é»‘æ ‘çš„æ’å…¥ã€åˆ é™¤è°ƒæ•´é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œä½†æœ€ç»ˆç›®çš„æ˜¯æ»¡è¶³çº¢é»‘æ ‘çš„ 5 ä¸ªç‰¹æ€§ï¼Œå°¤å…¶æ˜¯ 4 å’Œ 5ã€‚\nåœ¨æ’å…¥è°ƒæ•´æ—¶ä¸ºäº†ç®€åŒ–æ“ä½œæˆ‘ä»¬ç›´æ¥æŠŠæ’å…¥çš„èŠ‚ç‚¹æ¶‚æˆçº¢è‰²ï¼Œè¿™æ ·åªè¦ä¿è¯æ’å…¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸æ˜¯çº¢è‰²å°±å¯ä»¥äº†ã€‚\nè€Œåœ¨åˆ é™¤åçš„è°ƒæ•´ä¸­ï¼Œé’ˆå¯¹åˆ é™¤é»‘è‰²èŠ‚ç‚¹ï¼Œæ‰€åœ¨å­æ ‘ç¼ºå°‘ä¸€ä¸ªèŠ‚ç‚¹ï¼Œéœ€è¦è¿›è¡Œå¼¥è¡¥æˆ–è€…å¯¹åˆ«äººé€ æˆä¸€ä¸ªé»‘è‰²èŠ‚ç‚¹çš„ä¼¤å®³ã€‚å…·ä½“è°ƒæ•´æ–¹æ³•å–å†³äºå…„å¼ŸèŠ‚ç‚¹æ‰€åœ¨å­æ ‘çš„æƒ…å†µã€‚\nçº¢é»‘æ ‘çš„æ’å…¥ã€åˆ é™¤åœ¨æ ‘å½¢æ•°æ®ç»“æ„ä¸­ç®—æ¯”è¾ƒå¤æ‚çš„ï¼Œç†è§£èµ·æ¥æ¯”è¾ƒéš¾ï¼Œä½†åªè¦è®°ä½ï¼Œçº¢é»‘æ ‘æœ‰å…¶ç‰¹æ®Šçš„å¹³è¡¡è§„åˆ™ï¼Œè€Œæˆ‘ä»¬ä¸ºäº†ç»´æŒå¹³è¡¡ï¼Œæ ¹æ®é‚»æ ‘çš„çŠ¶å†µè¿›è¡Œæ—‹è½¬æˆ–è€…æ¶‚è‰²ã€‚\nçº¢é»‘æ ‘è¿™ä¹ˆéš¾ç†è§£ï¼Œå¿…å®šæœ‰å…¶è¿‡äººä¹‹å¤„ã€‚å®ƒçš„æœ‰åºã€å¿«é€Ÿç‰¹æ€§åœ¨å¾ˆå¤šåœºæ™¯ä¸‹éƒ½æœ‰ç”¨åˆ°ï¼Œæ¯”å¦‚ Java é›†åˆæ¡†æ¶çš„ TreeMap, TreeSet ç­‰ã€‚\n","tags":["ç®—æ³•","é¢è¯•","çº¢é»‘æ ‘"],"path":"2019/09/08/é¢è¯•çº¢é»‘æ ‘/","external_link":""},{"title":"Airbnb JavaScript ä»£ç è§„èŒƒ() {","date":"2019-09-08T02:51:27.000Z","content":"Airbnb JavaScript ä»£ç è§„èŒƒ() {ä¸€ç§å†™JavaScriptæ›´åˆç†çš„ä»£ç é£æ ¼ã€‚\n\nNote: æœ¬æŒ‡å—å‡è®¾ä½ ä½¿ç”¨äº† Babel, å¹¶ä¸”è¦æ±‚ä½ ä½¿ç”¨ babel-preset-airbnb æˆ–è€…å…¶ä»–åŒç­‰èµ„æºã€‚ å¹¶ä¸”å‡è®¾ä½ åœ¨ä½ çš„åº”ç”¨ä¸­å®‰è£…äº† shimspolyfills ï¼Œä½¿ç”¨airbnb-browser-shims æˆ–è€…ç›¸åŒåŠŸèƒ½ã€‚\n\n\n\n\nå…¶ä»–ä»£ç é£æ ¼æŒ‡å—\n\nES5 (Deprecated)\nReact\nCSS-in-JavaScript\nCSS &amp; Sass\nRuby\n\nç›®å½•\nç±»å‹\nå¼•ç”¨\nå¯¹è±¡\næ•°ç»„\nè§£æ„\nå­—ç¬¦\næ–¹æ³•\nç®­å¤´å‡½æ•°\nç±»å’Œæ„é€ å™¨\næ¨¡å—\nè¿­ä»£å™¨å’Œå‘ç”Ÿå™¨\nå±æ€§\nå˜é‡\næå‡\næ¯”è¾ƒè¿ç®—ç¬¦å’Œç­‰å·\nå—\næ§åˆ¶è¯­å¥\næ³¨é‡Š\nç©ºç™½\né€—å·\nåˆ†å·\nç±»å‹è½¬æ¢å’Œå¼ºåˆ¶ç±»å‹è½¬æ¢\nå‘½åè§„èŒƒ\nå­˜å–å™¨\näº‹ä»¶\njQuery\nECMAScript 5 å…¼å®¹æ€§\nECMAScript 6+ (ES 2015+) é£æ ¼\næ ‡å‡†åº“\næµ‹è¯•\næ€§èƒ½\nèµ„æº\nJavaScripté£æ ¼æŒ‡å—çš„æŒ‡å—\nè®¸å¯è¯\nä¿®æ­£æ¡ˆ\n\nç±»å‹  \n\n1.1 åŸå§‹å€¼: å½“ä½ è®¿é—®ä¸€ä¸ªåŸå§‹ç±»å‹çš„æ—¶å€™ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒçš„å€¼ã€‚\n\nstring\nnumber\nboolean\nnull\nundefined\nsymbol\n\n123456const foo = 1;let bar = foo;bar = 9;console.log(foo, bar);  =&gt; 1, 9\n\n\nSymbols cannot be faithfully polyfilled, so they should not be used when targeting browsersenvironments that donâ€™t support them natively.\n\n\n\n1.2  å¤æ‚ç±»å‹: å½“ä½ è®¿é—®ä¸€ä¸ªå¤æ‚ç±»å‹çš„æ—¶å€™ï¼Œä½ éœ€è¦ä¸€ä¸ªå€¼å¾—å¼•ç”¨ã€‚\n\nobject\narray\nfunction\n\n123456const foo = [1, 2];const bar = foo;bar[0] = 9;console.log(foo[0], bar[0]);  =&gt; 9, 9\n\n\n\nâ¬† è¿”å›ç›®å½•\nå¼•ç”¨  \n\n2.1 ä½¿ç”¨ const å®šä¹‰ä½ çš„æ‰€æœ‰å¼•ç”¨ï¼›é¿å…ä½¿ç”¨ varã€‚ eslint: prefer-const, no-const-assign\n\nä¸ºä»€ä¹ˆ? è¿™æ ·èƒ½å¤Ÿç¡®ä¿ä½ ä¸èƒ½ä»æ–°åˆ†é…ä½ çš„å¼•ç”¨ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´é”™è¯¯æˆ–è€…äº§ç”Ÿéš¾ä»¥ç†è§£çš„ä»£ç ã€‚.\n\n1234567 badvar a = 1;var b = 2; goodconst a = 1;const b = 2;\n\n\n\n2.2 å¦‚æœä½ å¿…é¡»é‡æ–°åˆ†é…ä½ çš„å¼•ç”¨ï¼Œ ä½¿ç”¨ let ä»£æ›¿ varã€‚ eslint: no-var\n\nä¸ºä»€ä¹ˆ? let æ˜¯å—çº§ä½œç”¨åŸŸï¼Œè€Œä¸åƒ var æ˜¯å‡½æ•°ä½œç”¨åŸŸ.\n\n1234567891011 badvar count = 1;if (true) &#123;  count += 1;&#125; good, use the let.let count = 1;if (true) &#123;  count += 1;&#125;\n\n\n\n2.3 æ³¨æ„ï¼Œlet å’Œ const éƒ½æ˜¯å—çº§èŒƒå›´çš„ã€‚\n1234567 const å’Œ let åªå­˜åœ¨äºä»–ä»¬å®šä¹‰çš„å—ä¸­ã€‚&#123;  let a = 1;  const b = 1;&#125;console.log(a);  ReferenceErrorconsole.log(b);  ReferenceError\n\n\n\nâ¬† è¿”å›ç›®å½•\nå¯¹è±¡  \n\n3.1 ä½¿ç”¨å­—é¢è¯­æ³•æ¥åˆ›å»ºå¯¹è±¡ã€‚ eslint: no-new-object\n12345 badconst item = new Object(); goodconst item = &#123;&#125;;\n\n\n\n3.2 åœ¨åˆ›å»ºå…·æœ‰åŠ¨æ€å±æ€§åç§°çš„å¯¹è±¡æ—¶ä½¿ç”¨è®¡ç®—å±æ€§åã€‚\n\nä¸ºä»€ä¹ˆ? å®ƒå…è®¸ä½ åœ¨ä¸€ä¸ªåœ°æ–¹å®šä¹‰å¯¹è±¡çš„æ‰€æœ‰å±æ€§ã€‚\n\n123456789101112131415161718function getKey(k) &#123;  return `a key named $&#123;k&#125;`;&#125; badconst obj = &#123;  id: 5,  name: San Francisco,&#125;;obj[getKey(enabled)] = true; goodconst obj = &#123;  id: 5,  name: San Francisco,  [getKey(enabled)]: true,&#125;;\n\n\n\n3.3 ä½¿ç”¨å¯¹è±¡æ–¹æ³•çš„ç¼©å†™ã€‚ eslint: object-shorthand\n1234567891011121314151617 badconst atom = &#123;  value: 1,  addValue: function (value) &#123;    return atom.value + value;  &#125;,&#125;; goodconst atom = &#123;  value: 1,  addValue(value) &#123;    return atom.value + value;  &#125;,&#125;;\n\n\n\n3.4 ä½¿ç”¨å±æ€§å€¼çš„ç¼©å†™ã€‚ eslint: object-shorthand\n\nä¸ºä»€ä¹ˆ? å®ƒçš„å†™æ³•å’Œæè¿°è¾ƒçŸ­ã€‚\n\n1234567891011const lukeSkywalker = Luke Skywalker; badconst obj = &#123;  lukeSkywalker: lukeSkywalker,&#125;; goodconst obj = &#123;  lukeSkywalker,&#125;;\n\n\n\n3.5 åœ¨å¯¹è±¡å£°æ˜çš„æ—¶å€™å°†ç®€å†™çš„å±æ€§è¿›è¡Œåˆ†ç»„ã€‚\n\nä¸ºä»€ä¹ˆ? è¿™æ ·æ›´å®¹æ˜“çš„åˆ¤æ–­å“ªäº›å±æ€§ä½¿ç”¨çš„ç®€å†™ã€‚\n\n12345678910111213141516171819202122const anakinSkywalker = Anakin Skywalker;const lukeSkywalker = Luke Skywalker; badconst obj = &#123;  episodeOne: 1,  twoJediWalkIntoACantina: 2,  lukeSkywalker,  episodeThree: 3,  mayTheFourth: 4,  anakinSkywalker,&#125;; goodconst obj = &#123;  lukeSkywalker,  anakinSkywalker,  episodeOne: 1,  twoJediWalkIntoACantina: 2,  episodeThree: 3,  mayTheFourth: 4,&#125;;\n\n\n\n3.6 åªä½¿ç”¨å¼•å·æ ‡æ³¨æ— æ•ˆæ ‡è¯†ç¬¦çš„å±æ€§ã€‚ eslint: quote-props\n\nä¸ºä»€ä¹ˆ? æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬è®¤ä¸ºè¿™æ ·æ›´å®¹æ˜“é˜…è¯»ã€‚ å®ƒæå‡äº†è¯­æ³•é«˜äº®æ˜¾ç¤ºï¼Œå¹¶ä¸”æ›´å®¹æ˜“é€šè¿‡è®¸å¤š JS å¼•æ“ä¼˜åŒ–ã€‚\n\n12345678910111213 badconst bad = &#123;  foo: 3,  bar: 4,  data-blah: 5,&#125;; goodconst good = &#123;  foo: 3,  bar: 4,  data-blah: 5,&#125;;\n\n\n\n3.7 ä¸èƒ½ç›´æ¥è°ƒç”¨ Object.prototype çš„æ–¹æ³•ï¼Œå¦‚ï¼š hasOwnProperty ã€ propertyIsEnumerable å’Œ isPrototypeOfã€‚\n\nä¸ºä»€ä¹ˆ? è¿™äº›æ–¹æ³•å¯èƒ½è¢«ä¸€ä¸‹é—®é¢˜å¯¹è±¡çš„å±æ€§è¿½è¸ª - ç›¸åº”çš„æœ‰ { hasOwnProperty: false } - æˆ–è€…ï¼Œå¯¹è±¡æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ (Object.create(null))ã€‚\n\n123456789101112 badconsole.log(object.hasOwnProperty(key)); goodconsole.log(Object.prototype.hasOwnProperty.call(object, key)); bestconst has = Object.prototype.hasOwnProperty;  åœ¨æ¨¡å—èŒƒå›´å†…çš„ç¼“å­˜ä¸­æŸ¥æ‰¾ä¸€æ¬¡* or *import has from has;  https:www.npmjs.compackagehas ...console.log(has.call(object, key));\n\n\n\n3.8 æ›´å–œæ¬¢å¯¹è±¡æ‰©å±•æ“ä½œç¬¦ï¼Œè€Œä¸æ˜¯ç”¨ Object.assign æµ…æ‹·è´ä¸€ä¸ªå¯¹è±¡ã€‚ ä½¿ç”¨å¯¹è±¡çš„ rest æ“ä½œç¬¦æ¥è·å¾—ä¸€ä¸ªå…·æœ‰æŸäº›å±æ€§çš„æ–°å¯¹è±¡ã€‚\n1234567891011121314 very badconst original = &#123; a: 1, b: 2 &#125;;const copy = Object.assign(original, &#123; c: 3 &#125;);  å˜å¼‚çš„ `original` à² _à² delete copy.a;  è¿™.... badconst original = &#123; a: 1, b: 2 &#125;;const copy = Object.assign(&#123;&#125;, original, &#123; c: 3 &#125;);  copy =&gt; &#123; a: 1, b: 2, c: 3 &#125; goodconst original = &#123; a: 1, b: 2 &#125;;const copy = &#123; ...original, c: 3 &#125;;  copy =&gt; &#123; a: 1, b: 2, c: 3 &#125;const &#123; a, ...noA &#125; = copy;  noA =&gt; &#123; b: 2, c: 3 &#125;\n\n\n\nâ¬† è¿”å›ç›®å½•\næ•°ç»„  \n\n4.1 ä½¿ç”¨å­—é¢è¯­æ³•åˆ›å»ºæ•°ç»„ã€‚ eslint: no-array-constructor\n12345 badconst items = new Array(); goodconst items = [];\n\n\n\n4.2 ä½¿ç”¨ Array#push å–ä»£ç›´æ¥èµ‹å€¼æ¥ç»™æ•°ç»„æ·»åŠ é¡¹ã€‚\n1234567const someStack = []; badsomeStack[someStack.length] = abracadabra; goodsomeStack.push(abracadabra);\n\n\n\n4.3 ä½¿ç”¨æ•°ç»„å±•å¼€æ–¹æ³• ... æ¥æ‹·è´æ•°ç»„ã€‚\n1234567891011 badconst len = items.length;const itemsCopy = [];let i;for (i = 0; i &lt; len; i += 1) &#123;  itemsCopy[i] = items[i];&#125; goodconst itemsCopy = [...items];\n\n\n\n4.4 å°†ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡è½¬æ¢æˆä¸€ä¸ªæ•°ç»„ï¼Œ ä½¿ç”¨å±•å¼€æ–¹æ³• ... ä»£æ›¿ Array.fromã€‚\n1234567const foo = document.querySelectorAll(.foo); goodconst nodes = Array.from(foo); bestconst nodes = [...foo];\n\n\n\n4.5 å¯¹äºå¯¹è¿­ä»£å™¨çš„æ˜ å°„ï¼Œä½¿ç”¨ Array.from æ›¿ä»£å±•å¼€æ–¹æ³• ... ï¼Œ å› ä¸ºå®ƒé¿å…äº†åˆ›å»ºä¸­é—´æ•°ç»„ã€‚\n12345 badconst baz = [...foo].map(bar); goodconst baz = Array.from(foo, bar);\n\n\n\n4.6 åœ¨æ•°ç»„å›è°ƒæ–¹æ³•ä¸­ä½¿ç”¨ return è¯­å¥ã€‚ å¦‚æœå‡½æ•°ä½“ç”±ä¸€ä¸ªè¿”å›æ— å‰¯ä½œç”¨çš„è¡¨è¾¾å¼çš„å•ä¸ªè¯­å¥ç»„æˆï¼Œé‚£ä¹ˆå¯ä»¥çœç•¥è¿”å›å€¼ï¼Œ å…·ä½“æŸ¥çœ‹ 8.2ã€‚ eslint: array-callback-return\n1234567891011121314151617181920212223242526272829303132333435363738394041 good[1, 2, 3].map((x) =&gt; &#123;  const y = x + 1;  return x * y;&#125;); good[1, 2, 3].map(x =&gt; x + 1); bad - æ²¡æœ‰è¿”å›å€¼ï¼Œæ„å‘³ç€åœ¨ç¬¬ä¸€æ¬¡è¿­ä»£å `acc` æ²¡æœ‰è¢«å®šä¹‰[[0, 1], [2, 3], [4, 5]].reduce((acc, item, index) =&gt; &#123;  const flatten = acc.concat(item);  acc[index] = flatten;&#125;); good[[0, 1], [2, 3], [4, 5]].reduce((acc, item, index) =&gt; &#123;  const flatten = acc.concat(item);  acc[index] = flatten;  return flatten;&#125;); badinbox.filter((msg) =&gt; &#123;  const &#123; subject, author &#125; = msg;  if (subject === Mockingbird) &#123;    return author === Harper Lee;  &#125; else &#123;    return false;  &#125;&#125;); goodinbox.filter((msg) =&gt; &#123;  const &#123; subject, author &#125; = msg;  if (subject === Mockingbird) &#123;    return author === Harper Lee;  &#125;  return false;&#125;);\n\n\n\n4.7 å¦‚æœæ•°ç»„æœ‰å¤šè¡Œï¼Œåˆ™åœ¨å¼€å§‹çš„æ—¶å€™æ¢è¡Œï¼Œç„¶ååœ¨ç»“æŸçš„æ—¶å€™æ¢è¡Œã€‚\n12345678910111213141516171819202122232425262728293031 badconst arr = [  [0, 1], [2, 3], [4, 5],];const objectInArray = [&#123;  id: 1,&#125;, &#123;  id: 2,&#125;];const numberInArray = [  1, 2,]; goodconst arr = [[0, 1], [2, 3], [4, 5]];const objectInArray = [  &#123;    id: 1,  &#125;,  &#123;    id: 2,  &#125;,];const numberInArray = [  1,  2,];\n\n\n\nâ¬† è¿”å›ç›®å½•\nè§£æ„  \n\n5.1 åœ¨è®¿é—®å’Œä½¿ç”¨å¯¹è±¡çš„å¤šä¸ªå±æ€§çš„æ—¶å€™ä½¿ç”¨å¯¹è±¡çš„è§£æ„ã€‚ eslint: prefer-destructuring\n\nä¸ºä»€ä¹ˆ? è§£æ„å¯ä»¥é¿å…ä¸ºè¿™äº›å±æ€§åˆ›å»ºä¸´æ—¶å¼•ç”¨ã€‚\n\n123456789101112131415161718 badfunction getFullName(user) &#123;  const firstName = user.firstName;  const lastName = user.lastName;  return `$&#123;firstName&#125; $&#123;lastName&#125;`;&#125; goodfunction getFullName(user) &#123;  const &#123; firstName, lastName &#125; = user;  return `$&#123;firstName&#125; $&#123;lastName&#125;`;&#125; bestfunction getFullName(&#123; firstName, lastName &#125;) &#123;  return `$&#123;firstName&#125; $&#123;lastName&#125;`;&#125;\n\n\n\n5.2 ä½¿ç”¨æ•°ç»„è§£æ„ã€‚ eslint: prefer-destructuring\n12345678const arr = [1, 2, 3, 4]; badconst first = arr[0];const second = arr[1]; goodconst [first, second] = arr;\n\n\n\n5.3 å¯¹äºå¤šä¸ªè¿”å›å€¼ä½¿ç”¨å¯¹è±¡è§£æ„ï¼Œè€Œä¸æ˜¯æ•°ç»„è§£æ„ã€‚\n\nä¸ºä»€ä¹ˆ? ä½ å¯ä»¥éšæ—¶æ·»åŠ æ–°çš„å±æ€§æˆ–è€…æ”¹å˜å±æ€§çš„é¡ºåºï¼Œè€Œä¸ç”¨ä¿®æ”¹è°ƒç”¨æ–¹ã€‚\n\n1234567891011121314151617 badfunction processInput(input) &#123;   å¤„ç†ä»£ç ...  return [left, right, top, bottom];&#125; è°ƒç”¨è€…éœ€è¦è€ƒè™‘è¿”å›æ•°æ®çš„é¡ºåºã€‚const [left, __, top] = processInput(input); goodfunction processInput(input) &#123;   å¤„ç†ä»£ç ...  return &#123; left, right, top, bottom &#125;;&#125; è°ƒç”¨è€…åªé€‰æ‹©ä»–ä»¬éœ€è¦çš„æ•°æ®ã€‚const &#123; left, top &#125; = processInput(input);\n\n\n\nâ¬† è¿”å›ç›®å½•\nå­—ç¬¦  \n\n6.1 ä½¿ç”¨å•å¼•å· &#39;&#39; å®šä¹‰å­—ç¬¦ä¸²ã€‚ eslint: quotes\n12345678 badconst name = Capt. Janeway; bad - æ¨¡æ¿æ–‡å­—åº”è¯¥åŒ…å«æ’å€¼æˆ–æ¢è¡Œã€‚const name = `Capt. Janeway`; goodconst name = Capt. Janeway;\n\n\n\n6.2 ä½¿è¡Œè¶…è¿‡100ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ä¸åº”ä½¿ç”¨å­—ç¬¦ä¸²è¿æ¥è·¨å¤šè¡Œå†™å…¥ã€‚\n\nä¸ºä»€ä¹ˆ? æ–­å¼€çš„å­—ç¬¦ä¸²æ›´åŠ éš¾ä»¥å·¥ä½œï¼Œå¹¶ä¸”ä½¿ä»£ç æœç´¢æ›´åŠ å›°éš¾ã€‚\n\n12345678910111213 badconst errorMessage = This is a super long error that was thrown because of Batman. When you stop to think about how Batman had anything to do with this, you would get nowhere fast.; badconst errorMessage = This is a super long error that was thrown because  +  of Batman. When you stop to think about how Batman had anything to do  +  with this, you would get nowhere fast.; goodconst errorMessage = This is a super long error that was thrown because of Batman. When you stop to think about how Batman had anything to do with this, you would get nowhere fast.;\n\n\n\n6.3 å½“ä»¥ç¼–ç¨‹æ¨¡å¼æ„å»ºå­—ç¬¦ä¸²æ—¶ï¼Œä½¿ç”¨å­—ç¬¦ä¸²æ¨¡æ¿ä»£æ›¿å­—ç¬¦ä¸²æ‹¼æ¥ã€‚ eslint: prefer-template template-curly-spacing\n\nä¸ºä»€ä¹ˆ? å­—ç¬¦ä¸²æ¨¡æ¿ä¸ºæ‚¨æä¾›äº†ä¸€ç§å¯è¯»çš„ã€ç®€æ´çš„è¯­æ³•ï¼Œå…·æœ‰æ­£ç¡®çš„æ¢è¡Œå’Œå­—ç¬¦ä¸²æ’å€¼ç‰¹æ€§ã€‚\n\n12345678910111213141516171819 badfunction sayHi(name) &#123;  return How are you,  + name + ?;&#125; badfunction sayHi(name) &#123;  return [How are you, , name, ?].join();&#125; badfunction sayHi(name) &#123;  return `How are you, $&#123; name &#125;?`;&#125; goodfunction sayHi(name) &#123;  return `How are you, $&#123;name&#125;?`;&#125;\n\n\n\n6.4 ä¸è¦åœ¨å­—ç¬¦ä¸²ä¸Šä½¿ç”¨ eval() ï¼Œå®ƒæ‰“å¼€äº†å¤ªå¤šæ¼æ´ã€‚ eslint: no-eval\n\n\n6.5 ä¸è¦è½¬ä¹‰å­—ç¬¦ä¸²ä¸­ä¸å¿…è¦çš„å­—ç¬¦ã€‚ eslint: no-useless-escape\n\nä¸ºä»€ä¹ˆ? åæ–œæ æŸå®³äº†å¯è¯»æ€§ï¼Œå› æ­¤åªæœ‰åœ¨å¿…è¦çš„æ—¶å€™æ‰ä¼šå‡ºç°ã€‚\n\n123456 badconst foo = this is quoted; goodconst foo = this is quoted;const foo = `my name is $&#123;name&#125;`;\n\n\n\nâ¬† è¿”å›ç›®å½•\næ–¹æ³•  \n\n7.1 ä½¿ç”¨å‘½åçš„å‡½æ•°è¡¨è¾¾å¼ä»£æ›¿å‡½æ•°å£°æ˜ã€‚ eslint: func-style\n\nä¸ºä»€ä¹ˆ? å‡½æ•°å£°æ˜æ˜¯æŒ‚èµ·çš„ï¼Œè¿™æ„å‘³ç€åœ¨å®ƒåœ¨æ–‡ä»¶ä¸­å®šä¹‰ä¹‹å‰ï¼Œå¾ˆå®¹æ˜“å¼•ç”¨å‡½æ•°ã€‚è¿™ä¼šæŸå®³å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚å¦‚æœæ‚¨å‘ç°å‡½æ•°çš„å®šä¹‰æ˜¯å¤§çš„æˆ–å¤æ‚çš„ï¼Œä»¥è‡³äºå®ƒå¹²æ‰°äº†å¯¹æ–‡ä»¶çš„å…¶ä½™éƒ¨åˆ†çš„ç†è§£ï¼Œé‚£ä¹ˆä¹Ÿè®¸æ˜¯æ—¶å€™å°†å®ƒæå–åˆ°å®ƒè‡ªå·±çš„æ¨¡å—ä¸­äº†!ä¸è¦å¿˜è®°æ˜¾å¼åœ°å‘½åè¿™ä¸ªè¡¨è¾¾å¼ï¼Œä¸ç®¡å®ƒçš„åç§°æ˜¯å¦ä»åŒ…å«å˜é‡(åœ¨ç°ä»£æµè§ˆå™¨ä¸­ç»å¸¸æ˜¯è¿™æ ·ï¼Œæˆ–è€…åœ¨ä½¿ç”¨è¯¸å¦‚Babelä¹‹ç±»çš„ç¼–è¯‘å™¨æ—¶)ã€‚è¿™æ¶ˆé™¤äº†å¯¹é”™è¯¯çš„è°ƒç”¨å †æ ˆçš„ä»»ä½•å‡è®¾ã€‚ (Discussion)\n\n123456789101112131415 badfunction foo() &#123;   ...&#125; badconst foo = function () &#123;   ...&#125;; good ä»å˜é‡å¼•ç”¨è°ƒç”¨ä¸­åŒºåˆ†çš„è¯æ±‡åç§°const short = function longUniqueMoreDescriptiveLexicalFoo() &#123;   ...&#125;;\n\n\n\n7.2 Wrapç«‹å³è°ƒç”¨å‡½æ•°è¡¨è¾¾å¼ã€‚ eslint: wrap-iife\n\nä¸ºä»€ä¹ˆ? ç«‹å³è°ƒç”¨çš„å‡½æ•°è¡¨è¾¾å¼æ˜¯å•ä¸ªå•å…ƒ - åŒ…è£…ï¼Œ å¹¶ä¸”æ‹¥æœ‰æ‹¬å·è°ƒç”¨, åœ¨æ‹¬å·å†…, æ¸…æ™°çš„è¡¨è¾¾å¼ã€‚ è¯·æ³¨æ„ï¼Œåœ¨ä¸€ä¸ªåˆ°å¤„éƒ½æ˜¯æ¨¡å—çš„ä¸–ç•Œä¸­ï¼Œæ‚¨å‡ ä¹ä¸éœ€è¦ä¸€ä¸ª IIFE ã€‚\n\n1234 immediately-invoked function expression (IIFE) ç«‹å³è°ƒç”¨çš„å‡½æ•°è¡¨è¾¾å¼(function () &#123;  console.log(Welcome to the Internet. Please follow me.);&#125;());\n\n\n\n7.3 åˆ‡è®°ä¸è¦åœ¨éåŠŸèƒ½å—ä¸­å£°æ˜å‡½æ•° (if, while, ç­‰)ã€‚ å°†å‡½æ•°èµ‹å€¼ç»™å˜é‡ã€‚ æµè§ˆå™¨å…è®¸ä½ è¿™æ ·åšï¼Œä½†æ˜¯ä»–ä»¬éƒ½æœ‰ä¸åŒçš„è§£é‡Šï¼Œè¿™æ˜¯ä¸ªåæ¶ˆæ¯ã€‚ eslint: no-loop-func\n\n\n7.4 æ³¨æ„: ECMA-262 å°† block å®šä¹‰ä¸ºè¯­å¥åˆ—è¡¨ã€‚ å‡½æ•°å£°æ˜ä¸æ˜¯è¯­å¥ã€‚\n1234567891011121314 badif (currentUser) &#123;  function test() &#123;    console.log(Nope.);  &#125;&#125; goodlet test;if (currentUser) &#123;  test = () =&gt; &#123;    console.log(Yup.);  &#125;;&#125;\n\n\n\n7.5 æ°¸è¿œä¸è¦å®šä¹‰ä¸€ä¸ªå‚æ•°ä¸º argumentsã€‚ è¿™å°†ä¼šä¼˜å…ˆäºæ¯ä¸ªå‡½æ•°ç»™å®šèŒƒå›´çš„ arguments å¯¹è±¡ã€‚\n123456789 badfunction foo(name, options, arguments) &#123;   ...&#125; goodfunction foo(name, options, args) &#123;   ...&#125;\n\n\n\n7.6 ä¸è¦ä½¿ç”¨ arguments, é€‰æ‹©ä½¿ç”¨ rest è¯­æ³• ... ä»£æ›¿ã€‚ eslint: prefer-rest-params\n\nä¸ºä»€ä¹ˆ? ... æ˜ç¡®äº†ä½ æƒ³è¦æ‹‰å–ä»€ä¹ˆå‚æ•°ã€‚ æ›´ç”š, rest å‚æ•°æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œè€Œä¸ä»…ä»…æ˜¯ç±»æ•°ç»„çš„ arguments ã€‚\n\n12345678910 badfunction concatenateAll() &#123;  const args = Array.prototype.slice.call(arguments);  return args.join();&#125; goodfunction concatenateAll(...args) &#123;  return args.join();&#125;\n\n\n\n7.7 ä½¿ç”¨é»˜è®¤çš„å‚æ•°è¯­æ³•ï¼Œè€Œä¸æ˜¯æ”¹å˜å‡½æ•°å‚æ•°ã€‚\n123456789101112131415161718192021 really badfunction handleThings(opts) &#123;   No! We shouldnâ€™t mutate function arguments.   Double bad: if opts is falsy itll be set to an object which may   be what you want but it can introduce subtle bugs.  opts = opts || &#123;&#125;;   ...&#125; still badfunction handleThings(opts) &#123;  if (opts === void 0) &#123;    opts = &#123;&#125;;  &#125;   ...&#125; goodfunction handleThings(opts = &#123;&#125;) &#123;   ...&#125;\n\n\n\n7.8 é¿å…ä½¿ç”¨é»˜è®¤å‚æ•°çš„å‰¯ä½œç”¨ã€‚\n\nä¸ºä»€ä¹ˆ? ä»–ä»¬å¾ˆå®¹æ˜“æ··æ·†ã€‚\n\n123456789var b = 1; badfunction count(a = b++) &#123;  console.log(a);&#125;count();   1count();   2count(3);  3count();   3\n\n\n\n7.9 æ€»æ˜¯æŠŠé»˜è®¤å‚æ•°æ”¾åœ¨æœ€åã€‚\n123456789 badfunction handleThings(opts = &#123;&#125;, name) &#123;   ...&#125; goodfunction handleThings(name, opts = &#123;&#125;) &#123;   ...&#125;\n\n\n\n7.10 æ°¸è¿œä¸è¦ä½¿ç”¨å‡½æ•°æ„é€ å™¨æ¥åˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ã€‚ eslint: no-new-func\n\nä¸ºä»€ä¹ˆ? ä»¥è¿™ç§æ–¹å¼åˆ›å»ºä¸€ä¸ªå‡½æ•°å°†å¯¹ä¸€ä¸ªç±»ä¼¼äº eval() çš„å­—ç¬¦ä¸²è¿›è¡Œè®¡ç®—ï¼Œè¿™å°†æ‰“å¼€æ¼æ´ã€‚\n\n12345 badvar add = new Function(a, b, return a + b); still badvar subtract = Function(a, b, return a - b);\n\n\n\n7.11 å‡½æ•°ç­¾åä¸­çš„é—´è·ã€‚ eslint: space-before-function-paren space-before-blocks\n\nä¸ºä»€ä¹ˆ? ä¸€è‡´æ€§å¾ˆå¥½ï¼Œåœ¨åˆ é™¤æˆ–æ·»åŠ åç§°æ—¶ä¸éœ€è¦æ·»åŠ æˆ–åˆ é™¤ç©ºæ ¼ã€‚\n\n12345678 badconst f = function()&#123;&#125;;const g = function ()&#123;&#125;;const h = function() &#123;&#125;; goodconst x = function () &#123;&#125;;const y = function a() &#123;&#125;;\n\n\n\n7.12 æ²¡ç”¨å˜å¼‚å‚æ•°ã€‚ eslint: no-param-reassign\n\nä¸ºä»€ä¹ˆ? å°†ä¼ å…¥çš„å¯¹è±¡ä½œä¸ºå‚æ•°è¿›è¡Œæ“ä½œå¯èƒ½ä¼šåœ¨åŸå§‹è°ƒç”¨ç¨‹åºä¸­é€ æˆä¸å¿…è¦çš„å˜é‡å‰¯ä½œç”¨ã€‚\n\n123456789 badfunction f1(obj) &#123;  obj.key = 1;&#125; goodfunction f2(obj) &#123;  const key = Object.prototype.hasOwnProperty.call(obj, key) ? obj.key : 1;&#125;\n\n\n\n7.13 ä¸è¦å†åˆ†é…å‚æ•°ã€‚ eslint: no-param-reassign\n\nä¸ºä»€ä¹ˆ? é‡æ–°åˆ†é…å‚æ•°ä¼šå¯¼è‡´æ„å¤–çš„è¡Œä¸ºï¼Œå°¤å…¶æ˜¯åœ¨è®¿é—® arguments å¯¹è±¡çš„æ—¶å€™ã€‚ å®ƒè¿˜å¯èƒ½å¯¼è‡´æ€§èƒ½ä¼˜åŒ–é—®é¢˜ï¼Œå°¤å…¶æ˜¯åœ¨ V8 ä¸­ã€‚\n\n1234567891011121314151617181920 badfunction f1(a) &#123;  a = 1;   ...&#125;function f2(a) &#123;  if (!a) &#123; a = 1; &#125;   ...&#125; goodfunction f3(a) &#123;  const b = a || 1;   ...&#125;function f4(a = 1) &#123;   ...&#125;\n\n\n\n7.14 ä¼˜å…ˆä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ ... æ¥è°ƒç”¨å¯å˜å‚æ•°å‡½æ•°ã€‚ eslint: prefer-spread\n\nä¸ºä»€ä¹ˆ? å®ƒæ›´åŠ å¹²å‡€ï¼Œä½ ä¸éœ€è¦æä¾›ä¸Šä¸‹æ–‡ï¼Œå¹¶ä¸”ä½ ä¸èƒ½è½»æ˜“çš„ä½¿ç”¨ apply æ¥ new ã€‚\n\n12345678910111213 badconst x = [1, 2, 3, 4, 5];console.log.apply(console, x); goodconst x = [1, 2, 3, 4, 5];console.log(...x); badnew (Function.prototype.bind.apply(Date, [null, 2016, 8, 5])); goodnew Date(...[2016, 8, 5]);\n\n\n\n7.15 å…·æœ‰å¤šè¡Œç­¾åæˆ–è€…è°ƒç”¨çš„å‡½æ•°åº”è¯¥åƒæœ¬æŒ‡å—ä¸­çš„å…¶ä»–å¤šè¡Œåˆ—è¡¨ä¸€æ ·ç¼©è¿›ï¼šåœ¨ä¸€è¡Œä¸Šåªæœ‰ä¸€ä¸ªæ¡ç›®ï¼Œå¹¶ä¸”æ¯ä¸ªæ¡ç›®æœ€ååŠ ä¸Šé€—å·ã€‚ eslint: function-paren-newline\n123456789101112131415161718192021222324252627 badfunction foo(bar,             baz,             quux) &#123;   ...&#125; goodfunction foo(  bar,  baz,  quux,) &#123;   ...&#125; badconsole.log(foo,  bar,  baz); goodconsole.log(  foo,  bar,  baz,);\n\n\n\nâ¬† è¿”å›ç›®å½•\nç®­å¤´å‡½æ•°  \n\n8.1 å½“ä½ å¿…é¡»ä½¿ç”¨åŒ¿åå‡½æ•°æ—¶ (å½“ä¼ é€’å†…è”å‡½æ•°æ—¶)ï¼Œ ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚ eslint: prefer-arrow-callback, arrow-spacing\n\nä¸ºä»€ä¹ˆ? å®ƒåˆ›å»ºäº†ä¸€ä¸ªåœ¨ this ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œçš„å‡½æ•°ç‰ˆæœ¬ï¼Œå®ƒé€šå¸¸æ˜¯ä½ æƒ³è¦çš„ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªæ›´ç®€æ´çš„è¯­æ³•ã€‚\n\n\nä¸ºä»€ä¹ˆä¸? å¦‚æœä½ æœ‰ä¸€ä¸ªç›¸å½“å¤æ‚çš„å‡½æ•°ï¼Œä½ å¯ä»¥æŠŠè¿™ä¸ªé€»è¾‘è½¬ç§»åˆ°å®ƒè‡ªå·±çš„å‘½åå‡½æ•°è¡¨è¾¾å¼ä¸­ã€‚\n\n1234567891011 bad[1, 2, 3].map(function (x) &#123;  const y = x + 1;  return x * y;&#125;); good[1, 2, 3].map((x) =&gt; &#123;  const y = x + 1;  return x * y;&#125;);\n\n\n\n8.2 å¦‚æœå‡½æ•°ä½“åŒ…å«ä¸€ä¸ªå•ç‹¬çš„è¯­å¥ï¼Œè¿”å›ä¸€ä¸ªæ²¡æœ‰å‰¯ä½œç”¨çš„ expression ï¼Œ çœç•¥æ‹¬å·å¹¶ä½¿ç”¨éšå¼è¿”å›ã€‚å¦åˆ™ï¼Œä¿ç•™æ‹¬å·å¹¶ä½¿ç”¨ return è¯­å¥ã€‚ eslint: arrow-parens, arrow-body-style\n\nä¸ºä»€ä¹ˆ? è¯­æ³•ç³–ã€‚ å¤šä¸ªå‡½æ•°è¢«é“¾æ¥åœ¨ä¸€èµ·æ—¶ï¼Œæé«˜å¯è¯»æ€§ã€‚\n\n12345678910111213141516171819202122232425262728293031323334353637 bad[1, 2, 3].map(number =&gt; &#123;  const nextNumber = number + 1;  `A string containing the $&#123;nextNumber&#125;.`;&#125;); good[1, 2, 3].map(number =&gt; `A string containing the $&#123;number&#125;.`); good[1, 2, 3].map((number) =&gt; &#123;  const nextNumber = number + 1;  return `A string containing the $&#123;nextNumber&#125;.`;&#125;); good[1, 2, 3].map((number, index) =&gt; (&#123;  [index]: number,&#125;)); æ²¡æœ‰å‰¯ä½œç”¨çš„éšå¼è¿”å›function foo(callback) &#123;  const val = callback();  if (val === true) &#123;     å¦‚æœå›è°ƒè¿”å› true æ‰§è¡Œ  &#125;&#125;let bool = false; badfoo(() =&gt; bool = true); goodfoo(() =&gt; &#123;  bool = true;&#125;);\n\n\n\n8.3 å¦‚æœè¡¨è¾¾å¼è·¨è¶Šå¤šä¸ªè¡Œï¼Œç”¨æ‹¬å·å°†å…¶æ‹¬èµ·æ¥ï¼Œä»¥è·å¾—æ›´å¥½çš„å¯è¯»æ€§ã€‚\n\nä¸ºä»€ä¹ˆ? å®ƒæ¸…æ¥šåœ°æ˜¾ç¤ºäº†å‡½æ•°çš„èµ·ç‚¹å’Œç»ˆç‚¹ã€‚\n\n1234567891011121314 bad[get, post, put].map(httpMethod =&gt; Object.prototype.hasOwnProperty.call(    httpMagicObjectWithAVeryLongName,    httpMethod,  )); good[get, post, put].map(httpMethod =&gt; (  Object.prototype.hasOwnProperty.call(    httpMagicObjectWithAVeryLongName,    httpMethod,  )));\n\n\n\n8.4 å¦‚æœä½ çš„å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œåˆ™å¯ä»¥ä¸ç”¨æ‹¬å·ï¼Œçœç•¥æ‹¬å·ã€‚ å¦åˆ™ï¼Œä¸ºäº†ä¿è¯æ¸…æ™°å’Œä¸€è‡´æ€§ï¼Œéœ€è¦åœ¨å‚æ•°å‘¨å›´åŠ ä¸Šæ‹¬å·ã€‚ æ³¨æ„ï¼šæ€»æ˜¯ä½¿ç”¨æ‹¬å·æ˜¯å¯ä»¥æ¥å—çš„ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ â€œalwaysâ€ option æ¥é…ç½® eslint. eslint: arrow-parens\n\nä¸ºä»€ä¹ˆ? å‡å°‘è§†è§‰ä¸Šçš„æ··ä¹±ã€‚\n\n12345678910111213141516171819202122 bad[1, 2, 3].map((x) =&gt; x * x); good[1, 2, 3].map(x =&gt; x * x); good[1, 2, 3].map(number =&gt; (  `A long string with the $&#123;number&#125;. Itâ€™s so long that we donâ€™t want it to take up space on the .map line!`)); bad[1, 2, 3].map(x =&gt; &#123;  const y = x + 1;  return x * y;&#125;); good[1, 2, 3].map((x) =&gt; &#123;  const y = x + 1;  return x * y;&#125;);\n\n\n\n8.5 é¿å…ç®­å¤´å‡½æ•°ç¬¦å· (=&gt;) å’Œæ¯”è¾ƒè¿ç®—ç¬¦ (&lt;=, &gt;=) çš„æ··æ·†ã€‚ eslint: no-confusing-arrow\n1234567891011121314 badconst itemHeight = item =&gt; item.height &gt; 256 ? item.largeSize : item.smallSize; badconst itemHeight = (item) =&gt; item.height &gt; 256 ? item.largeSize : item.smallSize; goodconst itemHeight = item =&gt; (item.height &gt; 256 ? item.largeSize : item.smallSize); goodconst itemHeight = (item) =&gt; &#123;  const &#123; height, largeSize, smallSize &#125; = item;  return height &gt; 256 ? largeSize : smallSize;&#125;;\n\n\n\n8.6 æ³¨æ„å¸¦æœ‰éšå¼è¿”å›çš„ç®­å¤´å‡½æ•°å‡½æ•°ä½“çš„ä½ç½®ã€‚ eslint: implicit-arrow-linebreak\n12345678910111213 bad(foo) =&gt;  bar;(foo) =&gt;  (bar); good(foo) =&gt; bar;(foo) =&gt; (bar);(foo) =&gt; (   bar)\n\n\n\nâ¬† è¿”å›ç›®å½•\nç±»å’Œæ„é€ å™¨  \n\n9.1 å°½é‡ä½¿ç”¨ class. é¿å…ç›´æ¥æ“ä½œ prototype .\n\nä¸ºä»€ä¹ˆ? class è¯­æ³•æ›´ç®€æ´ï¼Œæ›´å®¹æ˜“æ¨ç†ã€‚\n\n123456789101112131415161718192021 badfunction Queue(contents = []) &#123;  this.queue = [...contents];&#125;Queue.prototype.pop = function () &#123;  const value = this.queue[0];  this.queue.splice(0, 1);  return value;&#125;; goodclass Queue &#123;  constructor(contents = []) &#123;    this.queue = [...contents];  &#125;  pop() &#123;    const value = this.queue[0];    this.queue.splice(0, 1);    return value;  &#125;&#125;\n\n\n\n9.2 ä½¿ç”¨ extends æ¥æ‰©å±•ç»§æ‰¿ã€‚\n\nä¸ºä»€ä¹ˆ? å®ƒæ˜¯ä¸€ä¸ªå†…ç½®çš„æ–¹æ³•ï¼Œå¯ä»¥åœ¨ä¸ç ´å instanceof çš„æƒ…å†µä¸‹ç»§æ‰¿åŸå‹åŠŸèƒ½ã€‚\n\n12345678910111213141516 badconst inherits = require(inherits);function PeekableQueue(contents) &#123;  Queue.apply(this, contents);&#125;inherits(PeekableQueue, Queue);PeekableQueue.prototype.peek = function () &#123;  return this.queue[0];&#125;; goodclass PeekableQueue extends Queue &#123;  peek() &#123;    return this.queue[0];  &#125;&#125;\n\n\n\n9.3 æ–¹æ³•è¿”å›äº† this æ¥ä¾›å…¶å†…éƒ¨æ–¹æ³•è°ƒç”¨ã€‚\n12345678910111213141516171819202122232425262728293031 badJedi.prototype.jump = function () &#123;  this.jumping = true;  return true;&#125;;Jedi.prototype.setHeight = function (height) &#123;  this.height = height;&#125;;const luke = new Jedi();luke.jump();  =&gt; trueluke.setHeight(20);  =&gt; undefined goodclass Jedi &#123;  jump() &#123;    this.jumping = true;    return this;  &#125;  setHeight(height) &#123;    this.height = height;    return this;  &#125;&#125;const luke = new Jedi();luke.jump()  .setHeight(20);\n\n\n\n9.4 åªè¦åœ¨ç¡®ä¿èƒ½æ­£å¸¸å·¥ä½œå¹¶ä¸”ä¸äº§ç”Ÿä»»ä½•å‰¯ä½œç”¨çš„æƒ…å†µä¸‹ï¼Œç¼–å†™ä¸€ä¸ªè‡ªå®šä¹‰çš„ toString() æ–¹æ³•ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚\n12345678910111213class Jedi &#123;  constructor(options = &#123;&#125;) &#123;    this.name = options.name || no name;  &#125;  getName() &#123;    return this.name;  &#125;  toString() &#123;    return `Jedi - $&#123;this.getName()&#125;`;  &#125;&#125;\n\n\n\n9.5 å¦‚æœæ²¡æœ‰æŒ‡å®šç±»ï¼Œåˆ™ç±»å…·æœ‰é»˜è®¤çš„æ„é€ å™¨ã€‚ ä¸€ä¸ªç©ºçš„æ„é€ å™¨æˆ–æ˜¯ä¸€ä¸ªä»£è¡¨çˆ¶ç±»çš„å‡½æ•°æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚ eslint: no-useless-constructor\n1234567891011121314151617181920212223 badclass Jedi &#123;  constructor() &#123;&#125;  getName() &#123;    return this.name;  &#125;&#125; badclass Rey extends Jedi &#123;  constructor(...args) &#123;    super(...args);  &#125;&#125; goodclass Rey extends Jedi &#123;  constructor(...args) &#123;    super(...args);    this.name = Rey;  &#125;&#125;\n\n\n\n9.6 é¿å…å®šä¹‰é‡å¤çš„ç±»æˆå‘˜ã€‚ eslint: no-dupe-class-members\n\nä¸ºä»€ä¹ˆ? é‡å¤çš„ç±»æˆå‘˜å£°æ˜å°†ä¼šé»˜è®¤å€¾å‘äºæœ€åä¸€ä¸ª - å…·æœ‰é‡å¤çš„ç±»æˆå‘˜å¯ä»¥è¯´æ˜¯ä¸€ä¸ªé”™è¯¯ã€‚\n\n123456789101112131415 badclass Foo &#123;  bar() &#123; return 1; &#125;  bar() &#123; return 2; &#125;&#125; goodclass Foo &#123;  bar() &#123; return 1; &#125;&#125; goodclass Foo &#123;  bar() &#123; return 2; &#125;&#125;\n\n\n\nâ¬† è¿”å›ç›®å½•\næ¨¡å—  \n\n10.1 ä½ å¯èƒ½ç»å¸¸ä½¿ç”¨æ¨¡å— (importexport) åœ¨ä¸€äº›éæ ‡å‡†æ¨¡å—çš„ç³»ç»Ÿä¸Šã€‚ ä½ ä¹Ÿå¯ä»¥åœ¨ä½ å–œæ¬¢çš„æ¨¡å—ç³»ç»Ÿä¸Šç›¸äº’è½¬æ¢ã€‚\n\nä¸ºä»€ä¹ˆ? æ¨¡å—æ˜¯æœªæ¥çš„è¶‹åŠ¿ï¼Œè®©æˆ‘ä»¬æ‹¥æŠ±æœªæ¥ã€‚\n\n1234567891011 badconst AirbnbStyleGuide = require(.AirbnbStyleGuide);module.exports = AirbnbStyleGuide.es6; okimport AirbnbStyleGuide from .AirbnbStyleGuide;export default AirbnbStyleGuide.es6; bestimport &#123; es6 &#125; from .AirbnbStyleGuide;export default es6;\n\n\n\n10.2 ä¸è¦ä½¿ç”¨é€šé…ç¬¦å¯¼å…¥ã€‚\n\nä¸ºä»€ä¹ˆ? è¿™ç¡®å®šä½ æœ‰ä¸€ä¸ªå•ç‹¬çš„é»˜è®¤å¯¼å‡ºã€‚\n\n12345 badimport * as AirbnbStyleGuide from .AirbnbStyleGuide; goodimport AirbnbStyleGuide from .AirbnbStyleGuide;\n\n\n\n10.3 ä¸è¦ç›´æ¥ä»å¯¼å…¥å¯¼å‡ºã€‚\n\nä¸ºä»€ä¹ˆ? è™½ç„¶å†™åœ¨ä¸€è¡Œå¾ˆç®€æ´ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªæ˜ç¡®çš„å¯¼å…¥å’Œä¸€ä¸ªæ˜ç¡®çš„å¯¼å‡ºèƒ½å¤Ÿä¿è¯ä¸€è‡´æ€§ã€‚\n\n12345678 bad filename es6.jsexport &#123; es6 as default &#125; from .AirbnbStyleGuide; good filename es6.jsimport &#123; es6 &#125; from .AirbnbStyleGuide;export default es6;\n\n\n\n10.4 åªä»ä¸€ä¸ªè·¯å¾„å¯¼å…¥æ‰€æœ‰éœ€è¦çš„ä¸œè¥¿ã€‚eslint: no-duplicate-imports\n\nä¸ºä»€ä¹ˆ? ä»åŒä¸€ä¸ªè·¯å¾„å¯¼å…¥å¤šä¸ªè¡Œï¼Œä½¿ä»£ç æ›´éš¾ä»¥ç»´æŠ¤ã€‚\n\n12345678910111213 badimport foo from foo; â€¦ å…¶ä»–å¯¼å…¥ â€¦ import &#123; named1, named2 &#125; from foo; goodimport foo, &#123; named1, named2 &#125; from foo; goodimport foo, &#123;  named1,  named2,&#125; from foo;\n\n\n\n10.5 ä¸è¦å¯¼å‡ºå¯å˜çš„å¼•ç”¨ã€‚eslint: importno-mutable-exports\n\nä¸ºä»€ä¹ˆ? åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåº”è¯¥é¿å…å‘ç”Ÿçªå˜ï¼Œä½†æ˜¯åœ¨å¯¼å‡ºå¯å˜å¼•ç”¨æ—¶åŠå…¶å®¹æ˜“å‘ç”Ÿçªå˜ã€‚è™½ç„¶åœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦è¿™æ ·ï¼Œä½†æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹åªéœ€è¦å¯¼å‡ºå¸¸é‡å¼•ç”¨ã€‚\n\n1234567 badlet foo = 3;export &#123; foo &#125;; goodconst foo = 3;export &#123; foo &#125;;\n\n\n\n10.6 åœ¨å•ä¸ªå¯¼å‡ºçš„æ¨¡å—ä¸­ï¼Œé€‰æ‹©é»˜è®¤æ¨¡å—è€Œä¸æ˜¯æŒ‡å®šçš„å¯¼å‡ºã€‚eslint: importprefer-default-export\n\nä¸ºä»€ä¹ˆ? ä¸ºäº†é¼“åŠ±æ›´å¤šçš„æ–‡ä»¶åªå¯¼å‡ºä¸€ä»¶ä¸œè¥¿ï¼Œè¿™æ ·å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§æ›´å¥½ã€‚\n\n12345 badexport function foo() &#123;&#125; goodexport default function foo() &#123;&#125;\n\n\n\n10.7 å°†æ‰€æœ‰çš„ imports è¯­å¥æ”¾åœ¨æ‰€æœ‰éå¯¼å…¥è¯­å¥çš„ä¸Šè¾¹ã€‚eslint: importfirst\n\nä¸ºä»€ä¹ˆ? ç”±äºæ‰€æœ‰çš„ imports éƒ½è¢«æå‰ï¼Œä¿æŒä»–ä»¬åœ¨é¡¶éƒ¨æ˜¯ä¸ºäº†é˜²æ­¢æ„å¤–å‘ç”Ÿã€‚\n\n1234567891011 badimport foo from foo;foo.init();import bar from bar; goodimport foo from foo;import bar from bar;foo.init();\n\n\n\n10.8 å¤šè¡Œå¯¼å…¥åº”è¯¥åƒå¤šè¡Œæ•°ç»„å’Œå¯¹è±¡ä¸€æ ·ç¼©è¿›ã€‚\n\nä¸ºä»€ä¹ˆ? èŠ±æ‹¬å·å’Œå…¶ä»–è§„èŒƒä¸€æ ·ï¼Œéµå¾ªç›¸åŒçš„ç¼©è¿›è§„åˆ™ï¼Œåè¾¹çš„éƒ½å¥½ä¸€æ ·ã€‚\n\n1234567891011 badimport &#123;longNameA, longNameB, longNameC, longNameD, longNameE&#125; from path; goodimport &#123;  longNameA,  longNameB,  longNameC,  longNameD,  longNameE,&#125; from path;\n\n\n\n10.9 åœ¨æ¨¡å—å¯¼å…¥è¯­å¥ä¸­ç¦æ­¢ä½¿ç”¨ Webpack åŠ è½½å™¨è¯­æ³•ã€‚eslint: importno-webpack-loader-syntax\n\nä¸ºä»€ä¹ˆ? å› ä¸ºåœ¨å¯¼å…¥è¯­å¥ä¸­ä½¿ç”¨ webpack è¯­æ³•ï¼Œå°†ä»£ç å’Œæ¨¡å—ç»‘å®šåœ¨ä¸€èµ·ã€‚åº”è¯¥åœ¨ webpack.config.js ä¸­ä½¿ç”¨åŠ è½½å™¨è¯­æ³•ã€‚\n\n1234567 badimport fooSass from css!sass!foo.scss;import barCss from style!css!bar.css; goodimport fooSass from foo.scss;import barCss from bar.css;\n\n\n\nâ¬† è¿”å›ç›®å½•\nè¿­ä»£å™¨å’Œå‘ç”Ÿå™¨  \n\n11.1 ä¸è¦ä½¿ç”¨è¿­ä»£å™¨ã€‚ ä½ åº”è¯¥ä½¿ç”¨ JavaScript çš„é«˜é˜¶å‡½æ•°ä»£æ›¿ for-in æˆ–è€… for-ofã€‚ eslint: no-iterator no-restricted-syntax\n\nä¸ºä»€ä¹ˆ? è¿™æ˜¯æˆ‘ä»¬å¼ºåˆ¶çš„è§„åˆ™ã€‚ æ‹¥æœ‰è¿”å›å€¼å¾—çº¯å‡½æ•°æ¯”è¿™ä¸ªæ›´å®¹æ˜“è§£é‡Šã€‚\n\n\nä½¿ç”¨ map()  every()  filter()  find()  findIndex()  reduce()  some()  â€¦ éå†æ•°ç»„ï¼Œ å’Œä½¿ç”¨ Object.keys()  Object.values()  Object.entries() è¿­ä»£ä½ çš„å¯¹è±¡ç”Ÿæˆæ•°ç»„ã€‚\n\n12345678910111213141516171819202122232425262728293031323334const numbers = [1, 2, 3, 4, 5]; badlet sum = 0;for (let num of numbers) &#123;  sum += num;&#125;sum === 15; goodlet sum = 0;numbers.forEach((num) =&gt; &#123;  sum += num;&#125;);sum === 15; best (use the functional force)const sum = numbers.reduce((total, num) =&gt; total + num, 0);sum === 15; badconst increasedByOne = [];for (let i = 0; i &lt; numbers.length; i++) &#123;  increasedByOne.push(numbers[i] + 1);&#125; goodconst increasedByOne = [];numbers.forEach((num) =&gt; &#123;  increasedByOne.push(num + 1);&#125;); best (keeping it functional)const increasedByOne = numbers.map(num =&gt; num + 1);\n\n\n\n11.2 ä¸è¦ä½¿ç”¨å‘ç”Ÿå™¨ã€‚\n\nä¸ºä»€ä¹ˆ? They donâ€™t transpile well to ES5.\n\n\n\n11.3 å¦‚æœä½ å¿…é¡»ä½¿ç”¨å‘ç”Ÿå™¨æˆ–è€…æ— è§† æˆ‘ä»¬çš„å»ºè®®ï¼Œè¯·ç¡®ä¿ä»–ä»¬çš„å‡½æ•°ç­¾åæ˜¯æ­£å¸¸çš„é—´éš”ã€‚ eslint: generator-star-spacing\n\nä¸ºä»€ä¹ˆ? function å’Œ * æ˜¯åŒä¸€ä¸ªæ¦‚å¿µå…³é”®å­—çš„ä¸€éƒ¨åˆ† - * ä¸æ˜¯ function çš„ä¿®é¥°ç¬¦ï¼Œ function* æ˜¯ä¸€ä¸ªä¸åŒäº function çš„æ„é€ å™¨ã€‚\n\n1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253 badfunction * foo() &#123;   ...&#125; badconst bar = function * () &#123;   ...&#125;; badconst baz = function *() &#123;   ...&#125;; badconst quux = function*() &#123;   ...&#125;; badfunction*foo() &#123;   ...&#125; badfunction *foo() &#123;   ...&#125; very badfunction*foo() &#123;   ...&#125; very badconst wat = function*() &#123;   ...&#125;; goodfunction* foo() &#123;   ...&#125; goodconst foo = function* () &#123;   ...&#125;;\n\n\n\nâ¬† è¿”å›ç›®å½•\nå±æ€§  \n\n12.1 è®¿é—®å±æ€§æ—¶ä½¿ç”¨ç‚¹ç¬¦å·ã€‚ eslint: dot-notation\n12345678910const luke = &#123;  jedi: true,  age: 28,&#125;; badconst isJedi = luke[jedi]; goodconst isJedi = luke.jedi;\n\n\n\n12.2 ä½¿ç”¨å˜é‡è®¿é—®å±æ€§æ—¶ï¼Œä½¿ç”¨ []è¡¨ç¤ºæ³•ã€‚\n12345678910const luke = &#123;  jedi: true,  age: 28,&#125;;function getProp(prop) &#123;  return luke[prop];&#125;const isJedi = getProp(jedi);\n\n\n\n12.3 è®¡ç®—æŒ‡æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ ** è¿ç®—ç¬¦ã€‚ eslint: no-restricted-properties.\n12345 badconst binary = Math.pow(2, 10); goodconst binary = 2 ** 10;\n\n\n\nâ¬† è¿”å›ç›®å½•\nå˜é‡  \n\n13.1 ä½¿ç”¨ const æˆ–è€… let æ¥å®šä¹‰å˜é‡ã€‚ ä¸è¿™æ ·åšå°†åˆ›å»ºä¸€ä¸ªå…¨å±€å˜é‡ã€‚ æˆ‘ä»¬å¸Œæœ›é¿å…æ±¡æŸ“å…¨å±€å‘½åç©ºé—´ã€‚ Captain Planet è­¦å‘Šè¿‡æˆ‘ä»¬ã€‚ eslint: no-undef prefer-const\n12345 badsuperPower = new SuperPower(); goodconst superPower = new SuperPower();\n\n\n\n13.2 ä½¿ç”¨ const æˆ–è€… let å£°æ˜æ¯ä¸€ä¸ªå˜é‡ã€‚ eslint: one-var\n\nä¸ºä»€ä¹ˆ? è¿™æ ·æ›´å®¹æ˜“æ·»åŠ æ–°çš„å˜é‡å£°æ˜ï¼Œè€Œä¸”ä½ ä¸å¿…æ‹…å¿ƒæ˜¯ä½¿ç”¨ ; è¿˜æ˜¯ä½¿ç”¨ , æˆ–å¼•å…¥æ ‡ç‚¹ç¬¦å·çš„å·®åˆ«ã€‚ ä½ å¯ä»¥é€šè¿‡ debugger é€æ­¥æŸ¥çœ‹æ¯ä¸ªå£°æ˜ï¼Œè€Œä¸æ˜¯ç«‹å³è·³è¿‡æ‰€æœ‰å£°æ˜ã€‚\n\n123456789101112131415 badconst items = getItems(),    goSportsTeam = true,    dragonball = z; bad (compare to above, and try to spot the mistake)const items = getItems(),    goSportsTeam = true;    dragonball = z; goodconst items = getItems();const goSportsTeam = true;const dragonball = z;\n\n\n\n13.3 æŠŠ const å£°æ˜çš„æ”¾åœ¨ä¸€èµ·ï¼ŒæŠŠ let å£°æ˜çš„æ”¾åœ¨ä¸€èµ·ã€‚.\n\nä¸ºä»€ä¹ˆ? è¿™åœ¨åè¾¹å¦‚æœéœ€è¦æ ¹æ®å‰è¾¹çš„èµ‹å€¼å˜é‡æŒ‡å®šä¸€ä¸ªå˜é‡æ—¶å¾ˆæœ‰ç”¨ã€‚\n\n123456789101112131415161718 badlet i, len, dragonball,    items = getItems(),    goSportsTeam = true; badlet i;const items = getItems();let dragonball;const goSportsTeam = true;let len; goodconst goSportsTeam = true;const items = getItems();let dragonball;let i;let length;\n\n\n\n13.4 åœ¨ä½ éœ€è¦çš„ä½¿ç”¨å®šä¹‰å˜é‡ï¼Œä½†æ˜¯è¦æŠŠå®ƒä»¬æ”¾åœ¨ä¸€ä¸ªåˆç†çš„åœ°æ–¹ã€‚\n\nä¸ºä»€ä¹ˆ? let å’Œ const æ˜¯å—çº§ä½œç”¨åŸŸè€Œä¸æ˜¯å‡½æ•°ä½œç”¨åŸŸã€‚\n\n12345678910111213141516171819202122232425262728293031 bad - ä¸å¿…è¦çš„å‡½æ•°è°ƒç”¨function checkName(hasName) &#123;  const name = getName();  if (hasName === test) &#123;    return false;  &#125;  if (name === test) &#123;    this.setName();    return false;  &#125;  return name;&#125; goodfunction checkName(hasName) &#123;  if (hasName === test) &#123;    return false;  &#125;  const name = getName();  if (name === test) &#123;    this.setName();    return false;  &#125;  return name;&#125;\n\n\n\n13.5 ä¸è¦é“¾å¼å˜é‡èµ‹å€¼ã€‚ eslint: no-multi-assign\n\nä¸ºä»€ä¹ˆ? é“¾å¼å˜é‡èµ‹å€¼ä¼šåˆ›å»ºéšå¼å…¨å±€å˜é‡ã€‚\n\n123456789101112131415161718192021222324 bad(function example() &#123;   JavaScript æŠŠå®ƒè§£é‡Šä¸º   let a = ( b = ( c = 1 ) );   let å…³é”®è¯åªé€‚ç”¨äºå˜é‡ a ï¼›å˜é‡ b å’Œå˜é‡ c åˆ™å˜æˆäº†å…¨å±€å˜é‡ã€‚  let a = b = c = 1;&#125;());console.log(a);  throws ReferenceErrorconsole.log(b);  1console.log(c);  1 good(function example() &#123;  let a = 1;  let b = a;  let c = a;&#125;());console.log(a);  throws ReferenceErrorconsole.log(b);  throws ReferenceErrorconsole.log(c);  throws ReferenceError å¯¹äº `const` ä¹Ÿä¸€æ ·\n\n\n\n13.6 é¿å…ä½¿ç”¨ä¸å¿…è¦çš„é€’å¢å’Œé€’å‡ (++, --)ã€‚ eslint no-plusplus\n\nä¸ºä»€ä¹ˆ? åœ¨eslintæ–‡æ¡£ä¸­ï¼Œä¸€å…ƒé€’å¢å’Œé€’å‡è¯­å¥ä»¥è‡ªåŠ¨åˆ†å·æ’å…¥ä¸ºä¸»é¢˜ï¼Œå¹¶ä¸”åœ¨åº”ç”¨ç¨‹åºä¸­å¯èƒ½ä¼šå¯¼è‡´é»˜è®¤å€¼çš„é€’å¢æˆ–é€’å‡ã€‚å®ƒè¿˜å¯ä»¥ç”¨åƒ num += 1 è¿™æ ·çš„è¯­å¥æ¥æ”¹å˜æ‚¨çš„å€¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ num++ æˆ– num ++ ã€‚ä¸å…è®¸ä¸å¿…è¦çš„å¢é‡å’Œå‡é‡è¯­å¥ä¹Ÿä¼šä½¿æ‚¨æ— æ³•é¢„å…ˆé€’å¢é¢„é€’å‡å€¼ï¼Œè¿™ä¹Ÿä¼šå¯¼è‡´ç¨‹åºä¸­çš„æ„å¤–è¡Œä¸ºã€‚\n\n1234567891011121314151617181920212223242526 badconst array = [1, 2, 3];let num = 1;num++;--num;let sum = 0;let truthyCount = 0;for (let i = 0; i &lt; array.length; i++) &#123;  let value = array[i];  sum += value;  if (value) &#123;    truthyCount++;  &#125;&#125; goodconst array = [1, 2, 3];let num = 1;num += 1;num -= 1;const sum = array.reduce((a, b) =&gt; a + b, 0);const truthyCount = array.filter(Boolean).length;\n\n\n\n\n\n13.7 é¿å…åœ¨èµ‹å€¼è¯­å¥ = å‰åæ¢è¡Œã€‚å¦‚æœä½ çš„ä»£ç è¿åäº† max-lenï¼Œ ä½¿ç”¨æ‹¬å·åŒ…è£¹ã€‚ eslint operator-linebreak.\n\nä¸ºä»€ä¹ˆ? åœ¨ = å‰åæ¢è¡Œï¼Œå¯èƒ½æ··æ·†åˆ†é…çš„å€¼ã€‚\n\n123456789101112131415 badconst foo =  superLongLongLongLongLongLongLongLongFunctionName(); badconst foo  = superLongLongLongLongLongLongLongLongString; goodconst foo = (  superLongLongLongLongLongLongLongLongFunctionName()); goodconst foo = superLongLongLongLongLongLongLongLongString;\n\n\n\nâ¬† è¿”å›ç›®å½•\næå‡  \n\n14.1 var å®šä¹‰çš„å˜é‡ä¼šè¢«æå‡åˆ°å‡½æ•°èŒƒå›´çš„æœ€é¡¶éƒ¨ï¼Œä½†æ˜¯å®ƒçš„èµ‹å€¼ä¸ä¼šã€‚const å’Œ let å£°æ˜çš„å˜é‡å—åˆ°ä¸€ä¸ªç§°ä¹‹ä¸º Temporal Dead Zones (TDZ) çš„æ–°æ¦‚å¿µä¿æŠ¤ã€‚ çŸ¥é“ä¸ºä»€ä¹ˆ typeof ä¸åœ¨å®‰å…¨ æ˜¯å¾ˆé‡è¦çš„ã€‚\n1234567891011121314151617181920212223242526 æˆ‘ä»¬çŸ¥é“è¿™ä¸ªè¡Œä¸é€š (å‡è®¾æ²¡æœ‰æœªå®šä¹‰çš„å…¨å±€å˜é‡)function example() &#123;  console.log(notDefined);  =&gt; throws a ReferenceError&#125; åœ¨å¼•ç”¨å˜é‡ååˆ›å»ºå˜é‡å£°æ˜å°†ä¼šå› å˜é‡æå‡è€Œèµ·ä½œç”¨ã€‚ æ³¨æ„: çœŸæ­£çš„å€¼ `true` ä¸ä¼šè¢«æå‡ã€‚function example() &#123;  console.log(declaredButNotAssigned);  =&gt; undefined  var declaredButNotAssigned = true;&#125; è§£é‡Šå™¨å°†å˜é‡æå‡åˆ°å‡½æ•°çš„é¡¶éƒ¨ è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥å°†ä¸Šè¾¹çš„ä¾‹å­é‡å†™ä¸ºï¼šfunction example() &#123;  let declaredButNotAssigned;  console.log(declaredButNotAssigned);  =&gt; undefined  declaredButNotAssigned = true;&#125; ä½¿ç”¨ const å’Œ letfunction example() &#123;  console.log(declaredButNotAssigned);  =&gt; throws a ReferenceError  console.log(typeof declaredButNotAssigned);  =&gt; throws a ReferenceError  const declaredButNotAssigned = true;&#125;\n\n\n\n14.2 åŒ¿åå‡½æ•°è¡¨è¾¾å¼æå‡å˜é‡åï¼Œè€Œä¸æ˜¯å‡½æ•°èµ‹å€¼ã€‚\n123456789function example() &#123;  console.log(anonymous);  =&gt; undefined  anonymous();  =&gt; TypeError anonymous is not a function  var anonymous = function () &#123;    console.log(anonymous function expression);  &#125;;&#125;\n\n\n\n14.3 å‘½åå‡½æ•°è¡¨è¾¾å¼æå‡çš„æ˜¯å˜é‡åï¼Œè€Œä¸æ˜¯å‡½æ•°åæˆ–è€…å‡½æ•°ä½“ã€‚\n12345678910111213141516171819202122function example() &#123;  console.log(named);  =&gt; undefined  named();  =&gt; TypeError named is not a function  superPower();  =&gt; ReferenceError superPower is not defined  var named = function superPower() &#123;    console.log(Flying);  &#125;;&#125; å½“å‡½æ•°åå’Œå˜é‡åç›¸åŒæ—¶ä¹Ÿæ˜¯å¦‚æ­¤ã€‚function example() &#123;  console.log(named);  =&gt; undefined  named();  =&gt; TypeError named is not a function  var named = function named() &#123;    console.log(named);  &#125;;&#125;\n\n\n\n14.4 å‡½æ•°å£°æ˜æå‡å…¶åç§°å’Œå‡½æ•°ä½“ã€‚\n1234567function example() &#123;  superPower();  =&gt; Flying  function superPower() &#123;    console.log(Flying);  &#125;&#125;\n\næ›´å¤šä¿¡æ¯è¯·å‚è€ƒ Ben Cherry çš„ JavaScript Scoping &amp; Hoistingã€‚\n\n\nâ¬† è¿”å›ç›®å½•\næ¯”è¾ƒè¿ç®—ç¬¦å’Œç­‰å·  \n\n15.1 ä½¿ç”¨ === å’Œ !== è€Œä¸æ˜¯ == å’Œ !=ã€‚ eslint: eqeqeq\n\n\n15.2 æ¡ä»¶è¯­å¥ï¼Œä¾‹å¦‚ if è¯­å¥ä½¿ç”¨ ToBoolean çš„æŠ½è±¡æ–¹æ³•æ¥è®¡ç®—è¡¨è¾¾å¼çš„ç»“æœï¼Œå¹¶å§‹ç»ˆéµå¾ªä»¥ä¸‹ç®€å•çš„è§„åˆ™ï¼š\n\nObjects çš„å–å€¼ä¸ºï¼š true\nUndefined çš„å–å€¼ä¸ºï¼š false\nNull çš„å–å€¼ä¸ºï¼š false\nBooleans çš„å–å€¼ä¸ºï¼š å¸ƒå°”å€¼çš„å–å€¼\nNumbers çš„å–å€¼ä¸ºï¼šå¦‚æœä¸º +0, -0, or NaN å€¼ä¸º false å¦åˆ™ä¸º true\nStrings çš„å–å€¼ä¸º: å¦‚æœæ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸² &#39;&#39; å€¼ä¸º false å¦åˆ™ä¸º true\n\n1234if ([0] &amp;&amp; []) &#123;   true   ä¸€ä¸ªæ•°ç»„ï¼ˆæ—¢æ˜¯æ˜¯ç©ºçš„ï¼‰æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„å–å€¼ä¸º true&#125;\n\n\n\n15.3 å¯¹äºå¸ƒå°”å€¼ä½¿ç”¨ç®€å†™ï¼Œä½†æ˜¯å¯¹äºå­—ç¬¦ä¸²å’Œæ•°å­—è¿›è¡Œæ˜¾å¼æ¯”è¾ƒã€‚\n1234567891011121314151617181920212223242526272829 badif (isValid === true) &#123;   ...&#125; goodif (isValid) &#123;   ...&#125; badif (name) &#123;   ...&#125; goodif (name !== ) &#123;   ...&#125; badif (collection.length) &#123;   ...&#125; goodif (collection.length &gt; 0) &#123;   ...&#125;\n\n\n\n15.4 è·å–æ›´å¤šä¿¡æ¯è¯·æŸ¥çœ‹ Angus Croll çš„ Truth Equality and JavaScript ã€‚\n\n\n15.5 åœ¨ case å’Œ default çš„å­å¥ä¸­ï¼Œå¦‚æœå­˜åœ¨å£°æ˜ (ä¾‹å¦‚. let, const, function, å’Œ class)ï¼Œä½¿ç”¨å¤§æ‹¬å·æ¥åˆ›å»ºå— ã€‚ eslint: no-case-declarations\n\nä¸ºä»€ä¹ˆ? è¯­æ³•å£°æ˜åœ¨æ•´ä¸ª switch å—ä¸­éƒ½æ˜¯å¯è§çš„ï¼Œä½†æ˜¯åªæœ‰åœ¨èµ‹å€¼çš„æ—¶å€™æ‰ä¼šè¢«åˆå§‹åŒ–ï¼Œè¿™ç§æƒ…å†µåªæœ‰åœ¨ case æ¡ä»¶è¾¾åˆ°æ‰ä¼šå‘ç”Ÿã€‚ å½“å¤šä¸ª case è¯­å¥å®šä¹‰ç›¸åŒçš„ä¸œè¥¿æ˜¯ï¼Œè¿™ä¼šå¯¼è‡´é—®é¢˜é—®é¢˜ã€‚\n\n12345678910111213141516171819202122232425262728293031323334353637383940 badswitch (foo) &#123;  case 1:    let x = 1;    break;  case 2:    const y = 2;    break;  case 3:    function f() &#123;       ...    &#125;    break;  default:    class C &#123;&#125;&#125; goodswitch (foo) &#123;  case 1: &#123;    let x = 1;    break;  &#125;  case 2: &#123;    const y = 2;    break;  &#125;  case 3: &#123;    function f() &#123;       ...    &#125;    break;  &#125;  case 4:    bar();    break;  default: &#123;    class C &#123;&#125;  &#125;&#125;\n\n\n\n15.6 ä¸‰ç›®è¡¨è¾¾å¼ä¸åº”è¯¥åµŒå¥—ï¼Œé€šå¸¸æ˜¯å•è¡Œè¡¨è¾¾å¼ã€‚ eslint: no-nested-ternary\n123456789101112131415 badconst foo = maybe1 &gt; maybe2  ? bar  : value1 &gt; value2 ? baz : null; åˆ†ç¦»ä¸ºä¸¤ä¸ªä¸‰ç›®è¡¨è¾¾å¼const maybeNull = value1 &gt; value2 ? baz : null; betterconst foo = maybe1 &gt; maybe2  ? bar  : maybeNull; bestconst foo = maybe1 &gt; maybe2 ? bar : maybeNull;\n\n\n\n15.7 é¿å…ä¸å¿…è¦çš„ä¸‰ç›®è¡¨è¾¾å¼ã€‚ eslint: no-unneeded-ternary\n123456789 badconst foo = a ? a : b;const bar = c ? true : false;const baz = c ? false : true; goodconst foo = a || b;const bar = !!c;const baz = !c;\n\n\n\n15.8 ä½¿ç”¨è¯¥æ··åˆè¿ç®—ç¬¦æ—¶ï¼Œä½¿ç”¨æ‹¬å·æ‹¬èµ·æ¥ã€‚ å”¯ä¸€ä¾‹å¤–çš„æ˜¯æ ‡å‡†ç®—æ•°è¿ç®—ç¬¦ (+, -, *, &amp; ) å› ä¸ºä»–ä»¬çš„ä¼˜å…ˆçº§è¢«å¹¿æ³›ç†è§£ã€‚ eslint: no-mixed-operators\n\nä¸ºä»€ä¹ˆ? è¿™èƒ½æé«˜å¯è¯»æ€§å¹¶ä¸”è¡¨æ˜å¼€å‘äººå‘˜çš„æ„å›¾ã€‚\n\n12345678910111213141516171819202122232425 badconst foo = a &amp;&amp; b &lt; 0 || c &gt; 0 || d + 1 === 0; badconst bar = a ** b - 5 % d; bad å¯èƒ½é™·å…¥ä¸€ç§ (a || b) &amp;&amp; c çš„æ€è€ƒif (a || b &amp;&amp; c) &#123;  return d;&#125; goodconst foo = (a &amp;&amp; b &lt; 0) || c &gt; 0 || (d + 1 === 0); goodconst bar = (a ** b) - (5 % d); goodif (a || (b &amp;&amp; c)) &#123;  return d;&#125; goodconst bar = a + b  c * d;\n\n\n\nâ¬† è¿”å›ç›®å½•\nå—  \n\n16.1 å½“æœ‰å¤šè¡Œä»£ç å—çš„æ—¶å€™ï¼Œä½¿ç”¨å¤§æ‹¬å·åŒ…è£¹ã€‚ eslint: nonblock-statement-body-position\n12345678910111213141516171819 badif (test)  return false; goodif (test) return false; goodif (test) &#123;  return false;&#125; badfunction foo() &#123; return false; &#125; goodfunction bar() &#123;  return false;&#125;\n\n\n\n16.2 å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ if å’Œ else çš„å¤šè¡Œä»£ç å—ï¼Œåˆ™å°† else è¯­å¥æ”¾åœ¨ if å—é—­æ‹¬å·åŒä¸€è¡Œçš„ä½ç½®ã€‚ eslint: brace-style\n12345678910111213141516 badif (test) &#123;  thing1();  thing2();&#125;else &#123;  thing3();&#125; goodif (test) &#123;  thing1();  thing2();&#125; else &#123;  thing3();&#125;\n\n\n\n16.3 å¦‚æœä¸€ä¸ª if å—æ€»æ˜¯æ‰§è¡Œä¸€ä¸ª return è¯­å¥ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥çš„ else å—å°±æ²¡æœ‰å¿…è¦äº†ã€‚ å¦‚æœä¸€ä¸ªåŒ…å« return è¯­å¥çš„ else if å—ï¼Œåœ¨ä¸€ä¸ªåŒ…å«äº† return è¯­å¥çš„ if å—ä¹‹åï¼Œé‚£ä¹ˆå¯ä»¥æ‹†æˆå¤šä¸ª if å—ã€‚ eslint: no-else-return\n1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859 badfunction foo() &#123;  if (x) &#123;    return x;  &#125; else &#123;    return y;  &#125;&#125; badfunction cats() &#123;  if (x) &#123;    return x;  &#125; else if (y) &#123;    return y;  &#125;&#125; badfunction dogs() &#123;  if (x) &#123;    return x;  &#125; else &#123;    if (y) &#123;      return y;    &#125;  &#125;&#125; goodfunction foo() &#123;  if (x) &#123;    return x;  &#125;  return y;&#125; goodfunction cats() &#123;  if (x) &#123;    return x;  &#125;  if (y) &#123;    return y;  &#125;&#125; goodfunction dogs(x) &#123;  if (x) &#123;    if (z) &#123;      return y;    &#125;  &#125; else &#123;    return z;  &#125;&#125;\n\n\n\nâ¬† è¿”å›ç›®å½•\næ§åˆ¶è¯­å¥  \n\n17.1 å¦‚æœä½ çš„æ§åˆ¶è¯­å¥ (if, while ç­‰) å¤ªé•¿æˆ–è€…è¶…è¿‡äº†ä¸€è¡Œæœ€å¤§é•¿åº¦çš„é™åˆ¶ï¼Œåˆ™å¯ä»¥å°†æ¯ä¸ªæ¡ä»¶ï¼ˆæˆ–ç»„ï¼‰æ”¾å…¥ä¸€ä¸ªæ–°çš„è¡Œã€‚ é€»è¾‘è¿ç®—ç¬¦åº”è¯¥åœ¨è¡Œçš„å¼€å§‹ã€‚\n\nä¸ºä»€ä¹ˆ? è¦æ±‚æ“ä½œç¬¦åœ¨è¡Œçš„å¼€å§‹ä¿æŒå¯¹é½å¹¶éµå¾ªç±»ä¼¼æ–¹æ³•è¡”æ¥çš„æ¨¡å¼ã€‚ è¿™æé«˜äº†å¯è¯»æ€§ï¼Œå¹¶ä¸”ä½¿æ›´å¤æ‚çš„é€»è¾‘æ›´å®¹æ˜“ç›´è§‚çš„è¢«ç†è§£ã€‚\n\n12345678910111213141516171819202122232425262728293031323334353637383940414243444546 badif ((foo === 123 || bar === abc) &amp;&amp; doesItLookGoodWhenItBecomesThatLong() &amp;&amp; isThisReallyHappening()) &#123;  thing1();&#125; badif (foo === 123 &amp;&amp;  bar === abc) &#123;  thing1();&#125; badif (foo === 123  &amp;&amp; bar === abc) &#123;  thing1();&#125; badif (  foo === 123 &amp;&amp;  bar === abc) &#123;  thing1();&#125; goodif (  foo === 123  &amp;&amp; bar === abc) &#123;  thing1();&#125; goodif (  (foo === 123 || bar === abc)  &amp;&amp; doesItLookGoodWhenItBecomesThatLong()  &amp;&amp; isThisReallyHappening()) &#123;  thing1();&#125; goodif (foo === 123 &amp;&amp; bar === abc) &#123;  thing1();&#125;\n\n\n\n17.2 ä¸è¦ä½¿ç”¨é€‰æ‹©æ“ä½œç¬¦ä»£æ›¿æ§åˆ¶è¯­å¥ã€‚\n1234567 bad!isRunning &amp;&amp; startRunning(); goodif (!isRunning) &#123;  startRunning();&#125;\n\n\n\nâ¬† è¿”å›ç›®å½•\næ³¨é‡Š  \n\n18.1 ä½¿ç”¨ ** ... * æ¥è¿›è¡Œå¤šè¡Œæ³¨é‡Šã€‚\n123456789101112131415161718192021222324 bad make() returns a new element based on the passed in tag name @param &#123;String&#125; tag @return &#123;Element&#125; elementfunction make(tag) &#123;   ...  return element;&#125; good** * make() returns a new element * based on the passed-in tag name *function make(tag) &#123;   ...  return element;&#125;\n\n\n\n18.2 ä½¿ç”¨  è¿›è¡Œå•è¡Œæ³¨é‡Šã€‚ å°†å•è¡Œæ³¨é‡Šæ”¾åœ¨éœ€è¦æ³¨é‡Šçš„è¡Œçš„ä¸Šæ–¹æ–°è¡Œã€‚ åœ¨æ³¨é‡Šä¹‹å‰æ”¾ä¸€ä¸ªç©ºè¡Œï¼Œé™¤éå®ƒåœ¨å—çš„ç¬¬ä¸€è¡Œã€‚\n123456789101112131415161718192021222324252627282930313233 badconst active = true;   is current tab good is current tabconst active = true; badfunction getType() &#123;  console.log(fetching type...);   set the default type to no type  const type = this.type || no type;  return type;&#125; goodfunction getType() &#123;  console.log(fetching type...);   set the default type to no type  const type = this.type || no type;  return type;&#125; also goodfunction getType() &#123;   set the default type to no type  const type = this.type || no type;  return type;&#125;\n\n\n\n18.3 ç”¨ä¸€ä¸ªç©ºæ ¼å¼€å§‹æ‰€æœ‰çš„æ³¨é‡Šï¼Œä½¿å®ƒæ›´å®¹æ˜“é˜…è¯»ã€‚ eslint: spaced-comment\n12345678910111213141516171819202122232425262728293031 badis current tabconst active = true; good is current tabconst active = true; bad** *make() returns a new element *based on the passed-in tag name *function make(tag) &#123;   ...  return element;&#125; good** * make() returns a new element * based on the passed-in tag name *function make(tag) &#123;   ...  return element;&#125;\n\n\n\n18.4 ä½¿ç”¨ FIXME æˆ–è€… TODO å¼€å§‹ä½ çš„æ³¨é‡Šå¯ä»¥å¸®åŠ©å…¶ä»–å¼€å‘äººå‘˜å¿«é€Ÿäº†è§£ï¼Œå¦‚æœä½ æå‡ºäº†ä¸€ä¸ªéœ€è¦é‡æ–°å®¡è§†çš„é—®é¢˜ï¼Œæˆ–è€…ä½ å¯¹éœ€è¦å®ç°çš„é—®é¢˜æå‡ºçš„è§£å†³æ–¹æ¡ˆã€‚ è¿™äº›ä¸åŒäºå…¶ä»–è¯„è®ºï¼Œå› ä¸ºä»–ä»¬æ˜¯å¯æ“ä½œçš„ã€‚ è¿™äº›è¡Œä¸ºæ˜¯ FIXME: -- éœ€è¦è§£å†³è¿™ä¸ªé—®é¢˜ æˆ–è€… TODO: -- éœ€è¦è¢«å®ç°ã€‚\n\n\n18.5 ä½¿ç”¨  FIXME: æ³¨é‡Šä¸€ä¸ªé—®é¢˜ã€‚\n12345678class Calculator extends Abacus &#123;  constructor() &#123;    super();     FIXME: è¿™é‡Œä¸åº”è¯¥ä½¿ç”¨å…¨å±€å˜é‡    total = 0;  &#125;&#125;\n\n\n\n18.6 ä½¿ç”¨  TODO: æ³¨é‡Šè§£å†³é—®é¢˜çš„æ–¹æ³•ã€‚\n12345678class Calculator extends Abacus &#123;  constructor() &#123;    super();     TODO: total åº”è¯¥ç”±ä¸€ä¸ª param çš„é€‰é¡¹é…ç½®    this.total = 0;  &#125;&#125;\n\n\n\nâ¬† è¿”å›ç›®å½•\nç©ºç™½  \n\n19.1 ä½¿ç”¨ tabs (ç©ºæ ¼å­—ç¬¦) è®¾ç½®ä¸º 2 ä¸ªç©ºæ ¼ã€‚ eslint: indent\n1234567891011121314 badfunction foo() &#123;âˆ™âˆ™âˆ™âˆ™let name;&#125; badfunction bar() &#123;âˆ™let name;&#125; goodfunction baz() &#123;âˆ™âˆ™let name;&#125;\n\n\n\n19.2 åœ¨ä¸»ä½“å‰æ”¾ç½®ä¸€ä¸ªç©ºæ ¼ã€‚ eslint: space-before-blocks\n123456789101112131415161718192021 badfunction test()&#123;  console.log(test);&#125; goodfunction test() &#123;  console.log(test);&#125; baddog.set(attr,&#123;  age: 1 year,  breed: Bernese Mountain Dog,&#125;); gooddog.set(attr, &#123;  age: 1 year,  breed: Bernese Mountain Dog,&#125;);\n\n\n\n19.3 åœ¨æ§åˆ¶è¯­å¥ï¼ˆif, while ç­‰ï¼‰å¼€å§‹æ‹¬å·ä¹‹å‰æ”¾ç½®ä¸€ä¸ªç©ºæ ¼ã€‚ åœ¨å‡½æ•°è°ƒç”¨å’Œæ˜¯å£°æ˜ä¸­ï¼Œåœ¨å‚æ•°åˆ—è¡¨å’Œå‡½æ•°åä¹‹é—´æ²¡æœ‰ç©ºæ ¼ã€‚ eslint: keyword-spacing\n12345678910111213141516171819 badif(isJedi) &#123;  fight ();&#125; goodif (isJedi) &#123;  fight();&#125; badfunction fight () &#123;  console.log (Swooosh!);&#125; goodfunction fight() &#123;  console.log(Swooosh!);&#125;\n\n\n\n19.4 ç”¨ç©ºæ ¼åˆ†ç¦»æ“ä½œç¬¦ã€‚ eslint: space-infix-ops\n12345 badconst x=y+5; goodconst x = y + 5;\n\n\n\n19.5 ä½¿ç”¨å•ä¸ªæ¢è¡Œç¬¦ç»“æŸæ–‡ä»¶ã€‚ eslint: eol-last\n1234 badimport &#123; es6 &#125; from .AirbnbStyleGuide;   ...export default es6;\n\n12345 badimport &#123; es6 &#125; from .AirbnbStyleGuide;   ...export default es6;â†µâ†µ\n\n1234 goodimport &#123; es6 &#125; from .AirbnbStyleGuide;   ...export default es6;â†µ\n\n\n\n19.6 åœ¨ä½¿ç”¨é•¿æ–¹æ³•è¿æ»´å•Šç”¨çš„æ—¶å€™ä½¿ç”¨ç¼©è¿›(è¶…è¿‡ä¸¤ä¸ªæ–¹æ³•é“¾)ã€‚ ä½¿ç”¨ä¸€ä¸ªå¼•å¯¼ç‚¹ï¼Œå¼ºè°ƒè¯¥è¡Œæ˜¯æ–¹æ³•è°ƒç”¨ï¼Œè€Œä¸æ˜¯æ–°çš„è¯­å¥ã€‚ eslint: newline-per-chained-call no-whitespace-before-property\n12345678910111213141516171819202122232425262728293031323334353637 bad$(#items).find(.selected).highlight().end().find(.open).updateCount(); bad$(#items).  find(.selected).    highlight().    end().  find(.open).    updateCount(); good$(#items)  .find(.selected)    .highlight()    .end()  .find(.open)    .updateCount(); badconst leds = stage.selectAll(.led).data(data).enter().append(svg:svg).classed(led, true)    .attr(width, (radius + margin) * 2).append(svg:g)    .attr(transform, `translate($&#123;radius + margin&#125;,$&#123;radius + margin&#125;)`)    .call(tron.led); goodconst leds = stage.selectAll(.led)    .data(data)  .enter().append(svg:svg)    .classed(led, true)    .attr(width, (radius + margin) * 2)  .append(svg:g)    .attr(transform, `translate($&#123;radius + margin&#125;,$&#123;radius + margin&#125;)`)    .call(tron.led); goodconst leds = stage.selectAll(.led).data(data);\n\n\n\n19.7 åœ¨å—å’Œä¸‹ä¸€ä¸ªè¯­å¥ä¹‹å‰ç•™ä¸‹ä¸€ç©ºç™½è¡Œã€‚\n12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152 badif (foo) &#123;  return bar;&#125;return baz; goodif (foo) &#123;  return bar;&#125;return baz; badconst obj = &#123;  foo() &#123;  &#125;,  bar() &#123;  &#125;,&#125;;return obj; goodconst obj = &#123;  foo() &#123;  &#125;,  bar() &#123;  &#125;,&#125;;return obj; badconst arr = [  function foo() &#123;  &#125;,  function bar() &#123;  &#125;,];return arr; goodconst arr = [  function foo() &#123;  &#125;,  function bar() &#123;  &#125;,];return arr;\n\n\n\n19.8 ä¸è¦åœ¨å—çš„å¼€å¤´ä½¿ç”¨ç©ºç™½è¡Œã€‚ eslint: padded-blocks\n1234567891011121314151617181920212223242526272829303132333435 badfunction bar() &#123;  console.log(foo);&#125; badif (baz) &#123;  console.log(qux);&#125; else &#123;  console.log(foo);&#125; badclass Foo &#123;  constructor(bar) &#123;    this.bar = bar;  &#125;&#125; goodfunction bar() &#123;  console.log(foo);&#125; goodif (baz) &#123;  console.log(qux);&#125; else &#123;  console.log(foo);&#125;\n\n\n\n19.9 ä¸è¦åœ¨æ‹¬å·å†…æ·»åŠ ç©ºæ ¼ã€‚ eslint: space-in-parens\n12345678910111213141516171819 badfunction bar( foo ) &#123;  return foo;&#125; goodfunction bar(foo) &#123;  return foo;&#125; badif ( foo ) &#123;  console.log(foo);&#125; goodif (foo) &#123;  console.log(foo);&#125;\n\n\n\n19.10 ä¸è¦åœ¨ä¸­æ‹¬å·ä¸­æ·»åŠ ç©ºæ ¼ã€‚ eslint: array-bracket-spacing\n1234567 badconst foo = [ 1, 2, 3 ];console.log(foo[ 0 ]); goodconst foo = [1, 2, 3];console.log(foo[0]);\n\n\n\n19.11 åœ¨èŠ±æ‹¬å·å†…æ·»åŠ ç©ºæ ¼ã€‚ eslint: object-curly-spacing\n12345 badconst foo = &#123;clark: kent&#125;; goodconst foo = &#123; clark: kent &#125;;\n\n\n\n19.12 é¿å…è®©ä½ çš„ä»£ç è¡Œè¶…è¿‡100ä¸ªå­—ç¬¦ï¼ˆåŒ…æ‹¬ç©ºæ ¼ï¼‰ã€‚ æ³¨æ„ï¼šæ ¹æ®ä¸Šè¾¹çš„ çº¦æŸï¼Œé•¿å­—ç¬¦ä¸²å¯å…é™¤æ­¤è§„å®šï¼Œä¸åº”åˆ†è§£ã€‚ eslint: max-len\n\nä¸ºä»€ä¹ˆ? è¿™æ ·èƒ½å¤Ÿç¡®ä¿å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚\n\n12345678910111213141516171819202122 badconst foo = jsonData &amp;&amp; jsonData.foo &amp;&amp; jsonData.foo.bar &amp;&amp; jsonData.foo.bar.baz &amp;&amp; jsonData.foo.bar.baz.quux &amp;&amp; jsonData.foo.bar.baz.quux.xyzzy; bad$.ajax(&#123; method: POST, url: https:airbnb.com, data: &#123; name: John &#125; &#125;).done(() =&gt; console.log(Congratulations!)).fail(() =&gt; console.log(You have failed this city.)); goodconst foo = jsonData  &amp;&amp; jsonData.foo  &amp;&amp; jsonData.foo.bar  &amp;&amp; jsonData.foo.bar.baz  &amp;&amp; jsonData.foo.bar.baz.quux  &amp;&amp; jsonData.foo.bar.baz.quux.xyzzy; good$.ajax(&#123;  method: POST,  url: https:airbnb.com,  data: &#123; name: John &#125;,&#125;)  .done(() =&gt; console.log(Congratulations!))  .fail(() =&gt; console.log(You have failed this city.));\n\n\n\n19.13 è¦æ±‚æ‰“å¼€çš„å—æ ‡å¿—å’ŒåŒä¸€è¡Œä¸Šçš„æ ‡å¿—æ‹¥æœ‰ä¸€è‡´çš„é—´è·ã€‚æ­¤è§„åˆ™è¿˜ä¼šåœ¨åŒä¸€è¡Œå…³é—­çš„å—æ ‡è®°å’Œå‰è¾¹çš„æ ‡è®°å¼ºåˆ¶å®æ–½ä¸€è‡´çš„é—´è·ã€‚ eslint: block-spacing\n1234567 badfunction foo() &#123;return true;&#125;if (foo) &#123; bar = 0;&#125; goodfunction foo() &#123; return true; &#125;if (foo) &#123; bar = 0; &#125;\n\n\n\n19.14 é€—å·ä¹‹å‰é¿å…ä½¿ç”¨ç©ºæ ¼ï¼Œé€—å·ä¹‹åéœ€è¦ä½¿ç”¨ç©ºæ ¼ã€‚eslint: comma-spacing\n1234567 badvar foo = 1,bar = 2;var arr = [1 , 2]; goodvar foo = 1, bar = 2;var arr = [1, 2];\n\n\n\n19.15 åœ¨è®¡ç®—å±æ€§ä¹‹é—´å¼ºåŒ–é—´è·ã€‚eslint: computed-property-spacing\n1234567891011 badobj[foo ]obj[ foo]var x = &#123;[ b ]: a&#125;obj[foo[ bar ]] goodobj[foo]obj[foo]var x = &#123; [b]: a &#125;obj[foo[bar]]\n\n\n\n19.16 åœ¨å‡½æ•°å’Œå®ƒçš„è°ƒç”¨ä¹‹é—´å¼ºåŒ–é—´è·ã€‚ eslint: func-call-spacing\n12345678 badfunc ();func(); goodfunc();\n\n\n\n19.17 åœ¨å¯¹è±¡çš„å±æ€§å’Œå€¼ä¹‹é—´å¼ºåŒ–é—´è·ã€‚ eslint: key-spacing\n123456 badvar obj = &#123; foo : 42 &#125;;var obj2 = &#123; foo:42 &#125;; goodvar obj = &#123; foo: 42 &#125;;\n\n\n\n19.18 åœ¨è¡Œçš„æœ«å°¾é¿å…ä½¿ç”¨ç©ºæ ¼ã€‚ eslint: no-trailing-spaces\n\n\n19.19 é¿å…å¤šä¸ªç©ºè¡Œï¼Œå¹¶ä¸”åªå…è®¸åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ eslint: no-multiple-empty-lines\n\n1234567891011 badvar x = 1;var y = 2; goodvar x = 1;var y = 2;\n\n\n\n\n\nâ¬† è¿”å›ç›®å½•\né€—å·  \n\n20.1 é€—å·å‰ç½®ï¼š ä¸è¡Œ eslint: comma-style\n1234567891011121314151617181920212223242526272829 badconst story = [    once  , upon  , aTime]; goodconst story = [  once,  upon,  aTime,]; badconst hero = &#123;    firstName: Ada  , lastName: Lovelace  , birthYear: 1815  , superPower: computers&#125;; goodconst hero = &#123;  firstName: Ada,  lastName: Lovelace,  birthYear: 1815,  superPower: computers,&#125;;\n\n\n\n20.2 æ·»åŠ å°¾éšé€—å·ï¼š å¯ä»¥ eslint: comma-dangle\n\nä¸ºä»€ä¹ˆ? è¿™ä¸ªå°†é€ æˆæ›´æ¸…æ´çš„ git æ‰©å±•å·®å¼‚ã€‚ å¦å¤–ï¼Œåƒ Babel è¿™æ ·çš„ç¼–è¯‘å™¨ï¼Œä¼šåœ¨è½¬æ¢åçš„ä»£ç ä¸­åˆ é™¤é¢å¤–çš„å°¾éšé€—å·ï¼Œè¿™æ„å‘³ç€ä½ ä¸å¿…æ‹…å¿ƒåœ¨æµè§ˆå™¨ä¸­åé¢çš„ å°¾éšé€—å·é—®é¢˜ ã€‚\n\n1234567891011121314 bad - æ²¡æœ‰å°¾éšé€—å·çš„ git å·®å¼‚const hero = &#123;     firstName: Florence,-    lastName: Nightingale+    lastName: Nightingale,+    inventorOf: [coxcomb chart, modern nursing]&#125;; good - æœ‰å°¾éšé€—å·çš„ git å·®å¼‚const hero = &#123;     firstName: Florence,     lastName: Nightingale,+    inventorOf: [coxcomb chart, modern nursing],&#125;;\n\n1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071 badconst hero = &#123;  firstName: Dana,  lastName: Scully&#125;;const heroes = [  Batman,  Superman]; goodconst hero = &#123;  firstName: Dana,  lastName: Scully,&#125;;const heroes = [  Batman,  Superman,]; badfunction createHero(  firstName,  lastName,  inventorOf) &#123;   does nothing&#125; goodfunction createHero(  firstName,  lastName,  inventorOf,) &#123;   does nothing&#125; good (æ³¨æ„é€—å·ä¸èƒ½å‡ºç°åœ¨ rest å…ƒç´ åè¾¹)function createHero(  firstName,  lastName,  inventorOf,  ...heroArgs) &#123;   does nothing&#125; badcreateHero(  firstName,  lastName,  inventorOf); goodcreateHero(  firstName,  lastName,  inventorOf,); good (æ³¨æ„é€—å·ä¸èƒ½å‡ºç°åœ¨ rest å…ƒç´ åè¾¹)createHero(  firstName,  lastName,  inventorOf,  ...heroArgs);\n\n\n\nâ¬† è¿”å›ç›®å½•\nåˆ†å·  \n\n21.1 å¯¹ eslint: semi\n\nä¸ºä»€ä¹ˆ? å½“ JavaScript é‡è§ä¸€ä¸ªæ²¡æœ‰åˆ†å·çš„æ¢è¡Œç¬¦æ—¶ï¼Œå®ƒä¼šä½¿ç”¨ä¸€ä¸ªå«åš Automatic Semicolon Insertion çš„è§„åˆ™æ¥ç¡®å®šæ˜¯å¦åº”è¯¥ä»¥æ¢è¡Œç¬¦è§†ä¸ºè¯­å¥çš„ç»“æŸï¼Œå¹¶ä¸”å¦‚æœè®¤ä¸ºå¦‚æ­¤ï¼Œä¼šåœ¨ä»£ç ä¸­æ–­å‰æ’å…¥ä¸€ä¸ªåˆ†å·åˆ°ä»£ç ä¸­ã€‚ ä½†æ˜¯ï¼ŒASI åŒ…å«äº†ä¸€äº›å¥‡æ€ªçš„è¡Œä¸ºï¼Œå¦‚æœ JavaScript é”™è¯¯çš„è§£é‡Šäº†ä½ çš„æ¢è¡Œç¬¦ï¼Œä½ çš„ä»£ç å°†ä¼šä¸­æ–­ã€‚ éšç€æ–°ç‰¹æ€§æˆä¸º JavaScript çš„ä¸€éƒ¨åˆ†ï¼Œè¿™äº›è§„åˆ™å°†å˜å¾—æ›´åŠ å¤æ‚ã€‚ æ˜ç¡®åœ°ç»ˆæ­¢ä½ çš„è¯­å¥ï¼Œå¹¶é…ç½®ä½ çš„ linter ä»¥æ•è·ç¼ºå°‘çš„åˆ†å·å°†æœ‰åŠ©äºé˜²æ­¢ä½ é‡åˆ°çš„é—®é¢˜ã€‚\n\n123456789101112131415161718192021222324252627282930313233343536 bad - å¯èƒ½å¼‚å¸¸const luke = &#123;&#125;const leia = &#123;&#125;[luke, leia].forEach(jedi =&gt; jedi.father = vader) bad - å¯èƒ½å¼‚å¸¸const reaction = No! Thats impossible!(async function meanwhileOnTheFalcon() &#123;   handle `leia`, `lando`, `chewie`, `r2`, `c3p0`   ...&#125;()) bad - è¿”å› `undefined` è€Œä¸æ˜¯ä¸‹ä¸€è¡Œçš„å€¼ - å½“ `return` å•ç‹¬ä¸€è¡Œçš„æ—¶å€™ ASI æ€»æ˜¯ä¼šå‘ç”Ÿfunction foo() &#123;  return    search your feelings, you know it to be foo&#125; goodconst luke = &#123;&#125;;const leia = &#123;&#125;;[luke, leia].forEach((jedi) =&gt; &#123;  jedi.father = vader;&#125;); goodconst reaction = No! Thats impossible!;(async function meanwhileOnTheFalcon() &#123;   handle `leia`, `lando`, `chewie`, `r2`, `c3p0`   ...&#125;()); goodfunction foo() &#123;  return search your feelings, you know it to be foo;&#125;\n\næ›´å¤šä¿¡æ¯.\n\n\nâ¬† è¿”å›ç›®å½•\nç±»å‹è½¬æ¢å’Œå¼ºåˆ¶ç±»å‹è½¬æ¢  \n\n22.1 åœ¨è¯­å¥å¼€å§‹å‰è¿›è¡Œç±»å‹è½¬æ¢ã€‚\n\n\n22.2  å­—ç¬¦ç±»å‹ï¼š eslint: no-new-wrappers\n12345678910111213 =&gt; this.reviewScore = 9; badconst totalScore = new String(this.reviewScore);  typeof totalScore is object not string badconst totalScore = this.reviewScore + ;  invokes this.reviewScore.valueOf() badconst totalScore = this.reviewScore.toString();  isnâ€™t guaranteed to return a string goodconst totalScore = String(this.reviewScore);\n\n\n\n22.3 æ•°å­—ç±»å‹ï¼šä½¿ç”¨ Number è¿›è¡Œç±»å‹é“¸é€ å’Œ parseInt æ€»æ˜¯é€šè¿‡ä¸€ä¸ªåŸºæ•°æ¥è§£æä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ eslint: radix no-new-wrappers\n12345678910111213141516171819const inputValue = 4; badconst val = new Number(inputValue); badconst val = +inputValue; badconst val = inputValue &gt;&gt; 0; badconst val = parseInt(inputValue); goodconst val = Number(inputValue); goodconst val = parseInt(inputValue, 10);\n\n\n\n22.4 å¦‚æœå‡ºäºæŸç§åŸå› ï¼Œä½ æ­£åœ¨åšä¸€äº›ç–¯ç‹‚çš„äº‹æƒ…ï¼Œè€Œ parseInt æ˜¯ä½ çš„ç“¶é¢ˆï¼Œå¹¶ä¸”å‡ºäº æ€§èƒ½é—®é¢˜ éœ€è¦ä½¿ç”¨ä½è¿ç®—ï¼Œ è¯·å†™ä¸‹æ³¨é‡Šï¼Œè¯´æ˜ä¸ºä»€ä¹ˆè¿™æ ·åšå’Œä½ åšäº†ä»€ä¹ˆã€‚\n123456 good** * parseInt ä½¿æˆ‘çš„ä»£ç å˜æ…¢ã€‚ * ä½è¿ç®—å°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆæ•°å­—æ›´å¿«ã€‚ *const val = inputValue &gt;&gt; 0;\n\n\n\n22.5 æ³¨æ„ï¼š å½“ä½ ä½¿ç”¨ä½è¿ç®—çš„æ—¶å€™è¦å°å¿ƒã€‚ æ•°å­—æ€»æ˜¯è¢«ä»¥ 64-bit å€¼ çš„å½¢å¼è¡¨ç¤ºï¼Œä½†æ˜¯ä½è¿ç®—æ€»æ˜¯è¿”å›ä¸€ä¸ª 32-bit çš„æ•´æ•° (æ¥æº)ã€‚ å¯¹äºå¤§äº 32 ä½çš„æ•´æ•°å€¼ï¼Œä½è¿ç®—å¯èƒ½ä¼šå¯¼è‡´æ„å¤–è¡Œä¸ºã€‚è®¨è®ºã€‚ æœ€å¤§çš„ 32 ä½æ•´æ•°æ˜¯ï¼š 2,147,483,647ã€‚\n1232147483647 &gt;&gt; 0;  =&gt; 21474836472147483648 &gt;&gt; 0;  =&gt; -21474836482147483649 &gt;&gt; 0;  =&gt; -2147483647\n\n\n\n22.6 å¸ƒå°”ç±»å‹ï¼š eslint: no-new-wrappers\n12345678910const age = 0; badconst hasAge = new Boolean(age); goodconst hasAge = Boolean(age); bestconst hasAge = !!age;\n\n\n\nâ¬† è¿”å›ç›®å½•\nå‘½åè§„èŒƒ  \n\n23.1 é¿å…å•å­—æ¯çš„åå­—ã€‚ç”¨ä½ çš„å‘½åæ¥æè¿°åŠŸèƒ½ã€‚ eslint: id-length\n123456789 badfunction q() &#123;   ...&#125; goodfunction query() &#123;   ...&#125;\n\n\n\n23.2 åœ¨å‘½åå¯¹è±¡ã€å‡½æ•°å’Œå®ä¾‹æ—¶ä½¿ç”¨é©¼å³°å‘½åæ³•ï¼ˆcamelCaseï¼‰ã€‚ eslint: camelcase\n12345678 badconst OBJEcttsssss = &#123;&#125;;const this_is_my_object = &#123;&#125;;function c() &#123;&#125; goodconst thisIsMyObject = &#123;&#125;;function thisIsMyFunction() &#123;&#125;\n\n\n\n23.3 åªæœ‰åœ¨å‘½åæ„é€ å™¨æˆ–è€…ç±»çš„æ—¶å€™æ‰ç”¨å¸•æ–¯å¡æ‹¼å‘½åæ³•ï¼ˆPascalCaseï¼‰ã€‚ eslint: new-cap\n12345678910111213141516171819 badfunction user(options) &#123;  this.name = options.name;&#125;const bad = new user(&#123;  name: nope,&#125;); goodclass User &#123;  constructor(options) &#123;    this.name = options.name;  &#125;&#125;const good = new User(&#123;  name: yup,&#125;);\n\n\n\n23.4 ä¸è¦ä½¿ç”¨å‰ç½®æˆ–è€…åç½®ä¸‹åˆ’çº¿ã€‚ eslint: no-underscore-dangle\n\nä¸ºä»€ä¹ˆ? JavaScript åœ¨å±æ€§å’Œæ–¹æ³•æ–¹é¢æ²¡æœ‰éšç§è®¾ç½®ã€‚ è™½ç„¶å‰ç½®çš„ä¸‹åˆ’çº¿æ˜¯ä¸€ç§å¸¸è§çš„æƒ¯ä¾‹ï¼Œæ„æ€æ˜¯ â€œprivateâ€ ï¼Œäº‹å®ä¸Šï¼Œè¿™äº›å±æ€§æ—¶å…¬å¼€çš„ï¼Œå› æ­¤ï¼Œå®ƒä»¬ä¹Ÿæ˜¯ä½ å…¬å…± API çš„ä¸€éƒ¨åˆ†ã€‚ è¿™ç§çº¦å®šå¯èƒ½å¯¼è‡´å¼€å‘äººå‘˜é”™è¯¯çš„è®¤ä¸ºæ›´æ”¹ä¸ä¼šè¢«è§†ä¸ºä¸­æ–­ï¼Œæˆ–è€…ä¸éœ€è¦æµ‹è¯•ã€‚å»ºè®®ï¼šå¦‚æœä½ æƒ³è¦ä»€ä¹ˆä¸œè¥¿æ˜¯ â€œprivateâ€ ï¼Œ é‚£å°±ä¸€å®šä¸èƒ½æœ‰æ˜æ˜¾çš„è¡¨ç°ã€‚\n\n123456789101112 badthis.__firstName__ = Panda;this.firstName_ = Panda;this._firstName = Panda; goodthis.firstName = Panda; å¥½ï¼Œåœ¨ WeakMapx å¯ç”¨çš„ç¯å¢ƒä¸­ see https:kangax.github.iocompat-tablees6#test-WeakMapconst firstNames = new WeakMap();firstNames.set(this, Panda);\n\n\n\n23.5 ä¸è¦ä¿å­˜ this çš„å¼•ç”¨ã€‚ ä½¿ç”¨ç®­å¤´å‡½æ•°æˆ–è€… å‡½æ•°#bindã€‚\n12345678910111213141516171819202122 badfunction foo() &#123;  const self = this;  return function () &#123;    console.log(self);  &#125;;&#125; badfunction foo() &#123;  const that = this;  return function () &#123;    console.log(that);  &#125;;&#125; goodfunction foo() &#123;  return () =&gt; &#123;    console.log(this);  &#125;;&#125;\n\n\n\n23.6 æ–‡ä»¶ååº”è¯¥å’Œé»˜è®¤å¯¼å‡ºçš„åç§°å®Œå…¨åŒ¹é…ã€‚\n123456789101112131415161718192021222324252627282930 file 1 contentsclass CheckBox &#123;   ...&#125;export default CheckBox; file 2 contentsexport default function fortyTwo() &#123; return 42; &#125; file 3 contentsexport default function insideDirectory() &#123;&#125; in some other file badimport CheckBox from .checkBox;  PascalCase importexport, camelCase filenameimport FortyTwo from .FortyTwo;  PascalCase importfilename, camelCase exportimport InsideDirectory from .InsideDirectory;  PascalCase importfilename, camelCase export badimport CheckBox from .check_box;  PascalCase importexport, snake_case filenameimport forty_two from .forty_two;  snake_case importfilename, camelCase exportimport inside_directory from .inside_directory;  snake_case import, camelCase exportimport index from .inside_directoryindex;  requiring the index file explicitlyimport insideDirectory from .insideDirectoryindex;  requiring the index file explicitly goodimport CheckBox from .CheckBox;  PascalCase exportimportfilenameimport fortyTwo from .fortyTwo;  camelCase exportimportfilenameimport insideDirectory from .insideDirectory;  camelCase exportimportdirectory nameimplicit index ^ supports both insideDirectory.js and insideDirectoryindex.js\n\n\n\n23.7 å½“ä½ å¯¼å‡ºé»˜è®¤å‡½æ•°æ—¶ä½¿ç”¨é©¼å³°å‘½åæ³•ã€‚ ä½ çš„æ–‡ä»¶ååº”è¯¥å’Œæ–¹æ³•åç›¸åŒã€‚\n12345function makeStyleGuide() &#123;   ...&#125;export default makeStyleGuide;\n\n\n\n23.8 å½“ä½ å¯¼å‡ºä¸€ä¸ªæ„é€ å™¨  ç±»  å•ä¾‹  å‡½æ•°åº“  æš´éœ²çš„å¯¹è±¡æ—¶åº”è¯¥ä½¿ç”¨å¸•æ–¯å¡å‘½åæ³•ã€‚\n123456const AirbnbStyleGuide = &#123;  es6: &#123;  &#125;,&#125;;export default AirbnbStyleGuide;\n\n\n\n23.9 ç¼©ç•¥è¯å’Œç¼©å†™éƒ½å¿…é¡»æ˜¯å…¨éƒ¨å¤§å†™æˆ–è€…å…¨éƒ¨å°å†™ã€‚\n\nä¸ºä»€ä¹ˆ? åå­—æ˜¯ä¸ºäº†å¯è¯»æ€§ï¼Œä¸æ˜¯ä¸ºäº†æ»¡è¶³è®¡ç®—æœºç®—æ³•ã€‚\n\n12345678910111213141516171819202122232425262728 badimport SmsContainer from .containersSmsContainer; badconst HttpRequests = [   ...]; goodimport SMSContainer from .containersSMSContainer; goodconst HTTPRequests = [   ...]; also goodconst httpRequests = [   ...]; bestimport TextMessageContainer from .containersTextMessageContainer; bestconst requests = [   ...];\n\n\n\n23.10 ä½ å¯ä»¥å¤§å†™ä¸€ä¸ªå¸¸äº®ï¼Œå¦‚æœå®ƒï¼šï¼ˆ1ï¼‰è¢«å¯¼å‡ºï¼Œï¼ˆ2ï¼‰ä½¿ç”¨ const å®šä¹‰ï¼ˆä¸èƒ½è¢«é‡æ–°åˆ†é…ï¼‰ï¼Œï¼ˆ3ï¼‰ç¨‹åºå‘˜å¯ä»¥ä¿¡ä»»å®ƒï¼ˆä»¥åŠå…¶åµŒå¥—çš„å±æ€§ï¼‰æ˜¯ä¸å˜çš„ã€‚\n\nä¸ºä»€ä¹ˆ? è¿™æ˜¯ä¸€ä¸ªå¯ä»¥å¸®åŠ©ç¨‹åºå‘˜ç¡®å®šå˜é‡æ˜¯å¦ä¼šå‘ç”Ÿå˜åŒ–çš„è¾…åŠ©å·¥å…·ã€‚UPPERCASE_VARIABLES å¯ä»¥è®©ç¨‹åºå‘˜çŸ¥é“ä»–ä»¬å¯ä»¥ç›¸ä¿¡å˜é‡ï¼ˆåŠå…¶å±æ€§ï¼‰ä¸ä¼šæ”¹å˜ã€‚\n\næ˜¯å¦æ˜¯å¯¹æ‰€æœ‰çš„ const å®šä¹‰çš„å˜é‡ï¼Ÿ - è¿™ä¸ªæ˜¯æ²¡å“Ÿå¿…è¦çš„ï¼Œä¸åº”è¯¥åœ¨æ–‡ä»¶ä¸­ä½¿ç”¨å¤§å­¦ã€‚ä½†æ˜¯ï¼Œå®ƒåº”è¯¥ç”¨äºå¯¼å‡ºå¸¸é‡ã€‚\nå¯¼å‡ºå¯¹è±¡å‘¢ï¼Ÿ - åœ¨é¡¶çº§å¯¼å‡ºå±æ€§ (e.g. EXPORTED_OBJECT.key) å¹¶ä¸”ä¿æŒæ‰€æœ‰åµŒå¥—å±æ€§ä¸å˜ã€‚\n\n\n12345678910111213141516171819202122232425262728 badconst PRIVATE_VARIABLE = should not be unnecessarily uppercased within a file; badexport const THING_TO_BE_CHANGED = should obviously not be uppercased; badexport let REASSIGNABLE_VARIABLE = do not use let with uppercase variables; --- å…è®¸ï¼Œä½†æ˜¯ä¸æä¾›è¯­ä¹‰å€¼export const apiKey = SOMEKEY; å¤šæ•°æƒ…å†µä¸‹ï¼Œå¾ˆå¥½export const API_KEY = SOMEKEY; --- bad - ä¸å¿…è¦å¤§å†™ key æ²¡æœ‰å¢åŠ è¯­ä¹‰å€¼export const MAPPING = &#123;  KEY: value&#125;; goodexport const MAPPING = &#123;  key: value&#125;;\n\n\n\nâ¬† è¿”å›ç›®å½•\nå­˜å–å™¨  \n\n24.1 å¯¹äºå±æ€§çš„çš„å­˜å–å‡½æ•°ä¸æ˜¯å¿…é¡»çš„ã€‚\n\n\n24.2 ä¸è¦ä½¿ç”¨ JavaScript çš„ getterssetters æ–¹æ³•ï¼Œå› ä¸ºå®ƒä»¬ä¼šå¯¼è‡´æ„å¤–çš„å‰¯ä½œç”¨ï¼Œå¹¶ä¸”æ›´åŠ éš¾ä»¥æµ‹è¯•ã€ç»´æŠ¤å’Œæ¨æ•²ã€‚ ç›¸åº”çš„ï¼Œå¦‚æœä½ éœ€è¦å­˜å–å‡½æ•°çš„æ—¶å€™ä½¿ç”¨ getVal() å’Œ setVal(&#39;hello&#39;)ã€‚\n123456789101112131415161718192021 badclass Dragon &#123;  get age() &#123;     ...  &#125;  set age(value) &#123;     ...  &#125;&#125; goodclass Dragon &#123;  getAge() &#123;     ...  &#125;  setAge(value) &#123;     ...  &#125;&#125;\n\n\n\n24.3 å¦‚æœå±æ€§æ–¹æ³•æ˜¯ä¸€ä¸ª boolean å€¼ï¼Œä½¿ç”¨ isVal() æˆ–è€… hasVal()ã€‚\n123456789 badif (!dragon.age()) &#123;  return false;&#125; goodif (!dragon.hasAge()) &#123;  return false;&#125;\n\n\n\n24.4 å¯ä»¥åˆ›å»º get() å’Œ set() æ–¹æ³•ï¼Œä½†æ˜¯è¦ä¿è¯ä¸€è‡´æ€§ã€‚\n1234567891011121314class Jedi &#123;  constructor(options = &#123;&#125;) &#123;    const lightsaber = options.lightsaber || blue;    this.set(lightsaber, lightsaber);  &#125;  set(key, val) &#123;    this[key] = val;  &#125;  get(key) &#123;    return this[key];  &#125;&#125;\n\n\n\nâ¬† è¿”å›ç›®å½•\näº‹ä»¶  \n\n25.1 å½“ç»™äº‹ä»¶ï¼ˆæ— è®ºæ˜¯ DOM äº‹ä»¶è¿˜æ˜¯æ›´åŠ ç§æœ‰çš„äº‹ä»¶ï¼‰é™„åŠ æ•°æ®æ—¶ï¼Œä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼ˆé€šç•…ä¹Ÿå«åš â€œhashâ€ ï¼‰ è€Œä¸æ˜¯åŸå§‹å€¼ã€‚ è¿™æ ·å¯ä»¥è®©åè¾¹çš„è´¡çŒ®è€…å‘äº‹ä»¶æ•°æ®æ·»åŠ æ›´å¤šçš„æ•°æ®ï¼Œè€Œä¸ç”¨æ‰¾å‡ºæ›´æ–°äº‹ä»¶çš„æ¯ä¸ªå¤„ç†å™¨ã€‚ ä¾‹å¦‚ï¼Œä¸å¥½çš„å†™æ³•ï¼š\n12345678 bad$(this).trigger(listingUpdated, listing.id); ...$(this).on(listingUpdated, (e, listingID) =&gt; &#123;   do something with listingID&#125;);\n\næ›´å¥½çš„å†™æ³•ï¼š\n12345678 good$(this).trigger(listingUpdated, &#123; listingID: listing.id &#125;); ...$(this).on(listingUpdated, (e, data) =&gt; &#123;   do something with data.listingID&#125;);\n\n\n  â¬† è¿”å›ç›®å½•\njQuery  \n\n26.1 å¯¹äº jQuery å¯¹è±¡çš„å˜é‡ä½¿ç”¨ $ ä½œä¸ºå‰ç¼€ã€‚\n12345678 badconst sidebar = $(.sidebar); goodconst $sidebar = $(.sidebar); goodconst $sidebarBtn = $(.sidebar-btn);\n\n\n\n26.2 ç¼“å­˜ jQuery æŸ¥è¯¢ã€‚\n12345678910111213141516171819202122 badfunction setSidebar() &#123;  $(.sidebar).hide();   ...  $(.sidebar).css(&#123;    background-color: pink,  &#125;);&#125; goodfunction setSidebar() &#123;  const $sidebar = $(.sidebar);  $sidebar.hide();   ...  $sidebar.css(&#123;    background-color: pink,  &#125;);&#125;\n\n\n\n26.3 å¯¹äº DOM æŸ¥è¯¢ä½¿ç”¨å±‚å  $(&#39;.sidebar ul&#39;) æˆ– çˆ¶å…ƒç´  &gt; å­å…ƒç´  $(&#39;.sidebar &gt; ul&#39;) çš„æ ¼å¼ã€‚ jsPerf\n\n\n26.4 å¯¹äºæœ‰ä½œç”¨åŸŸçš„ jQuery å¯¹è±¡æŸ¥è¯¢ä½¿ç”¨ find ã€‚\n1234567891011121314 bad$(ul, .sidebar).hide(); bad$(.sidebar).find(ul).hide(); good$(.sidebar ul).hide(); good$(.sidebar &gt; ul).hide(); good$sidebar.find(ul).hide();\n\n\n\nâ¬† è¿”å›ç›®å½•\nECMAScript 5 å…¼å®¹æ€§  \n\n27.1 å‚è€ƒ Kangaxçš„ ES5 å…¼å®¹æ€§è¡¨æ ¼ã€‚\n\nâ¬† è¿”å›ç›®å½•\n\nECMAScript 6+ (ES 2015+) Styles  \n\n28.1 è¿™æ˜¯ä¸€ä¸ªé“¾æ¥åˆ°å„ç§ ES6+ ç‰¹æ€§çš„é›†åˆã€‚\n\n\nç®­å¤´å‡½æ•°\n\nç±»\n\nå¯¹è±¡ç®€å†™\n\nå¯¹è±¡ç®€æ´\n\nå¯¹è±¡è®¡ç®—å±æ€§\n\nå­—ç¬¦ä¸²æ¨¡æ¿\n\nè§£æ„\n\né»˜è®¤å‚æ•°\n\nRest\n\næ•°ç»„å±•å¼€\n\nLet å’Œ Const\n\næ±‚å¹‚è¿ç®—ç¬¦\n\nè¿­ä»£å™¨å’Œå‘ç”Ÿå™¨\n\næ¨¡å—\n\n\n28.2 ä¸è¦ä½¿ç”¨å°šæœªè¾¾åˆ°ç¬¬3é˜¶æ®µçš„ TC39 å»ºè®®ã€‚\n\nä¸ºä»€ä¹ˆ? å®ƒä»¬æ²¡æœ‰æœ€ç»ˆç¡®å®šï¼Œ å¹¶ä¸”å®ƒä»¬å¯èƒ½ä¼šè¢«æ”¹å˜æˆ–å®Œå…¨æ’¤å›ã€‚æˆ‘ä»¬å¸Œæœ›ä½¿ç”¨JavaScriptï¼Œè€Œå»ºè®®è¿˜ä¸æ˜¯JavaScriptã€‚\n\n\n\n\n\nâ¬† è¿”å›ç›®å½•\næ ‡å‡†åº“  æ ‡å‡†åº“  åŒ…å«åŠŸèƒ½å·²æŸåçš„å®ç”¨å·¥å…·ï¼Œä½†å› ä¸ºé—ç•™åŸå› è€Œä¿ç•™ã€‚\n  \n\n29.1 ä½¿ç”¨ Number.isNaN ä»£æ›¿å…¨å±€çš„ isNaN.eslint: no-restricted-globals\n\nä¸ºä»€ä¹ˆ? å…¨å±€çš„ isNaN å¼ºåˆ¶éæ•°å­—è½¬åŒ–ä¸ºæ•°å­—ï¼Œå¯¹ä»»ä½•å¼ºåˆ¶è½¬åŒ–ä¸º NaN çš„ä¸œè¥¿éƒ½è¿”å› trueã€‚\n\n\nå¦‚æœéœ€è¦è¿™ç§è¡Œä¸ºï¼Œè¯·æ˜ç¡®è¯´æ˜ã€‚\n\n1234567 badisNaN(1.2);  falseisNaN(1.2.3);  true goodNumber.isNaN(1.2.3);  falseNumber.isNaN(Number(1.2.3));  true\n\n\n\n29.2 ä½¿ç”¨ Number.isFinite ä»£æ›¿å…¨å±€çš„ isFinite.eslint: no-restricted-globals\n\nä¸ºä»€ä¹ˆ? å…¨å±€çš„ isFinite å¼ºåˆ¶éæ•°å­—è½¬åŒ–ä¸ºæ•°å­—ï¼Œå¯¹ä»»ä½•å¼ºåˆ¶è½¬åŒ–ä¸ºæœ‰é™æ•°å­—çš„ä¸œè¥¿éƒ½è¿”å› trueã€‚\n\n\nå¦‚æœéœ€è¦è¿™ç§è¡Œä¸ºï¼Œè¯·æ˜ç¡®è¯´æ˜ã€‚\n\n123456 badisFinite(2e3);  true goodNumber.isFinite(2e3);  falseNumber.isFinite(parseInt(2e3, 10));  true\n\n\n\nâ¬† è¿”å›ç›®å½•\nTesting  \n\n30.1 æ˜¯çš„.\n123function foo() &#123;  return true;&#125;\n\n\n\n30.2 æ²¡æœ‰ï¼Œä½†æ˜¯è®¤çœŸ:\n\næ— è®ºä½ ä½¿ç”¨é‚£ç§æµ‹è¯•æ¡†æ¶ï¼Œéƒ½åº”è¯¥ç¼–å†™æµ‹è¯•ï¼\nåŠªåŠ›å†™å‡ºè®¸å¤šå°çš„çº¯å‡½æ•°ï¼Œå¹¶å°½é‡å‡å°‘å‘ç”Ÿé”™è¯¯çš„åœ°æ–¹ã€‚\nå¯¹äºé™æ€æ–¹æ³•å’Œ mock è¦å°å¿ƒâ€”-å®ƒä»¬ä¼šä½¿ä½ çš„æµ‹è¯•æ›´åŠ è„†å¼±ã€‚\næˆ‘ä»¬ä¸»è¦åœ¨ Airbnb ä¸Šä½¿ç”¨ mocha å’Œ jest ã€‚ tape ä¹Ÿä¼šç”¨åœ¨ä¸€äº›å°çš„ç‹¬ç«‹æ¨¡å—ä¸Šã€‚\n100%çš„æµ‹è¯•è¦†ç›–ç‡æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç›®æ ‡ï¼Œå³ä½¿å®ƒå¹¶ä¸æ€»æ˜¯å¯è¡Œçš„ã€‚\næ— è®ºä½•æ—¶ä¿®å¤bugï¼Œéƒ½è¦ç¼–å†™ä¸€ä¸ªå›å½’æµ‹è¯•ã€‚åœ¨æ²¡æœ‰å›å½’æµ‹è¯•çš„æƒ…å†µä¸‹ä¿®å¤çš„bugåœ¨å°†æ¥å‡ ä¹è‚¯å®šä¼šå†æ¬¡å´©æºƒã€‚\n\n\n\nâ¬† è¿”å›ç›®å½•\næ€§èƒ½\nOn Layout &amp; Web Performance\nString vs Array Concat\nTryCatch Cost In a Loop\nBang Function\njQuery Find vs Context, Selector\ninnerHTML vs textContent for script text\nLong String Concatenation\nAre Javascript functions like map(), reduce(), and filter() optimized for traversing arrays?\nLoadingâ€¦\n\nâ¬† è¿”å›ç›®å½•\nèµ„æºå­¦ä¹  ES6+\n\nLatest ECMA spec\nExploringJS\nES6 Compatibility Table\nComprehensive Overview of ES6 Features\n\nè¯»è¿™ä¸ª\n\nStandard ECMA-262\n\nå·¥å…·\n\nCode Style Linters\nESlint - Airbnb Style .eslintrc\nJSHint - Airbnb Style .jshintrc\n\n\nNeutrino preset - neutrino-preset-airbnb-base\n\nå…¶ä»–ç¼–ç è§„èŒƒ\n\nGoogle JavaScript Style Guide\njQuery Core Style Guidelines\nPrinciples of Writing Consistent, Idiomatic JavaScript\nStandardJS\n\nå…¶ä»–é£æ ¼\n\nNaming this in nested functions - Christian Johansen\nConditional Callbacks - Ross Allen\nPopular JavaScript Coding Conventions on GitHub - JeongHoon Byun\nMultiple var statements in JavaScript, not superfluous - Ben Alman\n\nè¿›ä¸€æ­¥é˜…è¯»\n\nUnderstanding JavaScript Closures - Angus Croll\nBasic JavaScript for the impatient programmer - Dr. Axel Rauschmayer\nYou Might Not Need jQuery - Zack Bloom &amp; Adam Schwartz\nES6 Features - Luke Hoban\nFrontend Guidelines - Benjamin De Cock\n\nä¹¦ç±\n\nJavaScript: The Good Parts - Douglas Crockford\nJavaScript Patterns - Stoyan Stefanov\nPro JavaScript Design Patterns  - Ross Harmes and Dustin Diaz\nHigh Performance Web Sites: Essential Knowledge for Front-End Engineers - Steve Souders\nMaintainable JavaScript - Nicholas C. Zakas\nJavaScript Web Applications - Alex MacCaw\nPro JavaScript Techniques - John Resig\nSmashing Node.js: JavaScript Everywhere - Guillermo Rauch\nSecrets of the JavaScript Ninja - John Resig and Bear Bibeault\nHuman JavaScript - Henrik Joreteg\nSuperhero.js - Kim Joar Bekkelund, Mads MobÃ¦k, &amp; Olav Bjorkoy\nJSBooks - Julien Bouquillon\nThird Party JavaScript - Ben Vinegar and Anton Kovalyov\nEffective JavaScript: 68 Specific Ways to Harness the Power of JavaScript - David Herman\nEloquent JavaScript - Marijn Haverbeke\nYou Donâ€™t Know JS: ES6 &amp; Beyond - Kyle Simpson\n\nåšå®¢\n\nJavaScript Weekly\nJavaScript, JavaScriptâ€¦\nBocoup Weblog\nAdequately Good\nNCZOnline\nPerfection Kills\nBen Alman\nDmitry Baranovskiy\nnettuts\n\næ’­å®¢\n\nJavaScript Air\nJavaScript Jabber\n\nâ¬† è¿”å›ç›®å½•\nJavaScripté£æ ¼æŒ‡å—çš„æŒ‡å—\nReference\n\nè®¸å¯è¯(The MIT License)\nCopyright (c) 2012 åº·å…µå¥\nPermission is hereby granted, free of charge, to any person obtaininga copy of this software and associated documentation files (theâ€˜Softwareâ€™), to deal in the Software without restriction, includingwithout limitation the rights to use, copy, modify, merge, publish,distribute, sublicense, andor sell copies of the Software, and topermit persons to whom the Software is furnished to do so, subject tothe following conditions:\nThe above copyright notice and this permission notice shall beincluded in all copies or substantial portions of the Software.\nTHE SOFTWARE IS PROVIDED â€˜AS ISâ€™, WITHOUT WARRANTY OF ANY KIND,EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OFMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANYCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THESOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\nâ¬† è¿”å›ç›®å½•\nä¿®æ­£æ¡ˆæˆ‘ä»¬é¼“åŠ±æ‚¨ä½¿ç”¨æ­¤æŒ‡å—å¹¶æ›´æ”¹è§„åˆ™ä»¥é€‚åº”æ‚¨çš„å›¢é˜Ÿçš„é£æ ¼æŒ‡å—ã€‚ä¸‹é¢ï¼Œä½ å¯ä»¥åˆ—å‡ºä¸€äº›å¯¹é£æ ¼æŒ‡å—çš„ä¿®æ­£ã€‚è¿™å…è®¸æ‚¨å®šæœŸæ›´æ–°æ‚¨çš„æ ·å¼æŒ‡å—ï¼Œè€Œä¸å¿…å¤„ç†åˆå¹¶å†²çªã€‚\n};","tags":["javascript"],"path":"2019/09/08/Airbnb-JavaScript-ä»£ç è§„èŒƒ/","external_link":""},{"title":"éª¨ä¼ å¯¼","date":"2019-09-12T11:49:16.000Z","content":"éª¨ä¼ å¯¼\néª¨ä¼ å¯¼æ˜¯ä¸€ç§å£°éŸ³ä¼ å¯¼æ–¹å¼ï¼Œå³é€šè¿‡å°†å£°éŸ³è½¬åŒ–ä¸ºä¸åŒé¢‘ç‡çš„æœºæ¢°æŒ¯åŠ¨ï¼Œé€šè¿‡äººçš„é¢…éª¨ã€éª¨è¿·è·¯ã€å†…è€³æ·‹å·´æ¶²ä¼ é€’ã€èºæ—‹å™¨ã€å¬ç¥ç»ã€å¬è§‰ä¸­æ¢æ¥ä¼ é€’å£°æ³¢ã€‚ç›¸å¯¹äºé€šè¿‡æŒ¯è†œäº§ç”Ÿå£°æ³¢çš„ç»å…¸å£°éŸ³ä¼ å¯¼æ–¹å¼ï¼Œéª¨ä¼ å¯¼çœå»äº†è®¸å¤šå£°æ³¢ä¼ é€’çš„æ­¥éª¤ï¼Œèƒ½åœ¨å˜ˆæ‚çš„ç¯å¢ƒä¸­å®ç°æ¸…æ™°çš„å£°éŸ³è¿˜åŸï¼Œè€Œä¸”å£°æ³¢ä¹Ÿä¸ä¼šå› ä¸ºåœ¨ç©ºæ°”ä¸­æ‰©æ•£è€Œå½±å“åˆ°ä»–äººã€‚\néª¨ä¼ å¯¼æŠ€æœ¯åˆ†ä¸ºéª¨ä¼ å¯¼æ‰¬å£°å™¨æŠ€æœ¯å’Œéª¨ä¼ å¯¼éº¦å…‹é£æŠ€æœ¯ï¼š\n\néª¨ä¼ å¯¼æ‰¬å£°å™¨æŠ€æœ¯ ç”¨äºå—è¯ï¼Œå—è¯å³å¬å–å£°éŸ³ã€‚æ°”å¯¼æ‰¬å£°å™¨æ˜¯æŠŠç”µä¿¡å·è½¬åŒ–ä¸ºçš„å£°æ³¢ï¼ˆæŒ¯åŠ¨ä¿¡å·ä¼ è‡³å¬ç¥ç»ã€‚è€Œéª¨ä¼ å¯¼æ‰¬å£°å™¨åˆ™æ˜¯ç”µä¿¡å·è½¬åŒ–çš„å£°æ³¢ï¼ˆæŒ¯åŠ¨ä¿¡å·ï¼‰ç›´æ¥é€šè¿‡éª¨å¤´ä¼ è‡³å¬ç¥ç»ã€‚å£°æ³¢ï¼ˆæŒ¯åŠ¨ä¿¡å·ï¼‰çš„ä¼ é€’ä»‹è´¨ä¸åŒã€‚\néª¨ä¼ å¯¼éº¦å…‹é£æŠ€æœ¯ ç”¨äºé€è¯ï¼Œé€è¯å³æ”¶é›†å£°éŸ³ã€‚æ°”å¯¼é€è¯æ˜¯å£°æ³¢é€šè¿‡ç©ºæ°”ä¼ è‡³éº¦å…‹é£ï¼Œè€Œéª¨ä¼ å¯¼é€è¯åˆ™ç›´æ¥é€šè¿‡éª¨å¤´ä¼ é€’ã€‚\n\nåˆ©ç”¨è¿™äº›éª¨ä¼ å¯¼æŠ€æœ¯åˆ¶é€ çš„è€³æœºï¼Œç§°ä¹‹ä¸ºéª¨ä¼ å¯¼è€³æœºï¼Œä¹Ÿè¢«ç§°ä½œéª¨å¯¼è€³æœºã€éª¨æ„Ÿè€³æœºã€éª¨ä¼ è€³æœºå’Œéª¨ä¼ æ„Ÿè€³æœºã€‚\nåŸæ–‡é“¾æ¥\n","tags":["ç™¾ç§‘"],"path":"2019/09/12/éª¨ä¼ å¯¼/","external_link":""},{"title":"nohup:åœ¨linuxåå°è¿è¡Œç¨‹åº","date":"2019-09-12T13:15:04.000Z","content":"\nnohup:åœ¨linuxåå°è¿è¡Œç¨‹åºä»Šå¤©åœ¨å·¥ä½œä¸­ï¼Œlzè¦åœ¨Linuxç³»ç»Ÿä¸Šè¿è¡Œä¸€ä¸ªjavaç¨‹åºï¼Œè¿™ä¸ªç¨‹åºè¦åœ¨ç³»ç»Ÿä¸­æŒç»­è¿è¡Œã€‚éšålzæ— æ„å°†sshçª—å£å…³æ‰äº†ï¼Œå‘ç°javaç¨‹åºåœæ­¢äº†ã€‚åŸæ¥ï¼Œå½“ä½¿ç”¨sshè¿æ¥åˆ°ç³»ç»Ÿè¿è¡Œç¨‹åºçš„æ—¶å€™ï¼Œè¯¥ç¨‹åºå·²ç»å’Œä½ çš„sshè¿æ¥ç»‘å®šäº†ã€‚å¦‚æœä½ å…³é—­è¿æ¥ï¼Œè¯¥ç¨‹åºå°±ä¼šåœæ­¢ã€‚è¿˜æœ‰ä¸€ä¸ªæƒ…æ™¯ï¼šå¦‚æœè¦åœ¨åå°è¿è¡Œå¤šä¸ªjavaç¨‹åºçš„æ—¶å€™ï¼Œå°±éœ€è¦å¯åŠ¨å¤šä¸ªsshçª—å£ï¼Œè¿™æ ·å¾ˆéº»çƒ¦ã€‚æœ‰æ²¡æœ‰æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚\n1.ä½¿ç”¨nohupæ¥æ‰§è¡Œå‘½ä»¤ï¼Œå®ƒä¼šæŠŠå‘½ä»¤è‡ªåŠ¨è°ƒåˆ°linuxåå°è¿è¡Œï¼Œä¸é”å®šå½“å‰sshçª—å£ï¼Œä¹Ÿä¸ä¼šè¢«ctrl + cï¼Œalt + F4ä¹‹ç±»æ‰“æ–­ç¨‹åºçš„åŠ¨è¡Œã€‚\n1nohup java -jar test.jar &amp;\n\næ‰§è¡Œå®Œè¯¥å‘½ä»¤åï¼Œç»ˆç«¯ä¼šæ˜¾ç¤ºå¦‚ä¸‹ä¿¡æ¯ï¼š\n12[1] 27945nohup: å¿½ç•¥è¾“å…¥å¹¶æŠŠè¾“å‡ºè¿½åŠ åˆ°&quot;nohup.out&quot;\n\n[1]ï¼šè¯¥åå°ä»»åŠ¡çš„jobid27945ï¼šæ˜¯è¯¥è¿›ç¨‹çš„pidnohup.outï¼šæ˜¯è¯¥ä»»åŠ¡çš„è¾“å‡ºä½ç½®\n2.è¦æŒ‡å®šé‡å®šå‘çš„æ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š\n1nohup java -jar test.jar &gt; test.log 2&gt;&amp;1 &amp;\n\n3.å¦‚æœä¸€ä¸ªä»»åŠ¡å·²ç»åœ¨å‰å°æ‰§è¡Œï¼Œé‚£å°±ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•æ¥å°†ä»»åŠ¡è°ƒæ•´åˆ°åå°ï¼š\nï¼ˆ1ï¼‰é¦–å…ˆï¼Œåœ¨æ­£åœ¨æ‰§è¡Œä»»åŠ¡çš„ç»ˆç«¯ä½¿ç”¨ctrl+z\n1[1]+  å·²åœæ­¢               java -jar test.jar\n\nï¼ˆ2ï¼‰ä½¿ç”¨bgå‘½ä»¤å°†è¯¥ä»»åŠ¡è°ƒæ•´è‡³åå°ï¼ˆfgä¸ä¹‹ç›¸åï¼Œå°†åå°ä»»åŠ¡è°ƒæ•´è‡³å‰å°ï¼‰\n1bg %1(1æ˜¯jobid)\n\nå¦‚æœä¸çŸ¥é“jobidï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨jobså‘½ä»¤æ¥æŸ¥è¯¢ã€‚\nä½†æ˜¯ä»»åŠ¡çš„è¾“å‡ºè¿˜æ˜¯ä¼šæ‰“å°åˆ°ç»ˆç«¯ä¸Šçš„ï¼ˆå…·ä½“æ€ä¹ˆå°†è¾“å‡ºé‡å®šå‘åˆ°åˆ«çš„åœ°æ–¹ï¼Œlzä¹Ÿä¸é€ ï¼‰ã€‚è€Œä¸”ï¼Œè¿™æ—¶è¯¥ä»»åŠ¡è¿˜æ˜¯ä¸å½“å‰ç»ˆç«¯ç›¸å…³è”çš„ï¼Œå…³é—­ç»ˆç«¯è¿˜æ˜¯ä¼šæ–­æ‰è¯¥ä»»åŠ¡çš„ã€‚ä½¿ç”¨ä¸‹é¢å‘½ä»¤æ¥è§£å†³ï¼š\n1disown -h %1\n\nè¿™æ ·å†ä¹Ÿä¸ç”¨æ‹…å¿ƒå…³æ‰ç»ˆç«¯ä¼šåœæ­¢æ‰ä»»åŠ¡å–½ï¼ï¼ï¼\nPSï¼šå†æ¥è¯´è¯´nohupå§ã€‚nohupçš„æ„æ€æ˜¯no hang upï¼Œå°±æ˜¯è¯´å…³æ‰ç»ˆç«¯æ˜¯ä¸ä¼šæŒ‚æ‰ç¨‹åºçš„ã€‚å¦‚æœå¼€å§‹æ‰§è¡Œå‘½ä»¤æ—¶åªä½¿ç”¨&amp;ï¼š\n1java -jar test.jar &amp;\n\né‚£ä¹ˆè¯¥ä»»åŠ¡ä¹Ÿä¼šåœ¨åå°æ‰§è¡Œï¼Œä½†æ˜¯ä¸€æ—¦å…³æ‰ç»ˆç«¯è¯¥ä»»åŠ¡è¿˜æ˜¯ä¼šæŒ‚æ‰ï¼Œæ‰€ä»¥è¿™å°±æ˜¯nohupçš„ç”¨å¤„äº†ã€‚\nåŸæ–‡é“¾æ¥\n","tags":["linux","nohup"],"path":"2019/09/12/nohup-åœ¨linuxåå°è¿è¡Œç¨‹åº/","external_link":""},{"title":"TensorFlow 2.0 RC is available","date":"2019-09-12T13:41:44.000Z","content":"\nTensorFlow 2.0 RCå·¥å…·æ¢ç´¢å¯æ”¯æŒå’ŒåŠ é€Ÿ TensorFlow å·¥ä½œæµç¨‹çš„å·¥å…·ã€‚\n\nCoLabColaboratory æ˜¯ä¸€ä¸ªå…è´¹çš„ Jupyter ç¬”è®°æœ¬ç¯å¢ƒï¼Œä¸éœ€è¦è¿›è¡Œä»»ä½•è®¾ç½®å°±å¯ä»¥ä½¿ç”¨ï¼Œå¹¶ä¸”å®Œå…¨åœ¨äº‘ç«¯è¿è¡Œã€‚å€ŸåŠ© Colaboratoryï¼Œæ‚¨åªéœ€ç‚¹å‡»ä¸€ä¸‹é¼ æ ‡ï¼Œå³å¯åœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œ TensorFlow ä»£ç ã€‚\nTensorBoardä¸€å¥—å¯è§†åŒ–å·¥å…·ï¼Œç”¨äºç†è§£ã€è°ƒè¯•å’Œä¼˜åŒ–TensorFlowç¨‹åºã€‚\nWhat-Ifå·¥å…·ä¸€ç§æ— ä»£ç çš„æ–¹å¼æ¢ç©¶æœºå™¨å­¦ä¹ æ¨¡å‹çš„å·¥å…·ï¼Œå¯¹æ¨¡å‹çš„ç†è§£ã€è°ƒè¯•å’Œå…¬å¹³æ€§å¾ˆæœ‰ç”¨ã€‚å¯åœ¨TensorFlowå’ŒJupyteræˆ–CoLabç¬”è®°æœ¬ä¸­ä½¿ç”¨ã€‚\nML Perfå…¨é¢çš„æœºå™¨å­¦ä¹ åŸºå‡†æµ‹è¯•å¥—ä»¶ï¼Œç”¨äºè¡¡é‡æœºå™¨å­¦ä¹ è½¯ä»¶æ¡†æ¶ã€æœºå™¨å­¦ä¹ ç¡¬ä»¶åŠ é€Ÿå™¨å’Œæœºå™¨å­¦ä¹ äº‘ç«¯å¹³å°çš„æ€§èƒ½ã€‚\nXLAXLA(åŠ é€Ÿçº¿æ€§ä»£æ•°)æ˜¯ä¸€ç§ç‰¹å®šé¢†åŸŸçš„çº¿æ€§ä»£æ•°ç¼–è¯‘å™¨ï¼Œèƒ½å¤Ÿä¼˜åŒ–TensorFlowè®¡ç®—ï¼Œå®ƒå¯ä»¥æé«˜æœåŠ¡å™¨å’Œç§»åŠ¨å¹³å°çš„è¿è¡Œé€Ÿåº¦æ”¹è¿›å†…å­˜ä½¿ç”¨æƒ…å†µå’Œå¯ç§»æ¤æ€§ã€‚\nTensorFlow Playgroundåœ¨æµè§ˆå™¨ä¸­è®¾è®¡ç¥ç»ç½‘ç»œã€‚åˆ«æ‹…å¿ƒï¼Œä¸ä¼šä½¿æµè§ˆå™¨å´©æºƒã€‚\nTensorFlow Research CloudåŠ å…¥TensorFlow Research Cloudï¼ˆTFRCï¼‰è®¡åˆ’åï¼Œç ”ç©¶äººå‘˜å¯äºç”³è¯·è®¿é—®Cloud TPUæ¥åŠ å¿«å®ç°ä¸‹ä¸€æ³¢ç ”ç©¶çªç ´ï¼›æˆ‘ä»¬å…è´¹æä¾›1000ä¸ªCloud TPU.\n","tags":["TensorFlow","æœºå™¨å­¦ä¹ "],"path":"2019/09/12/TensorFlow-2-0-RC-is-available/","external_link":""},{"title":"Javaé¢è¯•é¢˜","date":"2019-09-13T07:57:44.000Z","content":"åŸºç¡€ä¸æ¡†æ¶Stringç±»èƒ½è¢«ç»§æ‰¿å—ï¼Œä¸ºä»€ä¹ˆ?\nä¸å¯ä»¥ï¼Œå› ä¸ºStringç±»æœ‰finalä¿®é¥°ç¬¦ï¼Œè€Œfinalä¿®é¥°çš„ç±»æ˜¯ä¸èƒ½è¢«ç»§æ‰¿çš„ï¼Œå®ç°ç»†èŠ‚ä¸å…è®¸æ”¹å˜ã€‚\n\n1public final class String implements java.io.Serializable, Comparable&lt;String&gt;, CharSequence\n\næ ¹æ®ç¨‹åºä¸Šä¸‹æ–‡ç¯å¢ƒï¼ŒJavaå…³é”®å­—finalæœ‰â€œè¿™æ˜¯æ— æ³•æ”¹å˜çš„â€æˆ–è€…â€œç»ˆæ€çš„â€å«ä¹‰ï¼Œå®ƒå¯ä»¥ä¿®é¥°éæŠ½è±¡ç±»ã€éæŠ½è±¡ç±»æˆå‘˜æ–¹æ³•å’Œå˜é‡ã€‚ä½ å¯èƒ½å‡ºäºä¸¤ç§ç†è§£è€Œéœ€è¦é˜»æ­¢æ”¹å˜ï¼šè®¾è®¡æˆ–æ•ˆç‡ã€‚ã€€ã€€finalç±»ä¸èƒ½è¢«ç»§æ‰¿ï¼Œæ²¡æœ‰å­ç±»ï¼Œfinalç±»ä¸­çš„æ–¹æ³•é»˜è®¤æ˜¯finalçš„ã€‚ã€€ã€€finalæ–¹æ³•ä¸èƒ½è¢«å­ç±»çš„æ–¹æ³•è¦†ç›–ï¼Œä½†å¯ä»¥è¢«ç»§æ‰¿ã€‚ã€€ã€€finalæˆå‘˜å˜é‡è¡¨ç¤ºå¸¸é‡ï¼Œåªèƒ½è¢«èµ‹å€¼ä¸€æ¬¡ï¼Œèµ‹å€¼åå€¼ä¸å†æ”¹å˜ã€‚ã€€ã€€finalä¸èƒ½ç”¨äºä¿®é¥°æ„é€ æ–¹æ³•ã€‚ã€€ã€€æ³¨æ„ï¼šçˆ¶ç±»çš„privateæˆå‘˜æ–¹æ³•æ˜¯ä¸èƒ½è¢«å­ç±»æ–¹æ³•è¦†ç›–çš„ï¼Œå› æ­¤privateç±»å‹çš„æ–¹æ³•é»˜è®¤æ˜¯finalç±»å‹çš„ã€‚\nå¦‚æœä¸€ä¸ªç±»ä¸å…è®¸å…¶å­ç±»è¦†ç›–æŸä¸ªæ–¹æ³•ï¼Œåˆ™å¯ä»¥æŠŠè¿™ä¸ªæ–¹æ³•å£°æ˜ä¸ºfinalæ–¹æ³•ã€‚ã€€ã€€ä½¿ç”¨finalæ–¹æ³•çš„åŸå› æœ‰äºŒï¼šã€€ã€€ç¬¬ä¸€ã€æŠŠæ–¹æ³•é”å®šï¼Œé˜²æ­¢ä»»ä½•ç»§æ‰¿ç±»ä¿®æ”¹å®ƒçš„æ„ä¹‰å’Œå®ç°ã€‚ã€€ã€€ç¬¬äºŒã€é«˜æ•ˆã€‚ç¼–è¯‘å™¨åœ¨é‡åˆ°è°ƒç”¨finalæ–¹æ³•æ—¶å€™ä¼šè½¬å…¥å†…åµŒæœºåˆ¶ï¼Œå¤§å¤§æé«˜æ‰§è¡Œæ•ˆç‡ã€‚ï¼ˆè¿™ç‚¹æœ‰å¾…å•†æ¦·ï¼Œã€ŠJavaç¼–ç¨‹æ€æƒ³ã€‹ä¸­å¯¹äºè¿™ç‚¹å­˜ç–‘ï¼‰\n\nä¸‹é¢è¿™æ®µè¯æ‘˜è‡ªã€ŠJavaç¼–ç¨‹æ€æƒ³ã€‹ç¬¬å››ç‰ˆç¬¬143é¡µï¼šâ€œä½¿ç”¨finalæ–¹æ³•çš„åŸå› æœ‰ä¸¤ä¸ªã€‚ç¬¬ä¸€ä¸ªåŸå› æ˜¯æŠŠæ–¹æ³•é”å®šï¼Œä»¥é˜²ä»»ä½•ç»§æ‰¿ç±»ä¿®æ”¹å®ƒçš„å«ä¹‰ï¼›ç¬¬äºŒä¸ªåŸå› æ˜¯æ•ˆç‡ã€‚åœ¨æ—©æœŸçš„Javaå®ç°ç‰ˆæœ¬ä¸­ï¼Œä¼šå°†finalæ–¹æ³•è½¬ä¸ºå†…åµŒè°ƒç”¨ã€‚ä½†æ˜¯å¦‚æœæ–¹æ³•è¿‡äºåºå¤§ï¼Œå¯èƒ½çœ‹ä¸åˆ°å†…åµŒè°ƒç”¨å¸¦æ¥çš„ä»»ä½•æ€§èƒ½æå‡ã€‚åœ¨æœ€è¿‘çš„Javaç‰ˆæœ¬ä¸­ï¼Œä¸éœ€è¦ä½¿ç”¨finalæ–¹æ³•è¿›è¡Œè¿™äº›ä¼˜åŒ–äº†ã€‚â€\n\nå…³äºStringç±»ï¼Œè¦äº†è§£å¸¸é‡æ± çš„æ¦‚å¿µ\n1String s = new String(â€œxyzâ€);  åˆ›å»ºäº†å‡ ä¸ªå¯¹è±¡\n\nç­”æ¡ˆï¼š 1ä¸ªæˆ–2ä¸ªï¼Œ å¦‚æœâ€xyzâ€å·²ç»å­˜åœ¨äºå¸¸é‡æ± ä¸­ï¼Œåˆ™åªåœ¨å †ä¸­åˆ›å»ºâ€xyzâ€å¯¹è±¡çš„ä¸€ä¸ªæ‹·è´ï¼Œå¦åˆ™è¿˜è¦åœ¨å¸¸é‡æ± ä¸­åœ¨åˆ›å»ºä¸€ä»½\n1String s = a+b+c+d; åˆ›å»ºäº†å‡ ä¸ªå¯¹è±¡\n\nç­”æ¡ˆï¼š è¿™ä¸ªå’ŒJVMå®ç°æœ‰å…³ï¼Œ å¦‚æœå¸¸é‡æ± ä¸ºç©ºï¼Œå¯èƒ½æ˜¯1ä¸ªä¹Ÿå¯èƒ½æ˜¯7ä¸ªç­‰\nStringï¼ŒStringbufferï¼ŒStringBuilderçš„åŒºåˆ«ï¼Ÿ1ã€ç”¨æ¥å¤„ç†å­—ç¬¦ä¸²å¸¸ç”¨çš„ç±»æœ‰3ç§ï¼šStringã€StringBufferå’ŒStringBuilder2ã€ä¸‰è€…ä¹‹é—´çš„åŒºåˆ«ï¼šéƒ½æ˜¯finalç±»ï¼Œéƒ½ä¸å…è®¸è¢«ç»§æ‰¿ï¼›Stringç±»é•¿åº¦æ˜¯ä¸å¯å˜çš„ï¼ŒStringBufferå’ŒStringBuilderç±»é•¿åº¦æ˜¯å¯ä»¥æ”¹å˜çš„ï¼›StringBufferç±»æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ŒStringBuilderä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼›\nString å’Œ StringBufferï¼š1ã€Stringç±»å‹å’ŒStringBufferç±»å‹çš„ä¸»è¦æ€§èƒ½åŒºåˆ«ï¼šStringæ˜¯ä¸å¯å˜çš„å¯¹è±¡ï¼Œå› æ­¤æ¯æ¬¡åœ¨å¯¹Stringç±»è¿›è¡Œæ”¹å˜çš„æ—¶å€™éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„stringå¯¹è±¡ï¼Œç„¶åå°†æŒ‡é’ˆæŒ‡å‘æ–°çš„stringå¯¹è±¡ï¼Œæ‰€ä»¥ç»å¸¸è¦æ”¹å˜å­—ç¬¦ä¸²é•¿åº¦çš„è¯ä¸è¦ä½¿ç”¨stringï¼Œå› ä¸ºæ¯æ¬¡ç”Ÿæˆå¯¹è±¡éƒ½ä¼šå¯¹ç³»ç»Ÿæ€§èƒ½äº§ç”Ÿå½±å“ï¼Œç‰¹åˆ«æ˜¯å½“å†…å­˜ä¸­å¼•ç”¨çš„å¯¹è±¡å¤šäº†ä»¥åï¼ŒJVMçš„GCå°±ä¼šå¼€å§‹å·¥ä½œï¼Œæ€§èƒ½å°±ä¼šé™ä½ï¼›\n2ã€ä½¿ç”¨StringBufferç±»æ—¶ï¼Œæ¯æ¬¡éƒ½ä¼šå¯¹StringBufferå¯¹è±¡æœ¬èº«è¿›è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–°çš„å¯¹è±¡å¹¶æ”¹å˜å¯¹è±¡å¼•ç”¨ï¼Œæ‰€ä»¥å¤šæ•°æƒ…å†µä¸‹æ¨èä½¿ç”¨StringBufferï¼Œç‰¹åˆ«æ˜¯å­—ç¬¦ä¸²å¯¹è±¡ç»å¸¸è¦æ”¹å˜çš„æƒ…å†µï¼›\n3ã€åœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒStringå¯¹è±¡çš„å­—ç¬¦ä¸²æ‹¼æ¥å…¶å®æ˜¯è¢«Java Compilerç¼–è¯‘æˆäº†StringBufferå¯¹è±¡çš„æ‹¼æ¥ï¼Œæ‰€ä»¥è¿™äº›æ—¶å€™Stringå¯¹è±¡çš„é€Ÿåº¦å¹¶ä¸ä¼šæ¯”StringBufferå¯¹è±¡æ…¢ï¼Œä¾‹å¦‚ï¼š\n12String s1 = â€œThis is only aâ€ + â€œ simpleâ€ + â€œ testâ€;StringBuffer Sb = new StringBuilder(â€œThis is only aâ€).append(â€œ simpleâ€).append(â€œ testâ€);\n\nç”Ÿæˆ String s1å¯¹è±¡çš„é€Ÿåº¦å¹¶ä¸æ¯” StringBufferæ…¢ã€‚å…¶å®åœ¨Java Compileré‡Œï¼Œè‡ªåŠ¨åšäº†å¦‚ä¸‹è½¬æ¢ï¼š\n12345Java Compilerç›´æ¥æŠŠä¸Šè¿°ç¬¬ä¸€æ¡è¯­å¥ç¼–è¯‘ä¸ºï¼šString s2 = â€œThis is only aâ€;String s3 = â€œ simpleâ€;String s4 = â€œ testâ€;String s1 = s2 + s3 + s4;\n\nä¼ é€é—¨\nArrayListå’ŒLinkedListæœ‰ä»€ä¹ˆåŒºåˆ«ArrayListæ˜¯å®ç°äº†åŸºäºåŠ¨æ€æ•°ç»„çš„ç»“æ„ï¼ŒLinkedListåˆ™æ˜¯åŸºäºå®ç°é“¾è¡¨çš„æ•°æ®ç»“æ„ã€‚\næ•°æ®çš„æ›´æ–°å’ŒæŸ¥æ‰¾ArrayListçš„æ‰€æœ‰æ•°æ®æ˜¯åœ¨åŒä¸€ä¸ªåœ°å€ä¸Š,è€ŒLinkedListçš„æ¯ä¸ªæ•°æ®éƒ½æ‹¥æœ‰è‡ªå·±çš„åœ°å€.æ‰€ä»¥åœ¨å¯¹æ•°æ®è¿›è¡ŒæŸ¥æ‰¾çš„æ—¶å€™ï¼Œç”±äºLinkedListçš„æ¯ä¸ªæ•°æ®åœ°å€ä¸ä¸€æ ·ï¼Œgetæ•°æ®çš„æ—¶å€™ArrayListçš„é€Ÿåº¦ä¼šä¼˜äºLinkedListï¼Œè€Œæ›´æ–°æ•°æ®çš„æ—¶å€™ï¼Œè™½ç„¶éƒ½æ˜¯é€šè¿‡å¾ªç¯å¾ªç¯åˆ°æŒ‡å®šèŠ‚ç‚¹ä¿®æ”¹æ•°æ®ï¼Œä½†LinkedListçš„æŸ¥è¯¢é€Ÿåº¦å·²ç»æ˜¯æ…¢çš„ï¼Œè€Œä¸”å¯¹äºLinkedListè€Œè¨€ï¼Œæ›´æ–°æ•°æ®æ—¶ä¸åƒArrayListåªéœ€è¦æ‰¾åˆ°å¯¹åº”ä¸‹æ ‡æ›´æ–°å°±å¥½ï¼ŒLinkedListéœ€è¦ä¿®æ”¹æŒ‡é’ˆï¼Œé€Ÿç‡ä¸è¨€è€Œå–»\næ•°æ®çš„å¢åŠ å’Œåˆ é™¤å¯¹äºæ•°æ®çš„å¢åŠ å…ƒç´ ï¼ŒArrayListæ˜¯é€šè¿‡ç§»åŠ¨è¯¥å…ƒç´ ä¹‹åçš„å…ƒç´ ä½ç½®ï¼Œå…¶åå…ƒç´ ä½ç½®å…¨éƒ¨+1ï¼Œæ‰€ä»¥è€—æ—¶è¾ƒé•¿ï¼Œè€ŒLinkedListåªéœ€è¦å°†è¯¥å…ƒç´ å‰çš„åç»­æŒ‡é’ˆæŒ‡å‘è¯¥å…ƒç´ å¹¶å°†è¯¥å…ƒç´ çš„åç»­æŒ‡é’ˆæŒ‡å‘ä¹‹åçš„å…ƒç´ å³å¯ã€‚ä¸å¢åŠ ç›¸åŒï¼Œåˆ é™¤å…ƒç´ æ—¶ArrayListéœ€è¦å°†è¢«åˆ é™¤å…ƒç´ ä¹‹åçš„å…ƒç´ ä½ç½®-1ï¼Œè€ŒLinkedListåªéœ€è¦å°†ä¹‹åçš„å…ƒç´ å‰ç½®æŒ‡é’ˆæŒ‡å‘å‰ä¸€å…ƒç´ ï¼Œå‰ä¸€å…ƒç´ çš„æŒ‡é’ˆæŒ‡å‘åä¸€å…ƒç´ å³å¯ã€‚å½“ç„¶ï¼Œäº‹å®ä¸Šï¼Œè‹¥æ˜¯å•ä¸€å…ƒç´ çš„å¢åˆ ï¼Œå°¤å…¶æ˜¯åœ¨Listæœ«ç«¯å¢åˆ ä¸€ä¸ªå…ƒç´ ï¼ŒäºŒè€…æ•ˆç‡ä¸ç›¸ä¸Šä¸‹ã€‚\nä¼ é€é—¨\nç±»çš„å®ä¾‹åŒ–é¡ºåºï¼Œæ¯”å¦‚çˆ¶ç±»é™æ€æ•°æ®ï¼Œæ„é€ å‡½æ•°ï¼Œå­—æ®µï¼Œå­ç±»é™æ€æ•°æ®ï¼Œæ„é€ å‡½æ•°ï¼Œå­—æ®µï¼Œä»–ä»¬çš„æ‰§è¡Œé¡ºåº\næ­¤é¢˜è€ƒå¯Ÿçš„æ˜¯ç±»åŠ è½½å™¨å®ä¾‹åŒ–æ—¶è¿›è¡Œçš„æ“ä½œæ­¥éª¤ï¼ˆåŠ è½½â€“&gt;è¿æ¥-&gt;åˆå§‹åŒ–ï¼‰ã€‚çˆ¶ç±»é™æ€å˜é‡ã€çˆ¶ç±»é™æ€ä»£ç å—ã€å­ç±»é™æ€å˜é‡ã€å­ç±»é™æ€ä»£ç å—ã€çˆ¶ç±»éé™æ€å˜é‡ï¼ˆçˆ¶ç±»å®ä¾‹æˆå‘˜å˜é‡ï¼‰ã€çˆ¶ç±»æ„é€ å‡½æ•°ã€å­ç±»éé™æ€å˜é‡ï¼ˆå­ç±»å®ä¾‹æˆå‘˜å˜é‡ï¼‰ã€å­ç±»æ„é€ å‡½æ•°ã€‚ \n\nä¼ é€é—¨\nç”¨è¿‡å“ªäº›Mapï¼Œéƒ½æœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŒHashMapæ˜¯çº¿ç¨‹å®‰å…¨çš„å—,å¹¶å‘ä¸‹ä½¿ç”¨çš„Mapæ˜¯ä»€ä¹ˆï¼Œä»–ä»¬å†…éƒ¨åŸç†åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œæ¯”å¦‚hashcodeï¼Œæ‰©å®¹ç­‰\nHashtable,HashMap,ConcurrentHashMap\n\nçº¿ç¨‹ä¸å®‰å…¨çš„HashMapå› ä¸ºå¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œä½¿ç”¨Hashmapè¿›è¡Œputæ“ä½œä¼šå¼•èµ·æ­»å¾ªç¯ï¼Œå¯¼è‡´CPUåˆ©ç”¨ç‡æ¥è¿‘100%ï¼Œæ‰€ä»¥åœ¨å¹¶å‘æƒ…å†µä¸‹ä¸èƒ½ä½¿ç”¨HashMapã€‚\nHashMapHashMapå†…éƒ¨å®ç°æ˜¯ä¸€ä¸ªæ¡¶æ•°ç»„ï¼Œæ¯ä¸ªæ¡¶ä¸­å­˜æ”¾ç€ä¸€ä¸ªå•é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚å…¶ä¸­æ¯ä¸ªç»“ç‚¹å­˜å‚¨çš„æ˜¯ä¸€ä¸ªé”®å€¼å¯¹æ•´ä½“ï¼ˆEntryï¼‰ï¼ŒHashMapé‡‡ç”¨æ‹‰é“¾æ³•è§£å†³å“ˆå¸Œå†²çª\nä¼ é€é—¨\næ•ˆç‡ä½ä¸‹çš„HashTableå®¹å™¨     HashTableå®¹å™¨ä½¿ç”¨synchronizedæ¥ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œä½†åœ¨çº¿ç¨‹ç«äº‰æ¿€çƒˆçš„æƒ…å†µä¸‹HashTableçš„æ•ˆç‡éå¸¸ä½ä¸‹ã€‚å› ä¸ºå½“ä¸€ä¸ªçº¿ç¨‹è®¿é—®HashTableçš„åŒæ­¥æ–¹æ³•æ—¶ï¼Œå…¶ä»–çº¿ç¨‹è®¿é—®HashTableçš„åŒæ­¥æ–¹æ³•æ—¶ï¼Œå¯èƒ½ä¼šè¿›å…¥é˜»å¡æˆ–è½®è¯¢çŠ¶æ€ã€‚å¦‚çº¿ç¨‹1ä½¿ç”¨putè¿›è¡Œæ·»åŠ å…ƒç´ ï¼Œçº¿ç¨‹2ä¸ä½†ä¸èƒ½ä½¿ç”¨putæ–¹æ³•æ·»åŠ å…ƒç´ ï¼Œå¹¶ä¸”ä¹Ÿä¸èƒ½ä½¿ç”¨getæ–¹æ³•æ¥è·å–å…ƒç´ ï¼Œæ‰€ä»¥ç«äº‰è¶Šæ¿€çƒˆæ•ˆç‡è¶Šä½ã€‚\nConcurrentHashMapçš„é”åˆ†æ®µæŠ€æœ¯     HashTableå®¹å™¨åœ¨ç«äº‰æ¿€çƒˆçš„å¹¶å‘ç¯å¢ƒä¸‹è¡¨ç°å‡ºæ•ˆç‡ä½ä¸‹çš„åŸå› ï¼Œæ˜¯å› ä¸ºæ‰€æœ‰è®¿é—®HashTableçš„çº¿ç¨‹éƒ½å¿…é¡»ç«äº‰åŒä¸€æŠŠé”ï¼Œé‚£å‡å¦‚å®¹å™¨é‡Œæœ‰å¤šæŠŠé”ï¼Œæ¯ä¸€æŠŠé”ç”¨äºé”å®¹å™¨å…¶ä¸­ä¸€éƒ¨åˆ†æ•°æ®ï¼Œé‚£ä¹ˆå½“å¤šçº¿ç¨‹è®¿é—®å®¹å™¨é‡Œä¸åŒæ•°æ®æ®µçš„æ•°æ®æ—¶ï¼Œçº¿ç¨‹é—´å°±ä¸ä¼šå­˜åœ¨é”ç«äº‰ï¼Œä»è€Œå¯ä»¥æœ‰æ•ˆçš„æé«˜å¹¶å‘è®¿é—®æ•ˆç‡ï¼Œè¿™å°±æ˜¯ConcurrentHashMapæ‰€ä½¿ç”¨çš„é”åˆ†æ®µæŠ€æœ¯ï¼Œé¦–å…ˆå°†æ•°æ®åˆ†æˆä¸€æ®µä¸€æ®µçš„å­˜å‚¨ï¼Œç„¶åç»™æ¯ä¸€æ®µæ•°æ®é…ä¸€æŠŠé”ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹å ç”¨é”è®¿é—®å…¶ä¸­ä¸€ä¸ªæ®µæ•°æ®çš„æ—¶å€™ï¼Œå…¶ä»–æ®µçš„æ•°æ®ä¹Ÿèƒ½è¢«å…¶ä»–çº¿ç¨‹è®¿é—®ã€‚\nä¼ é€é—¨\n\nhashcode() æ–¹æ³•ï¼Œåœ¨objectç±»ä¸­å®šä¹‰å¦‚ä¸‹ï¼š\n\n1public native int hashCode();\n\nnativeè¯´æ˜æ˜¯ä¸€ä¸ªæœ¬åœ°æ–¹æ³•ï¼Œå®ƒçš„å®ç°æ˜¯æ ¹æ®æœ¬åœ°æœºå™¨ç›¸å…³çš„ã€‚å½“ç„¶æˆ‘ä»¬å¯ä»¥åœ¨è‡ªå·±å†™çš„ç±»ä¸­è¦†ç›–hashcode()æ–¹æ³•ï¼Œæ¯”å¦‚Stringã€Integerã€Doubleã€‚ã€‚ã€‚ã€‚ç­‰ç­‰è¿™äº›ç±»éƒ½æ˜¯è¦†ç›–äº†hashcode()æ–¹æ³•çš„ä¾‹å¦‚Stringç±»ä¸­:å°±æ˜¯ä»¥31ä¸ºæƒï¼Œæ¯ä¸€ä½ä¸ºå­—ç¬¦çš„ASCIIå€¼è¿›è¡Œè¿ç®—ï¼Œç”¨è‡ªç„¶æº¢å‡ºæ¥ç­‰æ•ˆå–æ¨¡ã€‚(ä¸ºä»€ä¹ˆå–31?ä¸»è¦æ˜¯å› ä¸º31æ˜¯ä¸€ä¸ªå¥‡è´¨æ•°ï¼Œæ‰€ä»¥31i=32i-i=(i&lt;&lt;5)-iï¼Œè¿™ç§ä½ç§»ä¸å‡æ³•ç»“åˆçš„è®¡ç®—ç›¸æ¯”ä¸€èˆ¬çš„è¿ç®—å¿«å¾ˆå¤š).\n123456789101112public int hashCode() &#123;    int h = hash;    if (h == 0 &amp;&amp; value.length &gt; 0) &#123;        char val[] = value;        for (int i = 0; i &lt; value.length; i++) &#123;            h = 31 * h + val[i];        &#125;        hash = h;    &#125;    return h;&#125;\n\nHashMapä¸ºä»€ä¹ˆgetå’Œseté‚£ä¹ˆå¿«ï¼ŒconcurrentHashMapä¸ºä»€ä¹ˆèƒ½æé«˜å¹¶å‘\nHashMap åº•å±‚æ˜¯åŸºäº æ•°ç»„ + é“¾è¡¨ ç»„æˆçš„\n\nä¼ é€é—¨\næŠ½è±¡ç±»å’Œæ¥å£çš„åŒºåˆ«ï¼Œç±»å¯ä»¥ç»§æ‰¿å¤šä¸ªç±»ä¹ˆï¼Œæ¥å£å¯ä»¥ç»§æ‰¿å¤šä¸ªæ¥å£ä¹ˆ,ç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ä¹ˆ\nå®ç° æŠ½è±¡ç±»ä½¿ç”¨extendså…³é”®å­—æ¥ç»§æ‰¿æŠ½è±¡ç±»ã€‚å¦‚æœå­ç±»ä¸æ˜¯æŠ½è±¡ç±»çš„è¯ï¼Œå®ƒéœ€è¦æä¾›æŠ½è±¡ç±»ä¸­æ‰€æœ‰å£°æ˜çš„æ–¹æ³•çš„å®ç°ã€‚å­ç±»ä½¿ç”¨å…³é”®å­—implementsæ¥å®ç°æ¥å£ã€‚å®ƒéœ€è¦æä¾›æ¥å£ä¸­æ‰€æœ‰å£°æ˜çš„æ–¹æ³•çš„å®ç°ã€‚æŠ½è±¡ç±»å’Œæ¥å£çš„åŒºåˆ«\n\n\nç”±äºJavaä¸æ”¯æŒå¤šç»§æ‰¿ï¼Œå­ç±»ä¸èƒ½å¤Ÿç»§æ‰¿å¤šä¸ªç±»ï¼Œä½†å¯ä»¥å®ç°å¤šä¸ªæ¥å£ã€‚å› æ­¤ä½ å°±å¯ä»¥ä½¿ç”¨æ¥å£æ¥è§£å†³å®ƒã€‚\n\n\næ¥å£å¯ä»¥ç»§æ‰¿å¤šä¸ªæ¥å£ã€‚javaç±»æ˜¯å•ç»§æ‰¿çš„ã€‚classB Extends classAjavaæ¥å£å¯ä»¥å¤šç»§æ‰¿ã€‚Interface3 Extends Interface0, Interface1, interfaceâ€¦â€¦ä¸å…è®¸ç±»å¤šé‡ç»§æ‰¿çš„ä¸»è¦åŸå› æ˜¯ï¼Œå¦‚æœAåŒæ—¶ç»§æ‰¿Bå’ŒCï¼Œè€ŒBå’ŒCåŒæ—¶æœ‰ä¸€ä¸ªDæ–¹æ³•ï¼ŒAå¦‚ä½•å†³å®šè¯¥ç»§æ‰¿é‚£ä¸€ä¸ªå‘¢ï¼Ÿä½†æ¥å£ä¸å­˜åœ¨è¿™æ ·çš„é—®é¢˜ï¼Œæ¥å£å…¨éƒ½æ˜¯æŠ½è±¡æ–¹æ³•ç»§æ‰¿è°éƒ½æ— æ‰€è°“ï¼Œæ‰€ä»¥æ¥å£å¯ä»¥ç»§æ‰¿å¤šä¸ªæ¥å£ã€‚\n\nä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‘ç”Ÿæ ˆå†…å­˜æº¢å‡ºæ–¹æ³•é€’å½’è°ƒç”¨äº§ç”Ÿè¿™ç§ç»“æœ\n\næ ˆæ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œä»–çš„ç”Ÿå‘½å‘¨æœŸä¸çº¿ç¨‹ç›¸åŒï¼Œæ¯ä¸ªæ–¹æ³•åœ¨æ‰§è¡Œçš„æ—¶å€™éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼Œç”¨æ¥å­˜å‚¨å±€éƒ¨å˜é‡è¡¨ï¼Œæ“ä½œæ•°æ ˆï¼ŒåŠ¨æ€é“¾æ¥ï¼Œæ–¹æ³•å‡ºå£ç¯ä¿¡æ¯ã€‚å±€éƒ¨å˜é‡è¡¨åˆåŒ…å«åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå¯¹è±¡å¼•ç”¨ç±»å‹ï¼ˆå±€éƒ¨å˜é‡è¡¨ç¼–è¯‘å™¨å®Œæˆï¼Œè¿è¡ŒæœŸé—´ä¸ä¼šå˜åŒ–ï¼‰\n\næ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºæ ˆæº¢å‡ºå°±æ˜¯æ–¹æ³•æ‰§è¡Œæ˜¯åˆ›å»ºçš„æ ˆå¸§è¶…è¿‡äº†æ ˆçš„æ·±åº¦ã€‚é‚£ä¹ˆæœ€æœ‰å¯èƒ½çš„å°±æ˜¯æ–¹æ³•é€’å½’è°ƒç”¨äº§ç”Ÿè¿™ç§ç»“æœã€‚æ ˆæº¢å‡º(StackOverflowError)\nä»€ä¹ˆæ˜¯nioï¼ŒåŸç†\nNIOæ˜¯ä¸ºäº†å¼¥è¡¥ä¼ ç»ŸIOå·¥ä½œæ¨¡å¼çš„ä¸è¶³è€Œç ”å‘çš„ï¼ŒNIOçš„å·¥å…·åŒ…æå‡ºäº†åŸºäºSelectorï¼ˆé€‰æ‹©å™¨ï¼‰ã€Bufferï¼ˆç¼“å†²åŒºï¼‰ã€Channelï¼ˆé€šé“ï¼‰çš„æ–°æ¨¡å¼ï¼›Selectorï¼ˆé€‰æ‹©å™¨ï¼‰ã€å¯é€‰æ‹©çš„Channelï¼ˆé€šé“ï¼‰å’ŒSelectionKeyï¼ˆé€‰æ‹©é”®ï¼‰é…åˆèµ·æ¥ä½¿ç”¨ï¼Œå¯ä»¥å®ç°å¹¶å‘çš„éé˜»å¡å‹IOèƒ½åŠ›ã€‚\n\nNIOçš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ\nã€€ã€€åœ¨å¹¶å‘å‹æœåŠ¡å™¨ç¨‹åºä¸­ä½¿ç”¨NIOï¼Œå®é™…ä¸Šæ˜¯é€šè¿‡ç½‘ç»œäº‹ä»¶é©±åŠ¨æ¨¡å‹å®ç°çš„ã€‚æˆ‘ä»¬åº”ç”¨Selectæœºåˆ¶ï¼Œä¸ç”¨ä¸ºæ¯ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥æ–°å¯çº¿ç¨‹å¤„ç†ï¼Œè€Œæ˜¯å°†å…¶æ³¨å†Œåˆ°ç‰¹å®šçš„Selectorå¯¹è±¡ä¸Šï¼Œè¿™å°±å¯ä»¥åœ¨å•çº¿ç¨‹ä¸­åˆ©ç”¨Selectorå¯¹è±¡ç®¡ç†å¤§é‡å¹¶å‘çš„ç½‘ç»œè¿æ¥ï¼Œæ›´å¥½çš„åˆ©ç”¨äº†ç³»ç»Ÿèµ„æºï¼›é‡‡ç”¨éé˜»å¡IOçš„é€šä¿¡æ–¹å¼ï¼Œä¸è¦æ±‚é˜»å¡ç­‰å¾…IOæ“ä½œå®Œæˆå³å¯è¿”å›ï¼Œä»è€Œå‡å°‘äº†ç®¡ç†IOè¿æ¥å¯¼è‡´çš„ç³»ç»Ÿå¼€é”€ï¼Œå¤§å¹…åº¦æé«˜äº†ç³»ç»Ÿæ€§èƒ½ã€‚\nã€€ã€€å½“æœ‰è¯»æˆ–å†™ç­‰æ³¨å†Œäº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå¯ä»¥ä»Selectorä¸­è·å¾—ç›¸åº”çš„SelectionKeyï¼Œä»SelectionKeyä¸­å¯ä»¥æ‰¾åˆ°å‘ç”Ÿçš„äº‹ä»¶å’Œè¯¥äº‹ä»¶æ‰€å‘ç”Ÿçš„å…·ä½“çš„SelectableChannelï¼Œä»¥è·å¾—å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„æ•°æ®ã€‚ç”±äºåœ¨éé˜»å¡ç½‘ç»œIOä¸­é‡‡ç”¨äº†äº‹ä»¶è§¦å‘æœºåˆ¶ï¼Œå¤„ç†ç¨‹åºå¯ä»¥å¾—åˆ°ç³»ç»Ÿçš„ä¸»åŠ¨é€šçŸ¥ï¼Œä»è€Œå¯ä»¥å®ç°åº•å±‚ç½‘ç»œIOæ— é˜»å¡ã€æµç•…åœ°è¯»å†™ï¼Œè€Œä¸åƒåœ¨åŸæ¥çš„é˜»å¡æ¨¡å¼ä¸‹å¤„ç†ç¨‹åºéœ€è¦ä¸æ–­å¾ªç¯ç­‰å¾…ã€‚ä½¿ç”¨NIOï¼Œå¯ä»¥ç¼–å†™å‡ºæ€§èƒ½æ›´å¥½ã€æ›´æ˜“æ‰©å±•çš„å¹¶å‘å‹æœåŠ¡å™¨ç¨‹åºã€‚\nã€€ã€€å¹¶å‘å‹æœåŠ¡å™¨ç¨‹åºçš„å®ç°ä»£ç ï¼šåº”ç”¨NIOå·¥å…·åŒ…ï¼ŒåŸºäºéé˜»å¡ç½‘ç»œIOè®¾è®¡çš„å¹¶å‘å‹æœåŠ¡å™¨ç¨‹åºä¸ä»¥å¾€åŸºäºé˜»å¡IOçš„å®ç°ç¨‹åºæœ‰å¾ˆå¤§ä¸åŒï¼Œåœ¨ä½¿ç”¨éé˜»å¡ç½‘ç»œIOçš„æƒ…å†µä¸‹ï¼Œç¨‹åºè¯»å–æ•°æ®å’Œå†™å…¥æ•°æ®çš„æ—¶æœºä¸æ˜¯ç”±ç¨‹åºå‘˜æ§åˆ¶çš„ï¼Œè€Œæ˜¯Selectorå†³å®šçš„ã€‚\nã€€ã€€ä½¿ç”¨éé˜»å¡å‹IOè¿›è¡Œå¹¶å‘å‹æœåŠ¡å™¨ç¨‹åºè®¾è®¡åˆ†ä¸‰ä¸ªéƒ¨åˆ†ï¼š1. å‘Selectorå¯¹è±¡æ³¨å†Œæ„Ÿå…´è¶£çš„äº‹ä»¶ï¼›2.ä»Selectorä¸­è·å–æ‰€æ„Ÿå…´è¶£çš„äº‹ä»¶ï¼›3. æ ¹æ®ä¸åŒçš„äº‹ä»¶è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚\nã€€ã€€åœ¨è¿›è¡Œå¹¶å‘å‹æœåŠ¡å™¨ç¨‹åºè®¾è®¡æ—¶ï¼Œé€šè¿‡åˆç†åœ°ä½¿ç”¨NIOå·¥å…·åŒ…ï¼Œå°±å¯ä»¥è¾¾åˆ°ä¸€ä¸ªæˆ–è€…å‡ ä¸ªSocketçº¿ç¨‹å°±å¯ä»¥å¤„ç†Nå¤šä¸ªSocketçš„è¿æ¥ï¼Œå¤§å¤§é™ä½æˆ‘ä»¬å¯¹æœåŠ¡å™¨ç¨‹åºçš„é¢„ç®—å‹åŠ›ã€‚åŒæ—¶æˆ‘ä»¬åˆ©ç”¨å®ƒæ›´å¥½åœ°æé«˜ç³»ç»Ÿçš„æ€§èƒ½ï¼Œä½¿æˆ‘ä»¬çš„å·¥ä½œå¾—åˆ°æ›´åŠ æœ‰æ•ˆåœ°å¼€å±•ã€‚\nä¼ é€é—¨\nåå°„ä¸­ï¼ŒClass.forNameå’ŒClassLoaderåŒºåˆ«Javaä¸­Class.forNameå’Œclassloaderéƒ½å¯ä»¥ç”¨æ¥å¯¹ç±»è¿›è¡ŒåŠ è½½ã€‚\n\nClass.forName(â€œclassNameâ€);\nå…¶å®è¿™ç§æ–¹æ³•è°ƒè¿çš„æ˜¯ï¼šClass.forName(className, true, ClassLoader.getCallerClassLoader())æ–¹æ³•\nå‚æ•°ä¸€ï¼šclassNameï¼Œéœ€è¦åŠ è½½çš„ç±»çš„åç§°ã€‚\nå‚æ•°äºŒï¼štrueï¼Œæ˜¯å¦å¯¹classè¿›è¡Œåˆå§‹åŒ–ï¼ˆéœ€è¦initializeï¼‰\nå‚æ•°ä¸‰ï¼šclassLoaderï¼Œå¯¹åº”çš„ç±»åŠ è½½å™¨\nClassLoader.laodClass(â€œclassNameâ€);\nå…¶å®è¿™ç§æ–¹æ³•è°ƒè¿çš„æ˜¯ï¼šClassLoader.loadClass(name, false)æ–¹æ³•\nå‚æ•°ä¸€ï¼šname,éœ€è¦åŠ è½½çš„ç±»çš„åç§°\nå‚æ•°äºŒï¼šfalseï¼Œè¿™ä¸ªç±»åŠ è½½ä»¥åæ˜¯å¦éœ€è¦å»è¿æ¥ï¼ˆä¸éœ€è¦linkingï¼‰\n\nå¯è§Class.forNameé™¤äº†å°†ç±»çš„.classæ–‡ä»¶åŠ è½½åˆ°jvmä¸­ä¹‹å¤–ï¼Œè¿˜ä¼šå¯¹ç±»è¿›è¡Œè§£é‡Šï¼Œæ‰§è¡Œç±»ä¸­çš„staticå—ã€‚\nè€Œclassloaderåªå¹²ä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯å°†.classæ–‡ä»¶åŠ è½½åˆ°jvmä¸­ï¼Œä¸ä¼šæ‰§è¡Œstaticä¸­çš„å†…å®¹ï¼Œåªæœ‰åœ¨newInstanceæ‰ä¼šå»æ‰§è¡Œstaticå—ã€‚\nä¼ é€é—¨\ntomcatç»“æ„ï¼Œç±»åŠ è½½å™¨æµç¨‹\nTomcat çš„æ€»ä½“ç»“æ„\n\n\nä»ä¸Šå›¾ä¸­å¯ä»¥çœ‹å‡º Tomcat çš„å¿ƒè„æ˜¯ä¸¤ä¸ªç»„ä»¶ï¼šConnector å’Œ Containerï¼Œå…³äºè¿™ä¸¤ä¸ªç»„ä»¶å°†åœ¨åé¢è¯¦ç»†ä»‹ç»ã€‚Connector ç»„ä»¶æ˜¯å¯ä»¥è¢«æ›¿æ¢ï¼Œè¿™æ ·å¯ä»¥æä¾›ç»™æœåŠ¡å™¨è®¾è®¡è€…æ›´å¤šçš„é€‰æ‹©ï¼Œå› ä¸ºè¿™ä¸ªç»„ä»¶æ˜¯å¦‚æ­¤é‡è¦ï¼Œä¸ä»…è·ŸæœåŠ¡å™¨çš„è®¾è®¡çš„æœ¬èº«ï¼Œè€Œä¸”å’Œä¸åŒçš„åº”ç”¨åœºæ™¯ä¹Ÿååˆ†ç›¸å…³ï¼Œæ‰€ä»¥ä¸€ä¸ª Container å¯ä»¥é€‰æ‹©å¯¹åº”å¤šä¸ª Connectorã€‚å¤šä¸ª Connector å’Œä¸€ä¸ª Container å°±å½¢æˆäº†ä¸€ä¸ª Serviceï¼ŒService çš„æ¦‚å¿µå¤§å®¶éƒ½å¾ˆç†Ÿæ‚‰äº†ï¼Œæœ‰äº† Service å°±å¯ä»¥å¯¹å¤–æä¾›æœåŠ¡äº†ï¼Œä½†æ˜¯ Service è¿˜è¦ä¸€ä¸ªç”Ÿå­˜çš„ç¯å¢ƒï¼Œå¿…é¡»è¦æœ‰äººèƒ½å¤Ÿç»™å¥¹ç”Ÿå‘½ã€æŒæ¡å…¶ç”Ÿæ­»å¤§æƒï¼Œé‚£å°±é Server è«å±äº†ã€‚æ‰€ä»¥æ•´ä¸ª Tomcat çš„ç”Ÿå‘½å‘¨æœŸç”± Server æ§åˆ¶ã€‚\nä»€ä¹ˆæ˜¯ç±»åŠ è½½å™¨ï¼Ÿè™šæ‹Ÿæœºè®¾è®¡å›¢é˜ŸæŠŠç±»åŠ è½½é˜¶æ®µä¸­çš„â€œé€šè¿‡ä¸€ä¸ªç±»çš„å…¨é™å®šåæ¥è·å–æè¿°æ­¤ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµâ€è¿™ä¸ªåŠ¨ä½œæ”¾åˆ°Javaè™šæ‹Ÿæœºå¤–éƒ¨å»å®ç°ï¼Œä»¥ä¾¿è®©åº”ç”¨ç¨‹åºè‡ªå·±å†³å®šå¦‚ä½•å»è·å–æ‰€éœ€è¦çš„ç±»ã€‚å®ç°è¿™ä¸ªåŠ¨ä½œçš„ä»£ç æ¨¡å—ç§°ä¸ºâ€œç±»åŠ è½½å™¨â€ã€‚\nä¼ é€é—¨\nè®²è®²Springäº‹åŠ¡çš„ä¼ æ’­å±æ€§,AOPåŸç†ï¼ŒåŠ¨æ€ä»£ç†ä¸cglibå®ç°çš„åŒºåˆ«ï¼ŒAOPæœ‰å“ªå‡ ç§å®ç°æ–¹å¼Springçš„beanFactoryå’ŒfactoryBeançš„åŒºåˆ«SpringåŠ è½½æµç¨‹Springå¦‚ä½•ç®¡ç†äº‹åŠ¡çš„å¤šçº¿ç¨‹çº¿åŸæ± çš„æœ€å¤§çº¿ç¨‹æ•°ç›®æ ¹æ®ä»€ä¹ˆç¡®å®šå¤šçº¿ç¨‹çš„å‡ ç§å®ç°æ–¹å¼ï¼Œä»€ä¹ˆæ˜¯çº¿ç¨‹å®‰å…¨ï¼Œä»€ä¹ˆæ˜¯é‡æ’åºvolatileçš„åŸç†ï¼Œä½œç”¨ï¼Œèƒ½ä»£æ›¿é”ä¹ˆsleepå’Œwaitçš„åŒºåˆ«ï¼Œä»¥åŠwaitçš„å®ç°åŸç†Lockä¸synchronized çš„åŒºåˆ«ï¼Œsynchronized çš„åŸç†ï¼Œä»€ä¹ˆæ˜¯è‡ªæ—‹é”ï¼Œåå‘é”ï¼Œè½»é‡çº§é”ï¼Œä»€ä¹ˆå«å¯é‡å…¥é”ï¼Œä»€ä¹ˆå«å…¬å¹³é”å’Œéå…¬å¹³é”ç”¨è¿‡å“ªäº›åŸå­ç±»ï¼Œä»–ä»¬çš„å‚æ•°ä»¥åŠåŸç†æ˜¯ä»€ä¹ˆç”¨è¿‡å“ªäº›çº¿ç¨‹æ± ï¼Œä»–ä»¬çš„åŸç†ç®€å•æ¦‚æ‹¬ä¸‹ï¼Œæ„é€ å‡½æ•°çš„å„ä¸ªå‚æ•°çš„å«ä¹‰ï¼Œæ¯”å¦‚coreSizeï¼Œmaxsizeç­‰æœ‰ä¸€ä¸ªç¬¬ä¸‰æ–¹æ¥å£ï¼Œæœ‰å¾ˆå¤šä¸ªçº¿ç¨‹å»è°ƒç”¨è·å–æ•°æ®ï¼Œç°åœ¨è§„å®šæ¯ç§’é’Ÿæœ€å¤šæœ‰10ä¸ªçº¿ç¨‹åŒæ—¶è°ƒç”¨å®ƒï¼Œå¦‚ä½•åšåˆ°ã€‚springçš„controlleræ˜¯å•ä¾‹è¿˜æ˜¯å¤šä¾‹ï¼Œæ€ä¹ˆä¿è¯å¹¶å‘çš„å®‰å…¨ç”¨ä¸‰ä¸ªçº¿ç¨‹æŒ‰é¡ºåºå¾ªç¯æ‰“å°abcä¸‰ä¸ªå­—æ¯ï¼Œæ¯”å¦‚abcabcabcThreadLocalç”¨è¿‡ä¹ˆï¼ŒåŸç†æ˜¯ä»€ä¹ˆï¼Œç”¨çš„æ—¶å€™è¦æ³¨æ„ä»€ä¹ˆå¦‚æœè®©ä½ å®ç°ä¸€ä¸ªå¹¶å‘å®‰å…¨çš„é“¾è¡¨ï¼Œä½ ä¼šæ€ä¹ˆåšJVMç›¸å…³jvmä¸­ä¸€æ¬¡å®Œæ•´çš„GCæµç¨‹ï¼ˆä»ygcåˆ°fgcï¼‰æ˜¯æ€æ ·çš„ï¼Œé‡ç‚¹è®²è®²å¯¹è±¡å¦‚ä½•æ™‹å‡åˆ°è€å¹´ä»£ï¼Œå‡ ç§ä¸»è¦çš„jvmå‚æ•°ç­‰ä½ çŸ¥é“å“ªå‡ ç§åƒåœ¾æ”¶é›†å™¨ï¼Œå„è‡ªçš„ä¼˜ç¼ºç‚¹ï¼Œé‡ç‚¹è®²ä¸‹cmså½“å‡ºç°äº†å†…å­˜æº¢å‡ºï¼Œä½ æ€ä¹ˆæ’é”™JVMå†…å­˜æ¨¡å‹çš„ç›¸å…³çŸ¥è¯†äº†è§£å¤šå°‘ç®€å•è¯´è¯´ä½ äº†è§£çš„ç±»åŠ è½½å™¨JAVAçš„åå°„æœºåˆ¶ç½‘ç»œhttp1.0å’Œhttp1.1æœ‰ä»€ä¹ˆåŒºåˆ«TCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹çš„æµç¨‹ï¼Œä¸ºä»€ä¹ˆæ–­å¼€è¿æ¥è¦4æ¬¡,å¦‚æœæ¡æ‰‹åªæœ‰ä¸¤æ¬¡ï¼Œä¼šå‡ºç°ä»€ä¹ˆTIME_WAITå’ŒCLOSE_WAITçš„åŒºåˆ«è¯´è¯´ä½ çŸ¥é“çš„å‡ ç§HTTPå“åº”ç å½“ä½ ç”¨æµè§ˆå™¨æ‰“å¼€ä¸€ä¸ªé“¾æ¥çš„æ—¶å€™ï¼Œè®¡ç®—æœºåšäº†å“ªäº›å·¥ä½œæ­¥éª¤Linuxä¸‹IOæ¨¡å‹æœ‰å‡ ç§ï¼Œå„è‡ªçš„å«ä¹‰æ˜¯ä»€ä¹ˆTCPIPå¦‚ä½•ä¿è¯å¯é æ€§ï¼Œæ•°æ®åŒ…æœ‰å“ªäº›æ•°æ®ç»„æˆæ¶æ„è®¾è®¡ä¸åˆ†å¸ƒå¼ï¼štomcatå¦‚ä½•è°ƒä¼˜ï¼Œå„ç§å‚æ•°çš„æ„ä¹‰å¸¸è§çš„ç¼“å­˜ç­–ç•¥æœ‰å“ªäº›ï¼Œä½ ä»¬é¡¹ç›®ä¸­ç”¨åˆ°äº†ä»€ä¹ˆç¼“å­˜ç³»ç»Ÿï¼Œå¦‚ä½•è®¾è®¡çš„ï¼ŒRedisçš„ä½¿ç”¨è¦æ³¨æ„ä»€ä¹ˆï¼ŒæŒä¹…åŒ–æ–¹å¼ï¼Œå†…å­˜è®¾ç½®ï¼Œé›†ç¾¤ï¼Œæ·˜æ±°ç­–ç•¥ç­‰å¦‚ä½•é˜²æ­¢ç¼“å­˜é›ªå´©12.ç”¨javaè‡ªå·±å®ç°ä¸€ä¸ªLRUåˆ†å¸ƒå¼é›†ç¾¤ä¸‹å¦‚ä½•åšåˆ°å”¯ä¸€åºåˆ—å·è®¾è®¡ä¸€ä¸ªç§’æ€ç³»ç»Ÿï¼Œ30åˆ†é’Ÿæ²¡ä»˜æ¬¾å°±è‡ªåŠ¨å…³é—­äº¤æ˜“å¦‚ä½•åšä¸€ä¸ªåˆ†å¸ƒå¼é”ç”¨è¿‡å“ªäº›MQï¼Œæ€ä¹ˆç”¨çš„ï¼Œå’Œå…¶ä»–mqæ¯”è¾ƒæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼ŒMQçš„è¿æ¥æ˜¯çº¿ç¨‹å®‰å…¨çš„å—MQç³»ç»Ÿçš„æ•°æ®å¦‚ä½•ä¿è¯ä¸ä¸¢å¤±åˆ†å¸ƒå¼äº‹åŠ¡çš„åŸç†ï¼Œå¦‚ä½•ä½¿ç”¨åˆ†å¸ƒå¼äº‹åŠ¡ä»€ä¹ˆæ˜¯ä¸€è‡´æ€§hashä»€ä¹ˆæ˜¯restfulï¼Œè®²è®²ä½ ç†è§£çš„restfulå¦‚ä½•è®¾è®¡å»ºç«‹å’Œä¿æŒ100wçš„é•¿è¿æ¥ï¼Ÿè§£é‡Šä»€ä¹ˆæ˜¯MESIåè®®(ç¼“å­˜ä¸€è‡´æ€§)è¯´è¯´ä½ çŸ¥é“çš„å‡ ç§HASHç®—æ³•ï¼Œç®€å•çš„ä¹Ÿå¯ä»¥ä»€ä¹ˆæ˜¯paxosç®—æ³•rediså’Œmemcached çš„å†…å­˜ç®¡ç†çš„åŒºåˆ«ä¸€ä¸ªåœ¨çº¿æ–‡æ¡£ç³»ç»Ÿï¼Œæ–‡æ¡£å¯ä»¥è¢«ç¼–è¾‘ï¼Œå¦‚ä½•é˜²æ­¢å¤šäººåŒæ—¶å¯¹åŒä¸€ä»½æ–‡æ¡£è¿›è¡Œç¼–è¾‘æ›´æ–°ç®—æ³•10äº¿ä¸ªæ•°å­—é‡Œé‡Œé¢æ‰¾æœ€å°çš„10ä¸ªæœ‰1äº¿ä¸ªæ•°å­—ï¼Œå…¶ä¸­æœ‰2ä¸ªæ˜¯é‡å¤çš„ï¼Œå¿«é€Ÿæ‰¾åˆ°å®ƒï¼Œæ—¶é—´å’Œç©ºé—´è¦æœ€ä¼˜2äº¿ä¸ªéšæœºç”Ÿæˆçš„æ— åºæ•´æ•°,æ‰¾å‡ºä¸­é—´å¤§å°çš„å€¼éå†äºŒå‰æ ‘æ•°æ®åº“æ•°æ®åº“éš”ç¦»çº§åˆ«æœ‰å“ªäº›ï¼Œå„è‡ªçš„å«ä¹‰æ˜¯ä»€ä¹ˆï¼ŒMYsqlé»˜è®¤çš„éš”ç¦»çº§åˆ«æ˜¯æ˜¯ä»€ä¹ˆï¼Œå„ä¸ªå­˜å‚¨å¼•æ“ä¼˜ç¼ºç‚¹é«˜å¹¶å‘ä¸‹ï¼Œå¦‚ä½•åšåˆ°å®‰å…¨çš„ä¿®æ”¹åŒä¸€è¡Œæ•°æ®ï¼Œä¹è§‚é”å’Œæ‚²è§‚é”æ˜¯ä»€ä¹ˆï¼ŒINNODBçš„è¡Œçº§é”æœ‰å“ª2ç§ï¼Œè§£é‡Šå…¶å«ä¹‰SQLä¼˜åŒ–çš„ä¸€èˆ¬æ­¥éª¤æ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆçœ‹æ‰§è¡Œè®¡åˆ’ï¼Œå¦‚ä½•ç†è§£å…¶ä¸­å„ä¸ªå­—æ®µçš„å«ä¹‰ï¼Œç´¢å¼•çš„åŸç†ï¼Ÿæ•°æ®åº“ä¼šæ­»é”å—ï¼Œä¸¾ä¸€ä¸ªæ­»é”çš„ä¾‹å­ï¼Œmysqlæ€ä¹ˆè§£å†³æ­»é”MYsqlçš„ç´¢å¼•å®ç°æ–¹å¼èšé›†ç´¢å¼•å’Œéèšé›†ç´¢å¼•çš„åŒºåˆ«æ•°æ®åº“ä¸­ BTREEå’ŒB+treeåŒºåˆ«","tags":["é¢è¯•","Java"],"path":"2019/09/13/Javaé¢è¯•é¢˜/","external_link":""},{"title":"OpenCVè¾¹ç¼˜æ£€æµ‹","date":"2019-09-14T06:04:05.000Z","content":"OpenCVè¾¹ç¼˜æ£€æµ‹\n12345678910111213import cv2import numpy as npfrom matplotlib import pyplot as pltimg = cv2.imread(1024.jpg,0)edges = cv2.Canny(img,100,200)plt.subplot(121),plt.imshow(img,cmap=gray)plt.title(original),plt.xticks([]),plt.yticks([])plt.subplot(122),plt.imshow(edges,cmap=gray)plt.title(edge),plt.xticks([]),plt.yticks([])plt.show()\n\n","tags":["OpenCV","è¾¹ç¼˜æ£€æµ‹"],"path":"2019/09/14/OpenCVè¾¹ç¼˜æ£€æµ‹/","external_link":""},{"title":"2019å¹´åº¦æœºå™¨å­¦ä¹ 49ä¸ªé¡¶çº§å·¥ç¨‹æ±‡æ€»","date":"2019-09-16T01:56:47.000Z","content":"2019å¹´åº¦æœºå™¨å­¦ä¹ 49ä¸ªé¡¶çº§å·¥ç¨‹æ±‡æ€»\nè¿‡å»ä¸€å¹´ä¸­ï¼Œæˆ‘ä»¬æ¯”è¾ƒäº†è¿‘22000ä¸ªæœºå™¨å­¦ä¹ å¼€æºå·¥ç¨‹ï¼Œå¹¶ç­›é€‰äº†49ä¸ªé¡¶çº§é¡¹ç›®ï¼ˆç­›é€‰ç‡0.22%ï¼‰ã€‚\n\nå…¶ä¸­åŒ…æ‹¬ä»¥ä¸‹6ä¸ªåˆ†ç±»\n\nè®¡ç®—æœºè§†è§‰ï¼ˆ1~5ï¼‰\nå¼ºåŒ–å­¦ä¹ ï¼ˆ6~13ï¼‰\nNLPï¼ˆ14~20ï¼‰\nGANï¼ˆ21~26ï¼‰\nNeural Networkï¼ˆ27~35ï¼‰\nToolkitï¼ˆ36~49ï¼‰\n\n\næˆ‘ä»¬èŠ±äº†å¾ˆå¤§çš„ç²¾åŠ›ç­›é€‰è¿™ä¸ªlistï¼Œå¹¶å°å¿ƒçš„é€‰æ‹©å‡º2018å¹´1æœˆåˆ°12æœˆé—´æœ€å¥½çš„å·¥ç¨‹ã€‚ä¸ºäº†ä¿è¯åå•è´¨é‡ï¼ŒMybridge AIååŒè€ƒè™‘äº†æµè¡Œåº¦ã€å‚ä¸åº¦ã€å‘å¸ƒæ—¶é—´ç­‰å¤šé‡å› ç´ ã€‚\n\nè®¡ç®—æœºè§†è§‰1ã€Detectronï¼šfacebookå‘å¸ƒçš„ç›®æ ‡æ£€æµ‹å·¥å…·ã€18913 star on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comfacebookresearchDetectron?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n\n2ã€Openpostï¼šå¤šäººå®æ—¶ç‰¹å¾ç‚¹æ£€æµ‹å·¥å…·ã€11052 stars on GitHubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comCMU-Perceptual-Computing-Labopenpose?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n\n3ã€DensePostï¼š2ç»´äººä½“å›¾ç‰‡è½¬3ç»´çš„å®æ—¶æ˜ å°„æ–¹æ³•ã€‚ã€4165 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comfacebookresearchDensepose?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n\n4ã€Maskrcnn-benchmarkï¼šï¼ˆPytorchï¼‰è¯­ä¹‰åˆ†å‰²ä¸ç›®æ ‡æ£€æµ‹å·¥å…·åŒ…ã€‚ã€3888 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comfacebookresearchmaskrcnn-benchmark?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n\n5ã€SNIPERï¼šå¤šå°ºåº¦ç›®æ ‡æ£€æµ‹ç®—æ³•ã€‚ã€1963 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.commahyarnajibiSNIPER?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n\nå¼ºåŒ–å­¦ä¹ 6ã€Psychlabï¼šPsychlabå®éªŒèŒƒä¾‹ã€‚ã€5595 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comdeepmindlabtreemastergame_scriptslevelscontributedpsychlab?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n\n7ã€ELFï¼šä¸€ä¸ªçµæ´»ã€è½»é‡ã€å¯æ‰©å±•çš„æ¸¸æˆç ”ç©¶å¹³å°ã€‚ã€2406 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.compytorchelf?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n8ã€TRFLï¼šï¼ˆTensorFlowï¼‰å¼ºåŒ–å­¦ä¹ agentå·¥å…·åŒ…ã€‚ã€2312 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comdeepmindtrfl?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n9ã€Horizonï¼šé¦–ä¸ªç”¨äºå¤§è§„æ¨¡éœ€æ±‚çš„å¼€æºå¼ºåŒ–å­¦ä¹ å¹³å°ã€‚ã€1703 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comfacebookresearchHorizon?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n10ã€Chess-alpha-zeroï¼šå›½é™…è±¡æ£‹å¼ºåŒ–å­¦ä¹ é¡¹ç›®ï¼ˆåŸºäºAlphaGo Zeroæ–¹æ³•ï¼‰ã€‚ã€1307 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comZeta36chess-alpha-zero?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n11ã€Dm_controlï¼šDeepMindå·¥å…·åŒ…ã€‚ã€1231 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comdeepminddm_control?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n12ã€MAMEToolkitï¼šåŸºäºå¼ºåŒ–å­¦ä¹ çš„ç”µå­æ¸¸æˆpythonåº“ã€‚ã€437 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comM-J-MurrayMAMEToolkit?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n13ã€Reaverï¼šæ¨¡å—åŒ–çš„æ·±åº¦å¼ºåŒ–å­¦ä¹ æ¡†æ¶ï¼ˆæ˜Ÿé™…äº‰éœ¸2ï¼‰ã€‚ã€355 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.cominoryyreaver?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\nNLP14ã€Bertï¼šBERTçš„TensorFlowä»£ç ï¼Œä»¥åŠé¢„è®­ç»ƒæ¨¡å‹ã€‚ã€11703 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comgoogle-researchbert?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n15ã€Pytextï¼šåŸºäºPytorchçš„ç¥ç»è¯­è¨€æ¨¡å‹æ¡†æ¶ã€‚ã€4466 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comfacebookresearchpytext?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n16ã€Bert-as-serviceï¼šBERTæ¨¡å‹çš„ç½‘ç»œæœåŠ¡ç‰ˆæœ¬é¡¹ç›®åœ°å€ï¼šhttps:github.comhanxiaobert-as-service?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n17ã€UnsupervisedMTï¼šåŸºäºPhraseçš„æ— ç›‘ç£æœºå™¨ç¿»è¯‘æ–¹æ³•ã€‚ã€1068 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comfacebookresearchUnsupervisedMT?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n18ã€DecaNLPï¼šNLPåé¡¹å…¨èƒ½å·¥å…·ï¼Œå¤šä»»åŠ¡æ¨¡å‹ã€‚ã€1648 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comsalesforcedecaNLP?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n19ã€NLP-architectï¼šæ¥è‡ªè‹±ç‰¹å°”AIå®éªŒå®¤çš„pythonå·¥å…·åŒ…ï¼ŒåŒ…å«äº†å½“å‰NLPé¢†åŸŸçš„å¤šç§æœ€ä½³æ¨¡å‹ã€‚ã€1751 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comNervanaSystemsnlp-architect?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n20ã€Gluon-nlpï¼šNLPå·¥å…·åŒ…ã€‚ã€1263 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comdmlcgluon-nlp?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\nGAN21ã€DeOldifyï¼šä¸€ä¸ªåŸºäºæ·±åº¦å­¦ä¹ çš„å›¾åƒè¡¥å…¨å·¥å…·åŒ…ã€‚ã€5060 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comjanticDeOldify?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n22ã€Progressive_growing_of_gansï¼šGANçš„å˜ç§å®ç°ï¼Œæé«˜ç”Ÿäº§è´¨é‡ã€ç¨³å®šæ€§ä»¥åŠå¤šæ ·æ€§ã€‚é¡¹ç›®åœ°å€ï¼šhttps:github.comtkarrasprogressive_growing_of_gans?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n23ã€MUNITï¼šå¤šæ¨¡æ€æ— ç›‘ç£å›¾åƒç¿»è¯‘ã€‚ã€1339 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comNVlabsMUNIT?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n24ã€Transparent_latent_ganï¼šä½¿ç”¨ç›‘ç£å­¦ä¹ æ¥è§£é‡ŠGANçš„éšç©ºé—´ä¿¡æ¯ã€‚ã€1337 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comSummitKwantransparent_latent_gan?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n25ã€Gandissectï¼šåŸºäºPytorchçš„å¯è§†åŒ–ä»¥åŠç†è§£GANçš„ç¥ç»å…ƒä¿¡æ¯ã€‚ã€1065 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comCSAILVisiongandissect?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n26ã€GANimationï¼šå•å¼ å›¾ç‰‡çš„è¡¨æƒ…å˜æ¢ã€‚ã€869 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comalbertpumarolaGANimation?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_moreç¥ç»ç½‘ç»œ27ã€Fastaiï¼šåŠ é€Ÿç¥ç»ç½‘ç»œè®­ç»ƒè¿‡ç¨‹ï¼Œå¹¶æé«˜å‡†ç¡®ç‡ã€‚ã€11597 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comfastaifastai?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n28ã€DeepCreamPyï¼šå›¾åƒä¿®å¤ã€‚ã€7046 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comdeeppomfDeepCreamPy?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n29ã€Augmentor v0.2ã€å›¾åƒå¢å¼ºå·¥å…·åŒ…ã€‚ã€2805 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.commdbloiceAugmentor?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n30ã€Graph_netsï¼šTensorflowçš„å›¾ç½‘ç»œæ„å»ºå·¥å…·ã€‚ã€2723 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comdeepmindgraph_nets?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n31ã€Textgenrnnï¼šä½¿ç”¨é¢„è®­ç»ƒå­—ç¬¦çº§RNNç”Ÿæˆæ–‡æœ¬ã€‚ã€1900 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comminimaxirtextgenrnn?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n32ã€Person-blockerï¼šå›¾åƒä¸­è‡ªåŠ¨åˆ é™¤äººåƒã€‚ã€1806 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comminimaxirperson-blocker?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n33ã€Deepvariantï¼šDNAåºåˆ—æ•°æ®çš„åˆ†æå·¥å…·é¡¹ç›®åœ°å€ï¼šhttps:github.comgoogledeepvariant?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n34ã€Video-nolocal-netï¼šnon-localç¥ç»ç½‘ç»œçš„è§†é¢‘åˆ†ç±»æ–¹æ³•ã€‚ã€1049 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comfacebookresearchvideo-nonlocal-net?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n35ã€Ann-visualizerï¼šç¥ç»ç½‘ç»œå¯è§†åŒ–å·¥å…·ã€‚ã€922 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comProdicodeann-visualizer?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\nå·¥å…·åŒ…36ã€Tfjsï¼šä¸€ä¸ªåŸºäºJSçš„MLæ¨¡å‹è®­ç»ƒéƒ¨ç½²å·¥å…·åŒ…ã€‚ã€10268 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comtensorflowtfjs?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n37ï¼šDopamineï¼šå¿«é€Ÿçš„å¼ºåŒ–å­¦ä¹ ç ”ç©¶æ¡†æ¶ã€‚ã€7142 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comgoogledopamine?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n38ã€Limeï¼šåˆ†ç±»å™¨è§£é‡Šå·¥å…·åŒ…ã€‚ã€5173 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.commarcotcrlime?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n39ã€Autokerasï¼šè‡ªåŠ¨æœºå™¨å­¦ä¹ çš„å¼€æºè½¯ä»¶åº“ã€‚ã€4520 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comjhfjhfj1autokeras?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n40ã€Shapï¼šç¥ç»ç½‘ç»œè§£é‡Šå·¥å…·ã€‚ã€3496 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comslundbergshap?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n41ã€MMdnnï¼šæ¨¡å‹é€‚é…å™¨ã€‚ã€3021 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comMicrosoftMMdnn?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n42ã€Mlflowï¼šæœºå™¨å­¦ä¹ ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚ã€3013 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.commlflowmlflow?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n43ã€Maceï¼šé¢å‘ç§»åŠ¨è®¡ç®—å¹³å°çš„æ·±åº¦å­¦ä¹ æ¨æ–­æ¡†æ¶ã€‚ã€2979 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comXiaoMimace?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n44ã€PySyftï¼šå…³æ³¨å®‰å…¨æ€§çš„æ·±åº¦å­¦ä¹ åº“ã€‚ã€2595 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comOpenMinedPySyft?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n45ã€Adanetï¼šAutoMLè®¡ç®—åº“ã€‚ã€2293 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comtensorflowadanet?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n46ã€Tencent-ml-imagesï¼šæœ€å¤§çš„å¤šæ ‡ç­¾å›¾åƒæ•°æ®åº“ã€‚ã€2094 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comTencenttencent-ml-images?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n47ã€Donkeycarã€å¼€æºçš„è½¯ç¡¬ä»¶è‡ªåŠ¨é©¾é©¶å¹³å°ã€‚ã€1207 stars on Githubã€‘\né¡¹ç›®åœ°å€ï¼šhttps:github.comautoropedonkeycar?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n48ã€PocketFlowï¼šè‡ªåŠ¨æ¨¡å‹å‹ç¼©æ¡†æ¶ã€‚ã€1677 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comTencentPocketFlow?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\n49ã€DALIï¼šæ·±åº¦å­¦ä¹ åº”ç”¨çš„ä¼˜åŒ–å·¥å…·åŒ…ä»¥åŠæ•°æ®å¤„ç†æ‰©å±•å¼•æ“ã€‚ã€1013 stars on Githubã€‘é¡¹ç›®åœ°å€ï¼šhttps:github.comNVIDIAdali?utm_source=mybridge&amp;utm_medium=blog&amp;utm_campaign=read_more\nä¼ é€é—¨\n","tags":["æœºå™¨å­¦ä¹ "],"path":"2019/09/16/2019å¹´åº¦æœºå™¨å­¦ä¹ 49ä¸ªé¡¶çº§å·¥ç¨‹æ±‡æ€»/","external_link":""},{"title":"Java12çš„æ–°ç‰¹æ€§","date":"2019-09-16T14:20:54.000Z","content":"Java12çš„æ–°ç‰¹æ€§\nJava5çš„æ–°ç‰¹æ€§Java6çš„æ–°ç‰¹æ€§Java7çš„æ–°ç‰¹æ€§Java8çš„æ–°ç‰¹æ€§Java9çš„æ–°ç‰¹æ€§Java10çš„æ–°ç‰¹æ€§Java11çš„æ–°ç‰¹æ€§Java12çš„æ–°ç‰¹æ€§Java13çš„æ–°ç‰¹æ€§\n\n\nç‰ˆæœ¬å·1234java -versionopenjdk version &quot;12&quot; 2019-03-19OpenJDK Runtime Environment (build 12+33)OpenJDK 64-Bit Server VM (build 12+33, mixed mode)\n\n\nä»versionä¿¡æ¯å¯ä»¥çœ‹å‡ºæ˜¯build 12+33\n\nç‰¹æ€§åˆ—è¡¨\n189:    Shenandoah: A Low-Pause-Time Garbage Collector (Experimental)\n\n\nShenandoah GCæ˜¯ä¸€ä¸ªé¢å‘low-pause-timeçš„åƒåœ¾æ”¶é›†å™¨ï¼Œå®ƒæœ€åˆç”±Red Hatå®ç°ï¼Œæ”¯æŒaarch64åŠamd64 architectureï¼›ZGCä¹Ÿæ˜¯é¢å‘low-pause-timeçš„åƒåœ¾æ”¶é›†å™¨ï¼Œä¸è¿‡ZGCæ˜¯åŸºäºcolored pointersæ¥å®ç°ï¼Œè€ŒShenandoah GCæ˜¯åŸºäºbrooks pointersæ¥å®ç°ï¼›å¦‚æœè¦ä½¿ç”¨Shenandoah GCéœ€è¦ç¼–è¯‘æ—¶â€“with-jvm-featuresé€‰é¡¹å¸¦æœ‰shenandoahgcï¼Œç„¶åå¯åŠ¨æ—¶ä½¿ç”¨-XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC\n\n\n230:    Microbenchmark Suite\n\n\nåœ¨jdkæºç é‡Œå¤´æ–°å¢äº†ä¸€å¥—åŸºç¡€çš„microbenchmarks suite\n\n\n325:    Switch Expressions (Preview)\n\n\nå¯¹switchè¿›è¡Œäº†å¢å¼ºï¼Œé™¤äº†ä½¿ç”¨statementè¿˜å¯ä»¥ä½¿ç”¨expressionï¼Œæ¯”å¦‚åŸæ¥çš„å†™æ³•å¦‚ä¸‹ï¼š\n\n1234567891011121314151617switch (day) &#123;    case MONDAY:    case FRIDAY:    case SUNDAY:        System.out.println(6);        break;    case TUESDAY:        System.out.println(7);        break;    case THURSDAY:    case SATURDAY:        System.out.println(8);        break;    case WEDNESDAY:        System.out.println(9);        break;&#125;\n\nç°åœ¨å¯ä»¥æ”¹ä¸ºå¦‚ä¸‹å†™æ³•ï¼š\n123456switch (day) &#123;    case MONDAY, FRIDAY, SUNDAY -&gt; System.out.println(6);    case TUESDAY                -&gt; System.out.println(7);    case THURSDAY, SATURDAY     -&gt; System.out.println(8);    case WEDNESDAY              -&gt; System.out.println(9);&#125;\n\nä»¥åŠåœ¨è¡¨è¾¾å¼è¿”å›å€¼\n123456int numLetters = switch (day) &#123;    case MONDAY, FRIDAY, SUNDAY -&gt; 6;    case TUESDAY                -&gt; 7;    case THURSDAY, SATURDAY     -&gt; 8;    case WEDNESDAY              -&gt; 9;&#125;;\n\nå¯¹äºéœ€è¦è¿”å›å€¼çš„switch expressionè¦ä¹ˆæ­£å¸¸è¿”å›å€¼è¦ä¹ˆæŠ›å‡ºå¼‚å¸¸ï¼Œä»¥ä¸‹è¿™ä¸¤ç§å†™æ³•éƒ½æ˜¯é”™è¯¯çš„\n1234567891011121314int i = switch (day) &#123;    case MONDAY -&gt; &#123;        System.out.println(Monday);          ERROR! Block doesnt contain a break with value    &#125;    default -&gt; 1;&#125;;i = switch (day) &#123;    case MONDAY, TUESDAY, WEDNESDAY:         break 0;    default:         System.out.println(Second half of the week);         ERROR! Group doesnt contain a break with value&#125;;\n\n\n334:    JVM Constants API\n\n\næ–°å¢äº†JVM Constants APIï¼Œå…·ä½“æ¥è¯´å°±æ˜¯java.baseæ¨¡å—æ–°å¢äº†java.lang.constantåŒ…ï¼Œå¼•å…¥äº†ConstantDescæ¥å£(ClassDescã€MethodTypeDescã€MethodHandleDescè¿™å‡ ä¸ªæ¥å£ç›´æ¥ç»§æ‰¿äº†ConstantDescæ¥å£)ä»¥åŠConstableæ¥å£ï¼›ConstantDescæ¥å£å®šä¹‰äº†resolveConstantDescæ–¹æ³•ï¼ŒConstableæ¥å£å®šä¹‰äº†describeConstableæ–¹æ³•ï¼›Stringã€Integerã€Longã€Floatã€Doubleå‡å®ç°äº†è¿™ä¸¤ä¸ªæ¥å£ï¼Œè€ŒEnumDescå®ç°äº†ConstantDescæ¥å£\n\n\n340:    One AArch64 Port, Not Two\n\n\n64-bit Arm platform (arm64)ï¼Œä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºaarch64ï¼›ä¹‹å‰JDKæœ‰ä¸¤ä¸ªå…³äºaarch64çš„å®ç°ï¼Œåˆ†åˆ«æ˜¯srchotspotcpuarmä»¥åŠopensrchotspotcpuaarch64ï¼Œå®ƒä»¬çš„å®ç°é‡å¤äº†ï¼Œä¸ºäº†é›†ä¸­ç²¾åŠ›æ›´å¥½åœ°å®ç°aarch64ï¼Œè¯¥ç‰¹æ€§åœ¨æºç ä¸­åˆ é™¤äº†opensrchotspotcpuarmä¸­å…³äº64-bitçš„å®ç°ï¼Œä¿ç•™å…¶ä¸­32-bitçš„å®ç°ï¼Œäºæ˜¯opensrchotspotcpuaarch64éƒ¨åˆ†å°±æˆäº†64-bit ARM architectureçš„é»˜è®¤å®ç°\n\n\n341:    Default CDS Archives\n\n\njava10çš„æ–°ç‰¹æ€§JEP 310: Application Class-Data Sharingæ‰©å±•äº†JDK5å¼•å…¥çš„Class-Data Sharingï¼Œæ”¯æŒapplicationçš„Class-Data Sharingï¼›Class-Data Sharingå¯ä»¥ç”¨äºå¤šä¸ªJVMå…±äº«classï¼Œæå‡å¯åŠ¨é€Ÿåº¦ï¼Œæœ€æ—©åªæ”¯æŒsystem classesåŠserial GCï¼ŒJDK9å¯¹å…¶è¿›è¡Œæ‰©å±•ä»¥æ”¯æŒapplication classesåŠå…¶ä»–GCç®—æ³•ï¼Œå¹¶åœ¨JDK10ä¸­å¼€æºå‡ºæ¥(ä»¥å‰æ˜¯commercial feature)ï¼›JDK11å°†-Xshare:offæ”¹ä¸ºé»˜è®¤-Xshare:autoï¼Œä»¥æ›´åŠ æ–¹ä¾¿ä½¿ç”¨CDSç‰¹æ€§ï¼›JDK12çš„è¿™ä¸ªç‰¹æ€§å³åœ¨64-bitå¹³å°ä¸Šç¼–è¯‘jdkçš„æ—¶å€™å°±é»˜è®¤åœ¨${JAVA_HOME}libserverç›®å½•ä¸‹ç”Ÿæˆä¸€ä»½åä¸ºclasses.jsaçš„é»˜è®¤archiveæ–‡ä»¶(å¤§æ¦‚æœ‰18M)æ–¹ä¾¿å¤§å®¶ä½¿ç”¨\n\n\n344:    Abortable Mixed Collections for G1\n\n\nG1åœ¨garbage collectionçš„æ—¶å€™ï¼Œä¸€æ—¦ç¡®å®šäº†collection set(CSet)å¼€å§‹åƒåœ¾æ”¶é›†è¿™ä¸ªè¿‡ç¨‹æ˜¯without stoppingçš„ï¼Œå½“collection setè¿‡å¤§çš„æ—¶å€™ï¼Œæ­¤æ—¶çš„STWæ—¶é—´ä¼šè¿‡é•¿è¶…å‡ºç›®æ ‡pause timeï¼Œè¿™ç§æƒ…å†µåœ¨mixed collectionsæ—¶å€™æ¯”è¾ƒæ˜æ˜¾ã€‚è¿™ä¸ªç‰¹æ€§å¯åŠ¨äº†ä¸€ä¸ªæœºåˆ¶ï¼Œå½“é€‰æ‹©äº†ä¸€ä¸ªæ¯”è¾ƒå¤§çš„collection setï¼Œå…è®¸å°†å…¶åˆ†ä¸ºmandatoryåŠoptionalä¸¤éƒ¨åˆ†(å½“å®Œæˆmandatoryçš„éƒ¨åˆ†ï¼Œå¦‚æœè¿˜æœ‰å‰©ä½™æ—¶é—´åˆ™ä¼šå»å¤„ç†optionaléƒ¨åˆ†)æ¥å°†mixed collectionsä»without stoppingå˜ä¸ºabortableï¼Œä»¥æ›´å¥½æ»¡è¶³æŒ‡å®špause timeçš„ç›®æ ‡\n\n\n346:    Promptly Return Unused Committed Memory from G1\n\n\nG1ç›®å‰åªæœ‰åœ¨full GCæˆ–è€…concurrent cycleçš„æ—¶å€™æ‰ä¼šå½’è¿˜å†…å­˜ï¼Œç”±äºè¿™ä¸¤ä¸ªåœºæ™¯éƒ½æ˜¯G1æåŠ›é¿å…çš„ï¼Œå› æ­¤åœ¨å¤§å¤šæ•°åœºæ™¯ä¸‹å¯èƒ½ä¸ä¼šåŠæ—¶ä¼šè¿˜committed Java heap memoryç»™æ“ä½œç³»ç»Ÿã€‚JDK12çš„è¿™ä¸ªç‰¹æ€§æ–°å¢äº†ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯G1PeriodicGCIntervalåŠG1PeriodicGCSystemLoadThresholdï¼Œè®¾ç½®ä¸º0çš„è¯ï¼Œè¡¨ç¤ºç¦ç”¨ã€‚å½“ä¸Šä¸€æ¬¡garbage collection pauseè¿‡å»G1PeriodicGCInterval(milliseconds)æ—¶é—´ä¹‹åï¼Œå¦‚æœgetloadavg()(one-minute)ä½äºG1PeriodicGCSystemLoadThresholdæŒ‡å®šçš„é˜ˆå€¼ï¼Œåˆ™è§¦å‘full GCæˆ–è€…concurrent GC(å¦‚æœå¼€å¯G1PeriodicGCInvokesConcurrent)ï¼ŒGCä¹‹åJava heap sizeä¼šè¢«é‡å†™è°ƒæ•´ï¼Œç„¶åå¤šä½™çš„å†…å­˜å°†ä¼šå½’è¿˜ç»™æ“ä½œç³»ç»Ÿ\n\nç»†é¡¹è§£è¯»ä¸Šé¢åˆ—å‡ºçš„æ˜¯å¤§æ–¹é¢çš„ç‰¹æ€§ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰ä¸€äº›apiçš„æ›´æ–°åŠåºŸå¼ƒï¼Œä¸»è¦è§JDK 12 Release Notesï¼Œè¿™é‡Œä¸¾å‡ ä¸ªä¾‹å­ã€‚æ·»åŠ é¡¹\n\næ”¯æŒunicode 11\næ”¯æŒCompact Number Formatting\n\n\nä½¿ç”¨å®ä¾‹å¦‚ä¸‹\n\n12345678910@Testpublic void testCompactNumberFormat()&#123;    var cnf = NumberFormat.getCompactNumberInstance(Locale.CHINA, NumberFormat.Style.SHORT);    System.out.println(cnf.format(1_0000));    System.out.println(cnf.format(1_9200));    System.out.println(cnf.format(1_000_000));    System.out.println(cnf.format(1L &lt;&lt; 30));    System.out.println(cnf.format(1L &lt;&lt; 40));    System.out.println(cnf.format(1L &lt;&lt; 50));&#125;\n\nè¾“å‡º\n1234561ä¸‡2ä¸‡100ä¸‡11äº¿1å…†1126å…†\n\n\nStringæ”¯æŒtransformã€indentæ“ä½œ\n\n1234567891011121314@Testpublic void testStringTransform()&#123;    System.out.println(hello.transform(new Function&lt;String, Integer&gt;() &#123;        @Override        public Integer apply(String s) &#123;            return s.hashCode();        &#125;    &#125;));&#125;@Testpublic void testStringIndent()&#123;    System.out.println(hello.indent(3));&#125;\n\nFilesæ–°å¢mismatchæ–¹æ³•\n12345678910111213141516@Testpublic void testFilesMismatch() throws IOException &#123;    FileWriter fileWriter = new FileWriter(tmpa.txt);    fileWriter.write(a);    fileWriter.write(b);    fileWriter.write(c);    fileWriter.close();    FileWriter fileWriterB = new FileWriter(tmpb.txt);    fileWriterB.write(a);    fileWriterB.write(1);    fileWriterB.write(c);    fileWriterB.close();    System.out.println(Files.mismatch(Path.of(tmpa.txt),Path.of(tmpb.txt)));&#125;\n\n\nCollectorsæ–°å¢teeingæ–¹æ³•ç”¨äºèšåˆä¸¤ä¸ªdownstreamçš„ç»“æœ\n\n1234567891011@Testpublic void testCollectorTeeing()&#123;    var result = Stream.of(Devoxx,Voxxed Days,Code One,Basel One)            .collect(Collectors.teeing(Collectors.filtering(n -&gt; n.contains(xx),Collectors.toList()),                                        Collectors.filtering(n -&gt; n.endsWith(One),Collectors.toList()),                    (List&lt;String&gt; list1, List&lt;String&gt; list2) -&gt; List.of(list1,list2)                                        ));    System.out.println(result.get(0));    System.out.println(result.get(1));&#125;\n\n\nCompletionStageæ–°å¢exceptionallyAsyncã€exceptionallyComposeã€exceptionallyComposeAsyncæ–¹æ³•\n\n1234567891011121314@Testpublic void testExceptionallyAsync() throws ExecutionException, InterruptedException &#123;    LOGGER.info(begin);    int result = CompletableFuture.supplyAsync(() -&gt; &#123;        LOGGER.info(calculate);        int i = 10;        return 100;    &#125;).exceptionallyAsync((t) -&gt; &#123;        LOGGER.info(error error:&#123;&#125;,t.getMessage());        return 0;    &#125;).get();    LOGGER.info(result:&#123;&#125;,result);&#125;\n\n\nJDK12ä¹‹å‰CompletionStageåªæœ‰ä¸€ä¸ªexceptionallyï¼Œè¯¥æ–¹æ³•ä½“åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œï¼ŒJDK12æ–°å¢äº†exceptionallyAsyncã€exceptionallyComposeAsyncæ–¹æ³•å…è®¸æ–¹æ³•ä½“åœ¨å¼‚æ­¥çº¿ç¨‹æ‰§è¡Œï¼ŒåŒæ—¶æ–°å¢äº†exceptionallyComposeæ–¹æ³•æ”¯æŒåœ¨exceptionallyçš„æ—¶å€™æ„å»ºæ–°çš„CompletionStage\n\nAllocation of Old Generation of Java Heap on Alternate Memory Devices\n\n\n\nG1åŠParallel GCå¼•å…¥experimentalç‰¹æ€§ï¼Œå…è®¸å°†old generationåˆ†é…åœ¨è¯¸å¦‚NV-DIMM memoryçš„alternative memory device\n\n\nZGC: Concurrent Class Unloading\n\n\nZGCåœ¨JDK11çš„æ—¶å€™è¿˜ä¸æ”¯æŒclass unloadingï¼ŒJDK12å¯¹ZGCæ”¯æŒäº†Concurrent Class Unloadingï¼Œé»˜è®¤æ˜¯å¼€å¯ï¼Œä½¿ç”¨-XX:-ClassUnloadingå¯ä»¥ç¦ç”¨\n\n\næ–°å¢-XX:+ExtensiveErrorReports\n\n\n-XX:+ExtensiveErrorReportså¯ä»¥ç”¨äºåœ¨jvm crashçš„æ—¶å€™æ”¶é›†æ›´å¤šçš„æŠ¥å‘Šä¿¡æ¯åˆ°hs_err.logæ–‡ä»¶ä¸­ï¼Œproduct buildsä¸­é»˜è®¤æ˜¯å…³é—­çš„ï¼Œè¦å¼€å¯çš„è¯ï¼Œéœ€è¦è‡ªå·±æ·»åŠ -XX:+ExtensiveErrorReportså‚æ•°\n\n\næ–°å¢å®‰å…¨ç›¸å…³çš„æ”¹è¿›\n\n\næ”¯æŒjava.security.managerç³»ç»Ÿå±æ€§ï¼Œå½“è®¾ç½®ä¸ºdisallowçš„æ—¶å€™ï¼Œåˆ™ä¸ä½¿ç”¨SecurityManagerä»¥æå‡æ€§èƒ½ï¼Œå¦‚æœæ­¤æ—¶è°ƒç”¨System.setSecurityManageråˆ™ä¼šæŠ›å‡ºUnsupportedOperationExceptionkeytoolæ–°å¢-groupnameé€‰é¡¹å…è®¸åœ¨ç”Ÿæˆkey pairçš„æ—¶å€™æŒ‡å®šä¸€ä¸ªnamed groupæ–°å¢PKCS12 KeyStoreé…ç½®å±æ€§ç”¨äºè‡ªå®šä¹‰PKCS12 keystoresçš„ç”ŸæˆJava Flight Recorderæ–°å¢äº†security-relatedçš„eventæ”¯æŒChaCha20 and Poly1305 TLS Cipher Suites\n\n\njdeps Reports Transitive Dependences\n\n\njdepsçš„â€“print-module-deps, â€“list-deps, ä»¥åŠâ€“list-reduce-depsé€‰é¡¹å¾—åˆ°å¢å¼ºï¼Œæ–°å¢â€“no-recursiveç”¨äºnon-transitiveçš„ä¾èµ–åˆ†æï¼Œâ€“ignore-missing-depsç”¨äºsuppress missing dependence errors\n\nç§»é™¤é¡¹\nç§»é™¤com.sun.awt.SecurityWarnin\nç§»é™¤FileInputStreamã€FileOutputStreamã€Java.util.ZipFileInflatorDeflatorçš„finalizeæ–¹æ³•\nç§»é™¤GTE CyberTrust Global Root\nç§»é™¤javacçš„-source, -targetå¯¹6åŠ1.6çš„æ”¯æŒï¼ŒåŒæ—¶ç§»é™¤â€“releaseé€‰é¡¹\n\nåºŸå¼ƒé¡¹\nåºŸå¼ƒçš„APIåˆ—è¡¨è§deprecated-list\nåºŸå¼ƒ-XX:+-MonitorInUseListsé€‰é¡¹\nåºŸå¼ƒDefault Keytoolçš„-keyalgå€¼\n\nå·²çŸ¥é—®é¢˜\nSwingä¸æ”¯æŒGTK+ 3.20åŠä»¥åçš„ç‰ˆæœ¬\nåœ¨ä½¿ç”¨JVMCI Compiler(æ¯”å¦‚Graal)çš„æ—¶å€™ï¼ŒJVMTIçš„can_pop_frameåŠcan_force_early_returnçš„capabilitiesæ˜¯è¢«ç¦ç”¨çš„\n\nå…¶ä»–äº‹é¡¹\nå¦‚æœç”¨æˆ·æ²¡æœ‰æŒ‡å®šuser.timezoneä¸”ä»æ“ä½œç³»ç»Ÿè·å–çš„ä¸ºç©ºï¼Œé‚£ä¹ˆuser.timezoneå±æ€§çš„åˆå§‹å€¼ä¸ºç©ºå˜ä¸ºnull\njava.net.URLPermissionçš„è¡Œä¸ºå‘ç”Ÿè½»å¾®å˜åŒ–ï¼Œä»¥å‰å®ƒä¼šå¿½ç•¥urlä¸­çš„queryåŠfragmentéƒ¨åˆ†ï¼Œè¿™æ¬¡æ”¹åŠ¨æ–°å¢queryåŠfragmentéƒ¨åˆ†ï¼Œå³scheme :  authority [  path ]å˜åŠ¨ä¸ºscheme :  authority [  path ] [ ignored-query-or-fragment ]\njavax.net.ssl.SSLContext APIåŠJava Security Standard Algorithm Namesè§„èŒƒç§»é™¤äº†å¿…é¡»å®ç°TLSv1åŠTLSv1.1çš„è§„å®š\n\nå°ç»“\njava12ä¸æ˜¯LTS(Long-Term Support)ç‰ˆæœ¬(oracleç‰ˆæœ¬æ‰æœ‰LTS)ï¼Œoracleå¯¹è¯¥ç‰ˆæœ¬çš„supportå‘¨æœŸä¸º6ä¸ªæœˆã€‚è¿™ä¸ªç‰ˆæœ¬ä¸»è¦æœ‰å‡ ä¸ªæ›´æ–°ç‚¹ï¼Œä¸€ä¸ªæ˜¯è¯­æ³•å±‚æ›´æ–°ï¼Œä¸€ä¸ªæ˜¯APIå±‚é¢çš„æ›´æ–°ï¼Œå¦å¤–ä¸»è¦æ˜¯GCæ–¹é¢çš„æ›´æ–°ã€‚\nè¯­æ³•å±‚é¢å¼•å…¥äº†previewç‰ˆæœ¬çš„Switch Expressionsï¼›APIå±‚é¢å¼•å…¥äº†JVM Constants APIï¼Œå¼•å…¥CompactNumberFormatï¼Œè®©NumberFormatæ”¯æŒCOMPACTSTYLEï¼Œå¯¹Stringã€Filesã€Collectorsã€CompletionStageç­‰æ–°å¢æ–¹æ³•ï¼›GCæ–¹é¢å¼•å…¥äº†experimentalç‰ˆæœ¬çš„Shenandoah GCï¼Œä¸è¿‡oracle buildçš„openjdkæ²¡æœ‰enable Shenandoah GC supportï¼›å¦å¤–ä¸»è¦å¯¹ZGCåŠG1 GCè¿›è¡Œäº†æ”¹è¿›\nå…¶ä¸­JDK12å¯¹ZGCæ”¯æŒäº†Concurrent Class Unloadingï¼Œé»˜è®¤æ˜¯å¼€å¯ï¼Œä½¿ç”¨-XX:-ClassUnloadingå¯ä»¥ç¦ç”¨ï¼›å¯¹äºG1 GCåˆ™æ–°å¢æ”¯æŒAbortable Mixed Collectionsä»¥åŠPromptly Return Unused Committed Memoryç‰¹æ€§\n\n\nä½œè€…ï¼šgo4ité“¾æ¥ï¼šhttps:juejin.impost5c91fcc9e51d45563b62382cæ¥æºï¼šæ˜é‡‘\n\n","tags":["Java"],"path":"2019/09/16/Java12çš„æ–°ç‰¹æ€§/","external_link":""},{"title":"440. å­—å…¸åºçš„ç¬¬Kå°æ•°å­—","date":"2019-09-17T08:37:24.000Z","content":"440. å­—å…¸åºçš„ç¬¬Kå°æ•°å­—é¢˜ç›®\nç»™å®šæ•´æ•° n å’Œ kï¼Œæ‰¾åˆ° 1 åˆ° n ä¸­å­—å…¸åºç¬¬ k å°çš„æ•°å­—ã€‚\n\n\næ³¨æ„ï¼š1 â‰¤ k â‰¤ n â‰¤ 109ã€‚\n\nç¤ºä¾‹ :\n12345678è¾“å…¥:n: 13   k: 2è¾“å‡º:10è§£é‡Š:å­—å…¸åºçš„æ’åˆ—æ˜¯ [1, 10, 11, 12, 13, 2, 3, 4, 5, 6, 7, 8, 9]ï¼Œæ‰€ä»¥ç¬¬äºŒå°çš„æ•°å­—æ˜¯ 10ã€‚\n\né¢˜è§£ä¹ä¸€çœ‹è¿™ä¸€é¢˜è²Œä¼¼æ¯«æ— å¤´ç»ªï¼Œä»€ä¹ˆæ˜¯å­—å…¸åºï¼Ÿå¦‚ä½•å®šä½è¿™ä¸ªæ•°ï¼Ÿæ²¡é”™ï¼Œåˆšæ¥è§¦è¿™ä¸ªé¢˜ç›®çš„æ—¶å€™ï¼Œæˆ‘çš„è„‘ç­‹é‡Œä¹Ÿæ˜¯ä¸€å›¢ä¹±éº»ã€‚\nä½†æ˜¯æˆ‘è§‰å¾—ä½œä¸ºä¸€ä¸ªæ‹¥æœ‰èªæ˜æ‰æ™ºçš„ç¨‹åºå‘˜æ¥è¯´ï¼Œæœ€é‡è¦çš„èƒ½åŠ›å°±æ˜¯è¿…é€ŸæŠ½è±¡é—®é¢˜ã€æ‹†è§£é—®é¢˜çš„èƒ½åŠ›ã€‚ç»è¿‡ä¸€æ®µæ—¶é—´çš„æ€è€ƒï¼Œæˆ‘çš„è„‘ç­‹é‡Œè¿˜æ˜¯æ²¡æœ‰ç­”æ¡ˆã€‚\nå“ˆå“ˆã€‚\nè¨€å½’æ­£ä¼ ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚\né¦–å…ˆï¼Œä»€ä¹ˆæ˜¯å­—å…¸åºï¼Ÿ\nä»€ä¹ˆæ˜¯å­—å…¸åºï¼Ÿç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯æ ¹æ®æ•°å­—çš„å‰ç¼€è¿›è¡Œæ’åºï¼Œ\næ¯”å¦‚10 &lt; 9ï¼Œå› ä¸º10çš„å‰ç¼€æ˜¯1ï¼Œæ¯”9å°ï¼Œ\nå†æ¯”å¦‚112 &lt; 12ï¼Œå› ä¸º112çš„å‰ç¼€11å°äº12ã€‚\nè¿™æ ·æ’åºä¸‹æ¥ï¼Œä¼šè·Ÿå¹³å¸¸çš„å‡åºæ’åºä¼šæœ‰éå¸¸å¤§çš„ä¸åŒã€‚å…ˆç»™ä½ ä¸€ä¸ªç›´è§‚çš„æ„Ÿå—ï¼Œä¸€ä¸ªæ•°ä¹˜10ï¼Œæˆ–è€…åŠ 1ï¼Œå“ªä¸ªå¤§ï¼Ÿå¯èƒ½ä½ ä¼šåƒæƒŠï¼Œåè€…ä¼šæ›´å¤§ã€‚\nä½†å…¶å®æŒæ¡å®ƒçš„æœ¬è´¨ä¹‹åï¼Œä½ ä¸€ç‚¹éƒ½ä¸ä¼šåƒæƒŠã€‚\né—®é¢˜å»ºæ¨¡ç”»ä¸€ä¸ªå›¾ä½ å°±æ‡‚äº†ã€‚\n\næ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ‹¥æœ‰10ä¸ªå­©å­èŠ‚ç‚¹ï¼Œå› ä¸ºä½œä¸ºä¸€ä¸ªå‰ç¼€ ï¼Œå®ƒåé¢å¯ä»¥æ¥0~9è¿™åä¸ªæ•°å­—ã€‚è€Œä¸”ä½ å¯ä»¥éå¸¸å®¹æ˜“åœ°å‘ç°ï¼Œæ•´ä¸ªå­—å…¸åºæ’åˆ—ä¹Ÿå°±æ˜¯å¯¹åå‰æ ‘è¿›è¡Œå±‚åºéå†ã€‚1, 10, 11, 12, 13 â€¦ 100, 101, â€¦\nå›åˆ°é¢˜ç›®çš„æ„æ€ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ’åœ¨ç¬¬kä½çš„æ•°ã€‚æ‰¾åˆ°ä»–çš„æ’ä½ï¼Œéœ€è¦ææ¸…æ¥šä¸‰ä»¶äº‹æƒ…:\næ€ä¹ˆç¡®å®šä¸€ä¸ªå‰ç¼€ä¸‹æ‰€æœ‰å­èŠ‚ç‚¹çš„ä¸ªæ•°ï¼Ÿå¦‚æœç¬¬kä¸ªæ•°åœ¨å½“å‰çš„å‰ç¼€ä¸‹ï¼Œæ€ä¹ˆç»§ç»­å¾€ä¸‹é¢çš„å­èŠ‚ç‚¹æ‰¾ï¼Ÿå¦‚æœç¬¬kä¸ªæ•°ä¸åœ¨å½“å‰çš„å‰ç¼€ï¼Œå³å½“å‰çš„å‰ç¼€æ¯”è¾ƒå°ï¼Œå¦‚ä½•æ‰©å¤§å‰ç¼€ï¼Œå¢å¤§å¯»æ‰¾çš„èŒƒå›´ï¼Ÿæ¥ä¸‹æ¥ ï¼Œæˆ‘ä»¬ä¸€ä¸€æ‹†è§£è¿™äº›é—®é¢˜ã€‚\nç†é¡ºæ€è·¯\n\nç¡®å®šæŒ‡å®šå‰ç¼€ä¸‹æ‰€æœ‰å­èŠ‚ç‚¹æ•°ç°åœ¨çš„ä»»åŠ¡å°±æ˜¯ç»™å®šä¸€ä¸ªå‰ç¼€ï¼Œè¿”å›ä¸‹é¢å­èŠ‚ç‚¹æ€»æ•°ã€‚\n\næˆ‘ä»¬ç°åœ¨çš„æ€è·¯å°±æ˜¯ç”¨ä¸‹ä¸€ä¸ªå‰ç¼€çš„èµ·ç‚¹å‡å»å½“å‰å‰ç¼€çš„èµ·ç‚¹ï¼Œé‚£ä¹ˆå°±æ˜¯å½“å‰å‰ç¼€ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹æ•°æ€»å’Œå•¦ã€‚\n123456789101112131415161718prefixæ˜¯å‰ç¼€ï¼Œnæ˜¯ä¸Šç•Œvar getCount = (prefix, n) =&gt; &#123;    let cur = prefix;    let next = prefix + 1;ä¸‹ä¸€ä¸ªå‰ç¼€    let count = 0;    å½“å‰çš„å‰ç¼€å½“ç„¶ä¸èƒ½å¤§äºä¸Šç•Œ    while(cur &lt;= n) &#123;        count += next - cur;ä¸‹ä¸€ä¸ªå‰ç¼€çš„èµ·ç‚¹å‡å»å½“å‰å‰ç¼€çš„èµ·ç‚¹        cur *= 10;         next *= 10;         å¦‚æœè¯´åˆšåˆšprefixæ˜¯1ï¼Œnextæ˜¯2ï¼Œé‚£ä¹ˆç°åœ¨åˆ†åˆ«å˜æˆ10å’Œ20         1ä¸ºå‰ç¼€çš„å­èŠ‚ç‚¹å¢åŠ 10ä¸ªï¼Œåå‰æ ‘å¢åŠ ä¸€å±‚, å˜æˆäº†ä¸¤å±‚                 å¦‚æœè¯´ç°åœ¨prefixæ˜¯10ï¼Œnextæ˜¯20ï¼Œé‚£ä¹ˆç°åœ¨åˆ†åˆ«å˜æˆ100å’Œ200ï¼Œ         1ä¸ºå‰ç¼€çš„å­èŠ‚ç‚¹å¢åŠ 100ä¸ªï¼Œåå‰æ ‘åˆå¢åŠ äº†ä¸€å±‚ï¼Œå˜æˆäº†ä¸‰å±‚    &#125;    return count;æŠŠå½“å‰å‰ç¼€ä¸‹çš„å­èŠ‚ç‚¹å’Œè¿”å›å»ã€‚&#125;\n\nå½“ç„¶ï¼Œä¸çŸ¥é“å¤§å®¶å‘ç°ä¸€ä¸ªé—®é¢˜æ²¡æœ‰ï¼Œå½“nextçš„å€¼å¤§äºä¸Šç•Œçš„æ—¶å€™ï¼Œé‚£ä»¥è¿™ä¸ªå‰ç¼€ä¸ºæ ¹èŠ‚ç‚¹çš„åå‰æ ‘å°±ä¸æ˜¯æ»¡åå‰æ ‘äº†å•Šï¼Œåº”è¯¥åˆ°ä¸Šç•Œé‚£é‡Œï¼Œåé¢éƒ½ä¸å†æœ‰å­èŠ‚ç‚¹ã€‚å› æ­¤ï¼Œcount += next - curè¿˜æ˜¯æœ‰äº›é—®é¢˜çš„ï¼Œæˆ‘ä»¬æ¥ä¿®æ­£è¿™ä¸ªé—®é¢˜:\n1count += Math.max(n+1, next) - cur;\n\nä½ å¯èƒ½ä¼šé—®:å’¦ï¼Ÿæ€ä¹ˆæ˜¯n+1,è€Œä¸æ˜¯nå‘¢ï¼Ÿä¸æ˜¯è¯´å¥½äº†næ˜¯ä¸Šç•Œå—ï¼Ÿ\næˆ‘ä¸¾ä¸ªä¾‹å­ï¼Œå‡è‹¥ç°åœ¨ä¸Šç•Œnä¸º12ï¼Œç®—å‡ºä»¥1ä¸ºå‰ç¼€çš„å­èŠ‚ç‚¹æ•°ï¼Œé¦–å…ˆ1æœ¬èº«æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ¥ä¸‹æ¥è¦ç®—ä¸‹é¢10ï¼Œ11ï¼Œ12ï¼Œä¸€å…±æœ‰4ä¸ªå­èŠ‚ç‚¹ã€‚\né‚£ä¹ˆå¦‚æœç”¨Math.max(n, next) - curä¼šæ€ä¹ˆæ ·ï¼Ÿ\nè¿™æ—¶å€™ç®—å‡ºæ¥ä¼šå°‘ä¸€ä¸ªï¼Œ12 - 10åŠ ä¸Šæ ¹èŠ‚ç‚¹ï¼Œæœ€ååªæœ‰3ä¸ªã€‚å› æ­¤æˆ‘ä»¬åŠ¡å¿…è¦å†™n+1ã€‚\nç°åœ¨ï¼Œæˆ‘ä»¬æå®šäº†å‰ç¼€çš„å­èŠ‚ç‚¹æ•°é—®é¢˜ã€‚\n\nç¬¬kä¸ªæ•°åœ¨å½“å‰å‰ç¼€ä¸‹ç°åœ¨æ— éå°±æ˜¯å¾€å­æ ‘é‡Œé¢å»çœ‹ã€‚\n\nprefixè¿™æ ·å¤„ç†å°±å¯ä»¥äº†ã€‚\n1prefix *= 10\n\n3.ç¬¬kä¸ªæ•°ä¸åœ¨å½“å‰å‰ç¼€ä¸‹è¯´ç™½äº†ï¼Œå½“å‰çš„å‰ç¼€å°äº†å˜›ï¼Œæˆ‘ä»¬æ‰©å¤§å‰ç¼€ã€‚\n1prefix ++;\n\næ¡†æ¶æ­å»ºæ•´åˆä¸€ä¸‹åˆšåˆšçš„æ€è·¯ã€‚\n123456789101112131415let findKthNumber = function(n, k) &#123;  let p = 1;ä½œä¸ºä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å½“å‰æ‰€åœ¨ä½ç½®ï¼Œå½“p==kæ—¶ï¼Œä¹Ÿå°±æ˜¯åˆ°äº†æ’ä½ç¬¬kçš„æ•°  let prefix = 1;å‰ç¼€  while(p &lt; k) &#123;    let count = getNumber(prefix, n);è·å¾—å½“å‰å‰ç¼€ä¸‹æ‰€æœ‰å­èŠ‚ç‚¹çš„å’Œ    if(p + count &gt; k) &#123; ç¬¬kä¸ªæ•°åœ¨å½“å‰å‰ç¼€ä¸‹      prefix *= 10;      p++; æŠŠæŒ‡é’ˆæŒ‡å‘äº†ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹çš„ä½ç½®ï¼Œæ¯”å¦‚11ä¹˜10åå˜æˆ110ï¼ŒæŒ‡é’ˆä»11æŒ‡å‘äº†110    &#125; else if(p + count &lt;= k) &#123; ç¬¬kä¸ªæ•°ä¸åœ¨å½“å‰å‰ç¼€ä¸‹      prefix ++;      p += count;æ³¨æ„è¿™é‡Œçš„æ“ä½œï¼ŒæŠŠæŒ‡é’ˆæŒ‡å‘äº†ä¸‹ä¸€å‰ç¼€çš„èµ·ç‚¹    &#125;  &#125;  return prefix;&#125;;\n\nå®Œæ•´ä»£ç å±•ç¤º\n1234567891011121314151617181920212223242526** * @param &#123;number&#125; n * @param &#123;number&#125; k * @return &#123;number&#125; *var findKthNumber = function(n, k) &#123;  let getCount = (prefix, n) =&gt; &#123;    let count =  0;    for(let cur = prefix, next = prefix + 1; cur &lt;= n; cur *= 10, next *= 10)       count += Math.min(next, n+1) - cur;    return count;  &#125;  let p = 1;  let prefix = 1;  while(p &lt; k) &#123;    let count = getCount(prefix, n);    if(p + count &gt; k) &#123;      prefix *= 10;      p++;    &#125; else if(p + count &lt;= k) &#123;      prefix ++;      p += count;    &#125;  &#125;  return prefix;&#125;;\n\n123456789101112131415161718192021222324252627282930313233public class Solution &#123;    **     * @param n: a integer     * @param k: a integer     * @return: return a integer     *    public int findKthNumber(int n, int k) &#123;        int curr = 1;        k = k - 1;        while (k &gt; 0) &#123;            int steps = calSteps(n, curr, curr + 1);            if (steps &lt;= k) &#123;   å¦‚æœä¸åœ¨å½“å‰å±‚ï¼Œå‡å»steps                curr += 1;                      k -= steps;              &#125;             else &#123;              è¯´æ˜åœ¨å½“å‰å±‚,curr*10ç¼©å°æœç´¢èŒƒå›´ç»§ç»­æŸ¥æ‰¾                curr *= 10;                k -= 1;            &#125;        &#125;        return curr;    &#125;    use long in case of overflow    public int calSteps(int n, long n1, long n2) &#123; è®¡ç®—currå¼€å¤´å’Œcurr+1å¼€å¤´ä¹‹é—´çš„å­—ç¬¦ä¸²æ•°é‡        int steps = 0;        while (n1 &lt;= n) &#123;            steps += Math.min(n + 1, n2) - n1;  æ¯æ¬¡åŠ ä¸Šå½“å‰çš„å­—ç¬¦ä¸²æ•°é‡            n1 *= 10;       æ¯æ¬¡å‡æ‰©å¤§10å€            n2 *= 10;        &#125;        return steps;    &#125;&#125;\n\n","tags":["ç®—æ³•","leetcode"],"path":"2019/09/17/440-å­—å…¸åºçš„ç¬¬Kå°æ•°å­—/","external_link":""},{"title":"é¢è¯•ç¬”è®°","date":"2019-09-18T15:44:09.000Z","content":"ç‰›å®¢è®¸æ„¿çš„å°ç±³ä¸€é¢ï¼Œè´¡çŒ®é¢ç»1è®¸æ„¿èƒ½æŒºè¿›äºŒé¢ï¼ŒåŠ æ²¹ï¼Œå‘ç€ç›®æ ‡å†²å‘€~~~~\nâ€”â€”javaé›†åˆç›¸å…³\nobjectç±»ä¸­çš„hashCodeï¼ˆï¼‰æ–¹æ³•æ˜¯åšä»€ä¹ˆçš„ï¼Œä»¥åŠå…¶ä¸­çš„hashï¼ˆï¼‰æ–¹æ³•æ˜¯åšä»€ä¹ˆçš„ï¼Œ ä¸ºä»€ä¹ˆæœ‰hashï¼ˆï¼‰æ–¹æ³•è¿˜æœ‰hashCodeï¼ˆï¼‰\nhashmapçš„putè¿‡ç¨‹ ä¸»è¦å°±æ˜¯æ ¹æ®è‡ªå·±çœ‹è¿‡çš„æºç è¯´ä¸€ä¸‹æµç¨‹ArrayList LinkListçš„ç‰¹ç‚¹\nâ€”â€”å¤šçº¿ç¨‹ç›¸å…³\nsynchronized\nreettrantLock é™¤äº†å¯é‡å…¥è¿˜æœ‰ä»€ä¹ˆå…³é”®ç‰¹æ€§\nthreadLocal threadLocal ä¼šé€ æˆä»€ä¹ˆé—®é¢˜ ä¸ºä»€ä¹ˆä¼šé€ æˆå†…å­˜æ³„æ¼\nå•ä¾‹æ¨¡å¼ synchronizedå®ç°æ‡’æ±‰æ¨¡å¼ ç­” å†…éƒ¨ç±» ä¸ºä»€ä¹ˆç”¨å†…éƒ¨ç±»æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Ÿ\nâ€”â€”æ•°æ®åº“ç›¸å…³\næ·»åŠ ç´¢å¼•çš„æ—¶å€™è¦æ³¨æ„ä»€ä¹ˆ\nç´¢å¼•ä¼˜åŒ–ä»¥åŠåœ¨ä½¿ç”¨ç´¢å¼•çš„æ—¶å€™è¦æ³¨æ„ä»€ä¹ˆ\nredisçš„é”®çš„æ·˜æ±°ç­–ç•¥ï¼Œä¼šè¾¾æˆäº†redisç¼“å­˜çš„æ·˜æ±°ç­–ç•¥\nâ€”â€”ç½‘ç»œç›¸å…³\ntcpå››æ¬¡æ¡æ‰‹ï¼Œæœ€åçš„çŠ¶æ€æ˜¯ä»€ä¹ˆï¼Œå›ç­”ç­‰å¾…2MSL\nä¸ºä»€ä¹ˆè¦ç­‰ç€2MSLï¼Œç­‰å¾…å¤šäº†ä¼šé€ æˆä»€ä¹ˆ\nhttpè¯·æ±‚çš„æŠ¥æ–‡ç»“æ„ï¼Œkeep-aliveæ˜¯ç”¨æ¥åšä»€ä¹ˆçš„\nâ€”â€”spring spingboot\nspringä¸­å¯¹è±¡å¢å¼ºå¦‚ä½•å®ç° å›ç­”æ²¡å¬è¿‡è¿™ä¸ªæ¦‚å¿µï¼Œç„¶åè¢«å¼•å¯¼å›åˆ°IOCå’ŒAOPï¼Œä»¥åŠAOPæ˜¯ä»€ä¹ˆï¼Œå®ç°è¿‡ç¨‹\nâ€”â€”å£è¿°ç®—æ³•æ€è·¯\nç»™ä¸€ä¸ªæ ˆçš„æ•°æ®ç»“æ„ï¼Œå®ç°å¦å¤–ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œè¦æ±‚ä¿ç•™æ ˆçš„ç‰¹æ€§ï¼ŒåŒæ—¶èƒ½å¤Ÿæä¾›å»æœ€å¤§å€¼å’Œæœ€å°å€¼çš„æ–¹æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆ1ï¼‰\nä¹‹å‰ä¸€ç›´æ²¡æ˜ç™½æ˜¯è¦åšä»€ä¹ˆï¼Œåæ¥æƒ³åˆ°åšè¿‡ç±»ä¼¼çš„é¢˜ã€‚å¹¸å¥½åªæ˜¯è¯´æ€è·¯ï¼Œæ²¡æœ‰è¦æ‰‹å†™ï¼Œé‚£ä¸ªæ—¶å€™å·²ç»è¢«å‰é¢å‡ ä¸ªå›ç­”çš„ä¸å¤ªå¥½çš„é—®é¢˜éš¾çš„å¾ˆç´§å¼ ï¼Œè¯´åšä¸ªç®€å•çš„ç®—æ³•é¢˜çš„æ—¶å€™ï¼Œæˆ‘çš„å¿ƒç´§ç´§ä¸€é¢¤ï¼Œå¿ƒæƒ³ï¼Œä½ ç¡®å®šä¼šç®€å•ï¼Œè¿˜å¥½ï¼Œè¿˜å¥½ï¼Œç»“æœä¸‹æ¥æ²¡é‚£ä¹ˆéš¾\nâ€”â€”ç½‘ç»œç¼–ç¨‹\nå“ªå‡ ç§IOç±»å‹\nè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ æœ‰ç‚¹å¿˜äº†ï¼Œè¿™ä¸€å—åœ¨ç®€å†ä¸Šå†™äº†ï¼Œä¸è¿‡æŒæ¡çš„ä¸æ˜¯å¾ˆå¥½\nâ€”â€”JVM\nç±»åŠ è½½æœºåˆ¶â€”â€”å›ç­”äº†ä¸€ä¸‹åŒäº²å§”æ´¾æ¨¡å‹ç›¸å…³çš„å†…å®¹\nâ€”â€”æœ‰ä»€ä¹ˆæƒ³é—®æˆ‘çš„\né¢è¯•å®˜è›®å¹´è½»ï¼ŒçœŸçš„å¾ˆå¥½ï¼Œä¸€ç›´åœ¨å¼•å¯¼æˆ‘å›ç­”é—®é¢˜ï¼Œä¸ä¼šçš„ä¹Ÿæ²¡æœ‰æªç€ä¸æ”¾å¾ˆå–œæ¬¢è¯´ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥é—®ä¸€ä¸ªç®€å•çš„é—®é¢˜ï¼Œå“ˆå“ˆå“ˆï¼Œç®€å•ç®€å•ç€å°±å˜å¾—ä¸ç®€å•äº†\næ˜¯è‡ªå·±æ¯”è¾ƒæ»¡æ„çš„ä¸€æ¬¡é¢è¯•\næ—¢å±•ç¤ºäº†è‡ªå·±æ‰€æŒæ¡çš„çŸ¥è¯†ï¼Œä¹Ÿæš´éœ²äº†æŒæ¡çŸ¥è¯†ä¸­çš„é—®é¢˜ï¼Œç»™è‡ªå·±åé¢çš„å¤ä¹ æœ‰äº†ä¸€å®šçš„æŒ‡å¼•\næ„Ÿè°¢CYCå¤§ä½¬çš„ç§˜ç±1234æœ€åï¼Œé‡è¦çš„è¯å†æ¥å‡ æ¬¡è®¸æ„¿èƒ½æŒºè¿›äºŒé¢ï¼ŒåŠ æ²¹ï¼Œå‘ç€ç›®æ ‡å†²å‘€~~~~\nè®¸æ„¿èƒ½æŒºè¿›äºŒé¢ï¼ŒåŠ æ²¹ï¼Œå‘ç€ç›®æ ‡å†²å‘€1è®¸æ„¿èƒ½æŒºè¿›äºŒé¢ï¼ŒåŠ æ²¹ï¼Œå‘ç€ç›®æ ‡å†²å‘€\n","tags":["é¢è¯•"],"path":"2019/09/18/é¢è¯•ç¬”è®°/","external_link":""},{"title":"JavaçŸ¥è¯†ç‚¹","date":"2019-09-20T02:24:00.000Z","content":"Javaç›¸å…³è¯·é—®JDKå’ŒJREçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ\nJDK ï¼šJava å¼€å‘å·¥å…·åŒ…,jdk æ˜¯æ•´ä¸ª Java å¼€å‘çš„æ ¸å¿ƒï¼Œå®ƒé›†æˆäº† jre å’Œä¸€äº›å¥½ç”¨çš„å°å·¥å…·ã€‚JRE ï¼šJava è¿è¡Œæ—¶ç¯å¢ƒã€‚å®ƒä¸»è¦åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼Œjvm çš„æ ‡å‡†å®ç°å’Œ Java çš„ä¸€äº›åŸºæœ¬ç±»åº“ã€‚\n\nspringbootçš„æ³¨è§£æœ‰ä»€ä¹ˆï¼ŒåŸç†ï¼Ÿ@Beanç”¨æ¥ä»£æ›¿ XML é…ç½®æ–‡ä»¶é‡Œé¢çš„ &lt;bean â€¦&gt; é…ç½®ã€‚@ImportResourceå¦‚æœæœ‰äº›é€šè¿‡ç±»çš„æ³¨å†Œæ–¹å¼é…ç½®ä¸äº†çš„ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªæ³¨è§£å¼•å…¥é¢å¤–çš„ XML é…ç½®æ–‡ä»¶ï¼Œæœ‰äº›è€çš„é…ç½®æ–‡ä»¶æ— æ³•é€šè¿‡ @Configuration æ–¹å¼é…ç½®çš„éå¸¸ç®¡ç”¨ã€‚@Importç”¨æ¥å¼•å…¥é¢å¤–çš„ä¸€ä¸ªæˆ–è€…å¤šä¸ª @Configuration ä¿®é¥°çš„é…ç½®æ–‡ä»¶ç±»ã€‚@SpringBootConfigurationè¿™ä¸ªæ³¨è§£å°±æ˜¯ @Configuration æ³¨è§£çš„å˜ä½“ï¼Œåªæ˜¯ç”¨æ¥ä¿®é¥°æ˜¯ Spring Boot é…ç½®è€Œå·²ï¼Œæˆ–è€…å¯åˆ©äº Spring Boot åç»­çš„æ‰©å±•ï¼Œæºç å¦‚ä¸‹ã€‚@SpringBootApplicationï¼šåŒ…å«äº†@ComponentScanã€@Configurationå’Œ@EnableAutoConfigurationæ³¨è§£ã€‚å…¶ä¸­@ComponentScanè®©spring Bootæ‰«æåˆ°Configurationç±»å¹¶æŠŠå®ƒåŠ å…¥åˆ°ç¨‹åºä¸Šä¸‹æ–‡ã€‚@Configuration ç­‰åŒäºspringçš„XMLé…ç½®æ–‡ä»¶ï¼›ä½¿ç”¨Javaä»£ç å¯ä»¥æ£€æŸ¥ç±»å‹å®‰å…¨ã€‚@EnableAutoConfiguration è‡ªåŠ¨é…ç½®ã€‚@ComponentScan ç»„ä»¶æ‰«æï¼Œå¯è‡ªåŠ¨å‘ç°å’Œè£…é…ä¸€äº›Beanã€‚@Componentå¯é…åˆCommandLineRunnerä½¿ç”¨ï¼Œåœ¨ç¨‹åºå¯åŠ¨åæ‰§è¡Œä¸€äº›åŸºç¡€ä»»åŠ¡ã€‚@RestControlleræ³¨è§£æ˜¯@Controllerå’Œ@ResponseBodyçš„åˆé›†,è¡¨ç¤ºè¿™æ˜¯ä¸ªæ§åˆ¶å™¨bean,å¹¶ä¸”æ˜¯å°†å‡½æ•°çš„è¿”å›å€¼ç›´ æ¥å¡«å…¥HTTPå“åº”ä½“ä¸­,æ˜¯RESTé£æ ¼çš„æ§åˆ¶å™¨ã€‚@Autowiredè‡ªåŠ¨å¯¼å…¥ã€‚@PathVariableè·å–å‚æ•°ã€‚@JsonBackReferenceè§£å†³åµŒå¥—å¤–é“¾é—®é¢˜ã€‚@RepositoryRestResourcepublicé…åˆspring-boot-starter-data-restä½¿ç”¨ã€‚\n@RequestMappingï¼š@RequestMapping(â€œpathâ€)è¡¨ç¤ºè¯¥æ§åˆ¶å™¨å¤„ç†æ‰€æœ‰â€œpathâ€çš„UR Lè¯·æ±‚ã€‚RequestMappingæ˜¯ä¸€ä¸ªç”¨æ¥å¤„ç†è¯·æ±‚åœ°å€æ˜ å°„çš„æ³¨è§£ï¼Œå¯ç”¨äºç±»æˆ–æ–¹æ³•ä¸Šã€‚ç”¨äºç±»ä¸Šï¼Œè¡¨ç¤ºç±»ä¸­çš„æ‰€æœ‰å“åº”è¯·æ±‚çš„æ–¹æ³•éƒ½æ˜¯ä»¥è¯¥åœ°å€ä½œä¸ºçˆ¶è·¯å¾„ã€‚è¯¥æ³¨è§£æœ‰å…­ä¸ªå±æ€§ï¼šparams:æŒ‡å®šrequestä¸­å¿…é¡»åŒ…å«æŸäº›å‚æ•°å€¼æ˜¯ï¼Œæ‰è®©è¯¥æ–¹æ³•å¤„ç†ã€‚headers:æŒ‡å®šrequestä¸­å¿…é¡»åŒ…å«æŸäº›æŒ‡å®šçš„headerå€¼ï¼Œæ‰èƒ½è®©è¯¥æ–¹æ³•å¤„ç†è¯·æ±‚ã€‚value:æŒ‡å®šè¯·æ±‚çš„å®é™…åœ°å€ï¼ŒæŒ‡å®šçš„åœ°å€å¯ä»¥æ˜¯URI Template æ¨¡å¼method:æŒ‡å®šè¯·æ±‚çš„methodç±»å‹ï¼Œ GETã€POSTã€PUTã€DELETEç­‰consumes:æŒ‡å®šå¤„ç†è¯·æ±‚çš„æäº¤å†…å®¹ç±»å‹ï¼ˆContent-Typeï¼‰ï¼Œå¦‚applicationjson,texthtml;produces:æŒ‡å®šè¿”å›çš„å†…å®¹ç±»å‹ï¼Œä»…å½“requestè¯·æ±‚å¤´ä¸­çš„(Accept)ç±»å‹ä¸­åŒ…å«è¯¥æŒ‡å®šç±»å‹æ‰è¿”å›\n@RequestParamï¼šç”¨åœ¨æ–¹æ³•çš„å‚æ•°å‰é¢ã€‚@RequestParamString a =request.getParameter(â€œaâ€)ã€‚\n@PathVariable:è·¯å¾„å˜é‡ã€‚å¦‚\n1234@RequestMapping(â€œusergetmac&#123;macAddress&#125;â€) public String getByMacAddress(@PathVariable String macAddress)&#123; do something; &#125;\n\nSpring Bootçš„è‡ªåŠ¨é…ç½®çœ‹èµ·æ¥ç¥å¥‡ï¼Œå…¶å®åŸç†éå¸¸ç®€å•ï¼ŒèƒŒåå…¨ä¾èµ–äº@Conditionalæ³¨è§£æ¥å®ç°çš„ã€‚\nobjectç±»ä¸­çš„hashCodeï¼ˆï¼‰æ–¹æ³•æ˜¯åšä»€ä¹ˆçš„ï¼Œä»¥åŠå…¶ä¸­çš„hashï¼ˆï¼‰æ–¹æ³•æ˜¯åšä»€ä¹ˆçš„ï¼Œ ä¸ºä»€ä¹ˆæœ‰hashï¼ˆï¼‰æ–¹æ³•è¿˜æœ‰hashCodeï¼ˆï¼‰å“ˆå¸Œè¡¨è¿™ä¸ªæ•°æ®ç»“æ„æƒ³å¿…å¤§å¤šæ•°äººéƒ½ä¸é™Œç”Ÿï¼Œè€Œä¸”åœ¨å¾ˆå¤šåœ°æ–¹éƒ½ä¼šåˆ©ç”¨åˆ°hashè¡¨æ¥æé«˜æŸ¥æ‰¾æ•ˆç‡ã€‚åœ¨Javaçš„Objectç±»ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•:\n1public native int hashCode();\n\næ ¹æ®è¿™ä¸ªæ–¹æ³•çš„å£°æ˜å¯çŸ¥ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªintç±»å‹çš„æ•°å€¼ï¼Œå¹¶ä¸”æ˜¯æœ¬åœ°æ–¹æ³•ï¼Œå› æ­¤åœ¨Objectç±»ä¸­å¹¶æ²¡æœ‰ç»™å‡ºå…·ä½“çš„å®ç°ã€‚\nhashCodeæ–¹æ³•çš„ä½œç”¨\nå¯¹äºåŒ…å«å®¹å™¨ç±»å‹çš„ç¨‹åºè®¾è®¡è¯­è¨€æ¥è¯´ï¼ŒåŸºæœ¬ä¸Šéƒ½ä¼šæ¶‰åŠåˆ°hashCodeã€‚åœ¨Javaä¸­ä¹Ÿä¸€æ ·ï¼ŒhashCodeæ–¹æ³•çš„ä¸»è¦ä½œç”¨æ˜¯ä¸ºäº†é…åˆåŸºäºæ•£åˆ—çš„é›†åˆä¸€èµ·æ­£å¸¸è¿è¡Œï¼Œè¿™æ ·çš„æ•£åˆ—é›†åˆåŒ…æ‹¬HashSetã€HashMapä»¥åŠHashTableã€‚\nã€€ã€€ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿè€ƒè™‘ä¸€ç§æƒ…å†µï¼Œå½“å‘é›†åˆä¸­æ’å…¥å¯¹è±¡æ—¶ï¼Œå¦‚ä½•åˆ¤åˆ«åœ¨é›†åˆä¸­æ˜¯å¦å·²ç»å­˜åœ¨è¯¥å¯¹è±¡äº†ï¼Ÿï¼ˆæ³¨æ„ï¼šé›†åˆä¸­ä¸å…è®¸é‡å¤çš„å…ƒç´ å­˜åœ¨ï¼‰\nã€€ã€€ä¹Ÿè®¸å¤§å¤šæ•°äººéƒ½ä¼šæƒ³åˆ°è°ƒç”¨equalsæ–¹æ³•æ¥é€ä¸ªè¿›è¡Œæ¯”è¾ƒï¼Œè¿™ä¸ªæ–¹æ³•ç¡®å®å¯è¡Œã€‚ä½†æ˜¯å¦‚æœé›†åˆä¸­å·²ç»å­˜åœ¨ä¸€ä¸‡æ¡æ•°æ®æˆ–è€…æ›´å¤šçš„æ•°æ®ï¼Œå¦‚æœé‡‡ç”¨equalsæ–¹æ³•å»é€ä¸€æ¯”è¾ƒï¼Œæ•ˆç‡å¿…ç„¶æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚æ­¤æ—¶hashCodeæ–¹æ³•çš„ä½œç”¨å°±ä½“ç°å‡ºæ¥äº†ï¼Œå½“é›†åˆè¦æ·»åŠ æ–°çš„å¯¹è±¡æ—¶ï¼Œå…ˆè°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„hashCodeæ–¹æ³•ï¼Œå¾—åˆ°å¯¹åº”çš„hashcodeå€¼ï¼Œå®é™…ä¸Šåœ¨HashMapçš„å…·ä½“å®ç°ä¸­ä¼šç”¨ä¸€ä¸ªtableä¿å­˜å·²ç»å­˜è¿›å»çš„å¯¹è±¡çš„hashcodeå€¼ï¼Œå¦‚æœtableä¸­æ²¡æœ‰è¯¥hashcodeå€¼ï¼Œå®ƒå°±å¯ä»¥ç›´æ¥å­˜è¿›å»ï¼Œä¸ç”¨å†è¿›è¡Œä»»ä½•æ¯”è¾ƒäº†ï¼›å¦‚æœå­˜åœ¨è¯¥hashcodeå€¼ï¼Œ å°±è°ƒç”¨å®ƒçš„equalsæ–¹æ³•ä¸æ–°å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œç›¸åŒçš„è¯å°±ä¸å­˜äº†ï¼Œä¸ç›¸åŒå°±æ•£åˆ—å…¶å®ƒçš„åœ°å€ï¼Œæ‰€ä»¥è¿™é‡Œå­˜åœ¨ä¸€ä¸ªå†²çªè§£å†³çš„é—®é¢˜ï¼Œè¿™æ ·ä¸€æ¥å®é™…è°ƒç”¨equalsæ–¹æ³•çš„æ¬¡æ•°å°±å¤§å¤§é™ä½äº†ï¼Œè¯´é€šä¿—ä¸€ç‚¹ï¼šJavaä¸­çš„hashCodeæ–¹æ³•å°±æ˜¯æ ¹æ®ä¸€å®šçš„è§„åˆ™å°†ä¸å¯¹è±¡ç›¸å…³çš„ä¿¡æ¯ï¼ˆæ¯”å¦‚å¯¹è±¡çš„å­˜å‚¨åœ°å€ï¼Œå¯¹è±¡çš„å­—æ®µç­‰ï¼‰æ˜ å°„æˆä¸€ä¸ªæ•°å€¼ï¼Œè¿™ä¸ªæ•°å€¼ç§°ä½œä¸ºæ•£åˆ—å€¼ã€‚\nhash ç®—æ³•\n1234static final int hash(Object key) &#123;    int h;    return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16);&#125;\n\né¦–å…ˆï¼Œå‡è®¾æœ‰ä¸€ç§æƒ…å†µï¼Œå¯¹è±¡ A çš„ hashCode ä¸º 1000010001110001000001111000000ï¼Œå¯¹è±¡ B çš„ hashCode ä¸º 0111011100111000101000010100000ã€‚\nå¦‚æœæ•°ç»„é•¿åº¦æ˜¯16ï¼Œä¹Ÿå°±æ˜¯ 15 ä¸è¿ç®—è¿™ä¸¤ä¸ªæ•°ï¼Œ ä½ ä¼šå‘ç°ç»“æœéƒ½æ˜¯0ã€‚è¿™æ ·çš„æ•£åˆ—ç»“æœå¤ªè®©äººå¤±æœ›äº†ã€‚å¾ˆæ˜æ˜¾ä¸æ˜¯ä¸€ä¸ªå¥½çš„æ•£åˆ—ç®—æ³•ã€‚\nä½†æ˜¯å¦‚æœæˆ‘ä»¬å°† hashCode å€¼å³ç§» 16 ä½ï¼Œä¹Ÿå°±æ˜¯å– int ç±»å‹çš„ä¸€åŠï¼Œåˆšå¥½å°†è¯¥äºŒè¿›åˆ¶æ•°å¯¹åŠåˆ‡å¼€ã€‚å¹¶ä¸”ä½¿ç”¨ä½å¼‚æˆ–è¿ç®—ï¼ˆå¦‚æœä¸¤ä¸ªæ•°å¯¹åº”çš„ä½ç½®ç›¸åï¼Œåˆ™ç»“æœä¸º1ï¼Œåä¹‹ä¸º0ï¼‰ï¼Œè¿™æ ·çš„è¯ï¼Œå°±èƒ½é¿å…æˆ‘ä»¬ä¸Šé¢çš„æƒ…å†µçš„å‘ç”Ÿã€‚\næ€»çš„æ¥è¯´ï¼Œä½¿ç”¨ä½ç§» 16 ä½å’Œ å¼‚æˆ– å°±æ˜¯é˜²æ­¢è¿™ç§æç«¯æƒ…å†µã€‚ä½†æ˜¯ï¼Œè¯¥æ–¹æ³•åœ¨ä¸€äº›æç«¯æƒ…å†µä¸‹è¿˜æ˜¯æœ‰é—®é¢˜ï¼Œæ¯”å¦‚ï¼š10000000000000000000000000 å’Œ 1000000000100000000000000 è¿™ä¸¤ä¸ªæ•°ï¼Œå¦‚æœæ•°ç»„é•¿åº¦æ˜¯16ï¼Œé‚£ä¹ˆå³ä½¿å³ç§»16ä½ï¼Œåœ¨å¼‚æˆ–ï¼Œhash å€¼è¿˜æ˜¯ä¼šé‡å¤ã€‚ä½†æ˜¯ä¸ºäº†æ€§èƒ½ï¼Œå¯¹è¿™ç§æç«¯æƒ…å†µï¼ŒJDK çš„ä½œè€…é€‰æ‹©äº†æ€§èƒ½ã€‚æ¯•ç«Ÿè¿™æ˜¯å°‘æ•°æƒ…å†µï¼Œä¸ºäº†è¿™ç§æƒ…å†µå»å¢åŠ  hash æ—¶é—´ï¼Œæ€§ä»·æ¯”ä¸é«˜ã€‚\nhashmapçš„putè¿‡ç¨‹ ä¸»è¦å°±æ˜¯æ ¹æ®è‡ªå·±çœ‹è¿‡çš„æºç è¯´ä¸€ä¸‹æµç¨‹put æ–¹æ³•é€šè¿‡ hash è®¡ç®—ä¸‹æ ‡å¹¶æ£€æŸ¥ hash æ˜¯å¦å†²çªï¼Œä¹Ÿå°±æ˜¯å¯¹åº”çš„ä¸‹æ ‡æ˜¯å¦å·²å­˜åœ¨å…ƒç´ ã€‚\n123public V put(K key, V value) &#123;    return putVal(hash(key), key, value, false, true);&#125;\n\n\nåˆ¤æ–­æ•°ç»„æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœæ˜¯ç©ºï¼Œåˆ™åˆ›å»ºé»˜è®¤é•¿åº¦ä½ 16 çš„æ•°ç»„ã€‚\né€šè¿‡ä¸è¿ç®—è®¡ç®—å¯¹åº” hash å€¼çš„ä¸‹æ ‡ï¼Œå¦‚æœå¯¹åº”ä¸‹æ ‡çš„ä½ç½®æ²¡æœ‰å…ƒç´ ï¼Œåˆ™ç›´æ¥åˆ›å»ºä¸€ä¸ªã€‚\nå¦‚æœæœ‰å…ƒç´ ï¼Œè¯´æ˜ hash å†²çªäº†ï¼Œåˆ™å†æ¬¡è¿›è¡Œ 3 ç§åˆ¤æ–­ã€‚\nåˆ¤æ–­ä¸¤ä¸ªå†²çªçš„keyæ˜¯å¦ç›¸ç­‰ï¼Œequals æ–¹æ³•çš„ä»·å€¼åœ¨è¿™é‡Œä½“ç°äº†ã€‚å¦‚æœç›¸ç­‰ï¼Œåˆ™å°†å·²ç»å­˜åœ¨çš„å€¼èµ‹ç»™å˜é‡eã€‚æœ€åæ›´æ–°eçš„valueï¼Œä¹Ÿå°±æ˜¯æ›¿æ¢æ“ä½œã€‚\nå¦‚æœkeyä¸ç›¸ç­‰ï¼Œåˆ™åˆ¤æ–­æ˜¯å¦æ˜¯çº¢é»‘æ ‘ç±»å‹ï¼Œå¦‚æœæ˜¯çº¢é»‘æ ‘ï¼Œåˆ™äº¤ç»™çº¢é»‘æ ‘è¿½åŠ æ­¤å…ƒç´ ã€‚\nå¦‚æœkeyæ—¢ä¸ç›¸ç­‰ï¼Œä¹Ÿä¸æ˜¯çº¢é»‘æ ‘ï¼Œåˆ™æ˜¯é“¾è¡¨ï¼Œé‚£ä¹ˆå°±éå†é“¾è¡¨ä¸­çš„æ¯ä¸€ä¸ªkeyå’Œç»™å®šçš„keyæ˜¯å¦ç›¸ç­‰ã€‚å¦‚æœï¼Œé“¾è¡¨çš„é•¿åº¦å¤§äºç­‰äº8äº†ï¼Œåˆ™å°†é“¾è¡¨æ”¹ä¸ºçº¢é»‘æ ‘ï¼Œè¿™æ˜¯Java8 çš„ä¸€ä¸ªæ–°çš„ä¼˜åŒ–ã€‚\n\n\næœ€åï¼Œå¦‚æœè¿™ä¸‰ä¸ªåˆ¤æ–­è¿”å›çš„ e ä¸ä¸ºnullï¼Œåˆ™è¯´æ˜keyé‡å¤ï¼Œåˆ™æ›´æ–°keyå¯¹åº”çš„valueçš„å€¼ã€‚\nå¯¹ç»´æŠ¤ç€è¿­ä»£å™¨çš„modCount å˜é‡åŠ ä¸€ã€‚\næœ€ååˆ¤æ–­ï¼Œå¦‚æœå½“å‰æ•°ç»„çš„é•¿åº¦å·²ç»å¤§äºé˜€å€¼äº†ã€‚åˆ™é‡æ–°hashã€‚\n\nArrayList LinkListçš„ç‰¹ç‚¹ArrayListæ˜¯å®ç°äº†åŸºäºåŠ¨æ€æ•°ç»„çš„ç»“æ„ï¼ŒLinkedListåˆ™æ˜¯åŸºäºå®ç°é“¾è¡¨çš„æ•°æ®ç»“æ„ã€‚\næ•°æ®çš„æ›´æ–°å’ŒæŸ¥æ‰¾ArrayListçš„æ‰€æœ‰æ•°æ®æ˜¯åœ¨åŒä¸€ä¸ªåœ°å€ä¸Š,è€ŒLinkedListçš„æ¯ä¸ªæ•°æ®éƒ½æ‹¥æœ‰è‡ªå·±çš„åœ°å€.æ‰€ä»¥åœ¨å¯¹æ•°æ®è¿›è¡ŒæŸ¥æ‰¾çš„æ—¶å€™ï¼Œç”±äºLinkedListçš„æ¯ä¸ªæ•°æ®åœ°å€ä¸ä¸€æ ·ï¼Œgetæ•°æ®çš„æ—¶å€™ArrayListçš„é€Ÿåº¦ä¼šä¼˜äºLinkedListï¼Œè€Œæ›´æ–°æ•°æ®çš„æ—¶å€™ï¼Œè™½ç„¶éƒ½æ˜¯é€šè¿‡å¾ªç¯å¾ªç¯åˆ°æŒ‡å®šèŠ‚ç‚¹ä¿®æ”¹æ•°æ®ï¼Œä½†LinkedListçš„æŸ¥è¯¢é€Ÿåº¦å·²ç»æ˜¯æ…¢çš„ï¼Œè€Œä¸”å¯¹äºLinkedListè€Œè¨€ï¼Œæ›´æ–°æ•°æ®æ—¶ä¸åƒArrayListåªéœ€è¦æ‰¾åˆ°å¯¹åº”ä¸‹æ ‡æ›´æ–°å°±å¥½ï¼ŒLinkedListéœ€è¦ä¿®æ”¹æŒ‡é’ˆï¼Œé€Ÿç‡ä¸è¨€è€Œå–»\næ•°æ®çš„å¢åŠ å’Œåˆ é™¤å¯¹äºæ•°æ®çš„å¢åŠ å…ƒç´ ï¼ŒArrayListæ˜¯é€šè¿‡ç§»åŠ¨è¯¥å…ƒç´ ä¹‹åçš„å…ƒç´ ä½ç½®ï¼Œå…¶åå…ƒç´ ä½ç½®å…¨éƒ¨+1ï¼Œæ‰€ä»¥è€—æ—¶è¾ƒé•¿ï¼Œè€ŒLinkedListåªéœ€è¦å°†è¯¥å…ƒç´ å‰çš„åç»­æŒ‡é’ˆæŒ‡å‘è¯¥å…ƒç´ å¹¶å°†è¯¥å…ƒç´ çš„åç»­æŒ‡é’ˆæŒ‡å‘ä¹‹åçš„å…ƒç´ å³å¯ã€‚ä¸å¢åŠ ç›¸åŒï¼Œåˆ é™¤å…ƒç´ æ—¶ArrayListéœ€è¦å°†è¢«åˆ é™¤å…ƒç´ ä¹‹åçš„å…ƒç´ ä½ç½®-1ï¼Œè€ŒLinkedListåªéœ€è¦å°†ä¹‹åçš„å…ƒç´ å‰ç½®æŒ‡é’ˆæŒ‡å‘å‰ä¸€å…ƒç´ ï¼Œå‰ä¸€å…ƒç´ çš„æŒ‡é’ˆæŒ‡å‘åä¸€å…ƒç´ å³å¯ã€‚å½“ç„¶ï¼Œäº‹å®ä¸Šï¼Œè‹¥æ˜¯å•ä¸€å…ƒç´ çš„å¢åˆ ï¼Œå°¤å…¶æ˜¯åœ¨Listæœ«ç«¯å¢åˆ ä¸€ä¸ªå…ƒç´ ï¼ŒäºŒè€…æ•ˆç‡ä¸ç›¸ä¸Šä¸‹ã€‚\nçº¢é»‘æ ‘å®šä¹‰çº¢é»‘æ ‘æœ¬è´¨ä¸Šæ˜¯ä¸€ç§äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œä½†å®ƒåœ¨äºŒå‰æŸ¥æ‰¾æ ‘çš„åŸºç¡€ä¸Šé¢å¤–æ·»åŠ äº†ä¸€ä¸ªæ ‡è®°ï¼ˆé¢œè‰²ï¼‰ï¼ŒåŒæ—¶å…·æœ‰ä¸€å®šçš„è§„åˆ™ã€‚è¿™äº›è§„åˆ™ä½¿çº¢é»‘æ ‘ä¿è¯äº†ä¸€ç§å¹³è¡¡ï¼Œæ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾çš„æœ€åæ—¶é—´å¤æ‚åº¦éƒ½ä¸º O(logn)ã€‚\nå®ƒçš„ç»Ÿè®¡æ€§èƒ½è¦å¥½äºå¹³è¡¡äºŒå‰æ ‘ï¼ˆAVLæ ‘ï¼‰ï¼Œå› æ­¤ï¼Œçº¢é»‘æ ‘åœ¨å¾ˆå¤šåœ°æ–¹éƒ½æœ‰åº”ç”¨ã€‚æ¯”å¦‚åœ¨ Java é›†åˆæ¡†æ¶ä¸­ï¼Œå¾ˆå¤šéƒ¨åˆ†(HashMap, TreeMap, TreeSet ç­‰)éƒ½æœ‰çº¢é»‘æ ‘çš„åº”ç”¨ï¼Œè¿™äº›é›†åˆå‡æä¾›äº†å¾ˆå¥½çš„æ€§èƒ½ã€‚\nç”±äº TreeMap å°±æ˜¯ç”±çº¢é»‘æ ‘å®ç°çš„ã€‚\né»‘è‰²é«˜åº¦ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„ä¸Šé»‘è‰²èŠ‚ç‚¹çš„ä¸ªæ•°ï¼Œå«åšæ ‘çš„é»‘è‰²é«˜åº¦ã€‚\n\næ¯ä¸ªèŠ‚ç‚¹è¦ä¹ˆæ˜¯çº¢è‰²ï¼Œè¦ä¹ˆæ˜¯é»‘è‰²ï¼›\næ ¹èŠ‚ç‚¹æ°¸è¿œæ˜¯é»‘è‰²çš„ï¼›\næ‰€æœ‰çš„å¶èŠ‚ç‚¹éƒ½æ˜¯æ˜¯é»‘è‰²çš„ï¼ˆæ³¨æ„è¿™é‡Œè¯´å¶å­èŠ‚ç‚¹å…¶å®æ˜¯ä¸Šå›¾ä¸­çš„ NIL èŠ‚ç‚¹ï¼‰ï¼›\næ¯ä¸ªçº¢è‰²èŠ‚ç‚¹çš„ä¸¤ä¸ªå­èŠ‚ç‚¹ä¸€å®šéƒ½æ˜¯é»‘è‰²ï¼›\nä»ä»»ä¸€èŠ‚ç‚¹åˆ°å…¶å­æ ‘ä¸­æ¯ä¸ªå¶å­èŠ‚ç‚¹çš„è·¯å¾„éƒ½åŒ…å«ç›¸åŒæ•°é‡çš„é»‘è‰²èŠ‚ç‚¹ï¼›\n\nJava åå°„æœºåˆ¶Java åå°„æœºåˆ¶åœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼›å¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½å¤Ÿè°ƒç”¨å®ƒçš„ä»»æ„ä¸€ä¸ªæ–¹æ³•å’Œå±æ€§ã€‚è¿™ç§ åŠ¨æ€çš„è·å–ä¿¡æ¯ ä»¥åŠ åŠ¨æ€è°ƒç”¨å¯¹è±¡çš„æ–¹æ³• çš„åŠŸèƒ½ç§°ä¸º java çš„åå°„æœºåˆ¶ã€‚\n123456public class FatherClass &#123;    public String mFatherName;    public int mFatherAge;    public void printFatherMsg()&#123;&#125;&#125;\n\nå¤šçº¿ç¨‹ç›¸å…³synchronizedsynchronized æ˜¯ Java ä¸­çš„å…³é”®å­—ï¼Œæ˜¯åˆ©ç”¨é”çš„æœºåˆ¶æ¥å®ç°åŒæ­¥çš„ã€‚\né”æœºåˆ¶æœ‰å¦‚ä¸‹ä¸¤ç§ç‰¹æ€§ï¼š\n\näº’æ–¥æ€§ï¼šå³åœ¨åŒä¸€æ—¶é—´åªå…è®¸ä¸€ä¸ªçº¿ç¨‹æŒæœ‰æŸä¸ªå¯¹è±¡é”ï¼Œé€šè¿‡è¿™ç§ç‰¹æ€§æ¥å®ç°å¤šçº¿ç¨‹ä¸­çš„åè°ƒæœºåˆ¶ï¼Œè¿™æ ·åœ¨åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯¹éœ€åŒæ­¥çš„ä»£ç å—(å¤åˆæ“ä½œ)è¿›è¡Œè®¿é—®ã€‚äº’æ–¥æ€§æˆ‘ä»¬ä¹Ÿå¾€å¾€ç§°ä¸ºæ“ä½œçš„åŸå­æ€§ã€‚\n\nå¯è§æ€§ï¼šå¿…é¡»ç¡®ä¿åœ¨é”è¢«é‡Šæ”¾ä¹‹å‰ï¼Œå¯¹å…±äº«å˜é‡æ‰€åšçš„ä¿®æ”¹ï¼Œå¯¹äºéšåè·å¾—è¯¥é”çš„å¦ä¸€ä¸ªçº¿ç¨‹æ˜¯å¯è§çš„ï¼ˆå³åœ¨è·å¾—é”æ—¶åº”è·å¾—æœ€æ–°å…±äº«å˜é‡çš„å€¼ï¼‰ï¼Œå¦åˆ™å¦ä¸€ä¸ªçº¿ç¨‹å¯èƒ½æ˜¯åœ¨æœ¬åœ°ç¼“å­˜çš„æŸä¸ªå‰¯æœ¬ä¸Šç»§ç»­æ“ä½œä»è€Œå¼•èµ·ä¸ä¸€è‡´ã€‚\n\n\nsynchronized å¯ä»¥ä¿®é¥°æ–¹æ³•å’Œä»£ç å—\n\nsynchronized(this|object) {}\nsynchronized(ç±».class) {}\nä¿®é¥°éé™æ€æ–¹æ³•\nä¿®é¥°é™æ€æ–¹æ³•\n\nreentrantLock é™¤äº†å¯é‡å…¥è¿˜æœ‰ä»€ä¹ˆå…³é”®ç‰¹æ€§\nå¯é‡å…¥\n\nç°åœ¨æœ‰æ–¹æ³• m1 å’Œ m2ï¼Œä¸¤ä¸ªæ–¹æ³•å‡ä½¿ç”¨äº†åŒä¸€æŠŠé”å¯¹æ–¹æ³•è¿›è¡ŒåŒæ­¥æ§åˆ¶ï¼ŒåŒæ—¶æ–¹æ³• m1 ä¼šè°ƒç”¨ m2ã€‚çº¿ç¨‹ t è¿›å…¥æ–¹æ³• m1 æˆåŠŸè·å¾—äº†é”ï¼Œæ­¤æ—¶çº¿ç¨‹ t è¦åœ¨æ²¡æœ‰é‡Šæ”¾é”çš„æƒ…å†µä¸‹ï¼Œè°ƒç”¨ m2 æ–¹æ³•ã€‚ç”±äº m1 å’Œ m2 ä½¿ç”¨çš„æ˜¯åŒä¸€æŠŠå¯é‡å…¥é”ï¼Œæ‰€ä»¥çº¿ç¨‹ t å¯ä»¥è¿›å…¥æ–¹æ³• m2ï¼Œå¹¶å†æ¬¡è·å¾—é”ï¼Œè€Œä¸ä¼šè¢«é˜»å¡ä½ã€‚\n\nå…¬å¹³å’Œéå…¬å¹³é”\n\nå…¬å¹³ä¸éå…¬å¹³æŒ‡çš„æ˜¯çº¿ç¨‹è·å–é”çš„æ–¹å¼ã€‚å…¬å¹³æ¨¡å¼ä¸‹ï¼Œçº¿ç¨‹åœ¨åŒæ­¥é˜Ÿåˆ—ä¸­é€šè¿‡ FIFO çš„æ–¹å¼è·å–é”ï¼Œæ¯ä¸ªçº¿ç¨‹æœ€ç»ˆéƒ½èƒ½è·å–é”ã€‚åœ¨éå…¬å¹³æ¨¡å¼ä¸‹ï¼Œçº¿ç¨‹ä¼šé€šè¿‡â€œæ’é˜Ÿâ€çš„æ–¹å¼å»æŠ¢å é”ï¼ŒæŠ¢ä¸åˆ°çš„åˆ™è¿›å…¥åŒæ­¥é˜Ÿåˆ—è¿›è¡Œæ’é˜Ÿã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒReentrantLock ä½¿ç”¨çš„æ˜¯éå…¬å¹³æ¨¡å¼è·å–é”ï¼Œè€Œä¸æ˜¯å…¬å¹³æ¨¡å¼ã€‚ä¸è¿‡æˆ‘ä»¬ä¹Ÿå¯é€šè¿‡ ReentrantLock æ„é€ æ–¹æ³•ReentrantLock(boolean fair)è°ƒæ•´åŠ é”çš„æ¨¡å¼ã€‚\nThreadLocal ä¼šé€ æˆä»€ä¹ˆé—®é¢˜? ä¸ºä»€ä¹ˆä¼šé€ æˆå†…å­˜æ³„æ¼?\nThreadLocalç±»ç”¨æ¥æä¾›çº¿ç¨‹å†…éƒ¨çš„å±€éƒ¨å˜é‡ã€‚è¿™äº›å˜é‡åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹è®¿é—®(é€šè¿‡getæˆ–setæ–¹æ³•è®¿é—®)æ—¶èƒ½ä¿è¯å„ä¸ªçº¿ç¨‹é‡Œçš„å˜é‡ç›¸å¯¹ç‹¬ç«‹äºå…¶ä»–çº¿ç¨‹å†…çš„å˜é‡ï¼ŒThreadLocalå®ä¾‹é€šå¸¸æ¥è¯´éƒ½æ˜¯private staticç±»å‹ã€‚ æ€»ç»“ï¼šThreadLocalä¸æ˜¯ä¸ºäº†è§£å†³å¤šçº¿ç¨‹è®¿é—®å…±äº«å˜é‡ï¼Œè€Œæ˜¯ä¸ºæ¯ä¸ªçº¿ç¨‹åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„å˜é‡å‰¯æœ¬ï¼Œæä¾›äº†ä¿æŒå¯¹è±¡çš„æ–¹æ³•å’Œé¿å…å‚æ•°ä¼ é€’çš„å¤æ‚æ€§ã€‚ \nThreadLocalçš„ä¸»è¦åº”ç”¨åœºæ™¯ä¸ºæŒ‰çº¿ç¨‹å¤šå®ä¾‹ï¼ˆæ¯ä¸ªçº¿ç¨‹å¯¹åº”ä¸€ä¸ªå®ä¾‹ï¼‰çš„å¯¹è±¡çš„è®¿é—®ï¼Œå¹¶ä¸”è¿™ä¸ªå¯¹è±¡å¾ˆå¤šåœ°æ–¹éƒ½è¦ç”¨åˆ°ã€‚ä¾‹å¦‚ï¼šåŒä¸€ä¸ªç½‘ç«™ç™»å½•ç”¨æˆ·ï¼Œæ¯ä¸ªç”¨æˆ·æœåŠ¡å™¨ä¼šä¸ºå…¶å¼€ä¸€ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹ä¸­åˆ›å»ºä¸€ä¸ªThreadLocalï¼Œé‡Œé¢å­˜ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ç­‰ï¼Œåœ¨å¾ˆå¤šé¡µé¢è·³è½¬æ—¶ï¼Œä¼šæ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯æˆ–è€…å¾—åˆ°ç”¨æˆ·çš„ä¸€äº›ä¿¡æ¯ç­‰é¢‘ç¹æ“ä½œï¼Œè¿™æ ·å¤šçº¿ç¨‹ä¹‹é—´å¹¶æ²¡æœ‰è”ç³»è€Œä¸”å½“å‰çº¿ç¨‹ä¹Ÿå¯ä»¥åŠæ—¶è·å–æƒ³è¦çš„æ•°æ®ã€‚\n\nThreadLocalç±»æä¾›äº†å››ä¸ªå¯¹å¤–å¼€æ”¾çš„æ¥å£æ–¹æ³•\n(1) void set(Object value)è®¾ç½®å½“å‰çº¿ç¨‹çš„çº¿ç¨‹å±€éƒ¨å˜é‡çš„å€¼ã€‚(2) public Object get()è¯¥æ–¹æ³•è¿”å›å½“å‰çº¿ç¨‹æ‰€å¯¹åº”çš„çº¿ç¨‹å±€éƒ¨å˜é‡ã€‚(3) public void remove()å°†å½“å‰çº¿ç¨‹å±€éƒ¨å˜é‡çš„å€¼åˆ é™¤ï¼Œç›®çš„æ˜¯ä¸ºäº†å‡å°‘å†…å­˜çš„å ç”¨ã€‚(4) protected Object initialValue()è¿”å›è¯¥çº¿ç¨‹å±€éƒ¨å˜é‡çš„åˆå§‹å€¼ã€‚\nåœ¨threadLocalè®¾ä¸ºnullå’Œçº¿ç¨‹ç»“æŸè¿™æ®µæ—¶é—´ä¸ä¼šè¢«å›æ”¶çš„ï¼Œå°±å‘ç”Ÿäº†æˆ‘ä»¬è®¤ä¸ºçš„å†…å­˜æ³„éœ²ã€‚å…¶å®è¿™æ˜¯ä¸€ä¸ªå¯¹æ¦‚å¿µç†è§£çš„ä¸ä¸€è‡´ï¼Œä¹Ÿæ²¡ä»€ä¹ˆå¥½äº‰è®ºçš„ã€‚\næœ€è¦å‘½çš„æ˜¯çº¿ç¨‹å¯¹è±¡ä¸è¢«å›æ”¶çš„æƒ…å†µï¼Œè¿™å°±å‘ç”Ÿäº†çœŸæ­£æ„ä¹‰ä¸Šçš„å†…å­˜æ³„éœ²ã€‚æ¯”å¦‚ä½¿ç”¨çº¿ç¨‹æ± çš„æ—¶å€™ï¼Œçº¿ç¨‹ç»“æŸæ˜¯ä¸ä¼šé”€æ¯çš„ï¼Œä¼šå†æ¬¡ä½¿ç”¨çš„å°±å¯èƒ½å‡ºç°å†…å­˜æ³„éœ²ã€‚ï¼ˆåœ¨webåº”ç”¨ä¸­ï¼Œæ¯æ¬¡httpè¯·æ±‚éƒ½æ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œtomcatå®¹å™¨é…ç½®ä½¿ç”¨çº¿ç¨‹æ± æ—¶ä¼šå‡ºç°å†…å­˜æ³„æ¼é—®é¢˜ï¼‰\n\nä½¿ç”¨ThreadLocalï¼Œå»ºè®®ç”¨staticä¿®é¥° static ThreadLocal headerLocal = new ThreadLocal();\nä½¿ç”¨å®ŒThreadLocalåï¼Œæ‰§è¡Œremoveæ“ä½œï¼Œé¿å…å‡ºç°å†…å­˜æº¢å‡ºæƒ…å†µã€‚\n\nå•ä¾‹æ¨¡å¼ synchronizedå®ç°æ‡’æ±‰æ¨¡å¼ï¼Ÿä¸ºä»€ä¹ˆç”¨å†…éƒ¨ç±»æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Ÿå†…éƒ¨ç±»\nå•ä¾‹æ¨¡å¼ï¼Œæœ‰â€œæ‡’æ±‰å¼â€å’Œâ€œé¥¿æ±‰å¼â€ä¸¤ç§ã€‚æ‡’æ±‰å¼å•ä¾‹ç±»çš„å®ä¾‹åœ¨ç¬¬ä¸€æ¬¡è¢«å¼•ç”¨æ—¶å€™æ‰è¢«åˆå§‹åŒ–ã€‚é¥¿æ±‰å¼å•ä¾‹ç±»çš„å®ä¾‹åœ¨åŠ è½½çš„æ—¶å€™å°±è¢«åˆå§‹åŒ–ã€‚\né™æ€å†…éƒ¨ç±»æ¨¡å¼\n12345678910public class Singleton &#123;     private Singleton()&#123;    &#125;      public static Singleton getSingleton()&#123;          return Inner.instance;      &#125;      private static class Inner &#123;          private static final Singleton instance = new Singleton();      &#125;  &#125;\n\n\nå®ç°ä»£ç ç®€æ´ã€‚å’ŒåŒé‡æ£€æŸ¥å•ä¾‹å¯¹æ¯”ï¼Œé™æ€å†…éƒ¨ç±»å•ä¾‹å®ç°ä»£ç çœŸçš„æ˜¯å¤ªç®€æ´ï¼Œåˆæ¸…æ™°æ˜äº†ã€‚\nå»¶è¿Ÿåˆå§‹åŒ–ã€‚è°ƒç”¨getSingletonæ‰åˆå§‹åŒ–Singletonå¯¹è±¡ã€‚\nçº¿ç¨‹å®‰å…¨ã€‚JVMåœ¨æ‰§è¡Œç±»çš„åˆå§‹åŒ–é˜¶æ®µï¼Œä¼šè·å¾—ä¸€ä¸ªå¯ä»¥åŒæ­¥å¤šä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªç±»çš„åˆå§‹åŒ–çš„é”ã€‚\n\nçº¿ç¨‹Aå’Œçº¿ç¨‹BåŒæ—¶è¯•å›¾è·å¾—Singletonå¯¹è±¡çš„åˆå§‹åŒ–é”ï¼Œå‡è®¾çº¿ç¨‹Aè·å–åˆ°äº†ï¼Œé‚£ä¹ˆçº¿ç¨‹Bä¸€ç›´ç­‰å¾…åˆå§‹åŒ–é”ã€‚çº¿ç¨‹Aæ‰§è¡Œç±»åˆå§‹åŒ–ï¼Œå°±ç®—åŒé‡æ£€æŸ¥æ¨¡å¼ä¸­ä¼ªä»£ç å‘ç”Ÿäº†é‡æ’åºï¼Œä¹Ÿä¸ä¼šå½±å“çº¿ç¨‹Açš„åˆå§‹åŒ–ç»“æœã€‚åˆå§‹åŒ–å®Œåï¼Œé‡Šæ”¾é”ã€‚çº¿ç¨‹Bè·å¾—åˆå§‹åŒ–é”ï¼Œå‘ç°Singletonå¯¹è±¡å·²ç»åˆå§‹åŒ–å®Œæ¯•ï¼Œé‡Šæ”¾é”ï¼Œä¸è¿›è¡Œåˆå§‹åŒ–ï¼Œè·å¾—Singletonå¯¹è±¡ã€‚\næ•°æ®åº“ç›¸å…³æ·»åŠ ç´¢å¼•çš„æ—¶å€™è¦æ³¨æ„ä»€ä¹ˆç´¢å¼•å¯ä»¥æé«˜æ•°æ®çš„è®¿é—®é€Ÿåº¦ï¼Œä½†åŒæ—¶ä¹Ÿå¢åŠ äº†æ’å…¥ã€æ›´æ–°å’Œåˆ é™¤æ“ä½œçš„å¤„ç†æ—¶é—´ã€‚æ‰€ä»¥æ˜¯å¦è¦ä¸ºè¡¨å¢åŠ ç´¢å¼•ã€ç´¢å¼•å»ºç«‹åœ¨é‚£äº›å­—æ®µä¸Šï¼Œæ˜¯åˆ›å»ºç´¢å¼•å‰å¿…é¡»è¦è€ƒè™‘çš„é—®é¢˜ã€‚è§£å†³æ­¤é—®é¢˜å°±æ˜¯åˆ†æåº”ç”¨ç¨‹åºçš„ä¸šåŠ¡å¤„ç†ã€æ•°æ®ä½¿ç”¨ï¼Œä¸ºç»å¸¸è¢«ç”¨ä½œæŸ¥è¯¢æ¡ä»¶ã€æˆ–è€…è¢«è¦æ±‚æ’åºçš„å­—æ®µå»ºç«‹ç´¢å¼•ã€‚\n1ã€è¡¨çš„ä¸»é”®ã€å¤–é”®å¿…é¡»æœ‰ç´¢å¼•ï¼›2ã€æ•°æ®é‡è¶…è¿‡300çš„è¡¨åº”è¯¥æœ‰ç´¢å¼•ï¼›3ã€ç»å¸¸ä¸å…¶ä»–è¡¨è¿›è¡Œè¿æ¥çš„è¡¨ï¼Œåœ¨è¿æ¥å­—æ®µä¸Šåº”è¯¥å»ºç«‹ç´¢å¼•ï¼›4ã€ç»å¸¸å‡ºç°åœ¨Whereå­å¥ä¸­çš„å­—æ®µï¼Œç‰¹åˆ«æ˜¯å¤§è¡¨çš„å­—æ®µï¼Œåº”è¯¥å»ºç«‹ç´¢å¼•ï¼›5ã€ç´¢å¼•åº”è¯¥å»ºåœ¨é€‰æ‹©æ€§é«˜çš„å­—æ®µä¸Šï¼›6ã€ç´¢å¼•åº”è¯¥å»ºåœ¨å°å­—æ®µä¸Šï¼Œå¯¹äºå¤§çš„æ–‡æœ¬å­—æ®µç”šè‡³è¶…é•¿å­—æ®µï¼Œä¸è¦å»ºç´¢å¼•ï¼›7ã€å¤åˆç´¢å¼•çš„å»ºç«‹éœ€è¦è¿›è¡Œä»”ç»†åˆ†æï¼›\nèšç°‡ç´¢å¼•:é€šå¸¸ç”±ä¸»é”®æˆ–è€…éç©ºå”¯ä¸€ç´¢å¼•å®ç°çš„ï¼Œå¶å­èŠ‚ç‚¹å­˜å‚¨äº†ä¸€æ•´è¡Œæ•°æ®éèšç°‡ç´¢å¼•ï¼šåˆç§°äºŒçº§ç´¢å¼•ï¼Œå°±æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„æ™®é€šç´¢å¼•ï¼Œå¶å­èŠ‚ç‚¹å­˜äº†ç´¢å¼•å€¼å’Œä¸»é”®å€¼ï¼Œåœ¨æ ¹æ®ä¸»é”®ä»èšç°‡ç´¢å¼•æŸ¥\nç´¢å¼•ä¼˜åŒ–ä»¥åŠåœ¨ä½¿ç”¨ç´¢å¼•çš„æ—¶å€™è¦æ³¨æ„ä»€ä¹ˆ1.ç´¢å¼•åˆ—ä¸è¦ä½¿ç”¨å‡½æ•°å’Œè¿ç®—\n\nå°½é‡é¿å…ä½¿ç”¨ != æˆ– not inæˆ– &lt;&gt; ç­‰å¦å®šæ“ä½œç¬¦\nå½“æŸ¥è¯¢æ¡ä»¶ä¸ºå¤šä¸ªçš„æ—¶å€™ï¼Œå¯ä»¥é‡‡ç”¨å¤åˆç´¢å¼•\nèŒƒå›´æŸ¥è¯¢å¯¹å¤šåˆ—æŸ¥è¯¢çš„å½±å“\néµå¾ªæœ€å·¦åŒ¹é…åŸåˆ™ å¤åˆç´¢å¼•éµå®ˆâ€œæœ€å·¦å‰ç¼€â€åŸåˆ™ï¼Œå³åœ¨æŸ¥è¯¢æ¡ä»¶ä¸­ä½¿ç”¨äº†å¤åˆç´¢å¼•çš„ç¬¬ä¸€ä¸ªå­—æ®µï¼Œç´¢å¼•æ‰ä¼šè¢«ä½¿ç”¨ã€‚å› æ­¤ï¼Œåœ¨å¤åˆç´¢å¼•ä¸­ç´¢å¼•åˆ—çš„é¡ºåºè‡³å…³é‡è¦ã€‚å¦‚æœä¸æ˜¯æŒ‰ç…§ç´¢å¼•çš„æœ€å·¦åˆ—å¼€å§‹æŸ¥æ‰¾ï¼Œåˆ™æ— æ³•ä½¿ç”¨ç´¢å¼•ã€‚\nç´¢å¼•åˆ—ä¸ä¼šåŒ…å«NULLå€¼\nå°½é‡é¿å…ä½¿ç”¨ or æ¥è¿æ¥æ¡ä»¶\néšå¼è½¬æ¢çš„å½±å“\nlike è¯­å¥çš„ç´¢å¼•å¤±æ•ˆé—®é¢˜\n\nredisçš„é”®çš„æ·˜æ±°ç­–ç•¥ï¼Œä¼šè¾¾æˆäº†redisç¼“å­˜çš„æ·˜æ±°ç­–ç•¥Redisä½œä¸ºä¸€ä¸ªé«˜æ€§èƒ½çš„å†…å­˜NoSQLæ•°æ®åº“ï¼Œå…¶å®¹é‡å—åˆ°æœ€å¤§å†…å­˜é™åˆ¶çš„é™åˆ¶ã€‚äº‹å®ä¸Šï¼Œå®ä¾‹ä¸­çš„å†…å­˜é™¤äº†ä¿å­˜åŸå§‹çš„é”®å€¼å¯¹æ‰€éœ€çš„å¼€é”€å¤–ï¼Œè¿˜æœ‰ä¸€äº›è¿è¡Œæ—¶äº§ç”Ÿçš„é¢å¤–å†…å­˜ï¼ŒåŒ…æ‹¬ï¼š\n\nåƒåœ¾æ•°æ®å’Œè¿‡æœŸKeyæ‰€å ç©ºé—´\nå­—å…¸æ¸è¿›å¼Rehashå¯¼è‡´æœªåŠæ—¶åˆ é™¤çš„ç©ºé—´\nRedisç®¡ç†æ•°æ®ï¼ŒåŒ…æ‹¬åº•å±‚æ•°æ®ç»“æ„å¼€é”€ï¼Œå®¢æˆ·ç«¯ä¿¡æ¯ï¼Œè¯»å†™ç¼“å†²åŒºç­‰\nä¸»ä»å¤åˆ¶ï¼Œbgsaveæ—¶çš„é¢å¤–å¼€é”€\n\nä¸ºäº†é˜²æ­¢ä¸€æ¬¡æ€§æ¸…ç†å¤§é‡è¿‡æœŸKeyå¯¼è‡´RedisæœåŠ¡å—å½±å“ï¼ŒRedisåªåœ¨ç©ºé—²æ—¶æ¸…ç†è¿‡æœŸKeyã€‚\n\nè®¿é—®Keyæ—¶ï¼Œä¼šåˆ¤æ–­Keyæ˜¯å¦è¿‡æœŸï¼Œé€å‡ºè¿‡æœŸKey;\nCPUç©ºé—²æ—¶åœ¨å®šæœŸserverCronä»»åŠ¡ä¸­ï¼Œé€å‡ºéƒ¨åˆ†è¿‡æœŸKey;\næ¯æ¬¡äº‹ä»¶å¾ªç¯æ‰§è¡Œçš„æ—¶å€™ï¼Œé€å‡ºéƒ¨åˆ†è¿‡æœŸKey;\n\nç½‘ç»œç›¸å…³tcpå››æ¬¡æ¡æ‰‹ï¼Œæœ€åçš„çŠ¶æ€æ˜¯ä»€ä¹ˆ?ç­‰å¾…2MSLçš„æ—¶é—´ï¼Ÿï¼ˆMSLæœ€é•¿æŠ¥æ–‡æ®µå¯¿å‘½Maximum Segment Lifetimeï¼ŒMSL=2ï¼‰\nä¸ºä»€ä¹ˆè¦ç­‰ç€2MSLï¼Œç­‰å¾…å¤šäº†ä¼šé€ æˆä»€ä¹ˆ\nä¿è¯Aå‘é€çš„æœ€åä¸€ä¸ªACKæŠ¥æ–‡æ®µèƒ½å¤Ÿåˆ°è¾¾Bã€‚\né˜²æ­¢â€œå·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µâ€å‡ºç°åœ¨æœ¬è¿æ¥ä¸­ã€‚Aåœ¨å‘é€å®Œæœ€åä¸€ä¸ªACKæŠ¥æ–‡æ®µåï¼Œå†ç»è¿‡2MSLï¼Œå°±å¯ä»¥ä½¿æœ¬è¿æ¥æŒç»­çš„æ—¶é—´å†…æ‰€äº§ç”Ÿçš„æ‰€æœ‰æŠ¥æ–‡æ®µéƒ½ä»ç½‘ç»œä¸­æ¶ˆå¤±ï¼Œä½¿ä¸‹ä¸€ä¸ªæ–°çš„è¿æ¥ä¸­ä¸ä¼šå‡ºç°è¿™ç§æ—§çš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µã€‚\n\nhttpè¯·æ±‚çš„æŠ¥æ–‡ç»“æ„ï¼Œkeep-aliveæ˜¯ç”¨æ¥åšä»€ä¹ˆçš„å½“ä½¿ç”¨Keep-Aliveæ¨¡å¼ï¼ˆåˆç§°æŒä¹…è¿æ¥ã€è¿æ¥é‡ç”¨ï¼‰æ—¶ï¼ŒKeep-AliveåŠŸèƒ½ä½¿å®¢æˆ·ç«¯åˆ°æœ åŠ¡å™¨ç«¯çš„è¿æ¥æŒç»­æœ‰æ•ˆï¼Œå½“å‡ºç°å¯¹æœåŠ¡å™¨çš„åç»§è¯·æ±‚æ—¶ï¼ŒKeep-AliveåŠŸèƒ½é¿å…äº†å»ºç«‹æˆ–è€…é‡æ–°å»ºç«‹è¿æ¥ã€‚\n12Keep-Alive: timeout=5, max=100timeoutï¼šè¿‡æœŸæ—¶é—´5ç§’ï¼ˆå¯¹åº”httpd.confé‡Œçš„å‚æ•°æ˜¯ï¼šKeepAliveTimeoutï¼‰ï¼Œmaxæ˜¯æœ€å¤šä¸€ç™¾æ¬¡è¯·æ±‚ï¼Œå¼ºåˆ¶æ–­æ‰è¿æ¥\n\nspring spingbootspringä¸ºä»€ä¹ˆè¦æ³¨å…¥æ¥å£ï¼Œè€Œä¸æ˜¯å®ç°ç±»é¦–å…ˆè¯´æ˜ï¼Œæ³¨å…¥çš„å¯¹è±¡ç¡®å®ä¸ºå®ç°ç±»çš„å¯¹è±¡ã€‚ï¼ˆå¹¶ä¸æ˜¯å®ç°ç±»çš„ä»£ç†å¯¹è±¡ï¼Œæ³¨å…¥å¹¶ä¸æ¶‰åŠä»£ç†ï¼‰\nã€€ã€€å¦‚æœåªæ˜¯å•çº¯æ³¨å…¥æ˜¯å¯ä»¥ç”¨å®ç°ç±»æ¥æ”¶æ³¨å…¥å¯¹è±¡çš„ï¼Œä½†æ˜¯å¾€å¾€å¼€å‘ä¸­ä¼šå¯¹å®ç°ç±»åšå¢å¼ºï¼Œå¦‚äº‹åŠ¡ï¼Œæ—¥å¿—ç­‰ï¼Œå®ç°å¢å¼ºçš„AOPæŠ€æœ¯æ˜¯é€šè¿‡åŠ¨æ€ä»£ç†å®ç°çš„ï¼Œè€Œspringé»˜è®¤æ˜¯JDKåŠ¨æ€ä»£ç†ï¼Œå¯¹å®ç°ç±»å¯¹è±¡åšå¢å¼ºå¾—åˆ°çš„å¢å¼ºç±»ä¸å®ç°ç±»æ˜¯å…„å¼Ÿå…³ç³»ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨å®ç°ç±»æ¥æ”¶å¢å¼ºç±»å¯¹è±¡ï¼Œåªèƒ½ç”¨æ¥å£æ¥æ”¶ã€‚\nå›ç­”æ²¡å¬è¿‡è¿™ä¸ªæ¦‚å¿µï¼Œç„¶åè¢«å¼•å¯¼å›åˆ°IOCå’ŒAOPï¼Œä»¥åŠAOPæ˜¯ä»€ä¹ˆï¼Œå®ç°è¿‡ç¨‹\nJavaåŠ¨æ€ä»£ç†ä¸ºæˆ‘ä»¬æä¾›äº†éå¸¸çµæ´»çš„ä»£ç†æœºåˆ¶ï¼Œä½†JavaåŠ¨æ€ä»£ç†æ˜¯åŸºäºæ¥å£çš„ï¼Œå¦‚æœç›®æ ‡å¯¹è±¡æ²¡æœ‰å®ç°æ¥å£æˆ‘ä»¬è¯¥å¦‚ä½•ä»£ç†å‘¢ï¼Ÿè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨CGLIBæ¥å®ç°AOPäº†ã€‚\nå‡å¦‚æˆ‘ä»¬è¦ä½¿ç”¨åŠ¨æ€ä»£ç†å®ç°AOPï¼Œé‚£ä¹ˆæˆ‘ä»¬åªèƒ½åœ¨å†™ä¸€ä¸ªå¢å¼ºçš„æ¥å£ï¼Œç„¶åè®©ç›®æ ‡ç±»å®ç°å¢å¼ºæ¥å£ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨åŠ¨æ€ä»£ç†å®ç°ç›®æ ‡ç±»çš„å¢å¼ºï¼Œå¯æ˜¯å‡å¦‚æˆ‘ä»¬ä¸æƒ³è®©ç›®æ ‡ç±»å®ç°å…¶ä»–çš„æ¥å£ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±åªèƒ½ä½¿ç”¨CGLIBæŠ€æœ¯æ¥å®ç°ç›®æ ‡ç±»çš„å¢å¼ºäº†ã€‚CGLIBå®ç°ç›®æ ‡ç±»å¢å¼ºçš„åŸç†æ˜¯è¿™æ ·çš„ï¼šCGLIBä¼šåŠ¨æ€åˆ›å»ºä¸€ä¸ªç›®æ ‡ç±»çš„å­ç±»ï¼Œç„¶åè¿”å›è¯¥å­ç±»çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯å¢å¼ºå¯¹è±¡ï¼Œè‡³äºå¢å¼ºçš„é€»è¾‘åˆ™æ˜¯åœ¨å­ç±»ä¸­å®Œæˆçš„ã€‚æˆ‘ä»¬çŸ¥é“å­ç±»è¦ä¹ˆå’Œçˆ¶ç±»æœ‰ä¸€æ ·çš„åŠŸèƒ½ï¼Œè¦ä¹ˆå°±æ¯”çˆ¶ç±»åŠŸèƒ½å¼ºå¤§ï¼Œæ‰€ä»¥CGLIBæ˜¯é€šè¿‡åˆ›å»ºç›®æ ‡ç±»çš„å­ç±»å¯¹è±¡æ¥å®ç°å¢å¼ºçš„ï¼Œæ‰€ä»¥ï¼š\n1ç›®æ ‡å­ç±» = ç›®æ ‡ç±» + å¢å¼ºé€»è¾‘\n\nå£è¿°ç®—æ³•æ€è·¯ç»™ä¸€ä¸ªæ ˆçš„æ•°æ®ç»“æ„ï¼Œå®ç°å¦å¤–ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œè¦æ±‚ä¿ç•™æ ˆçš„ç‰¹æ€§ï¼ŒåŒæ—¶èƒ½å¤Ÿæä¾›å»æœ€å¤§å€¼å’Œæœ€å°å€¼çš„æ–¹æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆ1ï¼‰æœ€å°å€¼æ€è·¯ï¼šç”¨ä¸€ä¸ªè¾…åŠ©æ ˆstack2è®°ä½æ¯æ¬¡å…¥æ ˆstack1çš„å½“å‰æœ€å°å€¼:åœ¨stack1å…¥æ ˆæ—¶ï¼Œå¾€stack2ä¸­åŠ å…¥å½“å‰æœ€å°å€¼ï¼›stack1å…ƒç´ å‡ºæ ˆæ—¶ï¼Œstack2ä¹Ÿå‡ºæ ˆä¸€ä¸ªå…ƒç´ ã€‚æœ€å°å€¼ä»stack2ä¸­è·å–åŠæ ˆé¡¶å…ƒç´ ã€‚O(1)\næœ€å¤§å€¼æ€è·¯ï¼šåŒä¸ŠO(1)\n\nç½‘ç»œç¼–ç¨‹å“ªå‡ ç§IOç±»å‹\né˜»å¡IOï¼ˆblocking IOï¼‰\néé˜»å¡IO (nonblocking IO)\nIO å¤ç”¨ (IO multiplexing)\nä¿¡å·é©±åŠ¨IO (signal driven IO (SIGIO))\nå¼‚æ­¥IO (asynchronous IO)\n\nJVMJVMçš„å†…å­˜ç»“æ„\nå †ï¼ˆHeapï¼‰ï¼šçº¿ç¨‹å…±äº«ã€‚æ‰€æœ‰çš„å¯¹è±¡å®ä¾‹ä»¥åŠæ•°ç»„éƒ½è¦åœ¨å †ä¸Šåˆ†é…ã€‚å›æ”¶å™¨ä¸»è¦ç®¡ç†çš„å¯¹è±¡ã€‚\næ–¹æ³•åŒºï¼ˆMethod Areaï¼‰ï¼šçº¿ç¨‹å…±äº«ã€‚å­˜å‚¨ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ã€‚\næ–¹æ³•æ ˆï¼ˆJVM Stackï¼‰ï¼šçº¿ç¨‹ç§æœ‰ã€‚å­˜å‚¨å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•å‡ºå£ï¼Œå¯¹è±¡æŒ‡é’ˆã€‚\næœ¬åœ°æ–¹æ³•æ ˆï¼ˆNative Method Stackï¼‰ï¼šçº¿ç¨‹ç§æœ‰ã€‚ä¸ºè™šæ‹Ÿæœºä½¿ç”¨åˆ°çš„Native æ–¹æ³•æœåŠ¡ã€‚å¦‚Javaä½¿ç”¨cæˆ–è€…c++ç¼–å†™çš„æ¥å£æœåŠ¡æ—¶ï¼Œä»£ç åœ¨æ­¤åŒºè¿è¡Œã€‚\nç¨‹åºè®¡æ•°å™¨ï¼ˆProgram Counter Registerï¼‰ï¼šçº¿ç¨‹ç§æœ‰ã€‚æœ‰äº›æ–‡ç« ä¹Ÿç¿»è¯‘æˆPCå¯„å­˜å™¨ï¼ˆPC Registerï¼‰ï¼ŒåŒä¸€ä¸ªä¸œè¥¿ã€‚å®ƒå¯ä»¥çœ‹ä½œæ˜¯å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œçš„å­—èŠ‚ç çš„è¡Œå·æŒ‡ç¤ºå™¨ã€‚æŒ‡å‘ä¸‹ä¸€æ¡è¦æ‰§è¡Œçš„æŒ‡ä»¤ã€‚\n\n\nç±»åŠ è½½æœºåˆ¶Javaè™šæ‹ŸæœºæŠŠæè¿°ç±»çš„æ•°æ®ä»Classæ–‡ä»¶åŠ è½½åˆ°å†…å­˜ï¼Œå¹¶å¯¹æ•°æ®è¿›è¡Œæ ¡éªŒã€è½¬æ¢è§£æå’Œåˆå§‹åŒ–ï¼Œæœ€ç»ˆå½¢æˆå¯ä»¥è¢«è™šæ‹Ÿæœºç›´æ¥ä½¿ç”¨çš„Javaç±»å‹ï¼Œè¿™å°±æ˜¯è™šæ‹Ÿæœºçš„åŠ è½½æœºåˆ¶ã€‚*Classæ–‡ä»¶ç”±ç±»è£…è½½å™¨è£…è½½åï¼Œåœ¨JVMä¸­å°†å½¢æˆä¸€ä»½æè¿°Classç»“æ„çš„å…ƒä¿¡æ¯å¯¹è±¡ï¼Œé€šè¿‡è¯¥å…ƒä¿¡æ¯å¯¹è±¡å¯ä»¥è·çŸ¥Classçš„ç»“æ„ä¿¡æ¯ï¼šå¦‚æ„é€ å‡½æ•°ï¼Œå±æ€§å’Œæ–¹æ³•ç­‰ï¼ŒJavaå…è®¸ç”¨æˆ·å€Ÿç”±è¿™ä¸ªClassç›¸å…³çš„å…ƒä¿¡æ¯å¯¹è±¡é—´æ¥è°ƒç”¨Classå¯¹è±¡çš„åŠŸèƒ½,è¿™é‡Œå°±æ˜¯æˆ‘ä»¬ç»å¸¸èƒ½è§åˆ°çš„Classç±»ã€‚\n\nåŒäº²å§”æ´¾æ¨¡å‹åŒäº²å§”æ´¾çš„æ„æ€æ˜¯å¦‚æœä¸€ä¸ªç±»åŠ è½½å™¨éœ€è¦åŠ è½½ç±»ï¼Œé‚£ä¹ˆé¦–å…ˆå®ƒä¼šæŠŠè¿™ä¸ªç±»è¯·æ±‚å§”æ´¾ç»™çˆ¶ç±»åŠ è½½å™¨å»å®Œæˆï¼Œæ¯ä¸€å±‚éƒ½æ˜¯å¦‚æ­¤ã€‚ä¸€ç›´é€’å½’åˆ°é¡¶å±‚ï¼Œå½“çˆ¶åŠ è½½å™¨æ— æ³•å®Œæˆè¿™ä¸ªè¯·æ±‚æ—¶ï¼Œå­ç±»æ‰ä¼šå°è¯•å»åŠ è½½ã€‚è¿™é‡Œçš„åŒäº²å…¶å®å°±æŒ‡çš„æ˜¯çˆ¶ç±»ï¼Œæ²¡æœ‰motherã€‚çˆ¶ç±»ä¹Ÿä¸æ˜¯æˆ‘ä»¬å¹³æ—¥æ‰€è¯´çš„é‚£ç§ç»§æ‰¿å…³ç³»ï¼Œåªæ˜¯è°ƒç”¨é€»è¾‘æ˜¯è¿™æ ·ã€‚\nåŒäº²å§”æ´¾æ¨¡å‹ä¸æ˜¯ä¸€ç§å¼ºåˆ¶æ€§çº¦æŸï¼Œä¹Ÿå°±æ˜¯ä½ ä¸è¿™ä¹ˆåšä¹Ÿä¸ä¼šæŠ¥é”™æ€æ ·çš„ï¼Œå®ƒæ˜¯ä¸€ç§JAVAè®¾è®¡è€…æ¨èä½¿ç”¨ç±»åŠ è½½å™¨çš„æ–¹å¼ã€‚\næœ‰ä»€ä¹ˆæƒ³é—®æˆ‘çš„æœ‰çš„\n\nä½ æ€æ ·å½¢å®¹å°ç±³å…¬å¸çš„ä¼ä¸šæ–‡åŒ–ï¼Ÿ\nä»€ä¹ˆç±»å‹çš„å‘˜å·¥èƒ½åœ¨å°ç±³å…¬å¸æœ‰æ¯”è¾ƒå¥½çš„å‘å±•ï¼Ÿ\nå…³äºè½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆ-Javaæ–¹å‘å²—ä½çš„æŠ€æœ¯æ ˆã€æ—¥å¸¸ä¸»è¦å·¥ä½œæ˜¯ä»€ä¹ˆã€æœŸé—´å¯ä»¥è·å¾—æ™‹å‡æœºä¼šï¼Ÿ\nèƒ½ç»™æˆ‘å¤šè®²è®²æ‹›è˜ç¨‹åºå—ï¼Ÿ\næˆ‘æ²¡æœ‰å…¶ä»–é—®é¢˜äº†ï¼Œä¸æ‚¨äº¤æµéå¸¸æ„‰å¿«ï¼Œèƒ½ç•™ä¸€å¼ æ‚¨çš„åç‰‡ä¹ˆï¼Ÿï¼ˆæˆ–è€…æ–¹ä¾¿åŠ ä¸€ä¸‹æ‚¨çš„å¾®ä¿¡ä¹ˆï¼Ÿï¼‰\n\n","tags":["Java"],"path":"2019/09/20/JavaçŸ¥è¯†ç‚¹/","external_link":""},{"title":"å®¢æˆ·ç«¯é¢è¯•","date":"2019-09-21T09:14:08.000Z","content":"\n100çº§å°é˜¶ï¼Œæ¯æ¬¡ä¸Šä¸€æ­¥æˆ–ä¸¤æ­¥ï¼Œæœ‰å¤šå°‘ç§èµ°æ³•ã€‚\n\n57314784401381708410121\n\nå¦‚æœ200çº§ï¼Œä½ ä¼°è®¡æœ‰å¤šå°‘ç§èµ°æ³•ï¼ˆä¸ç”¨ç¼–ç¨‹ï¼‰ã€‚\n\n45397369416530795319729696969741061923382642\n\nä¸ç”¨ç¼–ç¨‹ï¼Œä¼°ç®—\n\n123456789101112131415161718import java.math.BigInteger;public class Main &#123;    public static void main(String[] args) &#123;        int n = 200;        BigInteger a = BigInteger.ONE;        BigInteger b = BigInteger.ONE;        BigInteger res = BigInteger.ZERO;        for (int i = 2; i &lt;= n; i++) &#123;            res = a.add(b);            a = b;            b = res;        &#125;        System.out.println(res);        System.out.println(res.toString().length());    &#125;&#125;\n\n\nç»™å‡ºä¸€ä¸ªæ•°ç»„ï¼Œæ‰¾å‡ºä¸¤ä¸ªæ•°[a,b]å’Œä¸ºnï¼Œä¸å­˜åœ¨åˆ™è¿”å›[-1,-1]ã€‚å†™å‡ºä¸¤ç§è§£æ³•ï¼Œä¸èƒ½æš´åŠ›ç©·ä¸¾ã€‚\n\nè®²è®²é¢å‘è¿‡ç¨‹ã€é¢å‘å¯¹è±¡ã€é¢å‘åˆ‡é¢ã€‚\n\næŒ‡é’ˆå’Œæ•°ç»„çš„å…³ç³»å’ŒåŒºåˆ«ã€‚\n\nè®²è®²Android handlerã€‚\n\né˜Ÿåˆ—å’Œæ ˆçš„åŒºåˆ«å’Œç”¨é€”ã€‚\n\nä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—ã€‚\n\nè¾“å…¥Urlåˆ°æµè§ˆå™¨æ˜¾ç¤ºè¿‡ç¨‹ã€‚\n\nhttpè¯·æ±‚æ–¹æ³•ã€‚\n\ngetå’ŒpoståŒºåˆ«ã€‚\n\nsurficeViewå’Œviewçš„åŒºåˆ«ã€‚\n\nappä»ç‚¹å‡»å›¾æ ‡å¼€å§‹çš„å¯åŠ¨å…¨è¿‡ç¨‹ã€‚\n\nä»€ä¹ˆæ˜¯çº¿ç¨‹å®‰å…¨ã€‚\n\nçº¿ç¨‹å®‰å…¨æœ‰å“ªäº›æœºåˆ¶ã€‚\n\nå¦‚ä½•ä¿è¯ intåŠ åŠ ï¼ˆåŠ å·æ‰“ä¸å‡ºæ¥ï¼‰çº¿ç¨‹å®‰å…¨ã€‚\n\nAndroidçº¿ç¨‹é—´é€šä¿¡æœ‰å“ªäº›æœºåˆ¶ã€‚\n\ncpuè°ƒåº¦æ–¹å¼æœ‰å“ªäº›ã€‚\n\nç©ºé—´å±€éƒ¨æ€§å’Œæ—¶é—´å±€éƒ¨æ€§ã€‚\n\næ•°æ®åº“ä¹è§‚é”å’Œæ‚²è§‚é”ã€‚\n\næ•°æ®åº“ç´¢å¼•ä½œç”¨ï¼Œä¼˜ç¼ºç‚¹ã€‚\n\nTCPæ‹¥å¡æ§åˆ¶ã€‚\n\nhttpsåŠ å¯†ä¼ è¾“è¿‡ç¨‹ã€‚\n\njavaå†…å­˜æ¨¡å‹ã€‚\n\njavaåƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ã€‚\n\nè®²è®²æ ‡è®°æ¸…é™¤ç®—æ³•ã€‚\n\njavaå››ä¸­å¼•ç”¨ã€‚\n\n\n","tags":["é¢è¯•"],"path":"2019/09/21/å®¢æˆ·ç«¯é¢è¯•/","external_link":""},{"title":"BigIntegerç±»","date":"2019-09-21T11:00:03.000Z","content":"BigIntegerç±»\n1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611621631641651661671681691701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012022032042052062072082092102112122132142152162172182192202212222232242252262272282292302312322332342352362372382392402412422432442452462472482492502512522532542552562572582592602612622632642652662672682692702712722732742752762772782792802812822832842852862872882892902912922932942952962972982993003013023033043053063073083093103113123133143153163173183193203213223233243253263273283293303313323333343353363373383393403413423433443453463473483493503513523533543553563573583593603613623633643653663673683693703713723733743753763773783793803813823833843853863873883893903913923933943953963973983994004014024034044054064074084094104114124134144154164174184194204214224234244254264274284294304314324334344354364374384394404414424434444454464474484494504514524534544554564574584594604614624634644654664674684694704714724734744754764774784794804814824834844854864874884894904914924934944954964974984995005015025035045055065075085095105115125135145155165175185195205215225235245255265275285295305315325335345355365375385395405415425435445455465475485495505515525535545555565575585595605615625635645655665675685695705715725735745755765775785795805815825835845855865875885895905915925935945955965975985996006016026036046056066076086096106116126136146156166176186196206216226236246256266276286296306316326336346356366376386396406416426436446456466476486496506516526536546556566576586596606616626636646656666676686696706716726736746756766776786796806816826836846856866876886896906916926936946956966976986997007017027037047057067077087097107117127137147157167177187197207217227237247257267277287297307317327337347357367377387397407417427437447457467477487497507517527537547557567577587597607617627637647657667677687697707717727737747757767777787797807817827837847857867877887897907917927937947957967977987998008018028038048058068078088098108118128138148158168178188198208218228238248258268278288298308318328338348358368378388398408418428438448458468478488498508518528538548558568578588598608618628638648658668678688698708718728738748758768778788798808818828838848858868878888898908918928938948958968978988999009019029039049059069079089099109119129139149159169179189199209219229239249259269279289299309319329339349359369379389399409419429439449459469479489499509519529539549559569579589599609619629639649659669679689699709719729739749759769779789799809819829839849859869879889899909919929939949959969979989991000100110021003100410051006100710081009101010111012101310141015101610171018101910201021102210231024102510261027102810291030103110321033103410351036103710381039104010411042104310441045104610471048104910501051105210531054105510561057105810591060106110621063106410651066106710681069107010711072107310741075107610771078107910801081108210831084108510861087108810891090109110921093109410951096109710981099110011011102110311041105110611071108110911101111111211131114111511161117111811191120112111221123112411251126112711281129113011311132113311341135113611371138113911401141114211431144114511461147114811491150115111521153115411551156115711581159116011611162116311641165116611671168116911701171117211731174117511761177117811791180118111821183118411851186118711881189119011911192119311941195119611971198119912001201120212031204120512061207120812091210121112121213121412151216121712181219122012211222122312241225122612271228122912301231123212331234123512361237123812391240124112421243124412451246124712481249125012511252125312541255125612571258125912601261126212631264126512661267126812691270127112721273127412751276127712781279128012811282128312841285128612871288128912901291129212931294129512961297129812991300130113021303130413051306130713081309131013111312131313141315131613171318131913201321132213231324132513261327132813291330133113321333133413351336133713381339134013411342134313441345134613471348134913501351135213531354135513561357135813591360136113621363136413651366136713681369137013711372137313741375137613771378137913801381138213831384138513861387138813891390139113921393139413951396139713981399140014011402140314041405140614071408140914101411141214131414141514161417141814191420142114221423142414251426142714281429143014311432143314341435143614371438143914401441144214431444144514461447144814491450145114521453145414551456145714581459146014611462146314641465146614671468146914701471147214731474147514761477147814791480148114821483148414851486148714881489149014911492149314941495149614971498149915001501150215031504150515061507150815091510151115121513151415151516151715181519152015211522152315241525152615271528152915301531153215331534153515361537153815391540154115421543154415451546154715481549155015511552155315541555155615571558155915601561156215631564156515661567156815691570157115721573157415751576157715781579158015811582158315841585158615871588158915901591159215931594159515961597159815991600160116021603160416051606160716081609161016111612161316141615161616171618161916201621162216231624162516261627162816291630163116321633163416351636163716381639164016411642164316441645164616471648164916501651165216531654165516561657165816591660166116621663166416651666166716681669167016711672167316741675167616771678167916801681168216831684168516861687168816891690169116921693169416951696169716981699170017011702170317041705170617071708170917101711171217131714171517161717171817191720172117221723172417251726172717281729173017311732173317341735173617371738173917401741174217431744174517461747174817491750175117521753175417551756175717581759176017611762176317641765176617671768176917701771177217731774177517761777177817791780178117821783178417851786178717881789179017911792179317941795179617971798179918001801180218031804180518061807180818091810181118121813181418151816181718181819182018211822182318241825182618271828182918301831183218331834183518361837183818391840184118421843184418451846184718481849185018511852185318541855185618571858185918601861186218631864186518661867186818691870187118721873187418751876187718781879188018811882188318841885188618871888188918901891189218931894189518961897189818991900190119021903190419051906190719081909191019111912191319141915191619171918191919201921192219231924192519261927192819291930193119321933193419351936193719381939194019411942194319441945194619471948194919501951195219531954195519561957195819591960196119621963196419651966196719681969197019711972197319741975197619771978197919801981198219831984198519861987198819891990199119921993199419951996199719981999200020012002200320042005200620072008200920102011201220132014201520162017201820192020202120222023202420252026202720282029203020312032203320342035203620372038203920402041204220432044204520462047204820492050205120522053205420552056205720582059206020612062206320642065206620672068206920702071207220732074207520762077207820792080208120822083208420852086208720882089209020912092209320942095209620972098209921002101210221032104210521062107210821092110211121122113211421152116211721182119212021212122212321242125212621272128212921302131213221332134213521362137213821392140214121422143214421452146214721482149215021512152215321542155215621572158215921602161216221632164216521662167216821692170217121722173217421752176217721782179218021812182218321842185218621872188218921902191219221932194219521962197219821992200220122022203220422052206220722082209221022112212221322142215221622172218221922202221222222232224222522262227222822292230223122322233223422352236223722382239224022412242224322442245224622472248224922502251225222532254225522562257225822592260226122622263226422652266226722682269227022712272227322742275227622772278227922802281228222832284228522862287228822892290229122922293229422952296229722982299230023012302230323042305230623072308230923102311231223132314231523162317231823192320232123222323232423252326232723282329233023312332233323342335233623372338233923402341234223432344234523462347234823492350235123522353235423552356235723582359236023612362236323642365236623672368236923702371237223732374237523762377237823792380238123822383238423852386238723882389239023912392239323942395239623972398239924002401240224032404240524062407240824092410241124122413241424152416241724182419242024212422242324242425242624272428242924302431243224332434243524362437243824392440244124422443244424452446244724482449245024512452245324542455245624572458245924602461246224632464246524662467246824692470247124722473247424752476247724782479248024812482248324842485248624872488248924902491249224932494249524962497249824992500250125022503250425052506250725082509251025112512251325142515251625172518251925202521252225232524252525262527252825292530253125322533253425352536253725382539254025412542254325442545254625472548254925502551255225532554255525562557255825592560256125622563256425652566256725682569257025712572257325742575257625772578257925802581258225832584258525862587258825892590259125922593259425952596259725982599260026012602260326042605260626072608260926102611261226132614261526162617261826192620262126222623262426252626262726282629263026312632263326342635263626372638263926402641264226432644264526462647264826492650265126522653265426552656265726582659266026612662266326642665266626672668266926702671267226732674267526762677267826792680268126822683268426852686268726882689269026912692269326942695269626972698269927002701270227032704270527062707270827092710271127122713271427152716271727182719272027212722272327242725272627272728272927302731273227332734273527362737273827392740274127422743274427452746274727482749275027512752275327542755275627572758275927602761276227632764276527662767276827692770277127722773277427752776277727782779278027812782278327842785278627872788278927902791279227932794279527962797279827992800280128022803280428052806280728082809281028112812281328142815281628172818281928202821282228232824282528262827282828292830283128322833283428352836283728382839284028412842284328442845284628472848284928502851285228532854285528562857285828592860286128622863286428652866286728682869287028712872287328742875287628772878287928802881288228832884288528862887288828892890289128922893289428952896289728982899290029012902290329042905290629072908290929102911291229132914291529162917291829192920292129222923292429252926292729282929293029312932293329342935293629372938293929402941294229432944294529462947294829492950295129522953295429552956295729582959296029612962296329642965296629672968296929702971297229732974297529762977297829792980298129822983298429852986298729882989299029912992299329942995299629972998299930003001300230033004300530063007300830093010301130123013301430153016 Source code recreated from a .class file by IntelliJ IDEA (powered by Fernflower decompiler)package java.math;import java.io.IOException;import java.io.ObjectInputStream;import java.io.ObjectOutputStream;import java.io.ObjectStreamField;import java.io.StreamCorruptedException;import java.io.ObjectInputStream.GetField;import java.io.ObjectOutputStream.PutField;import java.util.Arrays;import java.util.Objects;import java.util.Random;import java.util.concurrent.ThreadLocalRandom;import jdk.internal.HotSpotIntrinsicCandidate;import jdk.internal.misc.Unsafe;public class BigInteger extends Number implements Comparable&lt;BigInteger&gt; &#123;    final int signum;    final int[] mag;    private int bitCountPlusOne;    private int bitLengthPlusOne;    private int lowestSetBitPlusTwo;    private int firstNonzeroIntNumPlusTwo;    static final long LONG_MASK = 4294967295L;    private static final int MAX_MAG_LENGTH = 67108864;    private static final int PRIME_SEARCH_BIT_LENGTH_LIMIT = 500000000;    private static final int KARATSUBA_THRESHOLD = 80;    private static final int TOOM_COOK_THRESHOLD = 240;    private static final int KARATSUBA_SQUARE_THRESHOLD = 128;    private static final int TOOM_COOK_SQUARE_THRESHOLD = 216;    static final int BURNIKEL_ZIEGLER_THRESHOLD = 80;    static final int BURNIKEL_ZIEGLER_OFFSET = 40;    private static final int SCHOENHAGE_BASE_CONVERSION_THRESHOLD = 20;    private static final int MULTIPLY_SQUARE_THRESHOLD = 20;    private static final int MONTGOMERY_INTRINSIC_THRESHOLD = 512;    private static long[] bitsPerDigit = new long[]&#123;0L, 0L, 1024L, 1624L, 2048L, 2378L, 2648L, 2875L, 3072L, 3247L, 3402L, 3543L, 3672L, 3790L, 3899L, 4001L, 4096L, 4186L, 4271L, 4350L, 4426L, 4498L, 4567L, 4633L, 4696L, 4756L, 4814L, 4870L, 4923L, 4975L, 5025L, 5074L, 5120L, 5166L, 5210L, 5253L, 5295L&#125;;    private static final int SMALL_PRIME_THRESHOLD = 95;    private static final int DEFAULT_PRIME_CERTAINTY = 100;    private static final BigInteger SMALL_PRIME_PRODUCT = valueOf(152125131763605L);    private static final int MAX_CONSTANT = 16;    private static BigInteger[] posConst = new BigInteger[17];    private static BigInteger[] negConst = new BigInteger[17];    private static volatile BigInteger[][] powerCache;    private static final double[] logCache;    private static final double LOG_TWO = Math.log(2.0D);    public static final BigInteger ZERO;    public static final BigInteger ONE;    public static final BigInteger TWO;    private static final BigInteger NEGATIVE_ONE;    public static final BigInteger TEN;    static int[] bnExpModThreshTable;    private static String[] zeros;    private static int[] digitsPerLong;    private static BigInteger[] longRadix;    private static int[] digitsPerInt;    private static int[] intRadix;    private static final long serialVersionUID = -8287574255936472291L;    private static final ObjectStreamField[] serialPersistentFields;    public BigInteger(byte[] val, int off, int len) &#123;        if (val.length == 0) &#123;            throw new NumberFormatException(Zero length BigInteger);        &#125; else &#123;            Objects.checkFromIndexSize(off, len, val.length);            if (val[off] &lt; 0) &#123;                this.mag = makePositive(val, off, len);                this.signum = -1;            &#125; else &#123;                this.mag = stripLeadingZeroBytes(val, off, len);                this.signum = this.mag.length == 0 ? 0 : 1;            &#125;            if (this.mag.length &gt;= 67108864) &#123;                this.checkRange();            &#125;        &#125;    &#125;    public BigInteger(byte[] val) &#123;        this((byte[])val, 0, val.length);    &#125;    private BigInteger(int[] val) &#123;        if (val.length == 0) &#123;            throw new NumberFormatException(Zero length BigInteger);        &#125; else &#123;            if (val[0] &lt; 0) &#123;                this.mag = makePositive(val);                this.signum = -1;            &#125; else &#123;                this.mag = trustedStripLeadingZeroInts(val);                this.signum = this.mag.length == 0 ? 0 : 1;            &#125;            if (this.mag.length &gt;= 67108864) &#123;                this.checkRange();            &#125;        &#125;    &#125;    public BigInteger(int signum, byte[] magnitude, int off, int len) &#123;        if (signum &gt;= -1 &amp;&amp; signum &lt;= 1) &#123;            Objects.checkFromIndexSize(off, len, magnitude.length);            this.mag = stripLeadingZeroBytes(magnitude, off, len);            if (this.mag.length == 0) &#123;                this.signum = 0;            &#125; else &#123;                if (signum == 0) &#123;                    throw new NumberFormatException(signum-magnitude mismatch);                &#125;                this.signum = signum;            &#125;            if (this.mag.length &gt;= 67108864) &#123;                this.checkRange();            &#125;        &#125; else &#123;            throw new NumberFormatException(Invalid signum value);        &#125;    &#125;    public BigInteger(int signum, byte[] magnitude) &#123;        this(signum, magnitude, 0, magnitude.length);    &#125;    private BigInteger(int signum, int[] magnitude) &#123;        this.mag = stripLeadingZeroInts(magnitude);        if (signum &gt;= -1 &amp;&amp; signum &lt;= 1) &#123;            if (this.mag.length == 0) &#123;                this.signum = 0;            &#125; else &#123;                if (signum == 0) &#123;                    throw new NumberFormatException(signum-magnitude mismatch);                &#125;                this.signum = signum;            &#125;            if (this.mag.length &gt;= 67108864) &#123;                this.checkRange();            &#125;        &#125; else &#123;            throw new NumberFormatException(Invalid signum value);        &#125;    &#125;    public BigInteger(String val, int radix) &#123;        int cursor = 0;        int len = val.length();        if (radix &gt;= 2 &amp;&amp; radix &lt;= 36) &#123;            if (len == 0) &#123;                throw new NumberFormatException(Zero length BigInteger);            &#125; else &#123;                int sign = 1;                int index1 = val.lastIndexOf(45);                int index2 = val.lastIndexOf(43);                if (index1 &gt;= 0) &#123;                    if (index1 != 0 || index2 &gt;= 0) &#123;                        throw new NumberFormatException(Illegal embedded sign character);                    &#125;                    sign = -1;                    cursor = 1;                &#125; else if (index2 &gt;= 0) &#123;                    if (index2 != 0) &#123;                        throw new NumberFormatException(Illegal embedded sign character);                    &#125;                    cursor = 1;                &#125;                if (cursor == len) &#123;                    throw new NumberFormatException(Zero length BigInteger);                &#125; else &#123;                    while(cursor &lt; len &amp;&amp; Character.digit(val.charAt(cursor), radix) == 0) &#123;                        ++cursor;                    &#125;                    if (cursor == len) &#123;                        this.signum = 0;                        this.mag = ZERO.mag;                    &#125; else &#123;                        int numDigits = len - cursor;                        this.signum = sign;                        long numBits = ((long)numDigits * bitsPerDigit[radix] &gt;&gt;&gt; 10) + 1L;                        if (numBits + 31L &gt;= 4294967296L) &#123;                            reportOverflow();                        &#125;                        int numWords = (int)(numBits + 31L) &gt;&gt;&gt; 5;                        int[] magnitude = new int[numWords];                        int firstGroupLen = numDigits % digitsPerInt[radix];                        if (firstGroupLen == 0) &#123;                            firstGroupLen = digitsPerInt[radix];                        &#125;                        String group = val.substring(cursor, cursor += firstGroupLen);                        magnitude[numWords - 1] = Integer.parseInt(group, radix);                        if (magnitude[numWords - 1] &lt; 0) &#123;                            throw new NumberFormatException(Illegal digit);                        &#125; else &#123;                            int superRadix = intRadix[radix];                            boolean var16 = false;                            while(cursor &lt; len) &#123;                                group = val.substring(cursor, cursor += digitsPerInt[radix]);                                int groupVal = Integer.parseInt(group, radix);                                if (groupVal &lt; 0) &#123;                                    throw new NumberFormatException(Illegal digit);                                &#125;                                destructiveMulAdd(magnitude, superRadix, groupVal);                            &#125;                            this.mag = trustedStripLeadingZeroInts(magnitude);                            if (this.mag.length &gt;= 67108864) &#123;                                this.checkRange();                            &#125;                        &#125;                    &#125;                &#125;            &#125;        &#125; else &#123;            throw new NumberFormatException(Radix out of range);        &#125;    &#125;    BigInteger(char[] val, int sign, int len) &#123;        int cursor;        for(cursor = 0; cursor &lt; len &amp;&amp; Character.digit(val[cursor], 10) == 0; ++cursor) &#123;        &#125;        if (cursor == len) &#123;            this.signum = 0;            this.mag = ZERO.mag;        &#125; else &#123;            int numDigits = len - cursor;            this.signum = sign;            int numWords;            if (len &lt; 10) &#123;                numWords = 1;            &#125; else &#123;                long numBits = ((long)numDigits * bitsPerDigit[10] &gt;&gt;&gt; 10) + 1L;                if (numBits + 31L &gt;= 4294967296L) &#123;                    reportOverflow();                &#125;                numWords = (int)(numBits + 31L) &gt;&gt;&gt; 5;            &#125;            int[] magnitude = new int[numWords];            int firstGroupLen = numDigits % digitsPerInt[10];            if (firstGroupLen == 0) &#123;                firstGroupLen = digitsPerInt[10];            &#125;            magnitude[numWords - 1] = this.parseInt(val, cursor, cursor += firstGroupLen);            while(cursor &lt; len) &#123;                int groupVal = this.parseInt(val, cursor, cursor += digitsPerInt[10]);                destructiveMulAdd(magnitude, intRadix[10], groupVal);            &#125;            this.mag = trustedStripLeadingZeroInts(magnitude);            if (this.mag.length &gt;= 67108864) &#123;                this.checkRange();            &#125;        &#125;    &#125;    private int parseInt(char[] source, int start, int end) &#123;        int result = Character.digit(source[start++], 10);        if (result == -1) &#123;            throw new NumberFormatException(new String(source));        &#125; else &#123;            for(int index = start; index &lt; end; ++index) &#123;                int nextVal = Character.digit(source[index], 10);                if (nextVal == -1) &#123;                    throw new NumberFormatException(new String(source));                &#125;                result = 10 * result + nextVal;            &#125;            return result;        &#125;    &#125;    private static void destructiveMulAdd(int[] x, int y, int z) &#123;        long ylong = (long)y &amp; 4294967295L;        long zlong = (long)z &amp; 4294967295L;        int len = x.length;        long product = 0L;        long carry = 0L;        for(int i = len - 1; i &gt;= 0; --i) &#123;            product = ylong * ((long)x[i] &amp; 4294967295L) + carry;            x[i] = (int)product;            carry = product &gt;&gt;&gt; 32;        &#125;        long sum = ((long)x[len - 1] &amp; 4294967295L) + zlong;        x[len - 1] = (int)sum;        carry = sum &gt;&gt;&gt; 32;        for(int i = len - 2; i &gt;= 0; --i) &#123;            sum = ((long)x[i] &amp; 4294967295L) + carry;            x[i] = (int)sum;            carry = sum &gt;&gt;&gt; 32;        &#125;    &#125;    public BigInteger(String val) &#123;        this((String)val, 10);    &#125;    public BigInteger(int numBits, Random rnd) &#123;        this(1, (byte[])randomBits(numBits, rnd));    &#125;    private static byte[] randomBits(int numBits, Random rnd) &#123;        if (numBits &lt; 0) &#123;            throw new IllegalArgumentException(numBits must be non-negative);        &#125; else &#123;            int numBytes = (int)(((long)numBits + 7L)  8L);            byte[] randomBits = new byte[numBytes];            if (numBytes &gt; 0) &#123;                rnd.nextBytes(randomBits);                int excessBits = 8 * numBytes - numBits;                randomBits[0] = (byte)(randomBits[0] &amp; (1 &lt;&lt; 8 - excessBits) - 1);            &#125;            return randomBits;        &#125;    &#125;    public BigInteger(int bitLength, int certainty, Random rnd) &#123;        if (bitLength &lt; 2) &#123;            throw new ArithmeticException(bitLength &lt; 2);        &#125; else &#123;            BigInteger prime = bitLength &lt; 95 ? smallPrime(bitLength, certainty, rnd) : largePrime(bitLength, certainty, rnd);            this.signum = 1;            this.mag = prime.mag;        &#125;    &#125;    public static BigInteger probablePrime(int bitLength, Random rnd) &#123;        if (bitLength &lt; 2) &#123;            throw new ArithmeticException(bitLength &lt; 2);        &#125; else &#123;            return bitLength &lt; 95 ? smallPrime(bitLength, 100, rnd) : largePrime(bitLength, 100, rnd);        &#125;    &#125;    private static BigInteger smallPrime(int bitLength, int certainty, Random rnd) &#123;        int magLen = bitLength + 31 &gt;&gt;&gt; 5;        int[] temp = new int[magLen];        int highBit = 1 &lt;&lt; (bitLength + 31 &amp; 31);        int highMask = (highBit &lt;&lt; 1) - 1;        BigInteger p;        do &#123;            long r;            do &#123;                for(int i = 0; i &lt; magLen; ++i) &#123;                    temp[i] = rnd.nextInt();                &#125;                temp[0] = temp[0] &amp; highMask | highBit;                if (bitLength &gt; 2) &#123;                    temp[magLen - 1] |= 1;                &#125;                p = new BigInteger(temp, 1);                if (bitLength &lt;= 6) &#123;                    break;                &#125;                r = p.remainder(SMALL_PRIME_PRODUCT).longValue();            &#125; while(r % 3L == 0L || r % 5L == 0L || r % 7L == 0L || r % 11L == 0L || r % 13L == 0L || r % 17L == 0L || r % 19L == 0L || r % 23L == 0L || r % 29L == 0L || r % 31L == 0L || r % 37L == 0L || r % 41L == 0L);            if (bitLength &lt; 4) &#123;                return p;            &#125;        &#125; while(!p.primeToCertainty(certainty, rnd));        return p;    &#125;    private static BigInteger largePrime(int bitLength, int certainty, Random rnd) &#123;        BigInteger p = (new BigInteger(bitLength, rnd)).setBit(bitLength - 1);        int[] var10000 = p.mag;        int var10001 = p.mag.length - 1;        var10000[var10001] &amp;= -2;        int searchLen = getPrimeSearchLen(bitLength);        BitSieve searchSieve = new BitSieve(p, searchLen);        BigInteger candidate;        for(candidate = searchSieve.retrieve(p, certainty, rnd); candidate == null || candidate.bitLength() != bitLength; candidate = searchSieve.retrieve(p, certainty, rnd)) &#123;            p = p.add(valueOf((long)(2 * searchLen)));            if (p.bitLength() != bitLength) &#123;                p = (new BigInteger(bitLength, rnd)).setBit(bitLength - 1);            &#125;            var10000 = p.mag;            var10001 = p.mag.length - 1;            var10000[var10001] &amp;= -2;            searchSieve = new BitSieve(p, searchLen);        &#125;        return candidate;    &#125;    public BigInteger nextProbablePrime() &#123;        if (this.signum &lt; 0) &#123;            throw new ArithmeticException(start &lt; 0:  + this);        &#125; else if (this.signum != 0 &amp;&amp; !this.equals(ONE)) &#123;            BigInteger result = this.add(ONE);            if (result.bitLength() &lt; 95) &#123;                if (!result.testBit(0)) &#123;                    result = result.add(ONE);                &#125;                while(true) &#123;                    while(true) &#123;                        if (result.bitLength() &gt; 6) &#123;                            long r = result.remainder(SMALL_PRIME_PRODUCT).longValue();                            if (r % 3L == 0L || r % 5L == 0L || r % 7L == 0L || r % 11L == 0L || r % 13L == 0L || r % 17L == 0L || r % 19L == 0L || r % 23L == 0L || r % 29L == 0L || r % 31L == 0L || r % 37L == 0L || r % 41L == 0L) &#123;                                result = result.add(TWO);                                continue;                            &#125;                        &#125;                        if (result.bitLength() &lt; 4) &#123;                            return result;                        &#125;                        if (result.primeToCertainty(100, (Random)null)) &#123;                            return result;                        &#125;                        result = result.add(TWO);                    &#125;                &#125;            &#125; else &#123;                if (result.testBit(0)) &#123;                    result = result.subtract(ONE);                &#125;                int searchLen = getPrimeSearchLen(result.bitLength());                while(true) &#123;                    BitSieve searchSieve = new BitSieve(result, searchLen);                    BigInteger candidate = searchSieve.retrieve(result, 100, (Random)null);                    if (candidate != null) &#123;                        return candidate;                    &#125;                    result = result.add(valueOf((long)(2 * searchLen)));                &#125;            &#125;        &#125; else &#123;            return TWO;        &#125;    &#125;    private static int getPrimeSearchLen(int bitLength) &#123;        if (bitLength &gt; 500000001) &#123;            throw new ArithmeticException(Prime search implementation restriction on bitLength);        &#125; else &#123;            return bitLength  20 * 64;        &#125;    &#125;    boolean primeToCertainty(int certainty, Random random) &#123;        int rounds = false;        int n = (Math.min(certainty, 2147483646) + 1)  2;        int sizeInBits = this.bitLength();        byte rounds;        int rounds;        if (sizeInBits &lt; 100) &#123;            rounds = 50;            rounds = n &lt; rounds ? n : rounds;            return this.passesMillerRabin(rounds, random);        &#125; else &#123;            if (sizeInBits &lt; 256) &#123;                rounds = 27;            &#125; else if (sizeInBits &lt; 512) &#123;                rounds = 15;            &#125; else if (sizeInBits &lt; 768) &#123;                rounds = 8;            &#125; else if (sizeInBits &lt; 1024) &#123;                rounds = 4;            &#125; else &#123;                rounds = 2;            &#125;            rounds = n &lt; rounds ? n : rounds;            return this.passesMillerRabin(rounds, random) &amp;&amp; this.passesLucasLehmer();        &#125;    &#125;    private boolean passesLucasLehmer() &#123;        BigInteger thisPlusOne = this.add(ONE);        int d;        for(d = 5; jacobiSymbol(d, this) != -1; d = d &lt; 0 ? Math.abs(d) + 2 : -(d + 2)) &#123;        &#125;        BigInteger u = lucasLehmerSequence(d, thisPlusOne, this);        return u.mod(this).equals(ZERO);    &#125;    private static int jacobiSymbol(int p, BigInteger n) &#123;        if (p == 0) &#123;            return 0;        &#125; else &#123;            int j = 1;            int u = n.mag[n.mag.length - 1];            int t;            if (p &lt; 0) &#123;                p = -p;                t = u &amp; 7;                if (t == 3 || t == 7) &#123;                    j = -j;                &#125;            &#125;            while((p &amp; 3) == 0) &#123;                p &gt;&gt;= 2;            &#125;            if ((p &amp; 1) == 0) &#123;                p &gt;&gt;= 1;                if (((u ^ u &gt;&gt; 1) &amp; 2) != 0) &#123;                    j = -j;                &#125;            &#125;            if (p == 1) &#123;                return j;            &#125; else &#123;                if ((p &amp; u &amp; 2) != 0) &#123;                    j = -j;                &#125;                for(u = n.mod(valueOf((long)p)).intValue(); u != 0; u %= t) &#123;                    while((u &amp; 3) == 0) &#123;                        u &gt;&gt;= 2;                    &#125;                    if ((u &amp; 1) == 0) &#123;                        u &gt;&gt;= 1;                        if (((p ^ p &gt;&gt; 1) &amp; 2) != 0) &#123;                            j = -j;                        &#125;                    &#125;                    if (u == 1) &#123;                        return j;                    &#125;                    assert u &lt; p;                    t = u;                    u = p;                    p = t;                    if ((u &amp; t &amp; 2) != 0) &#123;                        j = -j;                    &#125;                &#125;                return 0;            &#125;        &#125;    &#125;    private static BigInteger lucasLehmerSequence(int z, BigInteger k, BigInteger n) &#123;        BigInteger d = valueOf((long)z);        BigInteger u = ONE;        BigInteger v = ONE;        for(int i = k.bitLength() - 2; i &gt;= 0; --i) &#123;            BigInteger u2 = u.multiply(v).mod(n);            BigInteger v2 = v.square().add(d.multiply(u.square())).mod(n);            if (v2.testBit(0)) &#123;                v2 = v2.subtract(n);            &#125;            v2 = v2.shiftRight(1);            u = u2;            v = v2;            if (k.testBit(i)) &#123;                u2 = u2.add(v2).mod(n);                if (u2.testBit(0)) &#123;                    u2 = u2.subtract(n);                &#125;                u2 = u2.shiftRight(1);                v2 = v2.add(d.multiply(u)).mod(n);                if (v2.testBit(0)) &#123;                    v2 = v2.subtract(n);                &#125;                v2 = v2.shiftRight(1);                u = u2;                v = v2;            &#125;        &#125;        return u;    &#125;    private boolean passesMillerRabin(int iterations, Random rnd) &#123;        BigInteger thisMinusOne = this.subtract(ONE);        int a = thisMinusOne.getLowestSetBit();        BigInteger m = thisMinusOne.shiftRight(a);        if (rnd == null) &#123;            rnd = ThreadLocalRandom.current();        &#125;        for(int i = 0; i &lt; iterations; ++i) &#123;            BigInteger b;            do &#123;                do &#123;                    b = new BigInteger(this.bitLength(), (Random)rnd);                &#125; while(b.compareTo(ONE) &lt;= 0);            &#125; while(b.compareTo(this) &gt;= 0);            int j = 0;            for(BigInteger z = b.modPow(m, this); (j != 0 || !z.equals(ONE)) &amp;&amp; !z.equals(thisMinusOne); z = z.modPow(TWO, this)) &#123;                if (j &gt; 0 &amp;&amp; z.equals(ONE)) &#123;                    return false;                &#125;                ++j;                if (j == a) &#123;                    return false;                &#125;            &#125;        &#125;        return true;    &#125;    BigInteger(int[] magnitude, int signum) &#123;        this.signum = magnitude.length == 0 ? 0 : signum;        this.mag = magnitude;        if (this.mag.length &gt;= 67108864) &#123;            this.checkRange();        &#125;    &#125;    private BigInteger(byte[] magnitude, int signum) &#123;        this.signum = magnitude.length == 0 ? 0 : signum;        this.mag = stripLeadingZeroBytes(magnitude, 0, magnitude.length);        if (this.mag.length &gt;= 67108864) &#123;            this.checkRange();        &#125;    &#125;    private void checkRange() &#123;        if (this.mag.length &gt; 67108864 || this.mag.length == 67108864 &amp;&amp; this.mag[0] &lt; 0) &#123;            reportOverflow();        &#125;    &#125;    private static void reportOverflow() &#123;        throw new ArithmeticException(BigInteger would overflow supported range);    &#125;    public static BigInteger valueOf(long val) &#123;        if (val == 0L) &#123;            return ZERO;        &#125; else if (val &gt; 0L &amp;&amp; val &lt;= 16L) &#123;            return posConst[(int)val];        &#125; else &#123;            return val &lt; 0L &amp;&amp; val &gt;= -16L ? negConst[(int)(-val)] : new BigInteger(val);        &#125;    &#125;    private BigInteger(long val) &#123;        if (val &lt; 0L) &#123;            val = -val;            this.signum = -1;        &#125; else &#123;            this.signum = 1;        &#125;        int highWord = (int)(val &gt;&gt;&gt; 32);        if (highWord == 0) &#123;            this.mag = new int[1];            this.mag[0] = (int)val;        &#125; else &#123;            this.mag = new int[2];            this.mag[0] = highWord;            this.mag[1] = (int)val;        &#125;    &#125;    private static BigInteger valueOf(int[] val) &#123;        return val[0] &gt; 0 ? new BigInteger(val, 1) : new BigInteger(val);    &#125;    public BigInteger add(BigInteger val) &#123;        if (val.signum == 0) &#123;            return this;        &#125; else if (this.signum == 0) &#123;            return val;        &#125; else if (val.signum == this.signum) &#123;            return new BigInteger(add(this.mag, val.mag), this.signum);        &#125; else &#123;            int cmp = this.compareMagnitude(val);            if (cmp == 0) &#123;                return ZERO;            &#125; else &#123;                int[] resultMag = cmp &gt; 0 ? subtract(this.mag, val.mag) : subtract(val.mag, this.mag);                resultMag = trustedStripLeadingZeroInts(resultMag);                return new BigInteger(resultMag, cmp == this.signum ? 1 : -1);            &#125;        &#125;    &#125;    BigInteger add(long val) &#123;        if (val == 0L) &#123;            return this;        &#125; else if (this.signum == 0) &#123;            return valueOf(val);        &#125; else if (Long.signum(val) == this.signum) &#123;            return new BigInteger(add(this.mag, Math.abs(val)), this.signum);        &#125; else &#123;            int cmp = this.compareMagnitude(val);            if (cmp == 0) &#123;                return ZERO;            &#125; else &#123;                int[] resultMag = cmp &gt; 0 ? subtract(this.mag, Math.abs(val)) : subtract(Math.abs(val), this.mag);                resultMag = trustedStripLeadingZeroInts(resultMag);                return new BigInteger(resultMag, cmp == this.signum ? 1 : -1);            &#125;        &#125;    &#125;    private static int[] add(int[] x, long val) &#123;        long sum = 0L;        int xIndex = x.length;        int highWord = (int)(val &gt;&gt;&gt; 32);        int[] result;        if (highWord == 0) &#123;            result = new int[xIndex];            --xIndex;            sum = ((long)x[xIndex] &amp; 4294967295L) + val;            result[xIndex] = (int)sum;        &#125; else &#123;            if (xIndex == 1) &#123;                result = new int[2];                sum = val + ((long)x[0] &amp; 4294967295L);                result[1] = (int)sum;                result[0] = (int)(sum &gt;&gt;&gt; 32);                return result;            &#125;            result = new int[xIndex];            --xIndex;            sum = ((long)x[xIndex] &amp; 4294967295L) + (val &amp; 4294967295L);            result[xIndex] = (int)sum;            --xIndex;            sum = ((long)x[xIndex] &amp; 4294967295L) + ((long)highWord &amp; 4294967295L) + (sum &gt;&gt;&gt; 32);            result[xIndex] = (int)sum;        &#125;        boolean carry;        for(carry = sum &gt;&gt;&gt; 32 != 0L; xIndex &gt; 0 &amp;&amp; carry; carry = (result[xIndex] = x[xIndex] + 1) == 0) &#123;            --xIndex;        &#125;        while(xIndex &gt; 0) &#123;            --xIndex;            result[xIndex] = x[xIndex];        &#125;        if (carry) &#123;            int[] bigger = new int[result.length + 1];            System.arraycopy(result, 0, bigger, 1, result.length);            bigger[0] = 1;            return bigger;        &#125; else &#123;            return result;        &#125;    &#125;    private static int[] add(int[] x, int[] y) &#123;        if (x.length &lt; y.length) &#123;            int[] tmp = x;            x = y;            y = tmp;        &#125;        int xIndex = x.length;        int yIndex = y.length;        int[] result = new int[xIndex];        long sum = 0L;        if (yIndex == 1) &#123;            --xIndex;            sum = ((long)x[xIndex] &amp; 4294967295L) + ((long)y[0] &amp; 4294967295L);            result[xIndex] = (int)sum;        &#125; else &#123;            while(yIndex &gt; 0) &#123;                --xIndex;                long var10000 = (long)x[xIndex] &amp; 4294967295L;                --yIndex;                sum = var10000 + ((long)y[yIndex] &amp; 4294967295L) + (sum &gt;&gt;&gt; 32);                result[xIndex] = (int)sum;            &#125;        &#125;        boolean carry;        for(carry = sum &gt;&gt;&gt; 32 != 0L; xIndex &gt; 0 &amp;&amp; carry; carry = (result[xIndex] = x[xIndex] + 1) == 0) &#123;            --xIndex;        &#125;        while(xIndex &gt; 0) &#123;            --xIndex;            result[xIndex] = x[xIndex];        &#125;        if (carry) &#123;            int[] bigger = new int[result.length + 1];            System.arraycopy(result, 0, bigger, 1, result.length);            bigger[0] = 1;            return bigger;        &#125; else &#123;            return result;        &#125;    &#125;    private static int[] subtract(long val, int[] little) &#123;        int highWord = (int)(val &gt;&gt;&gt; 32);        int[] result;        if (highWord == 0) &#123;            result = new int[]&#123;(int)(val - ((long)little[0] &amp; 4294967295L))&#125;;            return result;        &#125; else &#123;            result = new int[2];            long difference;            if (little.length == 1) &#123;                difference = ((long)((int)val) &amp; 4294967295L) - ((long)little[0] &amp; 4294967295L);                result[1] = (int)difference;                boolean borrow = difference &gt;&gt; 32 != 0L;                if (borrow) &#123;                    result[0] = highWord - 1;                &#125; else &#123;                    result[0] = highWord;                &#125;                return result;            &#125; else &#123;                difference = ((long)((int)val) &amp; 4294967295L) - ((long)little[1] &amp; 4294967295L);                result[1] = (int)difference;                difference = ((long)highWord &amp; 4294967295L) - ((long)little[0] &amp; 4294967295L) + (difference &gt;&gt; 32);                result[0] = (int)difference;                return result;            &#125;        &#125;    &#125;    private static int[] subtract(int[] big, long val) &#123;        int highWord = (int)(val &gt;&gt;&gt; 32);        int bigIndex = big.length;        int[] result = new int[bigIndex];        long difference = 0L;        if (highWord == 0) &#123;            --bigIndex;            difference = ((long)big[bigIndex] &amp; 4294967295L) - val;            result[bigIndex] = (int)difference;        &#125; else &#123;            --bigIndex;            difference = ((long)big[bigIndex] &amp; 4294967295L) - (val &amp; 4294967295L);            result[bigIndex] = (int)difference;            --bigIndex;            difference = ((long)big[bigIndex] &amp; 4294967295L) - ((long)highWord &amp; 4294967295L) + (difference &gt;&gt; 32);            result[bigIndex] = (int)difference;        &#125;        for(boolean borrow = difference &gt;&gt; 32 != 0L; bigIndex &gt; 0 &amp;&amp; borrow; borrow = (result[bigIndex] = big[bigIndex] - 1) == -1) &#123;            --bigIndex;        &#125;        while(bigIndex &gt; 0) &#123;            --bigIndex;            result[bigIndex] = big[bigIndex];        &#125;        return result;    &#125;    public BigInteger subtract(BigInteger val) &#123;        if (val.signum == 0) &#123;            return this;        &#125; else if (this.signum == 0) &#123;            return val.negate();        &#125; else if (val.signum != this.signum) &#123;            return new BigInteger(add(this.mag, val.mag), this.signum);        &#125; else &#123;            int cmp = this.compareMagnitude(val);            if (cmp == 0) &#123;                return ZERO;            &#125; else &#123;                int[] resultMag = cmp &gt; 0 ? subtract(this.mag, val.mag) : subtract(val.mag, this.mag);                resultMag = trustedStripLeadingZeroInts(resultMag);                return new BigInteger(resultMag, cmp == this.signum ? 1 : -1);            &#125;        &#125;    &#125;    private static int[] subtract(int[] big, int[] little) &#123;        int bigIndex = big.length;        int[] result = new int[bigIndex];        int littleIndex = little.length;        long difference;        for(difference = 0L; littleIndex &gt; 0; result[bigIndex] = (int)difference) &#123;            --bigIndex;            long var10000 = (long)big[bigIndex] &amp; 4294967295L;            --littleIndex;            difference = var10000 - ((long)little[littleIndex] &amp; 4294967295L) + (difference &gt;&gt; 32);        &#125;        for(boolean borrow = difference &gt;&gt; 32 != 0L; bigIndex &gt; 0 &amp;&amp; borrow; borrow = (result[bigIndex] = big[bigIndex] - 1) == -1) &#123;            --bigIndex;        &#125;        while(bigIndex &gt; 0) &#123;            --bigIndex;            result[bigIndex] = big[bigIndex];        &#125;        return result;    &#125;    public BigInteger multiply(BigInteger val) &#123;        return this.multiply(val, false);    &#125;    private BigInteger multiply(BigInteger val, boolean isRecursion) &#123;        if (val.signum != 0 &amp;&amp; this.signum != 0) &#123;            int xlen = this.mag.length;            if (val == this &amp;&amp; xlen &gt; 20) &#123;                return this.square();            &#125; else &#123;                int ylen = val.mag.length;                if (xlen &gt;= 80 &amp;&amp; ylen &gt;= 80) &#123;                    if (xlen &lt; 240 &amp;&amp; ylen &lt; 240) &#123;                        return multiplyKaratsuba(this, val);                    &#125; else &#123;                        if (!isRecursion &amp;&amp; (long)(bitLength(this.mag, this.mag.length) + bitLength(val.mag, val.mag.length)) &gt; 2147483648L) &#123;                            reportOverflow();                        &#125;                        return multiplyToomCook3(this, val);                    &#125;                &#125; else &#123;                    int resultSign = this.signum == val.signum ? 1 : -1;                    if (val.mag.length == 1) &#123;                        return multiplyByInt(this.mag, val.mag[0], resultSign);                    &#125; else if (this.mag.length == 1) &#123;                        return multiplyByInt(val.mag, this.mag[0], resultSign);                    &#125; else &#123;                        int[] result = multiplyToLen(this.mag, xlen, val.mag, ylen, (int[])null);                        result = trustedStripLeadingZeroInts(result);                        return new BigInteger(result, resultSign);                    &#125;                &#125;            &#125;        &#125; else &#123;            return ZERO;        &#125;    &#125;    private static BigInteger multiplyByInt(int[] x, int y, int sign) &#123;        if (Integer.bitCount(y) == 1) &#123;            return new BigInteger(shiftLeft(x, Integer.numberOfTrailingZeros(y)), sign);        &#125; else &#123;            int xlen = x.length;            int[] rmag = new int[xlen + 1];            long carry = 0L;            long yl = (long)y &amp; 4294967295L;            int rstart = rmag.length - 1;            for(int i = xlen - 1; i &gt;= 0; --i) &#123;                long product = ((long)x[i] &amp; 4294967295L) * yl + carry;                rmag[rstart--] = (int)product;                carry = product &gt;&gt;&gt; 32;            &#125;            if (carry == 0L) &#123;                rmag = Arrays.copyOfRange(rmag, 1, rmag.length);            &#125; else &#123;                rmag[rstart] = (int)carry;            &#125;            return new BigInteger(rmag, sign);        &#125;    &#125;    BigInteger multiply(long v) &#123;        if (v != 0L &amp;&amp; this.signum != 0) &#123;            if (v == -9223372036854775808L) &#123;                return this.multiply(valueOf(v));            &#125; else &#123;                int rsign = v &gt; 0L ? this.signum : -this.signum;                if (v &lt; 0L) &#123;                    v = -v;                &#125;                long dh = v &gt;&gt;&gt; 32;                long dl = v &amp; 4294967295L;                int xlen = this.mag.length;                int[] value = this.mag;                int[] rmag = dh == 0L ? new int[xlen + 1] : new int[xlen + 2];                long carry = 0L;                int rstart = rmag.length - 1;                int i;                long product;                for(i = xlen - 1; i &gt;= 0; --i) &#123;                    product = ((long)value[i] &amp; 4294967295L) * dl + carry;                    rmag[rstart--] = (int)product;                    carry = product &gt;&gt;&gt; 32;                &#125;                rmag[rstart] = (int)carry;                if (dh != 0L) &#123;                    carry = 0L;                    rstart = rmag.length - 2;                    for(i = xlen - 1; i &gt;= 0; --i) &#123;                        product = ((long)value[i] &amp; 4294967295L) * dh + ((long)rmag[rstart] &amp; 4294967295L) + carry;                        rmag[rstart--] = (int)product;                        carry = product &gt;&gt;&gt; 32;                    &#125;                    rmag[0] = (int)carry;                &#125;                if (carry == 0L) &#123;                    rmag = Arrays.copyOfRange(rmag, 1, rmag.length);                &#125;                return new BigInteger(rmag, rsign);            &#125;        &#125; else &#123;            return ZERO;        &#125;    &#125;    private static int[] multiplyToLen(int[] x, int xlen, int[] y, int ylen, int[] z) &#123;        multiplyToLenCheck(x, xlen);        multiplyToLenCheck(y, ylen);        return implMultiplyToLen(x, xlen, y, ylen, z);    &#125;    @HotSpotIntrinsicCandidate    private static int[] implMultiplyToLen(int[] x, int xlen, int[] y, int ylen, int[] z) &#123;        int xstart = xlen - 1;        int ystart = ylen - 1;        if (z == null || z.length &lt; xlen + ylen) &#123;            z = new int[xlen + ylen];        &#125;        long carry = 0L;        int i = ystart;        int j;        for(j = ystart + 1 + xstart; i &gt;= 0; --j) &#123;            long product = ((long)y[i] &amp; 4294967295L) * ((long)x[xstart] &amp; 4294967295L) + carry;            z[j] = (int)product;            carry = product &gt;&gt;&gt; 32;            --i;        &#125;        z[xstart] = (int)carry;        for(i = xstart - 1; i &gt;= 0; --i) &#123;            carry = 0L;            j = ystart;            for(int k = ystart + 1 + i; j &gt;= 0; --k) &#123;                long product = ((long)y[j] &amp; 4294967295L) * ((long)x[i] &amp; 4294967295L) + ((long)z[k] &amp; 4294967295L) + carry;                z[k] = (int)product;                carry = product &gt;&gt;&gt; 32;                --j;            &#125;            z[i] = (int)carry;        &#125;        return z;    &#125;    private static void multiplyToLenCheck(int[] array, int length) &#123;        if (length &gt; 0) &#123;            Objects.requireNonNull(array);            if (length &gt; array.length) &#123;                throw new ArrayIndexOutOfBoundsException(length - 1);            &#125;        &#125;    &#125;    private static BigInteger multiplyKaratsuba(BigInteger x, BigInteger y) &#123;        int xlen = x.mag.length;        int ylen = y.mag.length;        int half = (Math.max(xlen, ylen) + 1)  2;        BigInteger xl = x.getLower(half);        BigInteger xh = x.getUpper(half);        BigInteger yl = y.getLower(half);        BigInteger yh = y.getUpper(half);        BigInteger p1 = xh.multiply(yh);        BigInteger p2 = xl.multiply(yl);        BigInteger p3 = xh.add(xl).multiply(yh.add(yl));        BigInteger result = p1.shiftLeft(32 * half).add(p3.subtract(p1).subtract(p2)).shiftLeft(32 * half).add(p2);        return x.signum != y.signum ? result.negate() : result;    &#125;    private static BigInteger multiplyToomCook3(BigInteger a, BigInteger b) &#123;        int alen = a.mag.length;        int blen = b.mag.length;        int largest = Math.max(alen, blen);        int k = (largest + 2)  3;        int r = largest - 2 * k;        BigInteger a2 = a.getToomSlice(k, r, 0, largest);        BigInteger a1 = a.getToomSlice(k, r, 1, largest);        BigInteger a0 = a.getToomSlice(k, r, 2, largest);        BigInteger b2 = b.getToomSlice(k, r, 0, largest);        BigInteger b1 = b.getToomSlice(k, r, 1, largest);        BigInteger b0 = b.getToomSlice(k, r, 2, largest);        BigInteger v0 = a0.multiply(b0, true);        BigInteger da1 = a2.add(a0);        BigInteger db1 = b2.add(b0);        BigInteger vm1 = da1.subtract(a1).multiply(db1.subtract(b1), true);        da1 = da1.add(a1);        db1 = db1.add(b1);        BigInteger v1 = da1.multiply(db1, true);        BigInteger v2 = da1.add(a2).shiftLeft(1).subtract(a0).multiply(db1.add(b2).shiftLeft(1).subtract(b0), true);        BigInteger vinf = a2.multiply(b2, true);        BigInteger t2 = v2.subtract(vm1).exactDivideBy3();        BigInteger tm1 = v1.subtract(vm1).shiftRight(1);        BigInteger t1 = v1.subtract(v0);        t2 = t2.subtract(t1).shiftRight(1);        t1 = t1.subtract(tm1).subtract(vinf);        t2 = t2.subtract(vinf.shiftLeft(1));        tm1 = tm1.subtract(t2);        int ss = k * 32;        BigInteger result = vinf.shiftLeft(ss).add(t2).shiftLeft(ss).add(t1).shiftLeft(ss).add(tm1).shiftLeft(ss).add(v0);        return a.signum != b.signum ? result.negate() : result;    &#125;    private BigInteger getToomSlice(int lowerSize, int upperSize, int slice, int fullsize) &#123;        int len = this.mag.length;        int offset = fullsize - len;        int start;        int end;        if (slice == 0) &#123;            start = 0 - offset;            end = upperSize - 1 - offset;        &#125; else &#123;            start = upperSize + (slice - 1) * lowerSize - offset;            end = start + lowerSize - 1;        &#125;        if (start &lt; 0) &#123;            start = 0;        &#125;        if (end &lt; 0) &#123;            return ZERO;        &#125; else &#123;            int sliceSize = end - start + 1;            if (sliceSize &lt;= 0) &#123;                return ZERO;            &#125; else if (start == 0 &amp;&amp; sliceSize &gt;= len) &#123;                return this.abs();            &#125; else &#123;                int[] intSlice = new int[sliceSize];                System.arraycopy(this.mag, start, intSlice, 0, sliceSize);                return new BigInteger(trustedStripLeadingZeroInts(intSlice), 1);            &#125;        &#125;    &#125;    private BigInteger exactDivideBy3() &#123;        int len = this.mag.length;        int[] result = new int[len];        long borrow = 0L;        for(int i = len - 1; i &gt;= 0; --i) &#123;            long x = (long)this.mag[i] &amp; 4294967295L;            long w = x - borrow;            if (borrow &gt; x) &#123;                borrow = 1L;            &#125; else &#123;                borrow = 0L;            &#125;            long q = w * 2863311531L &amp; 4294967295L;            result[i] = (int)q;            if (q &gt;= 1431655766L) &#123;                ++borrow;                if (q &gt;= 2863311531L) &#123;                    ++borrow;                &#125;            &#125;        &#125;        result = trustedStripLeadingZeroInts(result);        return new BigInteger(result, this.signum);    &#125;    private BigInteger getLower(int n) &#123;        int len = this.mag.length;        if (len &lt;= n) &#123;            return this.abs();        &#125; else &#123;            int[] lowerInts = new int[n];            System.arraycopy(this.mag, len - n, lowerInts, 0, n);            return new BigInteger(trustedStripLeadingZeroInts(lowerInts), 1);        &#125;    &#125;    private BigInteger getUpper(int n) &#123;        int len = this.mag.length;        if (len &lt;= n) &#123;            return ZERO;        &#125; else &#123;            int upperLen = len - n;            int[] upperInts = new int[upperLen];            System.arraycopy(this.mag, 0, upperInts, 0, upperLen);            return new BigInteger(trustedStripLeadingZeroInts(upperInts), 1);        &#125;    &#125;    private BigInteger square() &#123;        return this.square(false);    &#125;    private BigInteger square(boolean isRecursion) &#123;        if (this.signum == 0) &#123;            return ZERO;        &#125; else &#123;            int len = this.mag.length;            if (len &lt; 128) &#123;                int[] z = squareToLen(this.mag, len, (int[])null);                return new BigInteger(trustedStripLeadingZeroInts(z), 1);            &#125; else if (len &lt; 216) &#123;                return this.squareKaratsuba();            &#125; else &#123;                if (!isRecursion &amp;&amp; (long)bitLength(this.mag, this.mag.length) &gt; 1073741824L) &#123;                    reportOverflow();                &#125;                return this.squareToomCook3();            &#125;        &#125;    &#125;    private static final int[] squareToLen(int[] x, int len, int[] z) &#123;        int zlen = len &lt;&lt; 1;        if (z == null || z.length &lt; zlen) &#123;            z = new int[zlen];        &#125;        implSquareToLenChecks(x, len, z, zlen);        return implSquareToLen(x, len, z, zlen);    &#125;    private static void implSquareToLenChecks(int[] x, int len, int[] z, int zlen) throws RuntimeException &#123;        if (len &lt; 1) &#123;            throw new IllegalArgumentException(invalid input length:  + len);        &#125; else if (len &gt; x.length) &#123;            throw new IllegalArgumentException(input length out of bound:  + len +  &gt;  + x.length);        &#125; else if (len * 2 &gt; z.length) &#123;            throw new IllegalArgumentException(input length out of bound:  + len * 2 +  &gt;  + z.length);        &#125; else if (zlen &lt; 1) &#123;            throw new IllegalArgumentException(invalid input length:  + zlen);        &#125; else if (zlen &gt; z.length) &#123;            throw new IllegalArgumentException(input length out of bound:  + len +  &gt;  + z.length);        &#125;    &#125;    @HotSpotIntrinsicCandidate    private static final int[] implSquareToLen(int[] x, int len, int[] z, int zlen) &#123;        int lastProductLowWord = 0;        int i = 0;        int offset;        for(offset = 0; i &lt; len; ++i) &#123;            long piece = (long)x[i] &amp; 4294967295L;            long product = piece * piece;            z[offset++] = lastProductLowWord &lt;&lt; 31 | (int)(product &gt;&gt;&gt; 33);            z[offset++] = (int)(product &gt;&gt;&gt; 1);            lastProductLowWord = (int)product;        &#125;        i = len;        for(offset = 1; i &gt; 0; offset += 2) &#123;            int t = x[i - 1];            t = mulAdd(z, x, offset, i - 1, t);            addOne(z, offset - 1, i, t);            --i;        &#125;        primitiveLeftShift(z, zlen, 1);        z[zlen - 1] |= x[len - 1] &amp; 1;        return z;    &#125;    private BigInteger squareKaratsuba() &#123;        int half = (this.mag.length + 1)  2;        BigInteger xl = this.getLower(half);        BigInteger xh = this.getUpper(half);        BigInteger xhs = xh.square();        BigInteger xls = xl.square();        return xhs.shiftLeft(half * 32).add(xl.add(xh).square().subtract(xhs.add(xls))).shiftLeft(half * 32).add(xls);    &#125;    private BigInteger squareToomCook3() &#123;        int len = this.mag.length;        int k = (len + 2)  3;        int r = len - 2 * k;        BigInteger a2 = this.getToomSlice(k, r, 0, len);        BigInteger a1 = this.getToomSlice(k, r, 1, len);        BigInteger a0 = this.getToomSlice(k, r, 2, len);        BigInteger v0 = a0.square(true);        BigInteger da1 = a2.add(a0);        BigInteger vm1 = da1.subtract(a1).square(true);        da1 = da1.add(a1);        BigInteger v1 = da1.square(true);        BigInteger vinf = a2.square(true);        BigInteger v2 = da1.add(a2).shiftLeft(1).subtract(a0).square(true);        BigInteger t2 = v2.subtract(vm1).exactDivideBy3();        BigInteger tm1 = v1.subtract(vm1).shiftRight(1);        BigInteger t1 = v1.subtract(v0);        t2 = t2.subtract(t1).shiftRight(1);        t1 = t1.subtract(tm1).subtract(vinf);        t2 = t2.subtract(vinf.shiftLeft(1));        tm1 = tm1.subtract(t2);        int ss = k * 32;        return vinf.shiftLeft(ss).add(t2).shiftLeft(ss).add(t1).shiftLeft(ss).add(tm1).shiftLeft(ss).add(v0);    &#125;    public BigInteger divide(BigInteger val) &#123;        return val.mag.length &gt;= 80 &amp;&amp; this.mag.length - val.mag.length &gt;= 40 ? this.divideBurnikelZiegler(val) : this.divideKnuth(val);    &#125;    private BigInteger divideKnuth(BigInteger val) &#123;        MutableBigInteger q = new MutableBigInteger();        MutableBigInteger a = new MutableBigInteger(this.mag);        MutableBigInteger b = new MutableBigInteger(val.mag);        a.divideKnuth(b, q, false);        return q.toBigInteger(this.signum * val.signum);    &#125;    public BigInteger[] divideAndRemainder(BigInteger val) &#123;        return val.mag.length &gt;= 80 &amp;&amp; this.mag.length - val.mag.length &gt;= 40 ? this.divideAndRemainderBurnikelZiegler(val) : this.divideAndRemainderKnuth(val);    &#125;    private BigInteger[] divideAndRemainderKnuth(BigInteger val) &#123;        BigInteger[] result = new BigInteger[2];        MutableBigInteger q = new MutableBigInteger();        MutableBigInteger a = new MutableBigInteger(this.mag);        MutableBigInteger b = new MutableBigInteger(val.mag);        MutableBigInteger r = a.divideKnuth(b, q);        result[0] = q.toBigInteger(this.signum == val.signum ? 1 : -1);        result[1] = r.toBigInteger(this.signum);        return result;    &#125;    public BigInteger remainder(BigInteger val) &#123;        return val.mag.length &gt;= 80 &amp;&amp; this.mag.length - val.mag.length &gt;= 40 ? this.remainderBurnikelZiegler(val) : this.remainderKnuth(val);    &#125;    private BigInteger remainderKnuth(BigInteger val) &#123;        MutableBigInteger q = new MutableBigInteger();        MutableBigInteger a = new MutableBigInteger(this.mag);        MutableBigInteger b = new MutableBigInteger(val.mag);        return a.divideKnuth(b, q).toBigInteger(this.signum);    &#125;    private BigInteger divideBurnikelZiegler(BigInteger val) &#123;        return this.divideAndRemainderBurnikelZiegler(val)[0];    &#125;    private BigInteger remainderBurnikelZiegler(BigInteger val) &#123;        return this.divideAndRemainderBurnikelZiegler(val)[1];    &#125;    private BigInteger[] divideAndRemainderBurnikelZiegler(BigInteger val) &#123;        MutableBigInteger q = new MutableBigInteger();        MutableBigInteger r = (new MutableBigInteger(this)).divideAndRemainderBurnikelZiegler(new MutableBigInteger(val), q);        BigInteger qBigInt = q.isZero() ? ZERO : q.toBigInteger(this.signum * val.signum);        BigInteger rBigInt = r.isZero() ? ZERO : r.toBigInteger(this.signum);        return new BigInteger[]&#123;qBigInt, rBigInt&#125;;    &#125;    public BigInteger pow(int exponent) &#123;        if (exponent &lt; 0) &#123;            throw new ArithmeticException(Negative exponent);        &#125; else if (this.signum == 0) &#123;            return exponent == 0 ? ONE : this;        &#125; else &#123;            BigInteger partToSquare = this.abs();            int powersOfTwo = partToSquare.getLowestSetBit();            long bitsToShiftLong = (long)powersOfTwo * (long)exponent;            if (bitsToShiftLong &gt; 2147483647L) &#123;                reportOverflow();            &#125;            int bitsToShift = (int)bitsToShiftLong;            int remainingBits;            if (powersOfTwo &gt; 0) &#123;                partToSquare = partToSquare.shiftRight(powersOfTwo);                remainingBits = partToSquare.bitLength();                if (remainingBits == 1) &#123;                    if (this.signum &lt; 0 &amp;&amp; (exponent &amp; 1) == 1) &#123;                        return NEGATIVE_ONE.shiftLeft(bitsToShift);                    &#125;                    return ONE.shiftLeft(bitsToShift);                &#125;            &#125; else &#123;                remainingBits = partToSquare.bitLength();                if (remainingBits == 1) &#123;                    if (this.signum &lt; 0 &amp;&amp; (exponent &amp; 1) == 1) &#123;                        return NEGATIVE_ONE;                    &#125;                    return ONE;                &#125;            &#125;            long scaleFactor = (long)remainingBits * (long)exponent;            if (partToSquare.mag.length == 1 &amp;&amp; scaleFactor &lt;= 62L) &#123;                int newSign = this.signum &lt; 0 &amp;&amp; (exponent &amp; 1) == 1 ? -1 : 1;                long result = 1L;                long baseToPow2 = (long)partToSquare.mag[0] &amp; 4294967295L;                int workingExponent = exponent;                while(workingExponent != 0) &#123;                    if ((workingExponent &amp; 1) == 1) &#123;                        result *= baseToPow2;                    &#125;                    if ((workingExponent &gt;&gt;&gt;= 1) != 0) &#123;                        baseToPow2 *= baseToPow2;                    &#125;                &#125;                if (powersOfTwo &gt; 0) &#123;                    if ((long)bitsToShift + scaleFactor &lt;= 62L) &#123;                        return valueOf((result &lt;&lt; bitsToShift) * (long)newSign);                    &#125; else &#123;                        return valueOf(result * (long)newSign).shiftLeft(bitsToShift);                    &#125;                &#125; else &#123;                    return valueOf(result * (long)newSign);                &#125;            &#125; else &#123;                if ((long)this.bitLength() * (long)exponent  32L &gt; 67108864L) &#123;                    reportOverflow();                &#125;                BigInteger answer = ONE;                int workingExponent = exponent;                while(workingExponent != 0) &#123;                    if ((workingExponent &amp; 1) == 1) &#123;                        answer = answer.multiply(partToSquare);                    &#125;                    if ((workingExponent &gt;&gt;&gt;= 1) != 0) &#123;                        partToSquare = partToSquare.square();                    &#125;                &#125;                if (powersOfTwo &gt; 0) &#123;                    answer = answer.shiftLeft(bitsToShift);                &#125;                if (this.signum &lt; 0 &amp;&amp; (exponent &amp; 1) == 1) &#123;                    return answer.negate();                &#125; else &#123;                    return answer;                &#125;            &#125;        &#125;    &#125;    public BigInteger sqrt() &#123;        if (this.signum &lt; 0) &#123;            throw new ArithmeticException(Negative BigInteger);        &#125; else &#123;            return (new MutableBigInteger(this.mag)).sqrt().toBigInteger();        &#125;    &#125;    public BigInteger[] sqrtAndRemainder() &#123;        BigInteger s = this.sqrt();        BigInteger r = this.subtract(s.square());        assert r.compareTo(ZERO) &gt;= 0;        return new BigInteger[]&#123;s, r&#125;;    &#125;    public BigInteger gcd(BigInteger val) &#123;        if (val.signum == 0) &#123;            return this.abs();        &#125; else if (this.signum == 0) &#123;            return val.abs();        &#125; else &#123;            MutableBigInteger a = new MutableBigInteger(this);            MutableBigInteger b = new MutableBigInteger(val);            MutableBigInteger result = a.hybridGCD(b);            return result.toBigInteger(1);        &#125;    &#125;    static int bitLengthForInt(int n) &#123;        return 32 - Integer.numberOfLeadingZeros(n);    &#125;    private static int[] leftShift(int[] a, int len, int n) &#123;        int nInts = n &gt;&gt;&gt; 5;        int nBits = n &amp; 31;        int bitsInHighWord = bitLengthForInt(a[0]);        if (n &lt;= 32 - bitsInHighWord) &#123;            primitiveLeftShift(a, len, nBits);            return a;        &#125; else &#123;            int[] result;            if (nBits &lt;= 32 - bitsInHighWord) &#123;                result = new int[nInts + len];                System.arraycopy(a, 0, result, 0, len);                primitiveLeftShift(result, result.length, nBits);                return result;            &#125; else &#123;                result = new int[nInts + len + 1];                System.arraycopy(a, 0, result, 0, len);                primitiveRightShift(result, result.length, 32 - nBits);                return result;            &#125;        &#125;    &#125;    static void primitiveRightShift(int[] a, int len, int n) &#123;        int n2 = 32 - n;        int i = len - 1;        for(int c = a[i]; i &gt; 0; --i) &#123;            int b = c;            c = a[i - 1];            a[i] = c &lt;&lt; n2 | b &gt;&gt;&gt; n;        &#125;        a[0] &gt;&gt;&gt;= n;    &#125;    static void primitiveLeftShift(int[] a, int len, int n) &#123;        if (len != 0 &amp;&amp; n != 0) &#123;            int n2 = 32 - n;            int i = 0;            int c = a[i];            for(int m = i + len - 1; i &lt; m; ++i) &#123;                int b = c;                c = a[i + 1];                a[i] = b &lt;&lt; n | c &gt;&gt;&gt; n2;            &#125;            a[len - 1] &lt;&lt;= n;        &#125;    &#125;    private static int bitLength(int[] val, int len) &#123;        return len == 0 ? 0 : (len - 1 &lt;&lt; 5) + bitLengthForInt(val[0]);    &#125;    public BigInteger abs() &#123;        return this.signum &gt;= 0 ? this : this.negate();    &#125;    public BigInteger negate() &#123;        return new BigInteger(this.mag, -this.signum);    &#125;    public int signum() &#123;        return this.signum;    &#125;    public BigInteger mod(BigInteger m) &#123;        if (m.signum &lt;= 0) &#123;            throw new ArithmeticException(BigInteger: modulus not positive);        &#125; else &#123;            BigInteger result = this.remainder(m);            return result.signum &gt;= 0 ? result : result.add(m);        &#125;    &#125;    public BigInteger modPow(BigInteger exponent, BigInteger m) &#123;        if (m.signum &lt;= 0) &#123;            throw new ArithmeticException(BigInteger: modulus not positive);        &#125; else if (exponent.signum == 0) &#123;            return m.equals(ONE) ? ZERO : ONE;        &#125; else if (this.equals(ONE)) &#123;            return m.equals(ONE) ? ZERO : ONE;        &#125; else if (this.equals(ZERO) &amp;&amp; exponent.signum &gt;= 0) &#123;            return ZERO;        &#125; else if (this.equals(negConst[1]) &amp;&amp; !exponent.testBit(0)) &#123;            return m.equals(ONE) ? ZERO : ONE;        &#125; else &#123;            boolean invertResult;            if (invertResult = exponent.signum &lt; 0) &#123;                exponent = exponent.negate();            &#125;            BigInteger base = this.signum &gt;= 0 &amp;&amp; this.compareTo(m) &lt; 0 ? this : this.mod(m);            BigInteger result;            if (m.testBit(0)) &#123;                result = base.oddModPow(exponent, m);            &#125; else &#123;                int p = m.getLowestSetBit();                BigInteger m1 = m.shiftRight(p);                BigInteger m2 = ONE.shiftLeft(p);                BigInteger base2 = this.signum &gt;= 0 &amp;&amp; this.compareTo(m1) &lt; 0 ? this : this.mod(m1);                BigInteger a1 = m1.equals(ONE) ? ZERO : base2.oddModPow(exponent, m1);                BigInteger a2 = base.modPow2(exponent, p);                BigInteger y1 = m2.modInverse(m1);                BigInteger y2 = m1.modInverse(m2);                if (m.mag.length &lt; 33554432) &#123;                    result = a1.multiply(m2).multiply(y1).add(a2.multiply(m1).multiply(y2)).mod(m);                &#125; else &#123;                    MutableBigInteger t1 = new MutableBigInteger();                    (new MutableBigInteger(a1.multiply(m2))).multiply(new MutableBigInteger(y1), t1);                    MutableBigInteger t2 = new MutableBigInteger();                    (new MutableBigInteger(a2.multiply(m1))).multiply(new MutableBigInteger(y2), t2);                    t1.add(t2);                    MutableBigInteger q = new MutableBigInteger();                    result = t1.divide(new MutableBigInteger(m), q).toBigInteger();                &#125;            &#125;            return invertResult ? result.modInverse(m) : result;        &#125;    &#125;    private static int[] montgomeryMultiply(int[] a, int[] b, int[] n, int len, long inv, int[] product) &#123;        implMontgomeryMultiplyChecks(a, b, n, len, product);        if (len &gt; 512) &#123;            product = multiplyToLen(a, len, b, len, product);            return montReduce(product, n, len, (int)inv);        &#125; else &#123;            return implMontgomeryMultiply(a, b, n, len, inv, materialize(product, len));        &#125;    &#125;    private static int[] montgomerySquare(int[] a, int[] n, int len, long inv, int[] product) &#123;        implMontgomeryMultiplyChecks(a, a, n, len, product);        if (len &gt; 512) &#123;            product = squareToLen(a, len, product);            return montReduce(product, n, len, (int)inv);        &#125; else &#123;            return implMontgomerySquare(a, n, len, inv, materialize(product, len));        &#125;    &#125;    private static void implMontgomeryMultiplyChecks(int[] a, int[] b, int[] n, int len, int[] product) throws RuntimeException &#123;        if (len % 2 != 0) &#123;            throw new IllegalArgumentException(input array length must be even:  + len);        &#125; else if (len &lt; 1) &#123;            throw new IllegalArgumentException(invalid input length:  + len);        &#125; else if (len &gt; a.length || len &gt; b.length || len &gt; n.length || product != null &amp;&amp; len &gt; product.length) &#123;            throw new IllegalArgumentException(input array length out of bound:  + len);        &#125;    &#125;    private static int[] materialize(int[] z, int len) &#123;        if (z == null || z.length &lt; len) &#123;            z = new int[len];        &#125;        return z;    &#125;    @HotSpotIntrinsicCandidate    private static int[] implMontgomeryMultiply(int[] a, int[] b, int[] n, int len, long inv, int[] product) &#123;        product = multiplyToLen(a, len, b, len, product);        return montReduce(product, n, len, (int)inv);    &#125;    @HotSpotIntrinsicCandidate    private static int[] implMontgomerySquare(int[] a, int[] n, int len, long inv, int[] product) &#123;        product = squareToLen(a, len, product);        return montReduce(product, n, len, (int)inv);    &#125;    private BigInteger oddModPow(BigInteger y, BigInteger z) &#123;        if (y.equals(ONE)) &#123;            return this;        &#125; else if (this.signum == 0) &#123;            return ZERO;        &#125; else &#123;            int[] base = (int[])this.mag.clone();            int[] exp = y.mag;            int[] mod = z.mag;            int modLen = mod.length;            if ((modLen &amp; 1) != 0) &#123;                int[] x = new int[modLen + 1];                System.arraycopy(mod, 0, x, 1, modLen);                mod = x;                ++modLen;            &#125;            int wbits = 0;            int ebits = bitLength(exp, exp.length);            if (ebits != 17 || exp[0] != 65537) &#123;                while(ebits &gt; bnExpModThreshTable[wbits]) &#123;                    ++wbits;                &#125;            &#125;            int tblmask = 1 &lt;&lt; wbits;            int[][] table = new int[tblmask][];            for(int i = 0; i &lt; tblmask; ++i) &#123;                table[i] = new int[modLen];            &#125;            long n0 = ((long)mod[modLen - 1] &amp; 4294967295L) + (((long)mod[modLen - 2] &amp; 4294967295L) &lt;&lt; 32);            long inv = -MutableBigInteger.inverseMod64(n0);            int[] a = leftShift(base, base.length, modLen &lt;&lt; 5);            MutableBigInteger q = new MutableBigInteger();            MutableBigInteger a2 = new MutableBigInteger(a);            MutableBigInteger b2 = new MutableBigInteger(mod);            b2.normalize();            MutableBigInteger r = a2.divide(b2, q);            table[0] = r.toIntArray();            int[] t;            if (table[0].length &lt; modLen) &#123;                int offset = modLen - table[0].length;                t = new int[modLen];                System.arraycopy(table[0], 0, t, offset, table[0].length);                table[0] = t;            &#125;            int[] b = montgomerySquare(table[0], mod, modLen, inv, (int[])null);            t = Arrays.copyOf(b, modLen);            int bitpos;            for(bitpos = 1; bitpos &lt; tblmask; ++bitpos) &#123;                table[bitpos] = montgomeryMultiply(t, table[bitpos - 1], mod, modLen, inv, (int[])null);            &#125;            bitpos = 1 &lt;&lt; (ebits - 1 &amp; 31);            int buf = 0;            int elen = exp.length;            int eIndex = 0;            int multpos;            for(multpos = 0; multpos &lt;= wbits; ++multpos) &#123;                buf = buf &lt;&lt; 1 | ((exp[eIndex] &amp; bitpos) != 0 ? 1 : 0);                bitpos &gt;&gt;&gt;= 1;                if (bitpos == 0) &#123;                    ++eIndex;                    bitpos = -2147483648;                    --elen;                &#125;            &#125;            --ebits;            boolean isone = true;            for(multpos = ebits - wbits; (buf &amp; 1) == 0; ++multpos) &#123;                buf &gt;&gt;&gt;= 1;            &#125;            int[] mult = table[buf &gt;&gt;&gt; 1];            buf = 0;            if (multpos == ebits) &#123;                isone = false;            &#125;            while(true) &#123;                --ebits;                buf &lt;&lt;= 1;                if (elen != 0) &#123;                    buf |= (exp[eIndex] &amp; bitpos) != 0 ? 1 : 0;                    bitpos &gt;&gt;&gt;= 1;                    if (bitpos == 0) &#123;                        ++eIndex;                        bitpos = -2147483648;                        --elen;                    &#125;                &#125;                if ((buf &amp; tblmask) != 0) &#123;                    for(multpos = ebits - wbits; (buf &amp; 1) == 0; ++multpos) &#123;                        buf &gt;&gt;&gt;= 1;                    &#125;                    mult = table[buf &gt;&gt;&gt; 1];                    buf = 0;                &#125;                if (ebits == multpos) &#123;                    if (isone) &#123;                        b = (int[])mult.clone();                        isone = false;                    &#125; else &#123;                        a = montgomeryMultiply(b, mult, mod, modLen, inv, a);                        t = a;                        a = b;                        b = t;                    &#125;                &#125;                if (ebits == 0) &#123;                    int[] t2 = new int[2 * modLen];                    System.arraycopy(b, 0, t2, modLen, modLen);                    b = montReduce(t2, mod, modLen, (int)inv);                    t2 = Arrays.copyOf(b, modLen);                    return new BigInteger(1, t2);                &#125;                if (!isone) &#123;                    a = montgomerySquare(b, mod, modLen, inv, a);                    t = a;                    a = b;                    b = t;                &#125;            &#125;        &#125;    &#125;    private static int[] montReduce(int[] n, int[] mod, int mlen, int inv) &#123;        int c = 0;        int len = mlen;        int offset = 0;        do &#123;            int nEnd = n[n.length - 1 - offset];            int carry = mulAdd(n, mod, offset, mlen, inv * nEnd);            c += addOne(n, offset, mlen, carry);            ++offset;            --len;        &#125; while(len &gt; 0);        while(c &gt; 0) &#123;            c += subN(n, mod, mlen);        &#125;        while(intArrayCmpToLen(n, mod, mlen) &gt;= 0) &#123;            subN(n, mod, mlen);        &#125;        return n;    &#125;    private static int intArrayCmpToLen(int[] arg1, int[] arg2, int len) &#123;        for(int i = 0; i &lt; len; ++i) &#123;            long b1 = (long)arg1[i] &amp; 4294967295L;            long b2 = (long)arg2[i] &amp; 4294967295L;            if (b1 &lt; b2) &#123;                return -1;            &#125;            if (b1 &gt; b2) &#123;                return 1;            &#125;        &#125;        return 0;    &#125;    private static int subN(int[] a, int[] b, int len) &#123;        long sum = 0L;        while(true) &#123;            --len;            if (len &lt; 0) &#123;                return (int)(sum &gt;&gt; 32);            &#125;            sum = ((long)a[len] &amp; 4294967295L) - ((long)b[len] &amp; 4294967295L) + (sum &gt;&gt; 32);            a[len] = (int)sum;        &#125;    &#125;    static int mulAdd(int[] out, int[] in, int offset, int len, int k) &#123;        implMulAddCheck(out, in, offset, len, k);        return implMulAdd(out, in, offset, len, k);    &#125;    private static void implMulAddCheck(int[] out, int[] in, int offset, int len, int k) &#123;        if (len &gt; in.length) &#123;            throw new IllegalArgumentException(input length is out of bound:  + len +  &gt;  + in.length);        &#125; else if (offset &lt; 0) &#123;            throw new IllegalArgumentException(input offset is invalid:  + offset);        &#125; else if (offset &gt; out.length - 1) &#123;            throw new IllegalArgumentException(input offset is out of bound:  + offset +  &gt;  + (out.length - 1));        &#125; else if (len &gt; out.length - offset) &#123;            throw new IllegalArgumentException(input len is out of bound:  + len +  &gt;  + (out.length - offset));        &#125;    &#125;    @HotSpotIntrinsicCandidate    private static int implMulAdd(int[] out, int[] in, int offset, int len, int k) &#123;        long kLong = (long)k &amp; 4294967295L;        long carry = 0L;        offset = out.length - offset - 1;        for(int j = len - 1; j &gt;= 0; --j) &#123;            long product = ((long)in[j] &amp; 4294967295L) * kLong + ((long)out[offset] &amp; 4294967295L) + carry;            out[offset--] = (int)product;            carry = product &gt;&gt;&gt; 32;        &#125;        return (int)carry;    &#125;    static int addOne(int[] a, int offset, int mlen, int carry) &#123;        offset = a.length - 1 - mlen - offset;        long t = ((long)a[offset] &amp; 4294967295L) + ((long)carry &amp; 4294967295L);        a[offset] = (int)t;        if (t &gt;&gt;&gt; 32 == 0L) &#123;            return 0;        &#125; else &#123;            do &#123;                --mlen;                if (mlen &lt; 0) &#123;                    return 1;                &#125;                --offset;                if (offset &lt; 0) &#123;                    return 1;                &#125;                int var10002 = a[offset]++;            &#125; while(a[offset] == 0);            return 0;        &#125;    &#125;    private BigInteger modPow2(BigInteger exponent, int p) &#123;        BigInteger result = ONE;        BigInteger baseToPow2 = this.mod2(p);        int expOffset = 0;        int limit = exponent.bitLength();        if (this.testBit(0)) &#123;            limit = p - 1 &lt; limit ? p - 1 : limit;        &#125;        while(expOffset &lt; limit) &#123;            if (exponent.testBit(expOffset)) &#123;                result = result.multiply(baseToPow2).mod2(p);            &#125;            ++expOffset;            if (expOffset &lt; limit) &#123;                baseToPow2 = baseToPow2.square().mod2(p);            &#125;        &#125;        return result;    &#125;    private BigInteger mod2(int p) &#123;        if (this.bitLength() &lt;= p) &#123;            return this;        &#125; else &#123;            int numInts = p + 31 &gt;&gt;&gt; 5;            int[] mag = new int[numInts];            System.arraycopy(this.mag, this.mag.length - numInts, mag, 0, numInts);            int excessBits = (numInts &lt;&lt; 5) - p;            mag[0] = (int)((long)mag[0] &amp; (1L &lt;&lt; 32 - excessBits) - 1L);            return mag[0] == 0 ? new BigInteger(1, mag) : new BigInteger(mag, 1);        &#125;    &#125;    public BigInteger modInverse(BigInteger m) &#123;        if (m.signum != 1) &#123;            throw new ArithmeticException(BigInteger: modulus not positive);        &#125; else if (m.equals(ONE)) &#123;            return ZERO;        &#125; else &#123;            BigInteger modVal = this;            if (this.signum &lt; 0 || this.compareMagnitude(m) &gt;= 0) &#123;                modVal = this.mod(m);            &#125;            if (modVal.equals(ONE)) &#123;                return ONE;            &#125; else &#123;                MutableBigInteger a = new MutableBigInteger(modVal);                MutableBigInteger b = new MutableBigInteger(m);                MutableBigInteger result = a.mutableModInverse(b);                return result.toBigInteger(1);            &#125;        &#125;    &#125;    public BigInteger shiftLeft(int n) &#123;        if (this.signum == 0) &#123;            return ZERO;        &#125; else if (n &gt; 0) &#123;            return new BigInteger(shiftLeft(this.mag, n), this.signum);        &#125; else &#123;            return n == 0 ? this : this.shiftRightImpl(-n);        &#125;    &#125;    private static int[] shiftLeft(int[] mag, int n) &#123;        int nInts = n &gt;&gt;&gt; 5;        int nBits = n &amp; 31;        int magLen = mag.length;        int[] newMag = null;        int[] newMag;        if (nBits == 0) &#123;            newMag = new int[magLen + nInts];            System.arraycopy(mag, 0, newMag, 0, magLen);        &#125; else &#123;            int i = 0;            int nBits2 = 32 - nBits;            int highBits = mag[0] &gt;&gt;&gt; nBits2;            if (highBits != 0) &#123;                newMag = new int[magLen + nInts + 1];                newMag[i++] = highBits;            &#125; else &#123;                newMag = new int[magLen + nInts];            &#125;            int j;            for(j = 0; j &lt; magLen - 1; newMag[i++] = mag[j++] &lt;&lt; nBits | mag[j] &gt;&gt;&gt; nBits2) &#123;            &#125;            newMag[i] = mag[j] &lt;&lt; nBits;        &#125;        return newMag;    &#125;    public BigInteger shiftRight(int n) &#123;        if (this.signum == 0) &#123;            return ZERO;        &#125; else if (n &gt; 0) &#123;            return this.shiftRightImpl(n);        &#125; else &#123;            return n == 0 ? this : new BigInteger(shiftLeft(this.mag, -n), this.signum);        &#125;    &#125;    private BigInteger shiftRightImpl(int n) &#123;        int nInts = n &gt;&gt;&gt; 5;        int nBits = n &amp; 31;        int magLen = this.mag.length;        int[] newMag = null;        if (nInts &gt;= magLen) &#123;            return this.signum &gt;= 0 ? ZERO : negConst[1];        &#125; else &#123;            int newMagLen;            int i;            int nBits2;            int[] newMag;            if (nBits == 0) &#123;                newMagLen = magLen - nInts;                newMag = Arrays.copyOf(this.mag, newMagLen);            &#125; else &#123;                newMagLen = 0;                i = this.mag[0] &gt;&gt;&gt; nBits;                if (i != 0) &#123;                    newMag = new int[magLen - nInts];                    newMag[newMagLen++] = i;                &#125; else &#123;                    newMag = new int[magLen - nInts - 1];                &#125;                nBits2 = 32 - nBits;                for(int j = 0; j &lt; magLen - nInts - 1; newMag[newMagLen++] = this.mag[j++] &lt;&lt; nBits2 | this.mag[j] &gt;&gt;&gt; nBits) &#123;                &#125;            &#125;            if (this.signum &lt; 0) &#123;                boolean onesLost = false;                i = magLen - 1;                for(nBits2 = magLen - nInts; i &gt;= nBits2 &amp;&amp; !onesLost; --i) &#123;                    onesLost = this.mag[i] != 0;                &#125;                if (!onesLost &amp;&amp; nBits != 0) &#123;                    onesLost = this.mag[magLen - nInts - 1] &lt;&lt; 32 - nBits != 0;                &#125;                if (onesLost) &#123;                    newMag = this.javaIncrement(newMag);                &#125;            &#125;            return new BigInteger(newMag, this.signum);        &#125;    &#125;    int[] javaIncrement(int[] val) &#123;        int lastSum = 0;        for(int i = val.length - 1; i &gt;= 0 &amp;&amp; lastSum == 0; --i) &#123;            lastSum = ++val[i];        &#125;        if (lastSum == 0) &#123;            val = new int[val.length + 1];            val[0] = 1;        &#125;        return val;    &#125;    public BigInteger and(BigInteger val) &#123;        int[] result = new int[Math.max(this.intLength(), val.intLength())];        for(int i = 0; i &lt; result.length; ++i) &#123;            result[i] = this.getInt(result.length - i - 1) &amp; val.getInt(result.length - i - 1);        &#125;        return valueOf(result);    &#125;    public BigInteger or(BigInteger val) &#123;        int[] result = new int[Math.max(this.intLength(), val.intLength())];        for(int i = 0; i &lt; result.length; ++i) &#123;            result[i] = this.getInt(result.length - i - 1) | val.getInt(result.length - i - 1);        &#125;        return valueOf(result);    &#125;    public BigInteger xor(BigInteger val) &#123;        int[] result = new int[Math.max(this.intLength(), val.intLength())];        for(int i = 0; i &lt; result.length; ++i) &#123;            result[i] = this.getInt(result.length - i - 1) ^ val.getInt(result.length - i - 1);        &#125;        return valueOf(result);    &#125;    public BigInteger not() &#123;        int[] result = new int[this.intLength()];        for(int i = 0; i &lt; result.length; ++i) &#123;            result[i] = ~this.getInt(result.length - i - 1);        &#125;        return valueOf(result);    &#125;    public BigInteger andNot(BigInteger val) &#123;        int[] result = new int[Math.max(this.intLength(), val.intLength())];        for(int i = 0; i &lt; result.length; ++i) &#123;            result[i] = this.getInt(result.length - i - 1) &amp; ~val.getInt(result.length - i - 1);        &#125;        return valueOf(result);    &#125;    public boolean testBit(int n) &#123;        if (n &lt; 0) &#123;            throw new ArithmeticException(Negative bit address);        &#125; else &#123;            return (this.getInt(n &gt;&gt;&gt; 5) &amp; 1 &lt;&lt; (n &amp; 31)) != 0;        &#125;    &#125;    public BigInteger setBit(int n) &#123;        if (n &lt; 0) &#123;            throw new ArithmeticException(Negative bit address);        &#125; else &#123;            int intNum = n &gt;&gt;&gt; 5;            int[] result = new int[Math.max(this.intLength(), intNum + 2)];            for(int i = 0; i &lt; result.length; ++i) &#123;                result[result.length - i - 1] = this.getInt(i);            &#125;            result[result.length - intNum - 1] |= 1 &lt;&lt; (n &amp; 31);            return valueOf(result);        &#125;    &#125;    public BigInteger clearBit(int n) &#123;        if (n &lt; 0) &#123;            throw new ArithmeticException(Negative bit address);        &#125; else &#123;            int intNum = n &gt;&gt;&gt; 5;            int[] result = new int[Math.max(this.intLength(), (n + 1 &gt;&gt;&gt; 5) + 1)];            for(int i = 0; i &lt; result.length; ++i) &#123;                result[result.length - i - 1] = this.getInt(i);            &#125;            result[result.length - intNum - 1] &amp;= ~(1 &lt;&lt; (n &amp; 31));            return valueOf(result);        &#125;    &#125;    public BigInteger flipBit(int n) &#123;        if (n &lt; 0) &#123;            throw new ArithmeticException(Negative bit address);        &#125; else &#123;            int intNum = n &gt;&gt;&gt; 5;            int[] result = new int[Math.max(this.intLength(), intNum + 2)];            for(int i = 0; i &lt; result.length; ++i) &#123;                result[result.length - i - 1] = this.getInt(i);            &#125;            result[result.length - intNum - 1] ^= 1 &lt;&lt; (n &amp; 31);            return valueOf(result);        &#125;    &#125;    public int getLowestSetBit() &#123;        int lsb = this.lowestSetBitPlusTwo - 2;        if (lsb == -2) &#123;            int lsb = 0;            if (this.signum == 0) &#123;                lsb = lsb - 1;            &#125; else &#123;                int i;                int b;                for(i = 0; (b = this.getInt(i)) == 0; ++i) &#123;                &#125;                lsb = lsb + (i &lt;&lt; 5) + Integer.numberOfTrailingZeros(b);            &#125;            this.lowestSetBitPlusTwo = lsb + 2;        &#125;        return lsb;    &#125;    public int bitLength() &#123;        int n = this.bitLengthPlusOne - 1;        if (n == -1) &#123;            int[] m = this.mag;            int len = m.length;            if (len == 0) &#123;                n = 0;            &#125; else &#123;                int magBitLength = (len - 1 &lt;&lt; 5) + bitLengthForInt(this.mag[0]);                if (this.signum &gt;= 0) &#123;                    n = magBitLength;                &#125; else &#123;                    boolean pow2 = Integer.bitCount(this.mag[0]) == 1;                    for(int i = 1; i &lt; len &amp;&amp; pow2; ++i) &#123;                        pow2 = this.mag[i] == 0;                    &#125;                    n = pow2 ? magBitLength - 1 : magBitLength;                &#125;            &#125;            this.bitLengthPlusOne = n + 1;        &#125;        return n;    &#125;    public int bitCount() &#123;        int bc = this.bitCountPlusOne - 1;        if (bc == -1) &#123;            bc = 0;            int magTrailingZeroCount;            for(magTrailingZeroCount = 0; magTrailingZeroCount &lt; this.mag.length; ++magTrailingZeroCount) &#123;                bc += Integer.bitCount(this.mag[magTrailingZeroCount]);            &#125;            if (this.signum &lt; 0) &#123;                magTrailingZeroCount = 0;                int j;                for(j = this.mag.length - 1; this.mag[j] == 0; --j) &#123;                    magTrailingZeroCount += 32;                &#125;                magTrailingZeroCount += Integer.numberOfTrailingZeros(this.mag[j]);                bc += magTrailingZeroCount - 1;            &#125;            this.bitCountPlusOne = bc + 1;        &#125;        return bc;    &#125;    public boolean isProbablePrime(int certainty) &#123;        if (certainty &lt;= 0) &#123;            return true;        &#125; else &#123;            BigInteger w = this.abs();            if (w.equals(TWO)) &#123;                return true;            &#125; else &#123;                return w.testBit(0) &amp;&amp; !w.equals(ONE) ? w.primeToCertainty(certainty, (Random)null) : false;            &#125;        &#125;    &#125;    public int compareTo(BigInteger val) &#123;        if (this.signum == val.signum) &#123;            switch(this.signum) &#123;            case -1:                return val.compareMagnitude(this);            case 1:                return this.compareMagnitude(val);            default:                return 0;            &#125;        &#125; else &#123;            return this.signum &gt; val.signum ? 1 : -1;        &#125;    &#125;    final int compareMagnitude(BigInteger val) &#123;        int[] m1 = this.mag;        int len1 = m1.length;        int[] m2 = val.mag;        int len2 = m2.length;        if (len1 &lt; len2) &#123;            return -1;        &#125; else if (len1 &gt; len2) &#123;            return 1;        &#125; else &#123;            for(int i = 0; i &lt; len1; ++i) &#123;                int a = m1[i];                int b = m2[i];                if (a != b) &#123;                    return ((long)a &amp; 4294967295L) &lt; ((long)b &amp; 4294967295L) ? -1 : 1;                &#125;            &#125;            return 0;        &#125;    &#125;    final int compareMagnitude(long val) &#123;        assert val != -9223372036854775808L;        int[] m1 = this.mag;        int len = m1.length;        if (len &gt; 2) &#123;            return 1;        &#125; else &#123;            if (val &lt; 0L) &#123;                val = -val;            &#125;            int highWord = (int)(val &gt;&gt;&gt; 32);            int a;            int b;            if (highWord == 0) &#123;                if (len &lt; 1) &#123;                    return -1;                &#125; else if (len &gt; 1) &#123;                    return 1;                &#125; else &#123;                    a = m1[0];                    b = (int)val;                    if (a != b) &#123;                        return ((long)a &amp; 4294967295L) &lt; ((long)b &amp; 4294967295L) ? -1 : 1;                    &#125; else &#123;                        return 0;                    &#125;                &#125;            &#125; else if (len &lt; 2) &#123;                return -1;            &#125; else &#123;                a = m1[0];                if (a != highWord) &#123;                    return ((long)a &amp; 4294967295L) &lt; ((long)highWord &amp; 4294967295L) ? -1 : 1;                &#125; else &#123;                    a = m1[1];                    b = (int)val;                    if (a != b) &#123;                        return ((long)a &amp; 4294967295L) &lt; ((long)b &amp; 4294967295L) ? -1 : 1;                    &#125; else &#123;                        return 0;                    &#125;                &#125;            &#125;        &#125;    &#125;    public boolean equals(Object x) &#123;        if (x == this) &#123;            return true;        &#125; else if (!(x instanceof BigInteger)) &#123;            return false;        &#125; else &#123;            BigInteger xInt = (BigInteger)x;            if (xInt.signum != this.signum) &#123;                return false;            &#125; else &#123;                int[] m = this.mag;                int len = m.length;                int[] xm = xInt.mag;                if (len != xm.length) &#123;                    return false;                &#125; else &#123;                    for(int i = 0; i &lt; len; ++i) &#123;                        if (xm[i] != m[i]) &#123;                            return false;                        &#125;                    &#125;                    return true;                &#125;            &#125;        &#125;    &#125;    public BigInteger min(BigInteger val) &#123;        return this.compareTo(val) &lt; 0 ? this : val;    &#125;    public BigInteger max(BigInteger val) &#123;        return this.compareTo(val) &gt; 0 ? this : val;    &#125;    public int hashCode() &#123;        int hashCode = 0;        for(int i = 0; i &lt; this.mag.length; ++i) &#123;            hashCode = (int)((long)(31 * hashCode) + ((long)this.mag[i] &amp; 4294967295L));        &#125;        return hashCode * this.signum;    &#125;    public String toString(int radix) &#123;        if (this.signum == 0) &#123;            return 0;        &#125; else &#123;            if (radix &lt; 2 || radix &gt; 36) &#123;                radix = 10;            &#125;            if (this.mag.length &lt;= 20) &#123;                return this.smallToString(radix);            &#125; else &#123;                StringBuilder sb = new StringBuilder();                if (this.signum &lt; 0) &#123;                    toString(this.negate(), sb, radix, 0);                    sb.insert(0, -);                &#125; else &#123;                    toString(this, sb, radix, 0);                &#125;                return sb.toString();            &#125;        &#125;    &#125;    private String smallToString(int radix) &#123;        if (this.signum == 0) &#123;            return 0;        &#125; else &#123;            int maxNumDigitGroups = (4 * this.mag.length + 6)  7;            String[] digitGroup = new String[maxNumDigitGroups];            BigInteger tmp = this.abs();            int numGroups;            BigInteger q2;            for(numGroups = 0; tmp.signum != 0; tmp = q2) &#123;                BigInteger d = longRadix[radix];                MutableBigInteger q = new MutableBigInteger();                MutableBigInteger a = new MutableBigInteger(tmp.mag);                MutableBigInteger b = new MutableBigInteger(d.mag);                MutableBigInteger r = a.divide(b, q);                q2 = q.toBigInteger(tmp.signum * d.signum);                BigInteger r2 = r.toBigInteger(tmp.signum * d.signum);                digitGroup[numGroups++] = Long.toString(r2.longValue(), radix);            &#125;            StringBuilder buf = new StringBuilder(numGroups * digitsPerLong[radix] + 1);            if (this.signum &lt; 0) &#123;                buf.append(-);            &#125;            buf.append(digitGroup[numGroups - 1]);            for(int i = numGroups - 2; i &gt;= 0; --i) &#123;                int numLeadingZeros = digitsPerLong[radix] - digitGroup[i].length();                if (numLeadingZeros != 0) &#123;                    buf.append(zeros[numLeadingZeros]);                &#125;                buf.append(digitGroup[i]);            &#125;            return buf.toString();        &#125;    &#125;    private static void toString(BigInteger u, StringBuilder sb, int radix, int digits) &#123;        int i;        if (u.mag.length &gt; 20) &#123;            int b = u.bitLength();            i = (int)Math.round(Math.log((double)b * LOG_TWO  logCache[radix])  LOG_TWO - 1.0D);            BigInteger v = getRadixConversionCache(radix, i);            BigInteger[] results = u.divideAndRemainder(v);            int expectedDigits = 1 &lt;&lt; i;            toString(results[0], sb, radix, digits - expectedDigits);            toString(results[1], sb, radix, expectedDigits);        &#125; else &#123;            String s = u.smallToString(radix);            if (s.length() &lt; digits &amp;&amp; sb.length() &gt; 0) &#123;                for(i = s.length(); i &lt; digits; ++i) &#123;                    sb.append(0);                &#125;            &#125;            sb.append(s);        &#125;    &#125;    private static BigInteger getRadixConversionCache(int radix, int exponent) &#123;        BigInteger[] cacheLine = powerCache[radix];        if (exponent &lt; cacheLine.length) &#123;            return cacheLine[exponent];        &#125; else &#123;            int oldLength = cacheLine.length;            cacheLine = (BigInteger[])Arrays.copyOf(cacheLine, exponent + 1);            for(int i = oldLength; i &lt;= exponent; ++i) &#123;                cacheLine[i] = cacheLine[i - 1].pow(2);            &#125;            BigInteger[][] pc = powerCache;            if (exponent &gt;= pc[radix].length) &#123;                pc = (BigInteger[][])pc.clone();                pc[radix] = cacheLine;                powerCache = pc;            &#125;            return cacheLine[exponent];        &#125;    &#125;    public String toString() &#123;        return this.toString(10);    &#125;    public byte[] toByteArray() &#123;        int byteLen = this.bitLength()  8 + 1;        byte[] byteArray = new byte[byteLen];        int i = byteLen - 1;        int bytesCopied = 4;        int nextInt = 0;        for(int var6 = 0; i &gt;= 0; --i) &#123;            if (bytesCopied == 4) &#123;                nextInt = this.getInt(var6++);                bytesCopied = 1;            &#125; else &#123;                nextInt &gt;&gt;&gt;= 8;                ++bytesCopied;            &#125;            byteArray[i] = (byte)nextInt;        &#125;        return byteArray;    &#125;    public int intValue() &#123;        int result = false;        int result = this.getInt(0);        return result;    &#125;    public long longValue() &#123;        long result = 0L;        for(int i = 1; i &gt;= 0; --i) &#123;            result = (result &lt;&lt; 32) + ((long)this.getInt(i) &amp; 4294967295L);        &#125;        return result;    &#125;    public float floatValue() &#123;        if (this.signum == 0) &#123;            return 0.0F;        &#125; else &#123;            int exponent = (this.mag.length - 1 &lt;&lt; 5) + bitLengthForInt(this.mag[0]) - 1;            if (exponent &lt; 63) &#123;                return (float)this.longValue();            &#125; else if (exponent &gt; 127) &#123;                return this.signum &gt; 0 ? 1.0F  0.0 : -1.0F  0.0;            &#125; else &#123;                int shift = exponent - 24;                int nBits = shift &amp; 31;                int nBits2 = 32 - nBits;                int twiceSignifFloor;                if (nBits == 0) &#123;                    twiceSignifFloor = this.mag[0];                &#125; else &#123;                    twiceSignifFloor = this.mag[0] &gt;&gt;&gt; nBits;                    if (twiceSignifFloor == 0) &#123;                        twiceSignifFloor = this.mag[0] &lt;&lt; nBits2 | this.mag[1] &gt;&gt;&gt; nBits;                    &#125;                &#125;                int signifFloor = twiceSignifFloor &gt;&gt; 1;                signifFloor &amp;= 8388607;                boolean increment = (twiceSignifFloor &amp; 1) != 0 &amp;&amp; ((signifFloor &amp; 1) != 0 || this.abs().getLowestSetBit() &lt; shift);                int signifRounded = increment ? signifFloor + 1 : signifFloor;                int bits = exponent + 127 &lt;&lt; 23;                bits += signifRounded;                bits |= this.signum &amp; -2147483648;                return Float.intBitsToFloat(bits);            &#125;        &#125;    &#125;    public double doubleValue() &#123;        if (this.signum == 0) &#123;            return 0.0D;        &#125; else &#123;            int exponent = (this.mag.length - 1 &lt;&lt; 5) + bitLengthForInt(this.mag[0]) - 1;            if (exponent &lt; 63) &#123;                return (double)this.longValue();            &#125; else if (exponent &gt; 1023) &#123;                return this.signum &gt; 0 ? 1.0D  0.0 : -1.0D  0.0;            &#125; else &#123;                int shift = exponent - 53;                int nBits = shift &amp; 31;                int nBits2 = 32 - nBits;                int highBits;                int lowBits;                if (nBits == 0) &#123;                    highBits = this.mag[0];                    lowBits = this.mag[1];                &#125; else &#123;                    highBits = this.mag[0] &gt;&gt;&gt; nBits;                    lowBits = this.mag[0] &lt;&lt; nBits2 | this.mag[1] &gt;&gt;&gt; nBits;                    if (highBits == 0) &#123;                        highBits = lowBits;                        lowBits = this.mag[1] &lt;&lt; nBits2 | this.mag[2] &gt;&gt;&gt; nBits;                    &#125;                &#125;                long twiceSignifFloor = ((long)highBits &amp; 4294967295L) &lt;&lt; 32 | (long)lowBits &amp; 4294967295L;                long signifFloor = twiceSignifFloor &gt;&gt; 1;                signifFloor &amp;= 4503599627370495L;                boolean increment = (twiceSignifFloor &amp; 1L) != 0L &amp;&amp; ((signifFloor &amp; 1L) != 0L || this.abs().getLowestSetBit() &lt; shift);                long signifRounded = increment ? signifFloor + 1L : signifFloor;                long bits = (long)(exponent + 1023) &lt;&lt; 52;                bits += signifRounded;                bits |= (long)this.signum &amp; -9223372036854775808L;                return Double.longBitsToDouble(bits);            &#125;        &#125;    &#125;    private static int[] stripLeadingZeroInts(int[] val) &#123;        int vlen = val.length;        int keep;        for(keep = 0; keep &lt; vlen &amp;&amp; val[keep] == 0; ++keep) &#123;        &#125;        return Arrays.copyOfRange(val, keep, vlen);    &#125;    private static int[] trustedStripLeadingZeroInts(int[] val) &#123;        int vlen = val.length;        int keep;        for(keep = 0; keep &lt; vlen &amp;&amp; val[keep] == 0; ++keep) &#123;        &#125;        return keep == 0 ? val : Arrays.copyOfRange(val, keep, vlen);    &#125;    private static int[] stripLeadingZeroBytes(byte[] a, int off, int len) &#123;        int indexBound = off + len;        int keep;        for(keep = off; keep &lt; indexBound &amp;&amp; a[keep] == 0; ++keep) &#123;        &#125;        int intLength = indexBound - keep + 3 &gt;&gt;&gt; 2;        int[] result = new int[intLength];        int b = indexBound - 1;        for(int i = intLength - 1; i &gt;= 0; --i) &#123;            result[i] = a[b--] &amp; 255;            int bytesRemaining = b - keep + 1;            int bytesToTransfer = Math.min(3, bytesRemaining);            for(int j = 8; j &lt;= bytesToTransfer &lt;&lt; 3; j += 8) &#123;                result[i] |= (a[b--] &amp; 255) &lt;&lt; j;            &#125;        &#125;        return result;    &#125;    private static int[] makePositive(byte[] a, int off, int len) &#123;        int indexBound = off + len;        int keep;        for(keep = off; keep &lt; indexBound &amp;&amp; a[keep] == -1; ++keep) &#123;        &#125;        int k;        for(k = keep; k &lt; indexBound &amp;&amp; a[k] == 0; ++k) &#123;        &#125;        int extraByte = k == indexBound ? 1 : 0;        int intLength = indexBound - keep + extraByte + 3 &gt;&gt;&gt; 2;        int[] result = new int[intLength];        int b = indexBound - 1;        int i;        for(i = intLength - 1; i &gt;= 0; --i) &#123;            result[i] = a[b--] &amp; 255;            int numBytesToTransfer = Math.min(3, b - keep + 1);            if (numBytesToTransfer &lt; 0) &#123;                numBytesToTransfer = 0;            &#125;            int mask;            for(mask = 8; mask &lt;= 8 * numBytesToTransfer; mask += 8) &#123;                result[i] |= (a[b--] &amp; 255) &lt;&lt; mask;            &#125;            mask = -1 &gt;&gt;&gt; 8 * (3 - numBytesToTransfer);            result[i] = ~result[i] &amp; mask;        &#125;        for(i = result.length - 1; i &gt;= 0; --i) &#123;            result[i] = (int)(((long)result[i] &amp; 4294967295L) + 1L);            if (result[i] != 0) &#123;                break;            &#125;        &#125;        return result;    &#125;    private static int[] makePositive(int[] a) &#123;        int keep;        for(keep = 0; keep &lt; a.length &amp;&amp; a[keep] == -1; ++keep) &#123;        &#125;        int j;        for(j = keep; j &lt; a.length &amp;&amp; a[j] == 0; ++j) &#123;        &#125;        int extraInt = j == a.length ? 1 : 0;        int[] result = new int[a.length - keep + extraInt];        int i;        for(i = keep; i &lt; a.length; ++i) &#123;            result[i - keep + extraInt] = ~a[i];        &#125;        for(i = result.length - 1; ++result[i] == 0; --i) &#123;        &#125;        return result;    &#125;    private int intLength() &#123;        return (this.bitLength() &gt;&gt;&gt; 5) + 1;    &#125;    private int signBit() &#123;        return this.signum &lt; 0 ? 1 : 0;    &#125;    private int signInt() &#123;        return this.signum &lt; 0 ? -1 : 0;    &#125;    private int getInt(int n) &#123;        if (n &lt; 0) &#123;            return 0;        &#125; else if (n &gt;= this.mag.length) &#123;            return this.signInt();        &#125; else &#123;            int magInt = this.mag[this.mag.length - n - 1];            return this.signum &gt;= 0 ? magInt : (n &lt;= this.firstNonzeroIntNum() ? -magInt : ~magInt);        &#125;    &#125;    private int firstNonzeroIntNum() &#123;        int fn = this.firstNonzeroIntNumPlusTwo - 2;        if (fn == -2) &#123;            int mlen = this.mag.length;            int i;            for(i = mlen - 1; i &gt;= 0 &amp;&amp; this.mag[i] == 0; --i) &#123;            &#125;            fn = mlen - i - 1;            this.firstNonzeroIntNumPlusTwo = fn + 2;        &#125;        return fn;    &#125;    private void readObject(ObjectInputStream s) throws IOException, ClassNotFoundException &#123;        GetField fields = s.readFields();        int sign = fields.get(signum, -2);        byte[] magnitude = (byte[])fields.get(magnitude, (Object)null);        if (sign &gt;= -1 &amp;&amp; sign &lt;= 1) &#123;            int[] mag = stripLeadingZeroBytes(magnitude, 0, magnitude.length);            if (mag.length == 0 != (sign == 0)) &#123;                String message = BigInteger: signum-magnitude mismatch;                if (fields.defaulted(magnitude)) &#123;                    message = BigInteger: Magnitude not present in stream;                &#125;                throw new StreamCorruptedException(message);            &#125; else &#123;                BigInteger.UnsafeHolder.putSign(this, sign);                BigInteger.UnsafeHolder.putMag(this, mag);                if (mag.length &gt;= 67108864) &#123;                    try &#123;                        this.checkRange();                    &#125; catch (ArithmeticException var7) &#123;                        throw new StreamCorruptedException(BigInteger: Out of the supported range);                    &#125;                &#125;            &#125;        &#125; else &#123;            String message = BigInteger: Invalid signum value;            if (fields.defaulted(signum)) &#123;                message = BigInteger: Signum not present in stream;            &#125;            throw new StreamCorruptedException(message);        &#125;    &#125;    private void writeObject(ObjectOutputStream s) throws IOException &#123;        PutField fields = s.putFields();        fields.put(signum, this.signum);        fields.put(magnitude, this.magSerializedForm());        fields.put(bitCount, -1);        fields.put(bitLength, -1);        fields.put(lowestSetBit, -2);        fields.put(firstNonzeroByteNum, -2);        s.writeFields();    &#125;    private byte[] magSerializedForm() &#123;        int len = this.mag.length;        int bitLen = len == 0 ? 0 : (len - 1 &lt;&lt; 5) + bitLengthForInt(this.mag[0]);        int byteLen = bitLen + 7 &gt;&gt;&gt; 3;        byte[] result = new byte[byteLen];        int i = byteLen - 1;        int bytesCopied = 4;        int intIndex = len - 1;        for(int nextInt = 0; i &gt;= 0; --i) &#123;            if (bytesCopied == 4) &#123;                nextInt = this.mag[intIndex--];                bytesCopied = 1;            &#125; else &#123;                nextInt &gt;&gt;&gt;= 8;                ++bytesCopied;            &#125;            result[i] = (byte)nextInt;        &#125;        return result;    &#125;    public long longValueExact() &#123;        if (this.mag.length &lt;= 2 &amp;&amp; this.bitLength() &lt;= 63) &#123;            return this.longValue();        &#125; else &#123;            throw new ArithmeticException(BigInteger out of long range);        &#125;    &#125;    public int intValueExact() &#123;        if (this.mag.length &lt;= 1 &amp;&amp; this.bitLength() &lt;= 31) &#123;            return this.intValue();        &#125; else &#123;            throw new ArithmeticException(BigInteger out of int range);        &#125;    &#125;    public short shortValueExact() &#123;        if (this.mag.length &lt;= 1 &amp;&amp; this.bitLength() &lt;= 31) &#123;            int value = this.intValue();            if (value &gt;= -32768 &amp;&amp; value &lt;= 32767) &#123;                return this.shortValue();            &#125;        &#125;        throw new ArithmeticException(BigInteger out of short range);    &#125;    public byte byteValueExact() &#123;        if (this.mag.length &lt;= 1 &amp;&amp; this.bitLength() &lt;= 31) &#123;            int value = this.intValue();            if (value &gt;= -128 &amp;&amp; value &lt;= 127) &#123;                return this.byteValue();            &#125;        &#125;        throw new ArithmeticException(BigInteger out of byte range);    &#125;    static &#123;        int i;        for(i = 1; i &lt;= 16; ++i) &#123;            int[] magnitude = new int[]&#123;i&#125;;            posConst[i] = new BigInteger(magnitude, 1);            negConst[i] = new BigInteger(magnitude, -1);        &#125;        powerCache = new BigInteger[37][];        logCache = new double[37];        for(i = 2; i &lt;= 36; ++i) &#123;            powerCache[i] = new BigInteger[]&#123;valueOf((long)i)&#125;;            logCache[i] = Math.log((double)i);        &#125;        ZERO = new BigInteger(new int[0], 0);        ONE = valueOf(1L);        TWO = valueOf(2L);        NEGATIVE_ONE = valueOf(-1L);        TEN = valueOf(10L);        bnExpModThreshTable = new int[]&#123;7, 25, 81, 241, 673, 1793, 2147483647&#125;;        zeros = new String[64];        zeros[63] = 000000000000000000000000000000000000000000000000000000000000000;        for(i = 0; i &lt; 63; ++i) &#123;            zeros[i] = zeros[63].substring(0, i);        &#125;        digitsPerLong = new int[]&#123;0, 0, 62, 39, 31, 27, 24, 22, 20, 19, 18, 18, 17, 17, 16, 16, 15, 15, 15, 14, 14, 14, 14, 13, 13, 13, 13, 13, 13, 12, 12, 12, 12, 12, 12, 12, 12&#125;;        longRadix = new BigInteger[]&#123;null, null, valueOf(4611686018427387904L), valueOf(4052555153018976267L), valueOf(4611686018427387904L), valueOf(7450580596923828125L), valueOf(4738381338321616896L), valueOf(3909821048582988049L), valueOf(1152921504606846976L), valueOf(1350851717672992089L), valueOf(1000000000000000000L), valueOf(5559917313492231481L), valueOf(2218611106740436992L), valueOf(8650415919381337933L), valueOf(2177953337809371136L), valueOf(6568408355712890625L), valueOf(1152921504606846976L), valueOf(2862423051509815793L), valueOf(6746640616477458432L), valueOf(799006685782884121L), valueOf(1638400000000000000L), valueOf(3243919932521508681L), valueOf(6221821273427820544L), valueOf(504036361936467383L), valueOf(876488338465357824L), valueOf(1490116119384765625L), valueOf(2481152873203736576L), valueOf(4052555153018976267L), valueOf(6502111422497947648L), valueOf(353814783205469041L), valueOf(531441000000000000L), valueOf(787662783788549761L), valueOf(1152921504606846976L), valueOf(1667889514952984961L), valueOf(2386420683693101056L), valueOf(3379220508056640625L), valueOf(4738381338321616896L)&#125;;        digitsPerInt = new int[]&#123;0, 0, 30, 19, 15, 13, 11, 11, 10, 9, 9, 8, 8, 8, 8, 7, 7, 7, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 5&#125;;        intRadix = new int[]&#123;0, 0, 1073741824, 1162261467, 1073741824, 1220703125, 362797056, 1977326743, 1073741824, 387420489, 1000000000, 214358881, 429981696, 815730721, 1475789056, 170859375, 268435456, 410338673, 612220032, 893871739, 1280000000, 1801088541, 113379904, 148035889, 191102976, 244140625, 308915776, 387420489, 481890304, 594823321, 729000000, 887503681, 1073741824, 1291467969, 1544804416, 1838265625, 60466176&#125;;        serialPersistentFields = new ObjectStreamField[]&#123;new ObjectStreamField(signum, Integer.TYPE), new ObjectStreamField(magnitude, byte[].class), new ObjectStreamField(bitCount, Integer.TYPE), new ObjectStreamField(bitLength, Integer.TYPE), new ObjectStreamField(firstNonzeroByteNum, Integer.TYPE), new ObjectStreamField(lowestSetBit, Integer.TYPE)&#125;;    &#125;    private static class UnsafeHolder &#123;        private static final Unsafe unsafe = Unsafe.getUnsafe();        private static final long signumOffset;        private static final long magOffset;        private UnsafeHolder() &#123;        &#125;        static void putSign(BigInteger bi, int sign) &#123;            unsafe.putInt(bi, signumOffset, sign);        &#125;        static void putMag(BigInteger bi, int[] magnitude) &#123;            unsafe.putObject(bi, magOffset, magnitude);        &#125;        static &#123;            signumOffset = unsafe.objectFieldOffset(BigInteger.class, signum);            magOffset = unsafe.objectFieldOffset(BigInteger.class, mag);        &#125;    &#125;&#125;\n\n","tags":["Java"],"path":"2019/09/21/BigIntegerç±»/","external_link":""},{"title":"HashMapç±»","date":"2019-09-23T03:50:26.000Z","content":"HashMapç±»\n1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611621631641651661671681691701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012022032042052062072082092102112122132142152162172182192202212222232242252262272282292302312322332342352362372382392402412422432442452462472482492502512522532542552562572582592602612622632642652662672682692702712722732742752762772782792802812822832842852862872882892902912922932942952962972982993003013023033043053063073083093103113123133143153163173183193203213223233243253263273283293303313323333343353363373383393403413423433443453463473483493503513523533543553563573583593603613623633643653663673683693703713723733743753763773783793803813823833843853863873883893903913923933943953963973983994004014024034044054064074084094104114124134144154164174184194204214224234244254264274284294304314324334344354364374384394404414424434444454464474484494504514524534544554564574584594604614624634644654664674684694704714724734744754764774784794804814824834844854864874884894904914924934944954964974984995005015025035045055065075085095105115125135145155165175185195205215225235245255265275285295305315325335345355365375385395405415425435445455465475485495505515525535545555565575585595605615625635645655665675685695705715725735745755765775785795805815825835845855865875885895905915925935945955965975985996006016026036046056066076086096106116126136146156166176186196206216226236246256266276286296306316326336346356366376386396406416426436446456466476486496506516526536546556566576586596606616626636646656666676686696706716726736746756766776786796806816826836846856866876886896906916926936946956966976986997007017027037047057067077087097107117127137147157167177187197207217227237247257267277287297307317327337347357367377387397407417427437447457467477487497507517527537547557567577587597607617627637647657667677687697707717727737747757767777787797807817827837847857867877887897907917927937947957967977987998008018028038048058068078088098108118128138148158168178188198208218228238248258268278288298308318328338348358368378388398408418428438448458468478488498508518528538548558568578588598608618628638648658668678688698708718728738748758768778788798808818828838848858868878888898908918928938948958968978988999009019029039049059069079089099109119129139149159169179189199209219229239249259269279289299309319329339349359369379389399409419429439449459469479489499509519529539549559569579589599609619629639649659669679689699709719729739749759769779789799809819829839849859869879889899909919929939949959969979989991000100110021003100410051006100710081009101010111012101310141015101610171018101910201021102210231024102510261027102810291030103110321033103410351036103710381039104010411042104310441045104610471048104910501051105210531054105510561057105810591060106110621063106410651066106710681069107010711072107310741075107610771078107910801081108210831084108510861087108810891090109110921093109410951096109710981099110011011102110311041105110611071108110911101111111211131114111511161117111811191120112111221123112411251126112711281129113011311132113311341135113611371138113911401141114211431144114511461147114811491150115111521153115411551156115711581159116011611162116311641165116611671168116911701171117211731174117511761177117811791180118111821183118411851186118711881189119011911192119311941195119611971198119912001201120212031204120512061207120812091210121112121213121412151216121712181219122012211222122312241225122612271228122912301231123212331234123512361237123812391240124112421243124412451246124712481249125012511252125312541255125612571258125912601261126212631264126512661267126812691270127112721273127412751276127712781279128012811282128312841285128612871288128912901291129212931294129512961297129812991300130113021303130413051306130713081309131013111312131313141315131613171318131913201321132213231324132513261327132813291330133113321333133413351336133713381339134013411342134313441345134613471348134913501351135213531354135513561357135813591360136113621363136413651366136713681369137013711372137313741375137613771378137913801381138213831384138513861387138813891390139113921393139413951396139713981399140014011402140314041405140614071408140914101411141214131414141514161417141814191420142114221423142414251426142714281429143014311432143314341435143614371438143914401441144214431444144514461447144814491450145114521453145414551456145714581459146014611462146314641465146614671468146914701471147214731474147514761477147814791480148114821483148414851486148714881489149014911492149314941495149614971498149915001501150215031504150515061507150815091510151115121513151415151516151715181519152015211522152315241525152615271528152915301531153215331534153515361537153815391540154115421543154415451546154715481549155015511552155315541555155615571558155915601561156215631564156515661567156815691570157115721573157415751576157715781579158015811582158315841585158615871588158915901591159215931594159515961597159815991600160116021603160416051606160716081609161016111612161316141615161616171618161916201621162216231624162516261627162816291630163116321633163416351636163716381639164016411642164316441645164616471648164916501651165216531654165516561657165816591660166116621663166416651666166716681669167016711672167316741675167616771678167916801681168216831684168516861687168816891690169116921693169416951696169716981699170017011702170317041705170617071708170917101711171217131714171517161717171817191720172117221723172417251726172717281729173017311732173317341735173617371738173917401741174217431744174517461747174817491750175117521753175417551756175717581759176017611762176317641765176617671768176917701771177217731774177517761777177817791780178117821783178417851786178717881789179017911792179317941795179617971798179918001801180218031804180518061807180818091810181118121813181418151816181718181819182018211822182318241825182618271828182918301831183218331834183518361837183818391840184118421843184418451846184718481849185018511852185318541855185618571858185918601861186218631864186518661867186818691870187118721873187418751876187718781879188018811882188318841885188618871888188918901891189218931894189518961897189818991900190119021903190419051906190719081909191019111912191319141915191619171918191919201921192219231924192519261927192819291930193119321933193419351936193719381939194019411942194319441945194619471948194919501951195219531954195519561957195819591960196119621963196419651966196719681969197019711972197319741975197619771978197919801981198219831984198519861987198819891990199119921993199419951996199719981999200020012002200320042005200620072008200920102011201220132014201520162017201820192020202120222023202420252026202720282029203020312032203320342035203620372038203920402041204220432044204520462047204820492050205120522053205420552056205720582059206020612062206320642065206620672068206920702071207220732074207520762077207820792080208120822083208420852086208720882089209020912092209320942095209620972098209921002101210221032104210521062107210821092110211121122113211421152116211721182119212021212122212321242125212621272128212921302131213221332134213521362137213821392140214121422143214421452146214721482149215021512152215321542155215621572158215921602161216221632164216521662167216821692170217121722173217421752176217721782179218021812182218321842185218621872188218921902191219221932194219521962197219821992200220122022203220422052206220722082209221022112212221322142215221622172218221922202221222222232224222522262227222822292230223122322233223422352236223722382239224022412242224322442245224622472248224922502251225222532254225522562257225822592260226122622263226422652266226722682269227022712272227322742275227622772278227922802281228222832284228522862287228822892290229122922293229422952296229722982299230023012302230323042305230623072308230923102311231223132314231523162317231823192320232123222323232423252326232723282329233023312332233323342335233623372338233923402341234223432344234523462347234823492350235123522353235423552356235723582359236023612362236323642365236623672368236923702371237223732374237523762377237823792380238123822383238423852386238723882389239023912392* * Copyright (c) 1997, 2017, Oracle andor its affiliates. All rights reserved. * ORACLE PROPRIETARYCONFIDENTIAL. Use is subject to license terms. * * * * * * * * * * * * * * * * * * * * *package java.util;import java.io.IOException;import java.io.InvalidObjectException;import java.io.Serializable;import java.lang.reflect.ParameterizedType;import java.lang.reflect.Type;import java.util.function.BiConsumer;import java.util.function.BiFunction;import java.util.function.Consumer;import java.util.function.Function;import sun.misc.SharedSecrets;** * Hash table based implementation of the &lt;tt&gt;Map&lt;tt&gt; interface.  This * implementation provides all of the optional map operations, and permits * &lt;tt&gt;null&lt;tt&gt; values and the &lt;tt&gt;null&lt;tt&gt; key.  (The &lt;tt&gt;HashMap&lt;tt&gt; * class is roughly equivalent to &lt;tt&gt;Hashtable&lt;tt&gt;, except that it is * unsynchronized and permits nulls.)  This class makes no guarantees as to * the order of the map; in particular, it does not guarantee that the order * will remain constant over time. * * &lt;p&gt;This implementation provides constant-time performance for the basic * operations (&lt;tt&gt;get&lt;tt&gt; and &lt;tt&gt;put&lt;tt&gt;), assuming the hash function * disperses the elements properly among the buckets.  Iteration over * collection views requires time proportional to the capacity of the * &lt;tt&gt;HashMap&lt;tt&gt; instance (the number of buckets) plus its size (the number * of key-value mappings).  Thus, its very important not to set the initial * capacity too high (or the load factor too low) if iteration performance is * important. * * &lt;p&gt;An instance of &lt;tt&gt;HashMap&lt;tt&gt; has two parameters that affect its * performance: &lt;i&gt;initial capacity&lt;i&gt; and &lt;i&gt;load factor&lt;i&gt;.  The * &lt;i&gt;capacity&lt;i&gt; is the number of buckets in the hash table, and the initial * capacity is simply the capacity at the time the hash table is created.  The * &lt;i&gt;load factor&lt;i&gt; is a measure of how full the hash table is allowed to * get before its capacity is automatically increased.  When the number of * entries in the hash table exceeds the product of the load factor and the * current capacity, the hash table is &lt;i&gt;rehashed&lt;i&gt; (that is, internal data * structures are rebuilt) so that the hash table has approximately twice the * number of buckets. * * &lt;p&gt;As a general rule, the default load factor (.75) offers a good * tradeoff between time and space costs.  Higher values decrease the * space overhead but increase the lookup cost (reflected in most of * the operations of the &lt;tt&gt;HashMap&lt;tt&gt; class, including * &lt;tt&gt;get&lt;tt&gt; and &lt;tt&gt;put&lt;tt&gt;).  The expected number of entries in * the map and its load factor should be taken into account when * setting its initial capacity, so as to minimize the number of * rehash operations.  If the initial capacity is greater than the * maximum number of entries divided by the load factor, no rehash * operations will ever occur. * * &lt;p&gt;If many mappings are to be stored in a &lt;tt&gt;HashMap&lt;tt&gt; * instance, creating it with a sufficiently large capacity will allow * the mappings to be stored more efficiently than letting it perform * automatic rehashing as needed to grow the table.  Note that using * many keys with the same &#123;@code hashCode()&#125; is a sure way to slow * down performance of any hash table. To ameliorate impact, when keys * are &#123;@link Comparable&#125;, this class may use comparison order among * keys to help break ties. * * &lt;p&gt;&lt;strong&gt;Note that this implementation is not synchronized.&lt;strong&gt; * If multiple threads access a hash map concurrently, and at least one of * the threads modifies the map structurally, it &lt;i&gt;must&lt;i&gt; be * synchronized externally.  (A structural modification is any operation * that adds or deletes one or more mappings; merely changing the value * associated with a key that an instance already contains is not a * structural modification.)  This is typically accomplished by * synchronizing on some object that naturally encapsulates the map. * * If no such object exists, the map should be wrapped using the * &#123;@link Collections#synchronizedMap Collections.synchronizedMap&#125; * method.  This is best done at creation time, to prevent accidental * unsynchronized access to the map:&lt;pre&gt; *   Map m = Collections.synchronizedMap(new HashMap(...));&lt;pre&gt; * * &lt;p&gt;The iterators returned by all of this classs collection view methods * are &lt;i&gt;fail-fast&lt;i&gt;: if the map is structurally modified at any time after * the iterator is created, in any way except through the iterators own * &lt;tt&gt;remove&lt;tt&gt; method, the iterator will throw a * &#123;@link ConcurrentModificationException&#125;.  Thus, in the face of concurrent * modification, the iterator fails quickly and cleanly, rather than risking * arbitrary, non-deterministic behavior at an undetermined time in the * future. * * &lt;p&gt;Note that the fail-fast behavior of an iterator cannot be guaranteed * as it is, generally speaking, impossible to make any hard guarantees in the * presence of unsynchronized concurrent modification.  Fail-fast iterators * throw &lt;tt&gt;ConcurrentModificationException&lt;tt&gt; on a best-effort basis. * Therefore, it would be wrong to write a program that depended on this * exception for its correctness: &lt;i&gt;the fail-fast behavior of iterators * should be used only to detect bugs.&lt;i&gt; * * &lt;p&gt;This class is a member of the * &lt;a href=&#123;@docRoot&#125;..technotesguidescollectionsindex.html&gt; * Java Collections Framework&lt;a&gt;. * * @param &lt;K&gt; the type of keys maintained by this map * @param &lt;V&gt; the type of mapped values * * @author  Doug Lea * @author  Josh Bloch * @author  Arthur van Hoff * @author  Neal Gafter * @see     Object#hashCode() * @see     Collection * @see     Map * @see     TreeMap * @see     Hashtable * @since   1.2 *public class HashMap&lt;K,V&gt; extends AbstractMap&lt;K,V&gt;    implements Map&lt;K,V&gt;, Cloneable, Serializable &#123;    private static final long serialVersionUID = 362498820763181265L;    *     * Implementation notes.     *     * This map usually acts as a binned (bucketed) hash table, but     * when bins get too large, they are transformed into bins of     * TreeNodes, each structured similarly to those in     * java.util.TreeMap. Most methods try to use normal bins, but     * relay to TreeNode methods when applicable (simply by checking     * instanceof a node).  Bins of TreeNodes may be traversed and     * used like any others, but additionally support faster lookup     * when overpopulated. However, since the vast majority of bins in     * normal use are not overpopulated, checking for existence of     * tree bins may be delayed in the course of table methods.     *     * Tree bins (i.e., bins whose elements are all TreeNodes) are     * ordered primarily by hashCode, but in the case of ties, if two     * elements are of the same class C implements Comparable&lt;C&gt;,     * type then their compareTo method is used for ordering. (We     * conservatively check generic types via reflection to validate     * this -- see method comparableClassFor).  The added complexity     * of tree bins is worthwhile in providing worst-case O(log n)     * operations when keys either have distinct hashes or are     * orderable, Thus, performance degrades gracefully under     * accidental or malicious usages in which hashCode() methods     * return values that are poorly distributed, as well as those in     * which many keys share a hashCode, so long as they are also     * Comparable. (If neither of these apply, we may waste about a     * factor of two in time and space compared to taking no     * precautions. But the only known cases stem from poor user     * programming practices that are already so slow that this makes     * little difference.)     *     * Because TreeNodes are about twice the size of regular nodes, we     * use them only when bins contain enough nodes to warrant use     * (see TREEIFY_THRESHOLD). And when they become too small (due to     * removal or resizing) they are converted back to plain bins.  In     * usages with well-distributed user hashCodes, tree bins are     * rarely used.  Ideally, under random hashCodes, the frequency of     * nodes in bins follows a Poisson distribution     * (http:en.wikipedia.orgwikiPoisson_distribution) with a     * parameter of about 0.5 on average for the default resizing     * threshold of 0.75, although with a large variance because of     * resizing granularity. Ignoring variance, the expected     * occurrences of list size k are (exp(-0.5) * pow(0.5, k)      * factorial(k)). The first values are:     *     * 0:    0.60653066     * 1:    0.30326533     * 2:    0.07581633     * 3:    0.01263606     * 4:    0.00157952     * 5:    0.00015795     * 6:    0.00001316     * 7:    0.00000094     * 8:    0.00000006     * more: less than 1 in ten million     *     * The root of a tree bin is normally its first node.  However,     * sometimes (currently only upon Iterator.remove), the root might     * be elsewhere, but can be recovered following parent links     * (method TreeNode.root()).     *     * All applicable internal methods accept a hash code as an     * argument (as normally supplied from a public method), allowing     * them to call each other without recomputing user hashCodes.     * Most internal methods also accept a tab argument, that is     * normally the current table, but may be a new or old one when     * resizing or converting.     *     * When bin lists are treeified, split, or untreeified, we keep     * them in the same relative accesstraversal order (i.e., field     * Node.next) to better preserve locality, and to slightly     * simplify handling of splits and traversals that invoke     * iterator.remove. When using comparators on insertion, to keep a     * total ordering (or as close as is required here) across     * rebalancings, we compare classes and identityHashCodes as     * tie-breakers.     *     * The use and transitions among plain vs tree modes is     * complicated by the existence of subclass LinkedHashMap. See     * below for hook methods defined to be invoked upon insertion,     * removal and access that allow LinkedHashMap internals to     * otherwise remain independent of these mechanics. (This also     * requires that a map instance be passed to some utility methods     * that may create new nodes.)     *     * The concurrent-programming-like SSA-based coding style helps     * avoid aliasing errors amid all of the twisty pointer operations.     *    **     * The default initial capacity - MUST be a power of two.     *    static final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4;  aka 16    **     * The maximum capacity, used if a higher value is implicitly specified     * by either of the constructors with arguments.     * MUST be a power of two &lt;= 1&lt;&lt;30.     *    static final int MAXIMUM_CAPACITY = 1 &lt;&lt; 30;    **     * The load factor used when none specified in constructor.     *    static final float DEFAULT_LOAD_FACTOR = 0.75f;    **     * The bin count threshold for using a tree rather than list for a     * bin.  Bins are converted to trees when adding an element to a     * bin with at least this many nodes. The value must be greater     * than 2 and should be at least 8 to mesh with assumptions in     * tree removal about conversion back to plain bins upon     * shrinkage.     *    static final int TREEIFY_THRESHOLD = 8;    **     * The bin count threshold for untreeifying a (split) bin during a     * resize operation. Should be less than TREEIFY_THRESHOLD, and at     * most 6 to mesh with shrinkage detection under removal.     *    static final int UNTREEIFY_THRESHOLD = 6;    **     * The smallest table capacity for which bins may be treeified.     * (Otherwise the table is resized if too many nodes in a bin.)     * Should be at least 4 * TREEIFY_THRESHOLD to avoid conflicts     * between resizing and treeification thresholds.     *    static final int MIN_TREEIFY_CAPACITY = 64;    **     * Basic hash bin node, used for most entries.  (See below for     * TreeNode subclass, and in LinkedHashMap for its Entry subclass.)     *    static class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; &#123;        final int hash;        final K key;        V value;        Node&lt;K,V&gt; next;        Node(int hash, K key, V value, Node&lt;K,V&gt; next) &#123;            this.hash = hash;            this.key = key;            this.value = value;            this.next = next;        &#125;        public final K getKey()        &#123; return key; &#125;        public final V getValue()      &#123; return value; &#125;        public final String toString() &#123; return key + = + value; &#125;        public final int hashCode() &#123;            return Objects.hashCode(key) ^ Objects.hashCode(value);        &#125;        public final V setValue(V newValue) &#123;            V oldValue = value;            value = newValue;            return oldValue;        &#125;        public final boolean equals(Object o) &#123;            if (o == this)                return true;            if (o instanceof Map.Entry) &#123;                Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;)o;                if (Objects.equals(key, e.getKey()) &amp;&amp;                    Objects.equals(value, e.getValue()))                    return true;            &#125;            return false;        &#125;    &#125;    * ---------------- Static utilities -------------- *    **     * Computes key.hashCode() and spreads (XORs) higher bits of hash     * to lower.  Because the table uses power-of-two masking, sets of     * hashes that vary only in bits above the current mask will     * always collide. (Among known examples are sets of Float keys     * holding consecutive whole numbers in small tables.)  So we     * apply a transform that spreads the impact of higher bits     * downward. There is a tradeoff between speed, utility, and     * quality of bit-spreading. Because many common sets of hashes     * are already reasonably distributed (so dont benefit from     * spreading), and because we use trees to handle large sets of     * collisions in bins, we just XOR some shifted bits in the     * cheapest possible way to reduce systematic lossage, as well as     * to incorporate impact of the highest bits that would otherwise     * never be used in index calculations because of table bounds.     *    static final int hash(Object key) &#123;        int h;        return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16);    &#125;    **     * Returns xs Class if it is of the form class C implements     * Comparable&lt;C&gt;, else null.     *    static Class&lt;?&gt; comparableClassFor(Object x) &#123;        if (x instanceof Comparable) &#123;            Class&lt;?&gt; c; Type[] ts, as; Type t; ParameterizedType p;            if ((c = x.getClass()) == String.class)  bypass checks                return c;            if ((ts = c.getGenericInterfaces()) != null) &#123;                for (int i = 0; i &lt; ts.length; ++i) &#123;                    if (((t = ts[i]) instanceof ParameterizedType) &amp;&amp;                        ((p = (ParameterizedType)t).getRawType() ==                         Comparable.class) &amp;&amp;                        (as = p.getActualTypeArguments()) != null &amp;&amp;                        as.length == 1 &amp;&amp; as[0] == c)  type arg is c                        return c;                &#125;            &#125;        &#125;        return null;    &#125;    **     * Returns k.compareTo(x) if x matches kc (ks screened comparable     * class), else 0.     *    @SuppressWarnings(&#123;rawtypes,unchecked&#125;)  for cast to Comparable    static int compareComparables(Class&lt;?&gt; kc, Object k, Object x) &#123;        return (x == null || x.getClass() != kc ? 0 :                ((Comparable)k).compareTo(x));    &#125;    **     * Returns a power of two size for the given target capacity.     *    static final int tableSizeFor(int cap) &#123;        int n = cap - 1;        n |= n &gt;&gt;&gt; 1;        n |= n &gt;&gt;&gt; 2;        n |= n &gt;&gt;&gt; 4;        n |= n &gt;&gt;&gt; 8;        n |= n &gt;&gt;&gt; 16;        return (n &lt; 0) ? 1 : (n &gt;= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + 1;    &#125;    * ---------------- Fields -------------- *    **     * The table, initialized on first use, and resized as     * necessary. When allocated, length is always a power of two.     * (We also tolerate length zero in some operations to allow     * bootstrapping mechanics that are currently not needed.)     *    transient Node&lt;K,V&gt;[] table;    **     * Holds cached entrySet(). Note that AbstractMap fields are used     * for keySet() and values().     *    transient Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet;    **     * The number of key-value mappings contained in this map.     *    transient int size;    **     * The number of times this HashMap has been structurally modified     * Structural modifications are those that change the number of mappings in     * the HashMap or otherwise modify its internal structure (e.g.,     * rehash).  This field is used to make iterators on Collection-views of     * the HashMap fail-fast.  (See ConcurrentModificationException).     *    transient int modCount;    **     * The next size value at which to resize (capacity * load factor).     *     * @serial     *     (The javadoc description is true upon serialization.     Additionally, if the table array has not been allocated, this     field holds the initial array capacity, or zero signifying     DEFAULT_INITIAL_CAPACITY.)    int threshold;    **     * The load factor for the hash table.     *     * @serial     *    final float loadFactor;    * ---------------- Public operations -------------- *    **     * Constructs an empty &lt;tt&gt;HashMap&lt;tt&gt; with the specified initial     * capacity and load factor.     *     * @param  initialCapacity the initial capacity     * @param  loadFactor      the load factor     * @throws IllegalArgumentException if the initial capacity is negative     *         or the load factor is nonpositive     *    public HashMap(int initialCapacity, float loadFactor) &#123;        if (initialCapacity &lt; 0)            throw new IllegalArgumentException(Illegal initial capacity:  +                                               initialCapacity);        if (initialCapacity &gt; MAXIMUM_CAPACITY)            initialCapacity = MAXIMUM_CAPACITY;        if (loadFactor &lt;= 0 || Float.isNaN(loadFactor))            throw new IllegalArgumentException(Illegal load factor:  +                                               loadFactor);        this.loadFactor = loadFactor;        this.threshold = tableSizeFor(initialCapacity);    &#125;    **     * Constructs an empty &lt;tt&gt;HashMap&lt;tt&gt; with the specified initial     * capacity and the default load factor (0.75).     *     * @param  initialCapacity the initial capacity.     * @throws IllegalArgumentException if the initial capacity is negative.     *    public HashMap(int initialCapacity) &#123;        this(initialCapacity, DEFAULT_LOAD_FACTOR);    &#125;    **     * Constructs an empty &lt;tt&gt;HashMap&lt;tt&gt; with the default initial capacity     * (16) and the default load factor (0.75).     *    public HashMap() &#123;        this.loadFactor = DEFAULT_LOAD_FACTOR;  all other fields defaulted    &#125;    **     * Constructs a new &lt;tt&gt;HashMap&lt;tt&gt; with the same mappings as the     * specified &lt;tt&gt;Map&lt;tt&gt;.  The &lt;tt&gt;HashMap&lt;tt&gt; is created with     * default load factor (0.75) and an initial capacity sufficient to     * hold the mappings in the specified &lt;tt&gt;Map&lt;tt&gt;.     *     * @param   m the map whose mappings are to be placed in this map     * @throws  NullPointerException if the specified map is null     *    public HashMap(Map&lt;? extends K, ? extends V&gt; m) &#123;        this.loadFactor = DEFAULT_LOAD_FACTOR;        putMapEntries(m, false);    &#125;    **     * Implements Map.putAll and Map constructor     *     * @param m the map     * @param evict false when initially constructing this map, else     * true (relayed to method afterNodeInsertion).     *    final void putMapEntries(Map&lt;? extends K, ? extends V&gt; m, boolean evict) &#123;        int s = m.size();        if (s &gt; 0) &#123;            if (table == null) &#123;  pre-size                float ft = ((float)s  loadFactor) + 1.0F;                int t = ((ft &lt; (float)MAXIMUM_CAPACITY) ?                         (int)ft : MAXIMUM_CAPACITY);                if (t &gt; threshold)                    threshold = tableSizeFor(t);            &#125;            else if (s &gt; threshold)                resize();            for (Map.Entry&lt;? extends K, ? extends V&gt; e : m.entrySet()) &#123;                K key = e.getKey();                V value = e.getValue();                putVal(hash(key), key, value, false, evict);            &#125;        &#125;    &#125;    **     * Returns the number of key-value mappings in this map.     *     * @return the number of key-value mappings in this map     *    public int size() &#123;        return size;    &#125;    **     * Returns &lt;tt&gt;true&lt;tt&gt; if this map contains no key-value mappings.     *     * @return &lt;tt&gt;true&lt;tt&gt; if this map contains no key-value mappings     *    public boolean isEmpty() &#123;        return size == 0;    &#125;    **     * Returns the value to which the specified key is mapped,     * or &#123;@code null&#125; if this map contains no mapping for the key.     *     * &lt;p&gt;More formally, if this map contains a mapping from a key     * &#123;@code k&#125; to a value &#123;@code v&#125; such that &#123;@code (key==null ? k==null :     * key.equals(k))&#125;, then this method returns &#123;@code v&#125;; otherwise     * it returns &#123;@code null&#125;.  (There can be at most one such mapping.)     *     * &lt;p&gt;A return value of &#123;@code null&#125; does not &lt;i&gt;necessarily&lt;i&gt;     * indicate that the map contains no mapping for the key; its also     * possible that the map explicitly maps the key to &#123;@code null&#125;.     * The &#123;@link #containsKey containsKey&#125; operation may be used to     * distinguish these two cases.     *     * @see #put(Object, Object)     *    public V get(Object key) &#123;        Node&lt;K,V&gt; e;        return (e = getNode(hash(key), key)) == null ? null : e.value;    &#125;    **     * Implements Map.get and related methods     *     * @param hash hash for key     * @param key the key     * @return the node, or null if none     *    final Node&lt;K,V&gt; getNode(int hash, Object key) &#123;        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n; K k;        if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp;            (first = tab[(n - 1) &amp; hash]) != null) &#123;            if (first.hash == hash &amp;&amp;  always check first node                ((k = first.key) == key || (key != null &amp;&amp; key.equals(k))))                return first;            if ((e = first.next) != null) &#123;                if (first instanceof TreeNode)                    return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);                do &#123;                    if (e.hash == hash &amp;&amp;                        ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))                        return e;                &#125; while ((e = e.next) != null);            &#125;        &#125;        return null;    &#125;    **     * Returns &lt;tt&gt;true&lt;tt&gt; if this map contains a mapping for the     * specified key.     *     * @param   key   The key whose presence in this map is to be tested     * @return &lt;tt&gt;true&lt;tt&gt; if this map contains a mapping for the specified     * key.     *    public boolean containsKey(Object key) &#123;        return getNode(hash(key), key) != null;    &#125;    **     * Associates the specified value with the specified key in this map.     * If the map previously contained a mapping for the key, the old     * value is replaced.     *     * @param key key with which the specified value is to be associated     * @param value value to be associated with the specified key     * @return the previous value associated with &lt;tt&gt;key&lt;tt&gt;, or     *         &lt;tt&gt;null&lt;tt&gt; if there was no mapping for &lt;tt&gt;key&lt;tt&gt;.     *         (A &lt;tt&gt;null&lt;tt&gt; return can also indicate that the map     *         previously associated &lt;tt&gt;null&lt;tt&gt; with &lt;tt&gt;key&lt;tt&gt;.)     *    public V put(K key, V value) &#123;        return putVal(hash(key), key, value, false, true);    &#125;    **     * Implements Map.put and related methods     *     * @param hash hash for key     * @param key the key     * @param value the value to put     * @param onlyIfAbsent if true, dont change existing value     * @param evict if false, the table is in creation mode.     * @return previous value, or null if none     *    final V putVal(int hash, K key, V value, boolean onlyIfAbsent,                   boolean evict) &#123;        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i;        if ((tab = table) == null || (n = tab.length) == 0)            n = (tab = resize()).length;        if ((p = tab[i = (n - 1) &amp; hash]) == null)            tab[i] = newNode(hash, key, value, null);        else &#123;            Node&lt;K,V&gt; e; K k;            if (p.hash == hash &amp;&amp;                ((k = p.key) == key || (key != null &amp;&amp; key.equals(k))))                e = p;            else if (p instanceof TreeNode)                e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value);            else &#123;                for (int binCount = 0; ; ++binCount) &#123;                    if ((e = p.next) == null) &#123;                        p.next = newNode(hash, key, value, null);                        if (binCount &gt;= TREEIFY_THRESHOLD - 1)  -1 for 1st                            treeifyBin(tab, hash);                        break;                    &#125;                    if (e.hash == hash &amp;&amp;                        ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))                        break;                    p = e;                &#125;            &#125;            if (e != null) &#123;  existing mapping for key                V oldValue = e.value;                if (!onlyIfAbsent || oldValue == null)                    e.value = value;                afterNodeAccess(e);                return oldValue;            &#125;        &#125;        ++modCount;        if (++size &gt; threshold)            resize();        afterNodeInsertion(evict);        return null;    &#125;    **     * Initializes or doubles table size.  If null, allocates in     * accord with initial capacity target held in field threshold.     * Otherwise, because we are using power-of-two expansion, the     * elements from each bin must either stay at same index, or move     * with a power of two offset in the new table.     *     * @return the table     *    final Node&lt;K,V&gt;[] resize() &#123;        Node&lt;K,V&gt;[] oldTab = table;        int oldCap = (oldTab == null) ? 0 : oldTab.length;        int oldThr = threshold;        int newCap, newThr = 0;        if (oldCap &gt; 0) &#123;            if (oldCap &gt;= MAXIMUM_CAPACITY) &#123;                threshold = Integer.MAX_VALUE;                return oldTab;            &#125;            else if ((newCap = oldCap &lt;&lt; 1) &lt; MAXIMUM_CAPACITY &amp;&amp;                     oldCap &gt;= DEFAULT_INITIAL_CAPACITY)                newThr = oldThr &lt;&lt; 1;  double threshold        &#125;        else if (oldThr &gt; 0)  initial capacity was placed in threshold            newCap = oldThr;        else &#123;                zero initial threshold signifies using defaults            newCap = DEFAULT_INITIAL_CAPACITY;            newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);        &#125;        if (newThr == 0) &#123;            float ft = (float)newCap * loadFactor;            newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (float)MAXIMUM_CAPACITY ?                      (int)ft : Integer.MAX_VALUE);        &#125;        threshold = newThr;        @SuppressWarnings(&#123;rawtypes,unchecked&#125;)            Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])new Node[newCap];        table = newTab;        if (oldTab != null) &#123;            for (int j = 0; j &lt; oldCap; ++j) &#123;                Node&lt;K,V&gt; e;                if ((e = oldTab[j]) != null) &#123;                    oldTab[j] = null;                    if (e.next == null)                        newTab[e.hash &amp; (newCap - 1)] = e;                    else if (e instanceof TreeNode)                        ((TreeNode&lt;K,V&gt;)e).split(this, newTab, j, oldCap);                    else &#123;  preserve order                        Node&lt;K,V&gt; loHead = null, loTail = null;                        Node&lt;K,V&gt; hiHead = null, hiTail = null;                        Node&lt;K,V&gt; next;                        do &#123;                            next = e.next;                            if ((e.hash &amp; oldCap) == 0) &#123;                                if (loTail == null)                                    loHead = e;                                else                                    loTail.next = e;                                loTail = e;                            &#125;                            else &#123;                                if (hiTail == null)                                    hiHead = e;                                else                                    hiTail.next = e;                                hiTail = e;                            &#125;                        &#125; while ((e = next) != null);                        if (loTail != null) &#123;                            loTail.next = null;                            newTab[j] = loHead;                        &#125;                        if (hiTail != null) &#123;                            hiTail.next = null;                            newTab[j + oldCap] = hiHead;                        &#125;                    &#125;                &#125;            &#125;        &#125;        return newTab;    &#125;    **     * Replaces all linked nodes in bin at index for given hash unless     * table is too small, in which case resizes instead.     *    final void treeifyBin(Node&lt;K,V&gt;[] tab, int hash) &#123;        int n, index; Node&lt;K,V&gt; e;        if (tab == null || (n = tab.length) &lt; MIN_TREEIFY_CAPACITY)            resize();        else if ((e = tab[index = (n - 1) &amp; hash]) != null) &#123;            TreeNode&lt;K,V&gt; hd = null, tl = null;            do &#123;                TreeNode&lt;K,V&gt; p = replacementTreeNode(e, null);                if (tl == null)                    hd = p;                else &#123;                    p.prev = tl;                    tl.next = p;                &#125;                tl = p;            &#125; while ((e = e.next) != null);            if ((tab[index] = hd) != null)                hd.treeify(tab);        &#125;    &#125;    **     * Copies all of the mappings from the specified map to this map.     * These mappings will replace any mappings that this map had for     * any of the keys currently in the specified map.     *     * @param m mappings to be stored in this map     * @throws NullPointerException if the specified map is null     *    public void putAll(Map&lt;? extends K, ? extends V&gt; m) &#123;        putMapEntries(m, true);    &#125;    **     * Removes the mapping for the specified key from this map if present.     *     * @param  key key whose mapping is to be removed from the map     * @return the previous value associated with &lt;tt&gt;key&lt;tt&gt;, or     *         &lt;tt&gt;null&lt;tt&gt; if there was no mapping for &lt;tt&gt;key&lt;tt&gt;.     *         (A &lt;tt&gt;null&lt;tt&gt; return can also indicate that the map     *         previously associated &lt;tt&gt;null&lt;tt&gt; with &lt;tt&gt;key&lt;tt&gt;.)     *    public V remove(Object key) &#123;        Node&lt;K,V&gt; e;        return (e = removeNode(hash(key), key, null, false, true)) == null ?            null : e.value;    &#125;    **     * Implements Map.remove and related methods     *     * @param hash hash for key     * @param key the key     * @param value the value to match if matchValue, else ignored     * @param matchValue if true only remove if value is equal     * @param movable if false do not move other nodes while removing     * @return the node, or null if none     *    final Node&lt;K,V&gt; removeNode(int hash, Object key, Object value,                               boolean matchValue, boolean movable) &#123;        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, index;        if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp;            (p = tab[index = (n - 1) &amp; hash]) != null) &#123;            Node&lt;K,V&gt; node = null, e; K k; V v;            if (p.hash == hash &amp;&amp;                ((k = p.key) == key || (key != null &amp;&amp; key.equals(k))))                node = p;            else if ((e = p.next) != null) &#123;                if (p instanceof TreeNode)                    node = ((TreeNode&lt;K,V&gt;)p).getTreeNode(hash, key);                else &#123;                    do &#123;                        if (e.hash == hash &amp;&amp;                            ((k = e.key) == key ||                             (key != null &amp;&amp; key.equals(k)))) &#123;                            node = e;                            break;                        &#125;                        p = e;                    &#125; while ((e = e.next) != null);                &#125;            &#125;            if (node != null &amp;&amp; (!matchValue || (v = node.value) == value ||                                 (value != null &amp;&amp; value.equals(v)))) &#123;                if (node instanceof TreeNode)                    ((TreeNode&lt;K,V&gt;)node).removeTreeNode(this, tab, movable);                else if (node == p)                    tab[index] = node.next;                else                    p.next = node.next;                ++modCount;                --size;                afterNodeRemoval(node);                return node;            &#125;        &#125;        return null;    &#125;    **     * Removes all of the mappings from this map.     * The map will be empty after this call returns.     *    public void clear() &#123;        Node&lt;K,V&gt;[] tab;        modCount++;        if ((tab = table) != null &amp;&amp; size &gt; 0) &#123;            size = 0;            for (int i = 0; i &lt; tab.length; ++i)                tab[i] = null;        &#125;    &#125;    **     * Returns &lt;tt&gt;true&lt;tt&gt; if this map maps one or more keys to the     * specified value.     *     * @param value value whose presence in this map is to be tested     * @return &lt;tt&gt;true&lt;tt&gt; if this map maps one or more keys to the     *         specified value     *    public boolean containsValue(Object value) &#123;        Node&lt;K,V&gt;[] tab; V v;        if ((tab = table) != null &amp;&amp; size &gt; 0) &#123;            for (int i = 0; i &lt; tab.length; ++i) &#123;                for (Node&lt;K,V&gt; e = tab[i]; e != null; e = e.next) &#123;                    if ((v = e.value) == value ||                        (value != null &amp;&amp; value.equals(v)))                        return true;                &#125;            &#125;        &#125;        return false;    &#125;    **     * Returns a &#123;@link Set&#125; view of the keys contained in this map.     * The set is backed by the map, so changes to the map are     * reflected in the set, and vice-versa.  If the map is modified     * while an iteration over the set is in progress (except through     * the iterators own &lt;tt&gt;remove&lt;tt&gt; operation), the results of     * the iteration are undefined.  The set supports element removal,     * which removes the corresponding mapping from the map, via the     * &lt;tt&gt;Iterator.remove&lt;tt&gt;, &lt;tt&gt;Set.remove&lt;tt&gt;,     * &lt;tt&gt;removeAll&lt;tt&gt;, &lt;tt&gt;retainAll&lt;tt&gt;, and &lt;tt&gt;clear&lt;tt&gt;     * operations.  It does not support the &lt;tt&gt;add&lt;tt&gt; or &lt;tt&gt;addAll&lt;tt&gt;     * operations.     *     * @return a set view of the keys contained in this map     *    public Set&lt;K&gt; keySet() &#123;        Set&lt;K&gt; ks = keySet;        if (ks == null) &#123;            ks = new KeySet();            keySet = ks;        &#125;        return ks;    &#125;    final class KeySet extends AbstractSet&lt;K&gt; &#123;        public final int size()                 &#123; return size; &#125;        public final void clear()               &#123; HashMap.this.clear(); &#125;        public final Iterator&lt;K&gt; iterator()     &#123; return new KeyIterator(); &#125;        public final boolean contains(Object o) &#123; return containsKey(o); &#125;        public final boolean remove(Object key) &#123;            return removeNode(hash(key), key, null, false, true) != null;        &#125;        public final Spliterator&lt;K&gt; spliterator() &#123;            return new KeySpliterator&lt;&gt;(HashMap.this, 0, -1, 0, 0);        &#125;        public final void forEach(Consumer&lt;? super K&gt; action) &#123;            Node&lt;K,V&gt;[] tab;            if (action == null)                throw new NullPointerException();            if (size &gt; 0 &amp;&amp; (tab = table) != null) &#123;                int mc = modCount;                for (int i = 0; i &lt; tab.length; ++i) &#123;                    for (Node&lt;K,V&gt; e = tab[i]; e != null; e = e.next)                        action.accept(e.key);                &#125;                if (modCount != mc)                    throw new ConcurrentModificationException();            &#125;        &#125;    &#125;    **     * Returns a &#123;@link Collection&#125; view of the values contained in this map.     * The collection is backed by the map, so changes to the map are     * reflected in the collection, and vice-versa.  If the map is     * modified while an iteration over the collection is in progress     * (except through the iterators own &lt;tt&gt;remove&lt;tt&gt; operation),     * the results of the iteration are undefined.  The collection     * supports element removal, which removes the corresponding     * mapping from the map, via the &lt;tt&gt;Iterator.remove&lt;tt&gt;,     * &lt;tt&gt;Collection.remove&lt;tt&gt;, &lt;tt&gt;removeAll&lt;tt&gt;,     * &lt;tt&gt;retainAll&lt;tt&gt; and &lt;tt&gt;clear&lt;tt&gt; operations.  It does not     * support the &lt;tt&gt;add&lt;tt&gt; or &lt;tt&gt;addAll&lt;tt&gt; operations.     *     * @return a view of the values contained in this map     *    public Collection&lt;V&gt; values() &#123;        Collection&lt;V&gt; vs = values;        if (vs == null) &#123;            vs = new Values();            values = vs;        &#125;        return vs;    &#125;    final class Values extends AbstractCollection&lt;V&gt; &#123;        public final int size()                 &#123; return size; &#125;        public final void clear()               &#123; HashMap.this.clear(); &#125;        public final Iterator&lt;V&gt; iterator()     &#123; return new ValueIterator(); &#125;        public final boolean contains(Object o) &#123; return containsValue(o); &#125;        public final Spliterator&lt;V&gt; spliterator() &#123;            return new ValueSpliterator&lt;&gt;(HashMap.this, 0, -1, 0, 0);        &#125;        public final void forEach(Consumer&lt;? super V&gt; action) &#123;            Node&lt;K,V&gt;[] tab;            if (action == null)                throw new NullPointerException();            if (size &gt; 0 &amp;&amp; (tab = table) != null) &#123;                int mc = modCount;                for (int i = 0; i &lt; tab.length; ++i) &#123;                    for (Node&lt;K,V&gt; e = tab[i]; e != null; e = e.next)                        action.accept(e.value);                &#125;                if (modCount != mc)                    throw new ConcurrentModificationException();            &#125;        &#125;    &#125;    **     * Returns a &#123;@link Set&#125; view of the mappings contained in this map.     * The set is backed by the map, so changes to the map are     * reflected in the set, and vice-versa.  If the map is modified     * while an iteration over the set is in progress (except through     * the iterators own &lt;tt&gt;remove&lt;tt&gt; operation, or through the     * &lt;tt&gt;setValue&lt;tt&gt; operation on a map entry returned by the     * iterator) the results of the iteration are undefined.  The set     * supports element removal, which removes the corresponding     * mapping from the map, via the &lt;tt&gt;Iterator.remove&lt;tt&gt;,     * &lt;tt&gt;Set.remove&lt;tt&gt;, &lt;tt&gt;removeAll&lt;tt&gt;, &lt;tt&gt;retainAll&lt;tt&gt; and     * &lt;tt&gt;clear&lt;tt&gt; operations.  It does not support the     * &lt;tt&gt;add&lt;tt&gt; or &lt;tt&gt;addAll&lt;tt&gt; operations.     *     * @return a set view of the mappings contained in this map     *    public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() &#123;        Set&lt;Map.Entry&lt;K,V&gt;&gt; es;        return (es = entrySet) == null ? (entrySet = new EntrySet()) : es;    &#125;    final class EntrySet extends AbstractSet&lt;Map.Entry&lt;K,V&gt;&gt; &#123;        public final int size()                 &#123; return size; &#125;        public final void clear()               &#123; HashMap.this.clear(); &#125;        public final Iterator&lt;Map.Entry&lt;K,V&gt;&gt; iterator() &#123;            return new EntryIterator();        &#125;        public final boolean contains(Object o) &#123;            if (!(o instanceof Map.Entry))                return false;            Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;) o;            Object key = e.getKey();            Node&lt;K,V&gt; candidate = getNode(hash(key), key);            return candidate != null &amp;&amp; candidate.equals(e);        &#125;        public final boolean remove(Object o) &#123;            if (o instanceof Map.Entry) &#123;                Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;) o;                Object key = e.getKey();                Object value = e.getValue();                return removeNode(hash(key), key, value, true, true) != null;            &#125;            return false;        &#125;        public final Spliterator&lt;Map.Entry&lt;K,V&gt;&gt; spliterator() &#123;            return new EntrySpliterator&lt;&gt;(HashMap.this, 0, -1, 0, 0);        &#125;        public final void forEach(Consumer&lt;? super Map.Entry&lt;K,V&gt;&gt; action) &#123;            Node&lt;K,V&gt;[] tab;            if (action == null)                throw new NullPointerException();            if (size &gt; 0 &amp;&amp; (tab = table) != null) &#123;                int mc = modCount;                for (int i = 0; i &lt; tab.length; ++i) &#123;                    for (Node&lt;K,V&gt; e = tab[i]; e != null; e = e.next)                        action.accept(e);                &#125;                if (modCount != mc)                    throw new ConcurrentModificationException();            &#125;        &#125;    &#125;     Overrides of JDK8 Map extension methods    @Override    public V getOrDefault(Object key, V defaultValue) &#123;        Node&lt;K,V&gt; e;        return (e = getNode(hash(key), key)) == null ? defaultValue : e.value;    &#125;    @Override    public V putIfAbsent(K key, V value) &#123;        return putVal(hash(key), key, value, true, true);    &#125;    @Override    public boolean remove(Object key, Object value) &#123;        return removeNode(hash(key), key, value, true, true) != null;    &#125;    @Override    public boolean replace(K key, V oldValue, V newValue) &#123;        Node&lt;K,V&gt; e; V v;        if ((e = getNode(hash(key), key)) != null &amp;&amp;            ((v = e.value) == oldValue || (v != null &amp;&amp; v.equals(oldValue)))) &#123;            e.value = newValue;            afterNodeAccess(e);            return true;        &#125;        return false;    &#125;    @Override    public V replace(K key, V value) &#123;        Node&lt;K,V&gt; e;        if ((e = getNode(hash(key), key)) != null) &#123;            V oldValue = e.value;            e.value = value;            afterNodeAccess(e);            return oldValue;        &#125;        return null;    &#125;    @Override    public V computeIfAbsent(K key,                             Function&lt;? super K, ? extends V&gt; mappingFunction) &#123;        if (mappingFunction == null)            throw new NullPointerException();        int hash = hash(key);        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first; int n, i;        int binCount = 0;        TreeNode&lt;K,V&gt; t = null;        Node&lt;K,V&gt; old = null;        if (size &gt; threshold || (tab = table) == null ||            (n = tab.length) == 0)            n = (tab = resize()).length;        if ((first = tab[i = (n - 1) &amp; hash]) != null) &#123;            if (first instanceof TreeNode)                old = (t = (TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);            else &#123;                Node&lt;K,V&gt; e = first; K k;                do &#123;                    if (e.hash == hash &amp;&amp;                        ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) &#123;                        old = e;                        break;                    &#125;                    ++binCount;                &#125; while ((e = e.next) != null);            &#125;            V oldValue;            if (old != null &amp;&amp; (oldValue = old.value) != null) &#123;                afterNodeAccess(old);                return oldValue;            &#125;        &#125;        V v = mappingFunction.apply(key);        if (v == null) &#123;            return null;        &#125; else if (old != null) &#123;            old.value = v;            afterNodeAccess(old);            return v;        &#125;        else if (t != null)            t.putTreeVal(this, tab, hash, key, v);        else &#123;            tab[i] = newNode(hash, key, v, first);            if (binCount &gt;= TREEIFY_THRESHOLD - 1)                treeifyBin(tab, hash);        &#125;        ++modCount;        ++size;        afterNodeInsertion(true);        return v;    &#125;    public V computeIfPresent(K key,                              BiFunction&lt;? super K, ? super V, ? extends V&gt; remappingFunction) &#123;        if (remappingFunction == null)            throw new NullPointerException();        Node&lt;K,V&gt; e; V oldValue;        int hash = hash(key);        if ((e = getNode(hash, key)) != null &amp;&amp;            (oldValue = e.value) != null) &#123;            V v = remappingFunction.apply(key, oldValue);            if (v != null) &#123;                e.value = v;                afterNodeAccess(e);                return v;            &#125;            else                removeNode(hash, key, null, false, true);        &#125;        return null;    &#125;    @Override    public V compute(K key,                     BiFunction&lt;? super K, ? super V, ? extends V&gt; remappingFunction) &#123;        if (remappingFunction == null)            throw new NullPointerException();        int hash = hash(key);        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first; int n, i;        int binCount = 0;        TreeNode&lt;K,V&gt; t = null;        Node&lt;K,V&gt; old = null;        if (size &gt; threshold || (tab = table) == null ||            (n = tab.length) == 0)            n = (tab = resize()).length;        if ((first = tab[i = (n - 1) &amp; hash]) != null) &#123;            if (first instanceof TreeNode)                old = (t = (TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);            else &#123;                Node&lt;K,V&gt; e = first; K k;                do &#123;                    if (e.hash == hash &amp;&amp;                        ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) &#123;                        old = e;                        break;                    &#125;                    ++binCount;                &#125; while ((e = e.next) != null);            &#125;        &#125;        V oldValue = (old == null) ? null : old.value;        V v = remappingFunction.apply(key, oldValue);        if (old != null) &#123;            if (v != null) &#123;                old.value = v;                afterNodeAccess(old);            &#125;            else                removeNode(hash, key, null, false, true);        &#125;        else if (v != null) &#123;            if (t != null)                t.putTreeVal(this, tab, hash, key, v);            else &#123;                tab[i] = newNode(hash, key, v, first);                if (binCount &gt;= TREEIFY_THRESHOLD - 1)                    treeifyBin(tab, hash);            &#125;            ++modCount;            ++size;            afterNodeInsertion(true);        &#125;        return v;    &#125;    @Override    public V merge(K key, V value,                   BiFunction&lt;? super V, ? super V, ? extends V&gt; remappingFunction) &#123;        if (value == null)            throw new NullPointerException();        if (remappingFunction == null)            throw new NullPointerException();        int hash = hash(key);        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first; int n, i;        int binCount = 0;        TreeNode&lt;K,V&gt; t = null;        Node&lt;K,V&gt; old = null;        if (size &gt; threshold || (tab = table) == null ||            (n = tab.length) == 0)            n = (tab = resize()).length;        if ((first = tab[i = (n - 1) &amp; hash]) != null) &#123;            if (first instanceof TreeNode)                old = (t = (TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);            else &#123;                Node&lt;K,V&gt; e = first; K k;                do &#123;                    if (e.hash == hash &amp;&amp;                        ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) &#123;                        old = e;                        break;                    &#125;                    ++binCount;                &#125; while ((e = e.next) != null);            &#125;        &#125;        if (old != null) &#123;            V v;            if (old.value != null)                v = remappingFunction.apply(old.value, value);            else                v = value;            if (v != null) &#123;                old.value = v;                afterNodeAccess(old);            &#125;            else                removeNode(hash, key, null, false, true);            return v;        &#125;        if (value != null) &#123;            if (t != null)                t.putTreeVal(this, tab, hash, key, value);            else &#123;                tab[i] = newNode(hash, key, value, first);                if (binCount &gt;= TREEIFY_THRESHOLD - 1)                    treeifyBin(tab, hash);            &#125;            ++modCount;            ++size;            afterNodeInsertion(true);        &#125;        return value;    &#125;    @Override    public void forEach(BiConsumer&lt;? super K, ? super V&gt; action) &#123;        Node&lt;K,V&gt;[] tab;        if (action == null)            throw new NullPointerException();        if (size &gt; 0 &amp;&amp; (tab = table) != null) &#123;            int mc = modCount;            for (int i = 0; i &lt; tab.length; ++i) &#123;                for (Node&lt;K,V&gt; e = tab[i]; e != null; e = e.next)                    action.accept(e.key, e.value);            &#125;            if (modCount != mc)                throw new ConcurrentModificationException();        &#125;    &#125;    @Override    public void replaceAll(BiFunction&lt;? super K, ? super V, ? extends V&gt; function) &#123;        Node&lt;K,V&gt;[] tab;        if (function == null)            throw new NullPointerException();        if (size &gt; 0 &amp;&amp; (tab = table) != null) &#123;            int mc = modCount;            for (int i = 0; i &lt; tab.length; ++i) &#123;                for (Node&lt;K,V&gt; e = tab[i]; e != null; e = e.next) &#123;                    e.value = function.apply(e.key, e.value);                &#125;            &#125;            if (modCount != mc)                throw new ConcurrentModificationException();        &#125;    &#125;    * ------------------------------------------------------------ *     Cloning and serialization    **     * Returns a shallow copy of this &lt;tt&gt;HashMap&lt;tt&gt; instance: the keys and     * values themselves are not cloned.     *     * @return a shallow copy of this map     *    @SuppressWarnings(unchecked)    @Override    public Object clone() &#123;        HashMap&lt;K,V&gt; result;        try &#123;            result = (HashMap&lt;K,V&gt;)super.clone();        &#125; catch (CloneNotSupportedException e) &#123;             this shouldnt happen, since we are Cloneable            throw new InternalError(e);        &#125;        result.reinitialize();        result.putMapEntries(this, false);        return result;    &#125;     These methods are also used when serializing HashSets    final float loadFactor() &#123; return loadFactor; &#125;    final int capacity() &#123;        return (table != null) ? table.length :            (threshold &gt; 0) ? threshold :            DEFAULT_INITIAL_CAPACITY;    &#125;    **     * Save the state of the &lt;tt&gt;HashMap&lt;tt&gt; instance to a stream (i.e.,     * serialize it).     *     * @serialData The &lt;i&gt;capacity&lt;i&gt; of the HashMap (the length of the     *             bucket array) is emitted (int), followed by the     *             &lt;i&gt;size&lt;i&gt; (an int, the number of key-value     *             mappings), followed by the key (Object) and value (Object)     *             for each key-value mapping.  The key-value mappings are     *             emitted in no particular order.     *    private void writeObject(java.io.ObjectOutputStream s)        throws IOException &#123;        int buckets = capacity();         Write out the threshold, loadfactor, and any hidden stuff        s.defaultWriteObject();        s.writeInt(buckets);        s.writeInt(size);        internalWriteEntries(s);    &#125;    **     * Reconstitute the &#123;@code HashMap&#125; instance from a stream (i.e.,     * deserialize it).     *    private void readObject(java.io.ObjectInputStream s)        throws IOException, ClassNotFoundException &#123;         Read in the threshold (ignored), loadfactor, and any hidden stuff        s.defaultReadObject();        reinitialize();        if (loadFactor &lt;= 0 || Float.isNaN(loadFactor))            throw new InvalidObjectException(Illegal load factor:  +                                             loadFactor);        s.readInt();                 Read and ignore number of buckets        int mappings = s.readInt();  Read number of mappings (size)        if (mappings &lt; 0)            throw new InvalidObjectException(Illegal mappings count:  +                                             mappings);        else if (mappings &gt; 0) &#123;  (if zero, use defaults)             Size the table using given load factor only if within             range of 0.25...4.0            float lf = Math.min(Math.max(0.25f, loadFactor), 4.0f);            float fc = (float)mappings  lf + 1.0f;            int cap = ((fc &lt; DEFAULT_INITIAL_CAPACITY) ?                       DEFAULT_INITIAL_CAPACITY :                       (fc &gt;= MAXIMUM_CAPACITY) ?                       MAXIMUM_CAPACITY :                       tableSizeFor((int)fc));            float ft = (float)cap * lf;            threshold = ((cap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; MAXIMUM_CAPACITY) ?                         (int)ft : Integer.MAX_VALUE);             Check Map.Entry[].class since its the nearest public type to             what were actually creating.            SharedSecrets.getJavaOISAccess().checkArray(s, Map.Entry[].class, cap);            @SuppressWarnings(&#123;rawtypes,unchecked&#125;)            Node&lt;K,V&gt;[] tab = (Node&lt;K,V&gt;[])new Node[cap];            table = tab;             Read the keys and values, and put the mappings in the HashMap            for (int i = 0; i &lt; mappings; i++) &#123;                @SuppressWarnings(unchecked)                    K key = (K) s.readObject();                @SuppressWarnings(unchecked)                    V value = (V) s.readObject();                putVal(hash(key), key, value, false, false);            &#125;        &#125;    &#125;    * ------------------------------------------------------------ *     iterators    abstract class HashIterator &#123;        Node&lt;K,V&gt; next;         next entry to return        Node&lt;K,V&gt; current;      current entry        int expectedModCount;   for fast-fail        int index;              current slot        HashIterator() &#123;            expectedModCount = modCount;            Node&lt;K,V&gt;[] t = table;            current = next = null;            index = 0;            if (t != null &amp;&amp; size &gt; 0) &#123;  advance to first entry                do &#123;&#125; while (index &lt; t.length &amp;&amp; (next = t[index++]) == null);            &#125;        &#125;        public final boolean hasNext() &#123;            return next != null;        &#125;        final Node&lt;K,V&gt; nextNode() &#123;            Node&lt;K,V&gt;[] t;            Node&lt;K,V&gt; e = next;            if (modCount != expectedModCount)                throw new ConcurrentModificationException();            if (e == null)                throw new NoSuchElementException();            if ((next = (current = e).next) == null &amp;&amp; (t = table) != null) &#123;                do &#123;&#125; while (index &lt; t.length &amp;&amp; (next = t[index++]) == null);            &#125;            return e;        &#125;        public final void remove() &#123;            Node&lt;K,V&gt; p = current;            if (p == null)                throw new IllegalStateException();            if (modCount != expectedModCount)                throw new ConcurrentModificationException();            current = null;            K key = p.key;            removeNode(hash(key), key, null, false, false);            expectedModCount = modCount;        &#125;    &#125;    final class KeyIterator extends HashIterator        implements Iterator&lt;K&gt; &#123;        public final K next() &#123; return nextNode().key; &#125;    &#125;    final class ValueIterator extends HashIterator        implements Iterator&lt;V&gt; &#123;        public final V next() &#123; return nextNode().value; &#125;    &#125;    final class EntryIterator extends HashIterator        implements Iterator&lt;Map.Entry&lt;K,V&gt;&gt; &#123;        public final Map.Entry&lt;K,V&gt; next() &#123; return nextNode(); &#125;    &#125;    * ------------------------------------------------------------ *     spliterators    static class HashMapSpliterator&lt;K,V&gt; &#123;        final HashMap&lt;K,V&gt; map;        Node&lt;K,V&gt; current;           current node        int index;                   current index, modified on advancesplit        int fence;                   one past last index        int est;                     size estimate        int expectedModCount;        for comodification checks        HashMapSpliterator(HashMap&lt;K,V&gt; m, int origin,                           int fence, int est,                           int expectedModCount) &#123;            this.map = m;            this.index = origin;            this.fence = fence;            this.est = est;            this.expectedModCount = expectedModCount;        &#125;        final int getFence() &#123;  initialize fence and size on first use            int hi;            if ((hi = fence) &lt; 0) &#123;                HashMap&lt;K,V&gt; m = map;                est = m.size;                expectedModCount = m.modCount;                Node&lt;K,V&gt;[] tab = m.table;                hi = fence = (tab == null) ? 0 : tab.length;            &#125;            return hi;        &#125;        public final long estimateSize() &#123;            getFence();  force init            return (long) est;        &#125;    &#125;    static final class KeySpliterator&lt;K,V&gt;        extends HashMapSpliterator&lt;K,V&gt;        implements Spliterator&lt;K&gt; &#123;        KeySpliterator(HashMap&lt;K,V&gt; m, int origin, int fence, int est,                       int expectedModCount) &#123;            super(m, origin, fence, est, expectedModCount);        &#125;        public KeySpliterator&lt;K,V&gt; trySplit() &#123;            int hi = getFence(), lo = index, mid = (lo + hi) &gt;&gt;&gt; 1;            return (lo &gt;= mid || current != null) ? null :                new KeySpliterator&lt;&gt;(map, lo, index = mid, est &gt;&gt;&gt;= 1,                                        expectedModCount);        &#125;        public void forEachRemaining(Consumer&lt;? super K&gt; action) &#123;            int i, hi, mc;            if (action == null)                throw new NullPointerException();            HashMap&lt;K,V&gt; m = map;            Node&lt;K,V&gt;[] tab = m.table;            if ((hi = fence) &lt; 0) &#123;                mc = expectedModCount = m.modCount;                hi = fence = (tab == null) ? 0 : tab.length;            &#125;            else                mc = expectedModCount;            if (tab != null &amp;&amp; tab.length &gt;= hi &amp;&amp;                (i = index) &gt;= 0 &amp;&amp; (i &lt; (index = hi) || current != null)) &#123;                Node&lt;K,V&gt; p = current;                current = null;                do &#123;                    if (p == null)                        p = tab[i++];                    else &#123;                        action.accept(p.key);                        p = p.next;                    &#125;                &#125; while (p != null || i &lt; hi);                if (m.modCount != mc)                    throw new ConcurrentModificationException();            &#125;        &#125;        public boolean tryAdvance(Consumer&lt;? super K&gt; action) &#123;            int hi;            if (action == null)                throw new NullPointerException();            Node&lt;K,V&gt;[] tab = map.table;            if (tab != null &amp;&amp; tab.length &gt;= (hi = getFence()) &amp;&amp; index &gt;= 0) &#123;                while (current != null || index &lt; hi) &#123;                    if (current == null)                        current = tab[index++];                    else &#123;                        K k = current.key;                        current = current.next;                        action.accept(k);                        if (map.modCount != expectedModCount)                            throw new ConcurrentModificationException();                        return true;                    &#125;                &#125;            &#125;            return false;        &#125;        public int characteristics() &#123;            return (fence &lt; 0 || est == map.size ? Spliterator.SIZED : 0) |                Spliterator.DISTINCT;        &#125;    &#125;    static final class ValueSpliterator&lt;K,V&gt;        extends HashMapSpliterator&lt;K,V&gt;        implements Spliterator&lt;V&gt; &#123;        ValueSpliterator(HashMap&lt;K,V&gt; m, int origin, int fence, int est,                         int expectedModCount) &#123;            super(m, origin, fence, est, expectedModCount);        &#125;        public ValueSpliterator&lt;K,V&gt; trySplit() &#123;            int hi = getFence(), lo = index, mid = (lo + hi) &gt;&gt;&gt; 1;            return (lo &gt;= mid || current != null) ? null :                new ValueSpliterator&lt;&gt;(map, lo, index = mid, est &gt;&gt;&gt;= 1,                                          expectedModCount);        &#125;        public void forEachRemaining(Consumer&lt;? super V&gt; action) &#123;            int i, hi, mc;            if (action == null)                throw new NullPointerException();            HashMap&lt;K,V&gt; m = map;            Node&lt;K,V&gt;[] tab = m.table;            if ((hi = fence) &lt; 0) &#123;                mc = expectedModCount = m.modCount;                hi = fence = (tab == null) ? 0 : tab.length;            &#125;            else                mc = expectedModCount;            if (tab != null &amp;&amp; tab.length &gt;= hi &amp;&amp;                (i = index) &gt;= 0 &amp;&amp; (i &lt; (index = hi) || current != null)) &#123;                Node&lt;K,V&gt; p = current;                current = null;                do &#123;                    if (p == null)                        p = tab[i++];                    else &#123;                        action.accept(p.value);                        p = p.next;                    &#125;                &#125; while (p != null || i &lt; hi);                if (m.modCount != mc)                    throw new ConcurrentModificationException();            &#125;        &#125;        public boolean tryAdvance(Consumer&lt;? super V&gt; action) &#123;            int hi;            if (action == null)                throw new NullPointerException();            Node&lt;K,V&gt;[] tab = map.table;            if (tab != null &amp;&amp; tab.length &gt;= (hi = getFence()) &amp;&amp; index &gt;= 0) &#123;                while (current != null || index &lt; hi) &#123;                    if (current == null)                        current = tab[index++];                    else &#123;                        V v = current.value;                        current = current.next;                        action.accept(v);                        if (map.modCount != expectedModCount)                            throw new ConcurrentModificationException();                        return true;                    &#125;                &#125;            &#125;            return false;        &#125;        public int characteristics() &#123;            return (fence &lt; 0 || est == map.size ? Spliterator.SIZED : 0);        &#125;    &#125;    static final class EntrySpliterator&lt;K,V&gt;        extends HashMapSpliterator&lt;K,V&gt;        implements Spliterator&lt;Map.Entry&lt;K,V&gt;&gt; &#123;        EntrySpliterator(HashMap&lt;K,V&gt; m, int origin, int fence, int est,                         int expectedModCount) &#123;            super(m, origin, fence, est, expectedModCount);        &#125;        public EntrySpliterator&lt;K,V&gt; trySplit() &#123;            int hi = getFence(), lo = index, mid = (lo + hi) &gt;&gt;&gt; 1;            return (lo &gt;= mid || current != null) ? null :                new EntrySpliterator&lt;&gt;(map, lo, index = mid, est &gt;&gt;&gt;= 1,                                          expectedModCount);        &#125;        public void forEachRemaining(Consumer&lt;? super Map.Entry&lt;K,V&gt;&gt; action) &#123;            int i, hi, mc;            if (action == null)                throw new NullPointerException();            HashMap&lt;K,V&gt; m = map;            Node&lt;K,V&gt;[] tab = m.table;            if ((hi = fence) &lt; 0) &#123;                mc = expectedModCount = m.modCount;                hi = fence = (tab == null) ? 0 : tab.length;            &#125;            else                mc = expectedModCount;            if (tab != null &amp;&amp; tab.length &gt;= hi &amp;&amp;                (i = index) &gt;= 0 &amp;&amp; (i &lt; (index = hi) || current != null)) &#123;                Node&lt;K,V&gt; p = current;                current = null;                do &#123;                    if (p == null)                        p = tab[i++];                    else &#123;                        action.accept(p);                        p = p.next;                    &#125;                &#125; while (p != null || i &lt; hi);                if (m.modCount != mc)                    throw new ConcurrentModificationException();            &#125;        &#125;        public boolean tryAdvance(Consumer&lt;? super Map.Entry&lt;K,V&gt;&gt; action) &#123;            int hi;            if (action == null)                throw new NullPointerException();            Node&lt;K,V&gt;[] tab = map.table;            if (tab != null &amp;&amp; tab.length &gt;= (hi = getFence()) &amp;&amp; index &gt;= 0) &#123;                while (current != null || index &lt; hi) &#123;                    if (current == null)                        current = tab[index++];                    else &#123;                        Node&lt;K,V&gt; e = current;                        current = current.next;                        action.accept(e);                        if (map.modCount != expectedModCount)                            throw new ConcurrentModificationException();                        return true;                    &#125;                &#125;            &#125;            return false;        &#125;        public int characteristics() &#123;            return (fence &lt; 0 || est == map.size ? Spliterator.SIZED : 0) |                Spliterator.DISTINCT;        &#125;    &#125;    * ------------------------------------------------------------ *     LinkedHashMap support    *     * The following package-protected methods are designed to be     * overridden by LinkedHashMap, but not by any other subclass.     * Nearly all other internal methods are also package-protected     * but are declared final, so can be used by LinkedHashMap, view     * classes, and HashSet.     *     Create a regular (non-tree) node    Node&lt;K,V&gt; newNode(int hash, K key, V value, Node&lt;K,V&gt; next) &#123;        return new Node&lt;&gt;(hash, key, value, next);    &#125;     For conversion from TreeNodes to plain nodes    Node&lt;K,V&gt; replacementNode(Node&lt;K,V&gt; p, Node&lt;K,V&gt; next) &#123;        return new Node&lt;&gt;(p.hash, p.key, p.value, next);    &#125;     Create a tree bin node    TreeNode&lt;K,V&gt; newTreeNode(int hash, K key, V value, Node&lt;K,V&gt; next) &#123;        return new TreeNode&lt;&gt;(hash, key, value, next);    &#125;     For treeifyBin    TreeNode&lt;K,V&gt; replacementTreeNode(Node&lt;K,V&gt; p, Node&lt;K,V&gt; next) &#123;        return new TreeNode&lt;&gt;(p.hash, p.key, p.value, next);    &#125;    **     * Reset to initial default state.  Called by clone and readObject.     *    void reinitialize() &#123;        table = null;        entrySet = null;        keySet = null;        values = null;        modCount = 0;        threshold = 0;        size = 0;    &#125;     Callbacks to allow LinkedHashMap post-actions    void afterNodeAccess(Node&lt;K,V&gt; p) &#123; &#125;    void afterNodeInsertion(boolean evict) &#123; &#125;    void afterNodeRemoval(Node&lt;K,V&gt; p) &#123; &#125;     Called only from writeObject, to ensure compatible ordering.    void internalWriteEntries(java.io.ObjectOutputStream s) throws IOException &#123;        Node&lt;K,V&gt;[] tab;        if (size &gt; 0 &amp;&amp; (tab = table) != null) &#123;            for (int i = 0; i &lt; tab.length; ++i) &#123;                for (Node&lt;K,V&gt; e = tab[i]; e != null; e = e.next) &#123;                    s.writeObject(e.key);                    s.writeObject(e.value);                &#125;            &#125;        &#125;    &#125;    * ------------------------------------------------------------ *     Tree bins    **     * Entry for Tree bins. Extends LinkedHashMap.Entry (which in turn     * extends Node) so can be used as extension of either regular or     * linked node.     *    static final class TreeNode&lt;K,V&gt; extends LinkedHashMap.Entry&lt;K,V&gt; &#123;        TreeNode&lt;K,V&gt; parent;   red-black tree links        TreeNode&lt;K,V&gt; left;        TreeNode&lt;K,V&gt; right;        TreeNode&lt;K,V&gt; prev;     needed to unlink next upon deletion        boolean red;        TreeNode(int hash, K key, V val, Node&lt;K,V&gt; next) &#123;            super(hash, key, val, next);        &#125;        **         * Returns root of tree containing this node.         *        final TreeNode&lt;K,V&gt; root() &#123;            for (TreeNode&lt;K,V&gt; r = this, p;;) &#123;                if ((p = r.parent) == null)                    return r;                r = p;            &#125;        &#125;        **         * Ensures that the given root is the first node of its bin.         *        static &lt;K,V&gt; void moveRootToFront(Node&lt;K,V&gt;[] tab, TreeNode&lt;K,V&gt; root) &#123;            int n;            if (root != null &amp;&amp; tab != null &amp;&amp; (n = tab.length) &gt; 0) &#123;                int index = (n - 1) &amp; root.hash;                TreeNode&lt;K,V&gt; first = (TreeNode&lt;K,V&gt;)tab[index];                if (root != first) &#123;                    Node&lt;K,V&gt; rn;                    tab[index] = root;                    TreeNode&lt;K,V&gt; rp = root.prev;                    if ((rn = root.next) != null)                        ((TreeNode&lt;K,V&gt;)rn).prev = rp;                    if (rp != null)                        rp.next = rn;                    if (first != null)                        first.prev = root;                    root.next = first;                    root.prev = null;                &#125;                assert checkInvariants(root);            &#125;        &#125;        **         * Finds the node starting at root p with the given hash and key.         * The kc argument caches comparableClassFor(key) upon first use         * comparing keys.         *        final TreeNode&lt;K,V&gt; find(int h, Object k, Class&lt;?&gt; kc) &#123;            TreeNode&lt;K,V&gt; p = this;            do &#123;                int ph, dir; K pk;                TreeNode&lt;K,V&gt; pl = p.left, pr = p.right, q;                if ((ph = p.hash) &gt; h)                    p = pl;                else if (ph &lt; h)                    p = pr;                else if ((pk = p.key) == k || (k != null &amp;&amp; k.equals(pk)))                    return p;                else if (pl == null)                    p = pr;                else if (pr == null)                    p = pl;                else if ((kc != null ||                          (kc = comparableClassFor(k)) != null) &amp;&amp;                         (dir = compareComparables(kc, k, pk)) != 0)                    p = (dir &lt; 0) ? pl : pr;                else if ((q = pr.find(h, k, kc)) != null)                    return q;                else                    p = pl;            &#125; while (p != null);            return null;        &#125;        **         * Calls find for root node.         *        final TreeNode&lt;K,V&gt; getTreeNode(int h, Object k) &#123;            return ((parent != null) ? root() : this).find(h, k, null);        &#125;        **         * Tie-breaking utility for ordering insertions when equal         * hashCodes and non-comparable. We dont require a total         * order, just a consistent insertion rule to maintain         * equivalence across rebalancings. Tie-breaking further than         * necessary simplifies testing a bit.         *        static int tieBreakOrder(Object a, Object b) &#123;            int d;            if (a == null || b == null ||                (d = a.getClass().getName().                 compareTo(b.getClass().getName())) == 0)                d = (System.identityHashCode(a) &lt;= System.identityHashCode(b) ?                     -1 : 1);            return d;        &#125;        **         * Forms tree of the nodes linked from this node.         * @return root of tree         *        final void treeify(Node&lt;K,V&gt;[] tab) &#123;            TreeNode&lt;K,V&gt; root = null;            for (TreeNode&lt;K,V&gt; x = this, next; x != null; x = next) &#123;                next = (TreeNode&lt;K,V&gt;)x.next;                x.left = x.right = null;                if (root == null) &#123;                    x.parent = null;                    x.red = false;                    root = x;                &#125;                else &#123;                    K k = x.key;                    int h = x.hash;                    Class&lt;?&gt; kc = null;                    for (TreeNode&lt;K,V&gt; p = root;;) &#123;                        int dir, ph;                        K pk = p.key;                        if ((ph = p.hash) &gt; h)                            dir = -1;                        else if (ph &lt; h)                            dir = 1;                        else if ((kc == null &amp;&amp;                                  (kc = comparableClassFor(k)) == null) ||                                 (dir = compareComparables(kc, k, pk)) == 0)                            dir = tieBreakOrder(k, pk);                        TreeNode&lt;K,V&gt; xp = p;                        if ((p = (dir &lt;= 0) ? p.left : p.right) == null) &#123;                            x.parent = xp;                            if (dir &lt;= 0)                                xp.left = x;                            else                                xp.right = x;                            root = balanceInsertion(root, x);                            break;                        &#125;                    &#125;                &#125;            &#125;            moveRootToFront(tab, root);        &#125;        **         * Returns a list of non-TreeNodes replacing those linked from         * this node.         *        final Node&lt;K,V&gt; untreeify(HashMap&lt;K,V&gt; map) &#123;            Node&lt;K,V&gt; hd = null, tl = null;            for (Node&lt;K,V&gt; q = this; q != null; q = q.next) &#123;                Node&lt;K,V&gt; p = map.replacementNode(q, null);                if (tl == null)                    hd = p;                else                    tl.next = p;                tl = p;            &#125;            return hd;        &#125;        **         * Tree version of putVal.         *        final TreeNode&lt;K,V&gt; putTreeVal(HashMap&lt;K,V&gt; map, Node&lt;K,V&gt;[] tab,                                       int h, K k, V v) &#123;            Class&lt;?&gt; kc = null;            boolean searched = false;            TreeNode&lt;K,V&gt; root = (parent != null) ? root() : this;            for (TreeNode&lt;K,V&gt; p = root;;) &#123;                int dir, ph; K pk;                if ((ph = p.hash) &gt; h)                    dir = -1;                else if (ph &lt; h)                    dir = 1;                else if ((pk = p.key) == k || (k != null &amp;&amp; k.equals(pk)))                    return p;                else if ((kc == null &amp;&amp;                          (kc = comparableClassFor(k)) == null) ||                         (dir = compareComparables(kc, k, pk)) == 0) &#123;                    if (!searched) &#123;                        TreeNode&lt;K,V&gt; q, ch;                        searched = true;                        if (((ch = p.left) != null &amp;&amp;                             (q = ch.find(h, k, kc)) != null) ||                            ((ch = p.right) != null &amp;&amp;                             (q = ch.find(h, k, kc)) != null))                            return q;                    &#125;                    dir = tieBreakOrder(k, pk);                &#125;                TreeNode&lt;K,V&gt; xp = p;                if ((p = (dir &lt;= 0) ? p.left : p.right) == null) &#123;                    Node&lt;K,V&gt; xpn = xp.next;                    TreeNode&lt;K,V&gt; x = map.newTreeNode(h, k, v, xpn);                    if (dir &lt;= 0)                        xp.left = x;                    else                        xp.right = x;                    xp.next = x;                    x.parent = x.prev = xp;                    if (xpn != null)                        ((TreeNode&lt;K,V&gt;)xpn).prev = x;                    moveRootToFront(tab, balanceInsertion(root, x));                    return null;                &#125;            &#125;        &#125;        **         * Removes the given node, that must be present before this call.         * This is messier than typical red-black deletion code because we         * cannot swap the contents of an interior node with a leaf         * successor that is pinned by next pointers that are accessible         * independently during traversal. So instead we swap the tree         * linkages. If the current tree appears to have too few nodes,         * the bin is converted back to a plain bin. (The test triggers         * somewhere between 2 and 6 nodes, depending on tree structure).         *        final void removeTreeNode(HashMap&lt;K,V&gt; map, Node&lt;K,V&gt;[] tab,                                  boolean movable) &#123;            int n;            if (tab == null || (n = tab.length) == 0)                return;            int index = (n - 1) &amp; hash;            TreeNode&lt;K,V&gt; first = (TreeNode&lt;K,V&gt;)tab[index], root = first, rl;            TreeNode&lt;K,V&gt; succ = (TreeNode&lt;K,V&gt;)next, pred = prev;            if (pred == null)                tab[index] = first = succ;            else                pred.next = succ;            if (succ != null)                succ.prev = pred;            if (first == null)                return;            if (root.parent != null)                root = root.root();            if (root == null || root.right == null ||                (rl = root.left) == null || rl.left == null) &#123;                tab[index] = first.untreeify(map);   too small                return;            &#125;            TreeNode&lt;K,V&gt; p = this, pl = left, pr = right, replacement;            if (pl != null &amp;&amp; pr != null) &#123;                TreeNode&lt;K,V&gt; s = pr, sl;                while ((sl = s.left) != null)  find successor                    s = sl;                boolean c = s.red; s.red = p.red; p.red = c;  swap colors                TreeNode&lt;K,V&gt; sr = s.right;                TreeNode&lt;K,V&gt; pp = p.parent;                if (s == pr) &#123;  p was ss direct parent                    p.parent = s;                    s.right = p;                &#125;                else &#123;                    TreeNode&lt;K,V&gt; sp = s.parent;                    if ((p.parent = sp) != null) &#123;                        if (s == sp.left)                            sp.left = p;                        else                            sp.right = p;                    &#125;                    if ((s.right = pr) != null)                        pr.parent = s;                &#125;                p.left = null;                if ((p.right = sr) != null)                    sr.parent = p;                if ((s.left = pl) != null)                    pl.parent = s;                if ((s.parent = pp) == null)                    root = s;                else if (p == pp.left)                    pp.left = s;                else                    pp.right = s;                if (sr != null)                    replacement = sr;                else                    replacement = p;            &#125;            else if (pl != null)                replacement = pl;            else if (pr != null)                replacement = pr;            else                replacement = p;            if (replacement != p) &#123;                TreeNode&lt;K,V&gt; pp = replacement.parent = p.parent;                if (pp == null)                    root = replacement;                else if (p == pp.left)                    pp.left = replacement;                else                    pp.right = replacement;                p.left = p.right = p.parent = null;            &#125;            TreeNode&lt;K,V&gt; r = p.red ? root : balanceDeletion(root, replacement);            if (replacement == p) &#123;   detach                TreeNode&lt;K,V&gt; pp = p.parent;                p.parent = null;                if (pp != null) &#123;                    if (p == pp.left)                        pp.left = null;                    else if (p == pp.right)                        pp.right = null;                &#125;            &#125;            if (movable)                moveRootToFront(tab, r);        &#125;        **         * Splits nodes in a tree bin into lower and upper tree bins,         * or untreeifies if now too small. Called only from resize;         * see above discussion about split bits and indices.         *         * @param map the map         * @param tab the table for recording bin heads         * @param index the index of the table being split         * @param bit the bit of hash to split on         *        final void split(HashMap&lt;K,V&gt; map, Node&lt;K,V&gt;[] tab, int index, int bit) &#123;            TreeNode&lt;K,V&gt; b = this;             Relink into lo and hi lists, preserving order            TreeNode&lt;K,V&gt; loHead = null, loTail = null;            TreeNode&lt;K,V&gt; hiHead = null, hiTail = null;            int lc = 0, hc = 0;            for (TreeNode&lt;K,V&gt; e = b, next; e != null; e = next) &#123;                next = (TreeNode&lt;K,V&gt;)e.next;                e.next = null;                if ((e.hash &amp; bit) == 0) &#123;                    if ((e.prev = loTail) == null)                        loHead = e;                    else                        loTail.next = e;                    loTail = e;                    ++lc;                &#125;                else &#123;                    if ((e.prev = hiTail) == null)                        hiHead = e;                    else                        hiTail.next = e;                    hiTail = e;                    ++hc;                &#125;            &#125;            if (loHead != null) &#123;                if (lc &lt;= UNTREEIFY_THRESHOLD)                    tab[index] = loHead.untreeify(map);                else &#123;                    tab[index] = loHead;                    if (hiHead != null)  (else is already treeified)                        loHead.treeify(tab);                &#125;            &#125;            if (hiHead != null) &#123;                if (hc &lt;= UNTREEIFY_THRESHOLD)                    tab[index + bit] = hiHead.untreeify(map);                else &#123;                    tab[index + bit] = hiHead;                    if (loHead != null)                        hiHead.treeify(tab);                &#125;            &#125;        &#125;        * ------------------------------------------------------------ *         Red-black tree methods, all adapted from CLR        static &lt;K,V&gt; TreeNode&lt;K,V&gt; rotateLeft(TreeNode&lt;K,V&gt; root,                                              TreeNode&lt;K,V&gt; p) &#123;            TreeNode&lt;K,V&gt; r, pp, rl;            if (p != null &amp;&amp; (r = p.right) != null) &#123;                if ((rl = p.right = r.left) != null)                    rl.parent = p;                if ((pp = r.parent = p.parent) == null)                    (root = r).red = false;                else if (pp.left == p)                    pp.left = r;                else                    pp.right = r;                r.left = p;                p.parent = r;            &#125;            return root;        &#125;        static &lt;K,V&gt; TreeNode&lt;K,V&gt; rotateRight(TreeNode&lt;K,V&gt; root,                                               TreeNode&lt;K,V&gt; p) &#123;            TreeNode&lt;K,V&gt; l, pp, lr;            if (p != null &amp;&amp; (l = p.left) != null) &#123;                if ((lr = p.left = l.right) != null)                    lr.parent = p;                if ((pp = l.parent = p.parent) == null)                    (root = l).red = false;                else if (pp.right == p)                    pp.right = l;                else                    pp.left = l;                l.right = p;                p.parent = l;            &#125;            return root;        &#125;        static &lt;K,V&gt; TreeNode&lt;K,V&gt; balanceInsertion(TreeNode&lt;K,V&gt; root,                                                    TreeNode&lt;K,V&gt; x) &#123;            x.red = true;            for (TreeNode&lt;K,V&gt; xp, xpp, xppl, xppr;;) &#123;                if ((xp = x.parent) == null) &#123;                    x.red = false;                    return x;                &#125;                else if (!xp.red || (xpp = xp.parent) == null)                    return root;                if (xp == (xppl = xpp.left)) &#123;                    if ((xppr = xpp.right) != null &amp;&amp; xppr.red) &#123;                        xppr.red = false;                        xp.red = false;                        xpp.red = true;                        x = xpp;                    &#125;                    else &#123;                        if (x == xp.right) &#123;                            root = rotateLeft(root, x = xp);                            xpp = (xp = x.parent) == null ? null : xp.parent;                        &#125;                        if (xp != null) &#123;                            xp.red = false;                            if (xpp != null) &#123;                                xpp.red = true;                                root = rotateRight(root, xpp);                            &#125;                        &#125;                    &#125;                &#125;                else &#123;                    if (xppl != null &amp;&amp; xppl.red) &#123;                        xppl.red = false;                        xp.red = false;                        xpp.red = true;                        x = xpp;                    &#125;                    else &#123;                        if (x == xp.left) &#123;                            root = rotateRight(root, x = xp);                            xpp = (xp = x.parent) == null ? null : xp.parent;                        &#125;                        if (xp != null) &#123;                            xp.red = false;                            if (xpp != null) &#123;                                xpp.red = true;                                root = rotateLeft(root, xpp);                            &#125;                        &#125;                    &#125;                &#125;            &#125;        &#125;        static &lt;K,V&gt; TreeNode&lt;K,V&gt; balanceDeletion(TreeNode&lt;K,V&gt; root,                                                   TreeNode&lt;K,V&gt; x) &#123;            for (TreeNode&lt;K,V&gt; xp, xpl, xpr;;)  &#123;                if (x == null || x == root)                    return root;                else if ((xp = x.parent) == null) &#123;                    x.red = false;                    return x;                &#125;                else if (x.red) &#123;                    x.red = false;                    return root;                &#125;                else if ((xpl = xp.left) == x) &#123;                    if ((xpr = xp.right) != null &amp;&amp; xpr.red) &#123;                        xpr.red = false;                        xp.red = true;                        root = rotateLeft(root, xp);                        xpr = (xp = x.parent) == null ? null : xp.right;                    &#125;                    if (xpr == null)                        x = xp;                    else &#123;                        TreeNode&lt;K,V&gt; sl = xpr.left, sr = xpr.right;                        if ((sr == null || !sr.red) &amp;&amp;                            (sl == null || !sl.red)) &#123;                            xpr.red = true;                            x = xp;                        &#125;                        else &#123;                            if (sr == null || !sr.red) &#123;                                if (sl != null)                                    sl.red = false;                                xpr.red = true;                                root = rotateRight(root, xpr);                                xpr = (xp = x.parent) == null ?                                    null : xp.right;                            &#125;                            if (xpr != null) &#123;                                xpr.red = (xp == null) ? false : xp.red;                                if ((sr = xpr.right) != null)                                    sr.red = false;                            &#125;                            if (xp != null) &#123;                                xp.red = false;                                root = rotateLeft(root, xp);                            &#125;                            x = root;                        &#125;                    &#125;                &#125;                else &#123;  symmetric                    if (xpl != null &amp;&amp; xpl.red) &#123;                        xpl.red = false;                        xp.red = true;                        root = rotateRight(root, xp);                        xpl = (xp = x.parent) == null ? null : xp.left;                    &#125;                    if (xpl == null)                        x = xp;                    else &#123;                        TreeNode&lt;K,V&gt; sl = xpl.left, sr = xpl.right;                        if ((sl == null || !sl.red) &amp;&amp;                            (sr == null || !sr.red)) &#123;                            xpl.red = true;                            x = xp;                        &#125;                        else &#123;                            if (sl == null || !sl.red) &#123;                                if (sr != null)                                    sr.red = false;                                xpl.red = true;                                root = rotateLeft(root, xpl);                                xpl = (xp = x.parent) == null ?                                    null : xp.left;                            &#125;                            if (xpl != null) &#123;                                xpl.red = (xp == null) ? false : xp.red;                                if ((sl = xpl.left) != null)                                    sl.red = false;                            &#125;                            if (xp != null) &#123;                                xp.red = false;                                root = rotateRight(root, xp);                            &#125;                            x = root;                        &#125;                    &#125;                &#125;            &#125;        &#125;        **         * Recursive invariant check         *        static &lt;K,V&gt; boolean checkInvariants(TreeNode&lt;K,V&gt; t) &#123;            TreeNode&lt;K,V&gt; tp = t.parent, tl = t.left, tr = t.right,                tb = t.prev, tn = (TreeNode&lt;K,V&gt;)t.next;            if (tb != null &amp;&amp; tb.next != t)                return false;            if (tn != null &amp;&amp; tn.prev != t)                return false;            if (tp != null &amp;&amp; t != tp.left &amp;&amp; t != tp.right)                return false;            if (tl != null &amp;&amp; (tl.parent != t || tl.hash &gt; t.hash))                return false;            if (tr != null &amp;&amp; (tr.parent != t || tr.hash &lt; t.hash))                return false;            if (t.red &amp;&amp; tl != null &amp;&amp; tl.red &amp;&amp; tr != null &amp;&amp; tr.red)                return false;            if (tl != null &amp;&amp; !checkInvariants(tl))                return false;            if (tr != null &amp;&amp; !checkInvariants(tr))                return false;            return true;        &#125;    &#125;&#125;\n\n","tags":["Java","HashMap"],"path":"2019/09/23/HashMapç±»/","external_link":""},{"title":"LinkedListç±»","date":"2019-09-25T10:28:49.000Z","content":"LinkedListç±»\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713714715716717718719720721722723724725726727728729730731732733734735736737738739740741742743744745746747748749750751752753754755756757758759760761762763764765766767768769770771772773774775776777778779780781782783784785786787788789790791792793794795796797798799800801802803804805806807808809810811812813814815816817818819820821822823824825826827828829830831832833834835836837838839840841842843844845846847848849850851852853854855856857858859860861862863864865866867868869870871872873874875876877878879880881882883884885886887888889890891892893894895896897898899900901902903904905906907908909910911912913914915916917918919920921922923924925926927928929930931932933934935936937938939940941942943944945946947948949950951952953954955956957958959960961962963964965966967968969970971972973974975976977978979980981982983984985986987988989990991992993994995996997998999100010011002100310041005100610071008100910101011101210131014101510161017101810191020102110221023102410251026102710281029103010311032103310341035103610371038103910401041104210431044104510461047104810491050105110521053105410551056105710581059106010611062106310641065106610671068106910701071107210731074107510761077107810791080108110821083108410851086108710881089109010911092109310941095109610971098109911001101110211031104110511061107110811091110111111121113111411151116111711181119112011211122112311241125112611271128112911301131113211331134113511361137113811391140114111421143114411451146114711481149115011511152115311541155115611571158115911601161116211631164116511661167116811691170117111721173117411751176117711781179118011811182118311841185118611871188118911901191119211931194119511961197119811991200120112021203120412051206120712081209121012111212121312141215121612171218121912201221122212231224122512261227122812291230123112321233123412351236123712381239124012411242* * Copyright (c) 1997, 2013, Oracle andor its affiliates. All rights reserved. * ORACLE PROPRIETARYCONFIDENTIAL. Use is subject to license terms. *package java.util;import java.util.function.Consumer;** * Doubly-linked list implementation of the &#123;@code List&#125; and &#123;@code Deque&#125; * interfaces.  Implements all optional list operations, and permits all * elements (including &#123;@code null&#125;). * * &lt;p&gt;All of the operations perform as could be expected for a doubly-linked * list.  Operations that index into the list will traverse the list from * the beginning or the end, whichever is closer to the specified index. * * &lt;p&gt;&lt;strong&gt;Note that this implementation is not synchronized.&lt;strong&gt; * If multiple threads access a linked list concurrently, and at least * one of the threads modifies the list structurally, it &lt;i&gt;must&lt;i&gt; be * synchronized externally.  (A structural modification is any operation * that adds or deletes one or more elements; merely setting the value of * an element is not a structural modification.)  This is typically * accomplished by synchronizing on some object that naturally * encapsulates the list. * * If no such object exists, the list should be wrapped using the * &#123;@link Collections#synchronizedList Collections.synchronizedList&#125; * method.  This is best done at creation time, to prevent accidental * unsynchronized access to the list:&lt;pre&gt; *   List list = Collections.synchronizedList(new LinkedList(...));&lt;pre&gt; * * &lt;p&gt;The iterators returned by this classs &#123;@code iterator&#125; and * &#123;@code listIterator&#125; methods are &lt;i&gt;fail-fast&lt;i&gt;: if the list is * structurally modified at any time after the iterator is created, in * any way except through the Iterators own &#123;@code remove&#125; or * &#123;@code add&#125; methods, the iterator will throw a &#123;@link * ConcurrentModificationException&#125;.  Thus, in the face of concurrent * modification, the iterator fails quickly and cleanly, rather than * risking arbitrary, non-deterministic behavior at an undetermined * time in the future. * * &lt;p&gt;Note that the fail-fast behavior of an iterator cannot be guaranteed * as it is, generally speaking, impossible to make any hard guarantees in the * presence of unsynchronized concurrent modification.  Fail-fast iterators * throw &#123;@code ConcurrentModificationException&#125; on a best-effort basis. * Therefore, it would be wrong to write a program that depended on this * exception for its correctness:   &lt;i&gt;the fail-fast behavior of iterators * should be used only to detect bugs.&lt;i&gt; * * &lt;p&gt;This class is a member of the * &lt;a href=&#123;@docRoot&#125;..technotesguidescollectionsindex.html&gt; * Java Collections Framework&lt;a&gt;. * * @author  Josh Bloch * @see     List * @see     ArrayList * @since 1.2 * @param &lt;E&gt; the type of elements held in this collection *public class LinkedList&lt;E&gt;    extends AbstractSequentialList&lt;E&gt;    implements List&lt;E&gt;, Deque&lt;E&gt;, Cloneable, java.io.Serializable&#123;    transient int size = 0;    **     * Pointer to first node.     * Invariant: (first == null &amp;&amp; last == null) ||     *            (first.prev == null &amp;&amp; first.item != null)     *    transient Node&lt;E&gt; first;    **     * Pointer to last node.     * Invariant: (first == null &amp;&amp; last == null) ||     *            (last.next == null &amp;&amp; last.item != null)     *    transient Node&lt;E&gt; last;    **     * Constructs an empty list.     *    public LinkedList() &#123;    &#125;    **     * Constructs a list containing the elements of the specified     * collection, in the order they are returned by the collections     * iterator.     *     * @param  c the collection whose elements are to be placed into this list     * @throws NullPointerException if the specified collection is null     *    public LinkedList(Collection&lt;? extends E&gt; c) &#123;        this();        addAll(c);    &#125;    **     * Links e as first element.     *    private void linkFirst(E e) &#123;        final Node&lt;E&gt; f = first;        final Node&lt;E&gt; newNode = new Node&lt;&gt;(null, e, f);        first = newNode;        if (f == null)            last = newNode;        else            f.prev = newNode;        size++;        modCount++;    &#125;    **     * Links e as last element.     *    void linkLast(E e) &#123;        final Node&lt;E&gt; l = last;        final Node&lt;E&gt; newNode = new Node&lt;&gt;(l, e, null);        last = newNode;        if (l == null)            first = newNode;        else            l.next = newNode;        size++;        modCount++;    &#125;    **     * Inserts element e before non-null Node succ.     *    void linkBefore(E e, Node&lt;E&gt; succ) &#123;         assert succ != null;        final Node&lt;E&gt; pred = succ.prev;        final Node&lt;E&gt; newNode = new Node&lt;&gt;(pred, e, succ);        succ.prev = newNode;        if (pred == null)            first = newNode;        else            pred.next = newNode;        size++;        modCount++;    &#125;    **     * Unlinks non-null first node f.     *    private E unlinkFirst(Node&lt;E&gt; f) &#123;         assert f == first &amp;&amp; f != null;        final E element = f.item;        final Node&lt;E&gt; next = f.next;        f.item = null;        f.next = null;  help GC        first = next;        if (next == null)            last = null;        else            next.prev = null;        size--;        modCount++;        return element;    &#125;    **     * Unlinks non-null last node l.     *    private E unlinkLast(Node&lt;E&gt; l) &#123;         assert l == last &amp;&amp; l != null;        final E element = l.item;        final Node&lt;E&gt; prev = l.prev;        l.item = null;        l.prev = null;  help GC        last = prev;        if (prev == null)            first = null;        else            prev.next = null;        size--;        modCount++;        return element;    &#125;    **     * Unlinks non-null node x.     *    E unlink(Node&lt;E&gt; x) &#123;         assert x != null;        final E element = x.item;        final Node&lt;E&gt; next = x.next;        final Node&lt;E&gt; prev = x.prev;        if (prev == null) &#123;            first = next;        &#125; else &#123;            prev.next = next;            x.prev = null;        &#125;        if (next == null) &#123;            last = prev;        &#125; else &#123;            next.prev = prev;            x.next = null;        &#125;        x.item = null;        size--;        modCount++;        return element;    &#125;    **     * Returns the first element in this list.     *     * @return the first element in this list     * @throws NoSuchElementException if this list is empty     *    public E getFirst() &#123;        final Node&lt;E&gt; f = first;        if (f == null)            throw new NoSuchElementException();        return f.item;    &#125;    **     * Returns the last element in this list.     *     * @return the last element in this list     * @throws NoSuchElementException if this list is empty     *    public E getLast() &#123;        final Node&lt;E&gt; l = last;        if (l == null)            throw new NoSuchElementException();        return l.item;    &#125;    **     * Removes and returns the first element from this list.     *     * @return the first element from this list     * @throws NoSuchElementException if this list is empty     *    public E removeFirst() &#123;        final Node&lt;E&gt; f = first;        if (f == null)            throw new NoSuchElementException();        return unlinkFirst(f);    &#125;    **     * Removes and returns the last element from this list.     *     * @return the last element from this list     * @throws NoSuchElementException if this list is empty     *    public E removeLast() &#123;        final Node&lt;E&gt; l = last;        if (l == null)            throw new NoSuchElementException();        return unlinkLast(l);    &#125;    **     * Inserts the specified element at the beginning of this list.     *     * @param e the element to add     *    public void addFirst(E e) &#123;        linkFirst(e);    &#125;    **     * Appends the specified element to the end of this list.     *     * &lt;p&gt;This method is equivalent to &#123;@link #add&#125;.     *     * @param e the element to add     *    public void addLast(E e) &#123;        linkLast(e);    &#125;    **     * Returns &#123;@code true&#125; if this list contains the specified element.     * More formally, returns &#123;@code true&#125; if and only if this list contains     * at least one element &#123;@code e&#125; such that     * &lt;tt&gt;(o==null&amp;nbsp;?&amp;nbsp;e==null&amp;nbsp;:&amp;nbsp;o.equals(e))&lt;tt&gt;.     *     * @param o element whose presence in this list is to be tested     * @return &#123;@code true&#125; if this list contains the specified element     *    public boolean contains(Object o) &#123;        return indexOf(o) != -1;    &#125;    **     * Returns the number of elements in this list.     *     * @return the number of elements in this list     *    public int size() &#123;        return size;    &#125;    **     * Appends the specified element to the end of this list.     *     * &lt;p&gt;This method is equivalent to &#123;@link #addLast&#125;.     *     * @param e element to be appended to this list     * @return &#123;@code true&#125; (as specified by &#123;@link Collection#add&#125;)     *    public boolean add(E e) &#123;        linkLast(e);        return true;    &#125;    **     * Removes the first occurrence of the specified element from this list,     * if it is present.  If this list does not contain the element, it is     * unchanged.  More formally, removes the element with the lowest index     * &#123;@code i&#125; such that     * &lt;tt&gt;(o==null&amp;nbsp;?&amp;nbsp;get(i)==null&amp;nbsp;:&amp;nbsp;o.equals(get(i)))&lt;tt&gt;     * (if such an element exists).  Returns &#123;@code true&#125; if this list     * contained the specified element (or equivalently, if this list     * changed as a result of the call).     *     * @param o element to be removed from this list, if present     * @return &#123;@code true&#125; if this list contained the specified element     *    public boolean remove(Object o) &#123;        if (o == null) &#123;            for (Node&lt;E&gt; x = first; x != null; x = x.next) &#123;                if (x.item == null) &#123;                    unlink(x);                    return true;                &#125;            &#125;        &#125; else &#123;            for (Node&lt;E&gt; x = first; x != null; x = x.next) &#123;                if (o.equals(x.item)) &#123;                    unlink(x);                    return true;                &#125;            &#125;        &#125;        return false;    &#125;    **     * Appends all of the elements in the specified collection to the end of     * this list, in the order that they are returned by the specified     * collections iterator.  The behavior of this operation is undefined if     * the specified collection is modified while the operation is in     * progress.  (Note that this will occur if the specified collection is     * this list, and its nonempty.)     *     * @param c collection containing elements to be added to this list     * @return &#123;@code true&#125; if this list changed as a result of the call     * @throws NullPointerException if the specified collection is null     *    public boolean addAll(Collection&lt;? extends E&gt; c) &#123;        return addAll(size, c);    &#125;    **     * Inserts all of the elements in the specified collection into this     * list, starting at the specified position.  Shifts the element     * currently at that position (if any) and any subsequent elements to     * the right (increases their indices).  The new elements will appear     * in the list in the order that they are returned by the     * specified collections iterator.     *     * @param index index at which to insert the first element     *              from the specified collection     * @param c collection containing elements to be added to this list     * @return &#123;@code true&#125; if this list changed as a result of the call     * @throws IndexOutOfBoundsException &#123;@inheritDoc&#125;     * @throws NullPointerException if the specified collection is null     *    public boolean addAll(int index, Collection&lt;? extends E&gt; c) &#123;        checkPositionIndex(index);        Object[] a = c.toArray();        int numNew = a.length;        if (numNew == 0)            return false;        Node&lt;E&gt; pred, succ;        if (index == size) &#123;            succ = null;            pred = last;        &#125; else &#123;            succ = node(index);            pred = succ.prev;        &#125;        for (Object o : a) &#123;            @SuppressWarnings(unchecked) E e = (E) o;            Node&lt;E&gt; newNode = new Node&lt;&gt;(pred, e, null);            if (pred == null)                first = newNode;            else                pred.next = newNode;            pred = newNode;        &#125;        if (succ == null) &#123;            last = pred;        &#125; else &#123;            pred.next = succ;            succ.prev = pred;        &#125;        size += numNew;        modCount++;        return true;    &#125;    **     * Removes all of the elements from this list.     * The list will be empty after this call returns.     *    public void clear() &#123;         Clearing all of the links between nodes is unnecessary, but:         - helps a generational GC if the discarded nodes inhabit           more than one generation         - is sure to free memory even if there is a reachable Iterator        for (Node&lt;E&gt; x = first; x != null; ) &#123;            Node&lt;E&gt; next = x.next;            x.item = null;            x.next = null;            x.prev = null;            x = next;        &#125;        first = last = null;        size = 0;        modCount++;    &#125;     Positional Access Operations    **     * Returns the element at the specified position in this list.     *     * @param index index of the element to return     * @return the element at the specified position in this list     * @throws IndexOutOfBoundsException &#123;@inheritDoc&#125;     *    public E get(int index) &#123;        checkElementIndex(index);        return node(index).item;    &#125;    **     * Replaces the element at the specified position in this list with the     * specified element.     *     * @param index index of the element to replace     * @param element element to be stored at the specified position     * @return the element previously at the specified position     * @throws IndexOutOfBoundsException &#123;@inheritDoc&#125;     *    public E set(int index, E element) &#123;        checkElementIndex(index);        Node&lt;E&gt; x = node(index);        E oldVal = x.item;        x.item = element;        return oldVal;    &#125;    **     * Inserts the specified element at the specified position in this list.     * Shifts the element currently at that position (if any) and any     * subsequent elements to the right (adds one to their indices).     *     * @param index index at which the specified element is to be inserted     * @param element element to be inserted     * @throws IndexOutOfBoundsException &#123;@inheritDoc&#125;     *    public void add(int index, E element) &#123;        checkPositionIndex(index);        if (index == size)            linkLast(element);        else            linkBefore(element, node(index));    &#125;    **     * Removes the element at the specified position in this list.  Shifts any     * subsequent elements to the left (subtracts one from their indices).     * Returns the element that was removed from the list.     *     * @param index the index of the element to be removed     * @return the element previously at the specified position     * @throws IndexOutOfBoundsException &#123;@inheritDoc&#125;     *    public E remove(int index) &#123;        checkElementIndex(index);        return unlink(node(index));    &#125;    **     * Tells if the argument is the index of an existing element.     *    private boolean isElementIndex(int index) &#123;        return index &gt;= 0 &amp;&amp; index &lt; size;    &#125;    **     * Tells if the argument is the index of a valid position for an     * iterator or an add operation.     *    private boolean isPositionIndex(int index) &#123;        return index &gt;= 0 &amp;&amp; index &lt;= size;    &#125;    **     * Constructs an IndexOutOfBoundsException detail message.     * Of the many possible refactorings of the error handling code,     * this outlining performs best with both server and client VMs.     *    private String outOfBoundsMsg(int index) &#123;        return Index: +index+, Size: +size;    &#125;    private void checkElementIndex(int index) &#123;        if (!isElementIndex(index))            throw new IndexOutOfBoundsException(outOfBoundsMsg(index));    &#125;    private void checkPositionIndex(int index) &#123;        if (!isPositionIndex(index))            throw new IndexOutOfBoundsException(outOfBoundsMsg(index));    &#125;    **     * Returns the (non-null) Node at the specified element index.     *    Node&lt;E&gt; node(int index) &#123;         assert isElementIndex(index);        if (index &lt; (size &gt;&gt; 1)) &#123;            Node&lt;E&gt; x = first;            for (int i = 0; i &lt; index; i++)                x = x.next;            return x;        &#125; else &#123;            Node&lt;E&gt; x = last;            for (int i = size - 1; i &gt; index; i--)                x = x.prev;            return x;        &#125;    &#125;     Search Operations    **     * Returns the index of the first occurrence of the specified element     * in this list, or -1 if this list does not contain the element.     * More formally, returns the lowest index &#123;@code i&#125; such that     * &lt;tt&gt;(o==null&amp;nbsp;?&amp;nbsp;get(i)==null&amp;nbsp;:&amp;nbsp;o.equals(get(i)))&lt;tt&gt;,     * or -1 if there is no such index.     *     * @param o element to search for     * @return the index of the first occurrence of the specified element in     *         this list, or -1 if this list does not contain the element     *    public int indexOf(Object o) &#123;        int index = 0;        if (o == null) &#123;            for (Node&lt;E&gt; x = first; x != null; x = x.next) &#123;                if (x.item == null)                    return index;                index++;            &#125;        &#125; else &#123;            for (Node&lt;E&gt; x = first; x != null; x = x.next) &#123;                if (o.equals(x.item))                    return index;                index++;            &#125;        &#125;        return -1;    &#125;    **     * Returns the index of the last occurrence of the specified element     * in this list, or -1 if this list does not contain the element.     * More formally, returns the highest index &#123;@code i&#125; such that     * &lt;tt&gt;(o==null&amp;nbsp;?&amp;nbsp;get(i)==null&amp;nbsp;:&amp;nbsp;o.equals(get(i)))&lt;tt&gt;,     * or -1 if there is no such index.     *     * @param o element to search for     * @return the index of the last occurrence of the specified element in     *         this list, or -1 if this list does not contain the element     *    public int lastIndexOf(Object o) &#123;        int index = size;        if (o == null) &#123;            for (Node&lt;E&gt; x = last; x != null; x = x.prev) &#123;                index--;                if (x.item == null)                    return index;            &#125;        &#125; else &#123;            for (Node&lt;E&gt; x = last; x != null; x = x.prev) &#123;                index--;                if (o.equals(x.item))                    return index;            &#125;        &#125;        return -1;    &#125;     Queue operations.    **     * Retrieves, but does not remove, the head (first element) of this list.     *     * @return the head of this list, or &#123;@code null&#125; if this list is empty     * @since 1.5     *    public E peek() &#123;        final Node&lt;E&gt; f = first;        return (f == null) ? null : f.item;    &#125;    **     * Retrieves, but does not remove, the head (first element) of this list.     *     * @return the head of this list     * @throws NoSuchElementException if this list is empty     * @since 1.5     *    public E element() &#123;        return getFirst();    &#125;    **     * Retrieves and removes the head (first element) of this list.     *     * @return the head of this list, or &#123;@code null&#125; if this list is empty     * @since 1.5     *    public E poll() &#123;        final Node&lt;E&gt; f = first;        return (f == null) ? null : unlinkFirst(f);    &#125;    **     * Retrieves and removes the head (first element) of this list.     *     * @return the head of this list     * @throws NoSuchElementException if this list is empty     * @since 1.5     *    public E remove() &#123;        return removeFirst();    &#125;    **     * Adds the specified element as the tail (last element) of this list.     *     * @param e the element to add     * @return &#123;@code true&#125; (as specified by &#123;@link Queue#offer&#125;)     * @since 1.5     *    public boolean offer(E e) &#123;        return add(e);    &#125;     Deque operations    **     * Inserts the specified element at the front of this list.     *     * @param e the element to insert     * @return &#123;@code true&#125; (as specified by &#123;@link Deque#offerFirst&#125;)     * @since 1.6     *    public boolean offerFirst(E e) &#123;        addFirst(e);        return true;    &#125;    **     * Inserts the specified element at the end of this list.     *     * @param e the element to insert     * @return &#123;@code true&#125; (as specified by &#123;@link Deque#offerLast&#125;)     * @since 1.6     *    public boolean offerLast(E e) &#123;        addLast(e);        return true;    &#125;    **     * Retrieves, but does not remove, the first element of this list,     * or returns &#123;@code null&#125; if this list is empty.     *     * @return the first element of this list, or &#123;@code null&#125;     *         if this list is empty     * @since 1.6     *    public E peekFirst() &#123;        final Node&lt;E&gt; f = first;        return (f == null) ? null : f.item;     &#125;    **     * Retrieves, but does not remove, the last element of this list,     * or returns &#123;@code null&#125; if this list is empty.     *     * @return the last element of this list, or &#123;@code null&#125;     *         if this list is empty     * @since 1.6     *    public E peekLast() &#123;        final Node&lt;E&gt; l = last;        return (l == null) ? null : l.item;    &#125;    **     * Retrieves and removes the first element of this list,     * or returns &#123;@code null&#125; if this list is empty.     *     * @return the first element of this list, or &#123;@code null&#125; if     *     this list is empty     * @since 1.6     *    public E pollFirst() &#123;        final Node&lt;E&gt; f = first;        return (f == null) ? null : unlinkFirst(f);    &#125;    **     * Retrieves and removes the last element of this list,     * or returns &#123;@code null&#125; if this list is empty.     *     * @return the last element of this list, or &#123;@code null&#125; if     *     this list is empty     * @since 1.6     *    public E pollLast() &#123;        final Node&lt;E&gt; l = last;        return (l == null) ? null : unlinkLast(l);    &#125;    **     * Pushes an element onto the stack represented by this list.  In other     * words, inserts the element at the front of this list.     *     * &lt;p&gt;This method is equivalent to &#123;@link #addFirst&#125;.     *     * @param e the element to push     * @since 1.6     *    public void push(E e) &#123;        addFirst(e);    &#125;    **     * Pops an element from the stack represented by this list.  In other     * words, removes and returns the first element of this list.     *     * &lt;p&gt;This method is equivalent to &#123;@link #removeFirst()&#125;.     *     * @return the element at the front of this list (which is the top     *         of the stack represented by this list)     * @throws NoSuchElementException if this list is empty     * @since 1.6     *    public E pop() &#123;        return removeFirst();    &#125;    **     * Removes the first occurrence of the specified element in this     * list (when traversing the list from head to tail).  If the list     * does not contain the element, it is unchanged.     *     * @param o element to be removed from this list, if present     * @return &#123;@code true&#125; if the list contained the specified element     * @since 1.6     *    public boolean removeFirstOccurrence(Object o) &#123;        return remove(o);    &#125;    **     * Removes the last occurrence of the specified element in this     * list (when traversing the list from head to tail).  If the list     * does not contain the element, it is unchanged.     *     * @param o element to be removed from this list, if present     * @return &#123;@code true&#125; if the list contained the specified element     * @since 1.6     *    public boolean removeLastOccurrence(Object o) &#123;        if (o == null) &#123;            for (Node&lt;E&gt; x = last; x != null; x = x.prev) &#123;                if (x.item == null) &#123;                    unlink(x);                    return true;                &#125;            &#125;        &#125; else &#123;            for (Node&lt;E&gt; x = last; x != null; x = x.prev) &#123;                if (o.equals(x.item)) &#123;                    unlink(x);                    return true;                &#125;            &#125;        &#125;        return false;    &#125;    **     * Returns a list-iterator of the elements in this list (in proper     * sequence), starting at the specified position in the list.     * Obeys the general contract of &#123;@code List.listIterator(int)&#125;.&lt;p&gt;     *     * The list-iterator is &lt;i&gt;fail-fast&lt;i&gt;: if the list is structurally     * modified at any time after the Iterator is created, in any way except     * through the list-iterators own &#123;@code remove&#125; or &#123;@code add&#125;     * methods, the list-iterator will throw a     * &#123;@code ConcurrentModificationException&#125;.  Thus, in the face of     * concurrent modification, the iterator fails quickly and cleanly, rather     * than risking arbitrary, non-deterministic behavior at an undetermined     * time in the future.     *     * @param index index of the first element to be returned from the     *              list-iterator (by a call to &#123;@code next&#125;)     * @return a ListIterator of the elements in this list (in proper     *         sequence), starting at the specified position in the list     * @throws IndexOutOfBoundsException &#123;@inheritDoc&#125;     * @see List#listIterator(int)     *    public ListIterator&lt;E&gt; listIterator(int index) &#123;        checkPositionIndex(index);        return new ListItr(index);    &#125;    private class ListItr implements ListIterator&lt;E&gt; &#123;        private Node&lt;E&gt; lastReturned;        private Node&lt;E&gt; next;        private int nextIndex;        private int expectedModCount = modCount;        ListItr(int index) &#123;             assert isPositionIndex(index);            next = (index == size) ? null : node(index);            nextIndex = index;        &#125;        public boolean hasNext() &#123;            return nextIndex &lt; size;        &#125;        public E next() &#123;            checkForComodification();            if (!hasNext())                throw new NoSuchElementException();            lastReturned = next;            next = next.next;            nextIndex++;            return lastReturned.item;        &#125;        public boolean hasPrevious() &#123;            return nextIndex &gt; 0;        &#125;        public E previous() &#123;            checkForComodification();            if (!hasPrevious())                throw new NoSuchElementException();            lastReturned = next = (next == null) ? last : next.prev;            nextIndex--;            return lastReturned.item;        &#125;        public int nextIndex() &#123;            return nextIndex;        &#125;        public int previousIndex() &#123;            return nextIndex - 1;        &#125;        public void remove() &#123;            checkForComodification();            if (lastReturned == null)                throw new IllegalStateException();            Node&lt;E&gt; lastNext = lastReturned.next;            unlink(lastReturned);            if (next == lastReturned)                next = lastNext;            else                nextIndex--;            lastReturned = null;            expectedModCount++;        &#125;        public void set(E e) &#123;            if (lastReturned == null)                throw new IllegalStateException();            checkForComodification();            lastReturned.item = e;        &#125;        public void add(E e) &#123;            checkForComodification();            lastReturned = null;            if (next == null)                linkLast(e);            else                linkBefore(e, next);            nextIndex++;            expectedModCount++;        &#125;        public void forEachRemaining(Consumer&lt;? super E&gt; action) &#123;            Objects.requireNonNull(action);            while (modCount == expectedModCount &amp;&amp; nextIndex &lt; size) &#123;                action.accept(next.item);                lastReturned = next;                next = next.next;                nextIndex++;            &#125;            checkForComodification();        &#125;        final void checkForComodification() &#123;            if (modCount != expectedModCount)                throw new ConcurrentModificationException();        &#125;    &#125;    private static class Node&lt;E&gt; &#123;        E item;        Node&lt;E&gt; next;        Node&lt;E&gt; prev;        Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;            this.item = element;            this.next = next;            this.prev = prev;        &#125;    &#125;    **     * @since 1.6     *    public Iterator&lt;E&gt; descendingIterator() &#123;        return new DescendingIterator();    &#125;    **     * Adapter to provide descending iterators via ListItr.previous     *    private class DescendingIterator implements Iterator&lt;E&gt; &#123;        private final ListItr itr = new ListItr(size());        public boolean hasNext() &#123;            return itr.hasPrevious();        &#125;        public E next() &#123;            return itr.previous();        &#125;        public void remove() &#123;            itr.remove();        &#125;    &#125;    @SuppressWarnings(unchecked)    private LinkedList&lt;E&gt; superClone() &#123;        try &#123;            return (LinkedList&lt;E&gt;) super.clone();        &#125; catch (CloneNotSupportedException e) &#123;            throw new InternalError(e);        &#125;    &#125;    **     * Returns a shallow copy of this &#123;@code LinkedList&#125;. (The elements     * themselves are not cloned.)     *     * @return a shallow copy of this &#123;@code LinkedList&#125; instance     *    public Object clone() &#123;        LinkedList&lt;E&gt; clone = superClone();         Put clone into virgin state        clone.first = clone.last = null;        clone.size = 0;        clone.modCount = 0;         Initialize clone with our elements        for (Node&lt;E&gt; x = first; x != null; x = x.next)            clone.add(x.item);        return clone;    &#125;    **     * Returns an array containing all of the elements in this list     * in proper sequence (from first to last element).     *     * &lt;p&gt;The returned array will be safe in that no references to it are     * maintained by this list.  (In other words, this method must allocate     * a new array).  The caller is thus free to modify the returned array.     *     * &lt;p&gt;This method acts as bridge between array-based and collection-based     * APIs.     *     * @return an array containing all of the elements in this list     *         in proper sequence     *    public Object[] toArray() &#123;        Object[] result = new Object[size];        int i = 0;        for (Node&lt;E&gt; x = first; x != null; x = x.next)            result[i++] = x.item;        return result;    &#125;    **     * Returns an array containing all of the elements in this list in     * proper sequence (from first to last element); the runtime type of     * the returned array is that of the specified array.  If the list fits     * in the specified array, it is returned therein.  Otherwise, a new     * array is allocated with the runtime type of the specified array and     * the size of this list.     *     * &lt;p&gt;If the list fits in the specified array with room to spare (i.e.,     * the array has more elements than the list), the element in the array     * immediately following the end of the list is set to &#123;@code null&#125;.     * (This is useful in determining the length of the list &lt;i&gt;only&lt;i&gt; if     * the caller knows that the list does not contain any null elements.)     *     * &lt;p&gt;Like the &#123;@link #toArray()&#125; method, this method acts as bridge between     * array-based and collection-based APIs.  Further, this method allows     * precise control over the runtime type of the output array, and may,     * under certain circumstances, be used to save allocation costs.     *     * &lt;p&gt;Suppose &#123;@code x&#125; is a list known to contain only strings.     * The following code can be used to dump the list into a newly     * allocated array of &#123;@code String&#125;:     *     * &lt;pre&gt;     *     String[] y = x.toArray(new String[0]);&lt;pre&gt;     *     * Note that &#123;@code toArray(new Object[0])&#125; is identical in function to     * &#123;@code toArray()&#125;.     *     * @param a the array into which the elements of the list are to     *          be stored, if it is big enough; otherwise, a new array of the     *          same runtime type is allocated for this purpose.     * @return an array containing the elements of the list     * @throws ArrayStoreException if the runtime type of the specified array     *         is not a supertype of the runtime type of every element in     *         this list     * @throws NullPointerException if the specified array is null     *    @SuppressWarnings(unchecked)    public &lt;T&gt; T[] toArray(T[] a) &#123;        if (a.length &lt; size)            a = (T[])java.lang.reflect.Array.newInstance(                                a.getClass().getComponentType(), size);        int i = 0;        Object[] result = a;        for (Node&lt;E&gt; x = first; x != null; x = x.next)            result[i++] = x.item;        if (a.length &gt; size)            a[size] = null;        return a;    &#125;    private static final long serialVersionUID = 876323262645176354L;    **     * Saves the state of this &#123;@code LinkedList&#125; instance to a stream     * (that is, serializes it).     *     * @serialData The size of the list (the number of elements it     *             contains) is emitted (int), followed by all of its     *             elements (each an Object) in the proper order.     *    private void writeObject(java.io.ObjectOutputStream s)        throws java.io.IOException &#123;         Write out any hidden serialization magic        s.defaultWriteObject();         Write out size        s.writeInt(size);         Write out all elements in the proper order.        for (Node&lt;E&gt; x = first; x != null; x = x.next)            s.writeObject(x.item);    &#125;    **     * Reconstitutes this &#123;@code LinkedList&#125; instance from a stream     * (that is, deserializes it).     *    @SuppressWarnings(unchecked)    private void readObject(java.io.ObjectInputStream s)        throws java.io.IOException, ClassNotFoundException &#123;         Read in any hidden serialization magic        s.defaultReadObject();         Read in size        int size = s.readInt();         Read in all elements in the proper order.        for (int i = 0; i &lt; size; i++)            linkLast((E)s.readObject());    &#125;    **     * Creates a &lt;em&gt;&lt;a href=Spliterator.html#binding&gt;late-binding&lt;a&gt;&lt;em&gt;     * and &lt;em&gt;fail-fast&lt;em&gt; &#123;@link Spliterator&#125; over the elements in this     * list.     *     * &lt;p&gt;The &#123;@code Spliterator&#125; reports &#123;@link Spliterator#SIZED&#125; and     * &#123;@link Spliterator#ORDERED&#125;.  Overriding implementations should document     * the reporting of additional characteristic values.     *     * @implNote     * The &#123;@code Spliterator&#125; additionally reports &#123;@link Spliterator#SUBSIZED&#125;     * and implements &#123;@code trySplit&#125; to permit limited parallelism..     *     * @return a &#123;@code Spliterator&#125; over the elements in this list     * @since 1.8     *    @Override    public Spliterator&lt;E&gt; spliterator() &#123;        return new LLSpliterator&lt;E&gt;(this, -1, 0);    &#125;    ** A customized variant of Spliterators.IteratorSpliterator *    static final class LLSpliterator&lt;E&gt; implements Spliterator&lt;E&gt; &#123;        static final int BATCH_UNIT = 1 &lt;&lt; 10;   batch array size increment        static final int MAX_BATCH = 1 &lt;&lt; 25;   max batch array size;        final LinkedList&lt;E&gt; list;  null OK unless traversed        Node&lt;E&gt; current;       current node; null until initialized        int est;               size estimate; -1 until first needed        int expectedModCount;  initialized when est set        int batch;             batch size for splits        LLSpliterator(LinkedList&lt;E&gt; list, int est, int expectedModCount) &#123;            this.list = list;            this.est = est;            this.expectedModCount = expectedModCount;        &#125;        final int getEst() &#123;            int s;  force initialization            final LinkedList&lt;E&gt; lst;            if ((s = est) &lt; 0) &#123;                if ((lst = list) == null)                    s = est = 0;                else &#123;                    expectedModCount = lst.modCount;                    current = lst.first;                    s = est = lst.size;                &#125;            &#125;            return s;        &#125;        public long estimateSize() &#123; return (long) getEst(); &#125;        public Spliterator&lt;E&gt; trySplit() &#123;            Node&lt;E&gt; p;            int s = getEst();            if (s &gt; 1 &amp;&amp; (p = current) != null) &#123;                int n = batch + BATCH_UNIT;                if (n &gt; s)                    n = s;                if (n &gt; MAX_BATCH)                    n = MAX_BATCH;                Object[] a = new Object[n];                int j = 0;                do &#123; a[j++] = p.item; &#125; while ((p = p.next) != null &amp;&amp; j &lt; n);                current = p;                batch = j;                est = s - j;                return Spliterators.spliterator(a, 0, j, Spliterator.ORDERED);            &#125;            return null;        &#125;        public void forEachRemaining(Consumer&lt;? super E&gt; action) &#123;            Node&lt;E&gt; p; int n;            if (action == null) throw new NullPointerException();            if ((n = getEst()) &gt; 0 &amp;&amp; (p = current) != null) &#123;                current = null;                est = 0;                do &#123;                    E e = p.item;                    p = p.next;                    action.accept(e);                &#125; while (p != null &amp;&amp; --n &gt; 0);            &#125;            if (list.modCount != expectedModCount)                throw new ConcurrentModificationException();        &#125;        public boolean tryAdvance(Consumer&lt;? super E&gt; action) &#123;            Node&lt;E&gt; p;            if (action == null) throw new NullPointerException();            if (getEst() &gt; 0 &amp;&amp; (p = current) != null) &#123;                --est;                E e = p.item;                current = p.next;                action.accept(e);                if (list.modCount != expectedModCount)                    throw new ConcurrentModificationException();                return true;            &#125;            return false;        &#125;        public int characteristics() &#123;            return Spliterator.ORDERED | Spliterator.SIZED | Spliterator.SUBSIZED;        &#125;    &#125;&#125;\n\n","tags":["Java"],"path":"2019/09/25/LinkedListç±»/","external_link":""},{"title":"os.py","date":"2019-09-27T03:54:11.000Z","content":"os.py\n1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611621631641651661671681691701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012022032042052062072082092102112122132142152162172182192202212222232242252262272282292302312322332342352362372382392402412422432442452462472482492502512522532542552562572582592602612622632642652662672682692702712722732742752762772782792802812822832842852862872882892902912922932942952962972982993003013023033043053063073083093103113123133143153163173183193203213223233243253263273283293303313323333343353363373383393403413423433443453463473483493503513523533543553563573583593603613623633643653663673683693703713723733743753763773783793803813823833843853863873883893903913923933943953963973983994004014024034044054064074084094104114124134144154164174184194204214224234244254264274284294304314324334344354364374384394404414424434444454464474484494504514524534544554564574584594604614624634644654664674684694704714724734744754764774784794804814824834844854864874884894904914924934944954964974984995005015025035045055065075085095105115125135145155165175185195205215225235245255265275285295305315325335345355365375385395405415425435445455465475485495505515525535545555565575585595605615625635645655665675685695705715725735745755765775785795805815825835845855865875885895905915925935945955965975985996006016026036046056066076086096106116126136146156166176186196206216226236246256266276286296306316326336346356366376386396406416426436446456466476486496506516526536546556566576586596606616626636646656666676686696706716726736746756766776786796806816826836846856866876886896906916926936946956966976986997007017027037047057067077087097107117127137147157167177187197207217227237247257267277287297307317327337347357367377387397407417427437447457467477487497507517527537547557567577587597607617627637647657667677687697707717727737747757767777787797807817827837847857867877887897907917927937947957967977987998008018028038048058068078088098108118128138148158168178188198208218228238248258268278288298308318328338348358368378388398408418428438448458468478488498508518528538548558568578588598608618628638648658668678688698708718728738748758768778788798808818828838848858868878888898908918928938948958968978988999009019029039049059069079089099109119129139149159169179189199209219229239249259269279289299309319329339349359369379389399409419429439449459469479489499509519529539549559569579589599609619629639649659669679689699709719729739749759769779789799809819829839849859869879889899909919929939949959969979989991000100110021003100410051006100710081009101010111012101310141015101610171018101910201021102210231024102510261027102810291030103110321033103410351036103710381039104010411042104310441045104610471048104910501051105210531054105510561057105810591060106110621063106410651066106710681069107010711072107310741075107610771078rOS routines for NT or Posix depending on what system were on.This exports:  - all functions from posix or nt, e.g. unlink, stat, etc.  - os.path is either posixpath or ntpath  - os.name is either posix or nt  - os.curdir is a string representing the current directory (always .)  - os.pardir is a string representing the parent directory (always ..)  - os.sep is the (or a most common) pathname separator ( or )  - os.extsep is the extension separator (always .)  - os.altsep is the alternate pathname separator (None or )  - os.pathsep is the component separator used in $PATH etc  - os.linesep is the line separator in text files (r or n or rn)  - os.defpath is the default search path for executables  - os.devnull is the file path of the null device (devnull, etc.)Programs that import and use os stand a better chance of beingportable between different platforms.  Of course, they must thenonly use functions that are defined by all platforms (e.g., unlinkand opendir), and leave all pathname manipulation to os.path(e.g., split and join).#import abcimport sysimport stat as st_names = sys.builtin_module_names# Note:  more names are added to __all__ later.__all__ = [altsep, curdir, pardir, sep, pathsep, linesep,           defpath, name, path, devnull, SEEK_SET, SEEK_CUR,           SEEK_END, fsencode, fsdecode, get_exec_path, fdopen,           popen, extsep]def _exists(name):    return name in globals()def _get_exports_list(module):    try:        return list(module.__all__)    except AttributeError:        return [n for n in dir(module) if n[0] != _]# Any new dependencies of the os module andor changes in path separator# requires updating importlib as well.if posix in _names:    name = posix    linesep = n    from posix import *    try:        from posix import _exit        __all__.append(_exit)    except ImportError:        pass    import posixpath as path    try:        from posix import _have_functions    except ImportError:        pass    import posix    __all__.extend(_get_exports_list(posix))    del posixelif nt in _names:    name = nt    linesep = rn    from nt import *    try:        from nt import _exit        __all__.append(_exit)    except ImportError:        pass    import ntpath as path    import nt    __all__.extend(_get_exports_list(nt))    del nt    try:        from nt import _have_functions    except ImportError:        passelse:    raise ImportError(no os specific module found)sys.modules[os.path] = pathfrom os.path import (curdir, pardir, sep, pathsep, defpath, extsep, altsep,    devnull)del _namesif _exists(_have_functions):    _globals = globals()    def _add(str, fn):        if (fn in _globals) and (str in _have_functions):            _set.add(_globals[fn])    _set = set()    _add(HAVE_FACCESSAT,  access)    _add(HAVE_FCHMODAT,   chmod)    _add(HAVE_FCHOWNAT,   chown)    _add(HAVE_FSTATAT,    stat)    _add(HAVE_FUTIMESAT,  utime)    _add(HAVE_LINKAT,     link)    _add(HAVE_MKDIRAT,    mkdir)    _add(HAVE_MKFIFOAT,   mkfifo)    _add(HAVE_MKNODAT,    mknod)    _add(HAVE_OPENAT,     open)    _add(HAVE_READLINKAT, readlink)    _add(HAVE_RENAMEAT,   rename)    _add(HAVE_SYMLINKAT,  symlink)    _add(HAVE_UNLINKAT,   unlink)    _add(HAVE_UNLINKAT,   rmdir)    _add(HAVE_UTIMENSAT,  utime)    supports_dir_fd = _set    _set = set()    _add(HAVE_FACCESSAT,  access)    supports_effective_ids = _set    _set = set()    _add(HAVE_FCHDIR,     chdir)    _add(HAVE_FCHMOD,     chmod)    _add(HAVE_FCHOWN,     chown)    _add(HAVE_FDOPENDIR,  listdir)    _add(HAVE_FDOPENDIR,  scandir)    _add(HAVE_FEXECVE,    execve)    _set.add(stat) # fstat always works    _add(HAVE_FTRUNCATE,  truncate)    _add(HAVE_FUTIMENS,   utime)    _add(HAVE_FUTIMES,    utime)    _add(HAVE_FPATHCONF,  pathconf)    if _exists(statvfs) and _exists(fstatvfs): # mac os x10.3        _add(HAVE_FSTATVFS, statvfs)    supports_fd = _set    _set = set()    _add(HAVE_FACCESSAT,  access)    # Some platforms dont support lchmod().  Often the function exists    # anyway, as a stub that always returns ENOSUP or perhaps EOPNOTSUPP.    # (No, I dont know why thats a good design.)  .configure will detect    # this and reject it--so HAVE_LCHMOD still wont be defined on such    # platforms.  This is Very Helpful.    #    # However, sometimes platforms without a working lchmod() *do* have    # fchmodat().  (Examples: Linux kernel 3.2 with glibc 2.15,    # OpenIndiana 3.x.)  And fchmodat() has a flag that theoretically makes    # it behave like lchmod().  So in theory it would be a suitable    # replacement for lchmod().  But when lchmod() doesnt work, fchmodat()s    # flag doesnt work *either*.  Sadly .configure isnt sophisticated    # enough to detect this condition--it only determines whether or not    # fchmodat() minimally works.    #    # Therefore we simply ignore fchmodat() when deciding whether or not    # os.chmod supports follow_symlinks.  Just checking lchmod() is    # sufficient.  After all--if you have a working fchmodat(), your    # lchmod() almost certainly works too.    #    # _add(HAVE_FCHMODAT,   chmod)    _add(HAVE_FCHOWNAT,   chown)    _add(HAVE_FSTATAT,    stat)    _add(HAVE_LCHFLAGS,   chflags)    _add(HAVE_LCHMOD,     chmod)    if _exists(lchown): # mac os x10.3        _add(HAVE_LCHOWN, chown)    _add(HAVE_LINKAT,     link)    _add(HAVE_LUTIMES,    utime)    _add(HAVE_LSTAT,      stat)    _add(HAVE_FSTATAT,    stat)    _add(HAVE_UTIMENSAT,  utime)    _add(MS_WINDOWS,      stat)    supports_follow_symlinks = _set    del _set    del _have_functions    del _globals    del _add# Python uses fixed values for the SEEK_ constants; they are mapped# to native constants if necessary in posixmodule.c# Other possible SEEK values are directly imported from posixmodule.cSEEK_SET = 0SEEK_CUR = 1SEEK_END = 2# Super directory utilities.# (Inspired by Eric Raymond; the doc strings are mostly his)def makedirs(name, mode=0o777, exist_ok=False):    makedirs(name [, mode=0o777][, exist_ok=False])    Super-mkdir; create a leaf directory and all intermediate ones.  Works like    mkdir, except that any intermediate path segment (not just the rightmost)    will be created if it does not exist. If the target directory already    exists, raise an OSError if exist_ok is False. Otherwise no exception is    raised.  This is recursive.        head, tail = path.split(name)    if not tail:        head, tail = path.split(head)    if head and tail and not path.exists(head):        try:            makedirs(head, exist_ok=exist_ok)        except FileExistsError:            # Defeats race condition when another thread created the path            pass        cdir = curdir        if isinstance(tail, bytes):            cdir = bytes(curdir, ASCII)        if tail == cdir:           # xxxnewdir. exists if xxxnewdir exists            return    try:        mkdir(name, mode)    except OSError:        # Cannot rely on checking for EEXIST, since the operating system        # could give priority to other errors like EACCES or EROFS        if not exist_ok or not path.isdir(name):            raisedef removedirs(name):    removedirs(name)    Super-rmdir; remove a leaf directory and all empty intermediate    ones.  Works like rmdir except that, if the leaf directory is    successfully removed, directories corresponding to rightmost path    segments will be pruned away until either the whole path is    consumed or an error occurs.  Errors during this latter phase are    ignored -- they generally mean that a directory was not empty.        rmdir(name)    head, tail = path.split(name)    if not tail:        head, tail = path.split(head)    while head and tail:        try:            rmdir(head)        except OSError:            break        head, tail = path.split(head)def renames(old, new):    renames(old, new)    Super-rename; create directories as necessary and delete any left    empty.  Works like rename, except creation of any intermediate    directories needed to make the new pathname good is attempted    first.  After the rename, directories corresponding to rightmost    path segments of the old name will be pruned until either the    whole path is consumed or a nonempty directory is found.    Note: this function can fail with the new directory structure made    if you lack permissions needed to unlink the leaf directory or    file.        head, tail = path.split(new)    if head and tail and not path.exists(head):        makedirs(head)    rename(old, new)    head, tail = path.split(old)    if head and tail:        try:            removedirs(head)        except OSError:            pass__all__.extend([makedirs, removedirs, renames])def walk(top, topdown=True, onerror=None, followlinks=False):    Directory tree generator.    For each directory in the directory tree rooted at top (including top    itself, but excluding . and ..), yields a 3-tuple        dirpath, dirnames, filenames    dirpath is a string, the path to the directory.  dirnames is a list of    the names of the subdirectories in dirpath (excluding . and ..).    filenames is a list of the names of the non-directory files in dirpath.    Note that the names in the lists are just names, with no path components.    To get a full path (which begins with top) to a file or directory in    dirpath, do os.path.join(dirpath, name).    If optional arg topdown is true or not specified, the triple for a    directory is generated before the triples for any of its subdirectories    (directories are generated top down).  If topdown is false, the triple    for a directory is generated after the triples for all of its    subdirectories (directories are generated bottom up).    When topdown is true, the caller can modify the dirnames list in-place    (e.g., via del or slice assignment), and walk will only recurse into the    subdirectories whose names remain in dirnames; this can be used to prune the    search, or to impose a specific order of visiting.  Modifying dirnames when    topdown is false is ineffective, since the directories in dirnames have    already been generated by the time dirnames itself is generated. No matter    the value of topdown, the list of subdirectories is retrieved before the    tuples for the directory and its subdirectories are generated.    By default errors from the os.scandir() call are ignored.  If    optional arg onerror is specified, it should be a function; it    will be called with one argument, an OSError instance.  It can    report the error to continue with the walk, or raise the exception    to abort the walk.  Note that the filename is available as the    filename attribute of the exception object.    By default, os.walk does not follow symbolic links to subdirectories on    systems that support them.  In order to get this functionality, set the    optional argument followlinks to true.    Caution:  if you pass a relative pathname for top, dont change the    current working directory between resumptions of walk.  walk never    changes the current directory, and assumes that the client doesnt    either.    Example:    import os    from os.path import join, getsize    for root, dirs, files in os.walk(pythonLibemail):        print(root, consumes, end=)        print(sum([getsize(join(root, name)) for name in files]), end=)        print(bytes in, len(files), non-directory files)        if CVS in dirs:            dirs.remove(CVS)  # dont visit CVS directories        top = fspath(top)    dirs = []    nondirs = []    walk_dirs = []    # We may not have read permission for top, in which case we cant    # get a list of the files the directory contains.  os.walk    # always suppressed the exception then, rather than blow up for a    # minor reason when (say) a thousand readable directories are still    # left to visit.  That logic is copied here.    try:        # Note that scandir is global in this module due        # to earlier import-*.        scandir_it = scandir(top)    except OSError as error:        if onerror is not None:            onerror(error)        return    with scandir_it:        while True:            try:                try:                    entry = next(scandir_it)                except StopIteration:                    break            except OSError as error:                if onerror is not None:                    onerror(error)                return            try:                is_dir = entry.is_dir()            except OSError:                # If is_dir() raises an OSError, consider that the entry is not                # a directory, same behaviour than os.path.isdir().                is_dir = False            if is_dir:                dirs.append(entry.name)            else:                nondirs.append(entry.name)            if not topdown and is_dir:                # Bottom-up: recurse into sub-directory, but exclude symlinks to                # directories if followlinks is False                if followlinks:                    walk_into = True                else:                    try:                        is_symlink = entry.is_symlink()                    except OSError:                        # If is_symlink() raises an OSError, consider that the                        # entry is not a symbolic link, same behaviour than                        # os.path.islink().                        is_symlink = False                    walk_into = not is_symlink                if walk_into:                    walk_dirs.append(entry.path)    # Yield before recursion if going top down    if topdown:        yield top, dirs, nondirs        # Recurse into sub-directories        islink, join = path.islink, path.join        for dirname in dirs:            new_path = join(top, dirname)            # Issue #23605: os.path.islink() is used instead of caching            # entry.is_symlink() result during the loop on os.scandir() because            # the caller can replace the directory entry during the yield            # above.            if followlinks or not islink(new_path):                yield from walk(new_path, topdown, onerror, followlinks)    else:        # Recurse into sub-directories        for new_path in walk_dirs:            yield from walk(new_path, topdown, onerror, followlinks)        # Yield after recursion if going bottom up        yield top, dirs, nondirs__all__.append(walk)if &#123;open, stat&#125; &lt;= supports_dir_fd and &#123;scandir, stat&#125; &lt;= supports_fd:    def fwalk(top=., topdown=True, onerror=None, *, follow_symlinks=False, dir_fd=None):        Directory tree generator.        This behaves exactly like walk(), except that it yields a 4-tuple            dirpath, dirnames, filenames, dirfd        `dirpath`, `dirnames` and `filenames` are identical to walk() output,        and `dirfd` is a file descriptor referring to the directory `dirpath`.        The advantage of fwalk() over walk() is that its safe against symlink        races (when follow_symlinks is False).        If dir_fd is not None, it should be a file descriptor open to a directory,          and top should be relative; top will then be relative to that directory.          (dir_fd is always supported for fwalk.)        Caution:        Since fwalk() yields file descriptors, those are only valid until the        next iteration step, so you should dup() them if you want to keep them        for a longer period.        Example:        import os        for root, dirs, files, rootfd in os.fwalk(pythonLibemail):            print(root, consumes, end=)            print(sum([os.stat(name, dir_fd=rootfd).st_size for name in files]),                  end=)            print(bytes in, len(files), non-directory files)            if CVS in dirs:                dirs.remove(CVS)  # dont visit CVS directories                if not isinstance(top, int) or not hasattr(top, __index__):            top = fspath(top)        # Note: To guard against symlink races, we use the standard        # lstat()open()fstat() trick.        if not follow_symlinks:            orig_st = stat(top, follow_symlinks=False, dir_fd=dir_fd)        topfd = open(top, O_RDONLY, dir_fd=dir_fd)        try:            if (follow_symlinks or (st.S_ISDIR(orig_st.st_mode) and                                    path.samestat(orig_st, stat(topfd)))):                yield from _fwalk(topfd, top, isinstance(top, bytes),                                  topdown, onerror, follow_symlinks)        finally:            close(topfd)    def _fwalk(topfd, toppath, isbytes, topdown, onerror, follow_symlinks):        # Note: This uses O(depth of the directory tree) file descriptors: if        # necessary, it can be adapted to only require O(1) FDs, see issue        # #13734.        scandir_it = scandir(topfd)        dirs = []        nondirs = []        entries = None if topdown or follow_symlinks else []        for entry in scandir_it:            name = entry.name            if isbytes:                name = fsencode(name)            try:                if entry.is_dir():                    dirs.append(name)                    if entries is not None:                        entries.append(entry)                else:                    nondirs.append(name)            except OSError:                try:                    # Add dangling symlinks, ignore disappeared files                    if entry.is_symlink():                        nondirs.append(name)                except OSError:                    pass        if topdown:            yield toppath, dirs, nondirs, topfd        for name in dirs if entries is None else zip(dirs, entries):            try:                if not follow_symlinks:                    if topdown:                        orig_st = stat(name, dir_fd=topfd, follow_symlinks=False)                    else:                        assert entries is not None                        name, entry = name                        orig_st = entry.stat(follow_symlinks=False)                dirfd = open(name, O_RDONLY, dir_fd=topfd)            except OSError as err:                if onerror is not None:                    onerror(err)                continue            try:                if follow_symlinks or path.samestat(orig_st, stat(dirfd)):                    dirpath = path.join(toppath, name)                    yield from _fwalk(dirfd, dirpath, isbytes,                                      topdown, onerror, follow_symlinks)            finally:                close(dirfd)        if not topdown:            yield toppath, dirs, nondirs, topfd    __all__.append(fwalk)# Make sure os.environ exists, at leasttry:    environexcept NameError:    environ = &#123;&#125;def execl(file, *args):    execl(file, *args)    Execute the executable file with argument list args, replacing the    current process.     execv(file, args)def execle(file, *args):    execle(file, *args, env)    Execute the executable file with argument list args and    environment env, replacing the current process.     env = args[-1]    execve(file, args[:-1], env)def execlp(file, *args):    execlp(file, *args)    Execute the executable file (which is searched for along $PATH)    with argument list args, replacing the current process.     execvp(file, args)def execlpe(file, *args):    execlpe(file, *args, env)    Execute the executable file (which is searched for along $PATH)    with argument list args and environment env, replacing the current    process.     env = args[-1]    execvpe(file, args[:-1], env)def execvp(file, args):    execvp(file, args)    Execute the executable file (which is searched for along $PATH)    with argument list args, replacing the current process.    args may be a list or tuple of strings.     _execvpe(file, args)def execvpe(file, args, env):    execvpe(file, args, env)    Execute the executable file (which is searched for along $PATH)    with argument list args and environment env , replacing the    current process.    args may be a list or tuple of strings.     _execvpe(file, args, env)__all__.extend([execl,execle,execlp,execlpe,execvp,execvpe])def _execvpe(file, args, env=None):    if env is not None:        exec_func = execve        argrest = (args, env)    else:        exec_func = execv        argrest = (args,)        env = environ    if path.dirname(file):        exec_func(file, *argrest)        return    saved_exc = None    path_list = get_exec_path(env)    if name != nt:        file = fsencode(file)        path_list = map(fsencode, path_list)    for dir in path_list:        fullname = path.join(dir, file)        try:            exec_func(fullname, *argrest)        except (FileNotFoundError, NotADirectoryError) as e:            last_exc = e        except OSError as e:            last_exc = e            if saved_exc is None:                saved_exc = e    if saved_exc is not None:        raise saved_exc    raise last_excdef get_exec_path(env=None):    Returns the sequence of directories that will be searched for the    named executable (similar to a shell) when launching a process.    *env* must be an environment variable dict or None.  If *env* is None,    os.environ will be used.        # Use a local import instead of a global import to limit the number of    # modules loaded at startup: the os module is always loaded at startup by    # Python. It may also avoid a bootstrap issue.    import warnings    if env is None:        env = environ    # &#123;bPATH: ...&#125;.get(PATH) and &#123;PATH: ...&#125;.get(bPATH) emit a    # BytesWarning when using python -b or python -bb: ignore the warning    with warnings.catch_warnings():        warnings.simplefilter(ignore, BytesWarning)        try:            path_list = env.get(PATH)        except TypeError:            path_list = None        if supports_bytes_environ:            try:                path_listb = env[bPATH]            except (KeyError, TypeError):                pass            else:                if path_list is not None:                    raise ValueError(                        env cannot contain PATH and bPATH keys)                path_list = path_listb            if path_list is not None and isinstance(path_list, bytes):                path_list = fsdecode(path_list)    if path_list is None:        path_list = defpath    return path_list.split(pathsep)# Change environ to automatically call putenv(), unsetenv if they exist.from _collections_abc import MutableMappingclass _Environ(MutableMapping):    def __init__(self, data, encodekey, decodekey, encodevalue, decodevalue, putenv, unsetenv):        self.encodekey = encodekey        self.decodekey = decodekey        self.encodevalue = encodevalue        self.decodevalue = decodevalue        self.putenv = putenv        self.unsetenv = unsetenv        self._data = data    def __getitem__(self, key):        try:            value = self._data[self.encodekey(key)]        except KeyError:            # raise KeyError with the original key value            raise KeyError(key) from None        return self.decodevalue(value)    def __setitem__(self, key, value):        key = self.encodekey(key)        value = self.encodevalue(value)        self.putenv(key, value)        self._data[key] = value    def __delitem__(self, key):        encodedkey = self.encodekey(key)        self.unsetenv(encodedkey)        try:            del self._data[encodedkey]        except KeyError:            # raise KeyError with the original key value            raise KeyError(key) from None    def __iter__(self):        # list() from dict object is an atomic operation        keys = list(self._data)        for key in keys:            yield self.decodekey(key)    def __len__(self):        return len(self._data)    def __repr__(self):        return environ(&#123;&#123;&#123;&#125;&#125;&#125;).format(, .join(            (&#123;!r&#125;: &#123;!r&#125;.format(self.decodekey(key), self.decodevalue(value))            for key, value in self._data.items())))    def copy(self):        return dict(self)    def setdefault(self, key, value):        if key not in self:            self[key] = value        return self[key]try:    _putenv = putenvexcept NameError:    _putenv = lambda key, value: Noneelse:    if putenv not in __all__:        __all__.append(putenv)try:    _unsetenv = unsetenvexcept NameError:    _unsetenv = lambda key: _putenv(key, )else:    if unsetenv not in __all__:        __all__.append(unsetenv)def _createenviron():    if name == nt:        # Where Env Var Names Must Be UPPERCASE        def check_str(value):            if not isinstance(value, str):                raise TypeError(str expected, not %s % type(value).__name__)            return value        encode = check_str        decode = str        def encodekey(key):            return encode(key).upper()        data = &#123;&#125;        for key, value in environ.items():            data[encodekey(key)] = value    else:        # Where Env Var Names Can Be Mixed Case        encoding = sys.getfilesystemencoding()        def encode(value):            if not isinstance(value, str):                raise TypeError(str expected, not %s % type(value).__name__)            return value.encode(encoding, surrogateescape)        def decode(value):            return value.decode(encoding, surrogateescape)        encodekey = encode        data = environ    return _Environ(data,        encodekey, decode,        encode, decode,        _putenv, _unsetenv)# unicode environenviron = _createenviron()del _createenvirondef getenv(key, default=None):    Get an environment variable, return None if it doesnt exist.    The optional second argument can specify an alternate default.    key, default and the result are str.    return environ.get(key, default)supports_bytes_environ = (name != nt)__all__.extend((getenv, supports_bytes_environ))if supports_bytes_environ:    def _check_bytes(value):        if not isinstance(value, bytes):            raise TypeError(bytes expected, not %s % type(value).__name__)        return value    # bytes environ    environb = _Environ(environ._data,        _check_bytes, bytes,        _check_bytes, bytes,        _putenv, _unsetenv)    del _check_bytes    def getenvb(key, default=None):        Get an environment variable, return None if it doesnt exist.        The optional second argument can specify an alternate default.        key, default and the result are bytes.        return environb.get(key, default)    __all__.extend((environb, getenvb))def _fscodec():    encoding = sys.getfilesystemencoding()    errors = sys.getfilesystemencodeerrors()    def fsencode(filename):        Encode filename (an os.PathLike, bytes, or str) to the filesystem        encoding with surrogateescape error handler, return bytes unchanged.        On Windows, use strict error handler if the file system encoding is        mbcs (which is the default encoding).                filename = fspath(filename)  # Does type-checking of `filename`.        if isinstance(filename, str):            return filename.encode(encoding, errors)        else:            return filename    def fsdecode(filename):        Decode filename (an os.PathLike, bytes, or str) from the filesystem        encoding with surrogateescape error handler, return str unchanged. On        Windows, use strict error handler if the file system encoding is        mbcs (which is the default encoding).                filename = fspath(filename)  # Does type-checking of `filename`.        if isinstance(filename, bytes):            return filename.decode(encoding, errors)        else:            return filename    return fsencode, fsdecodefsencode, fsdecode = _fscodec()del _fscodec# Supply spawn*() (probably only for Unix)if _exists(fork) and not _exists(spawnv) and _exists(execv):    P_WAIT = 0    P_NOWAIT = P_NOWAITO = 1    __all__.extend([P_WAIT, P_NOWAIT, P_NOWAITO])    # XXX Should we support P_DETACH?  I suppose it could fork()**2    # and close the std IO streams.  Also, P_OVERLAY is the same    # as execv*()?    def _spawnvef(mode, file, args, env, func):        # Internal helper; func is the exec*() function to use        if not isinstance(args, (tuple, list)):            raise TypeError(argv must be a tuple or a list)        if not args or not args[0]:            raise ValueError(argv first element cannot be empty)        pid = fork()        if not pid:            # Child            try:                if env is None:                    func(file, args)                else:                    func(file, args, env)            except:                _exit(127)        else:            # Parent            if mode == P_NOWAIT:                return pid # Caller is responsible for waiting!            while 1:                wpid, sts = waitpid(pid, 0)                if WIFSTOPPED(sts):                    continue                elif WIFSIGNALED(sts):                    return -WTERMSIG(sts)                elif WIFEXITED(sts):                    return WEXITSTATUS(sts)                else:                    raise OSError(Not stopped, signaled or exited???)    def spawnv(mode, file, args):        spawnv(mode, file, args) -&gt; integerExecute file with arguments from args in a subprocess.If mode == P_NOWAIT return the pid of the process.If mode == P_WAIT return the processs exit code if it exits normally;otherwise return -SIG, where SIG is the signal that killed it.         return _spawnvef(mode, file, args, None, execv)    def spawnve(mode, file, args, env):        spawnve(mode, file, args, env) -&gt; integerExecute file with arguments from args in a subprocess with thespecified environment.If mode == P_NOWAIT return the pid of the process.If mode == P_WAIT return the processs exit code if it exits normally;otherwise return -SIG, where SIG is the signal that killed it.         return _spawnvef(mode, file, args, env, execve)    # Note: spawnvp[e] isnt currently supported on Windows    def spawnvp(mode, file, args):        spawnvp(mode, file, args) -&gt; integerExecute file (which is looked for along $PATH) with arguments fromargs in a subprocess.If mode == P_NOWAIT return the pid of the process.If mode == P_WAIT return the processs exit code if it exits normally;otherwise return -SIG, where SIG is the signal that killed it.         return _spawnvef(mode, file, args, None, execvp)    def spawnvpe(mode, file, args, env):        spawnvpe(mode, file, args, env) -&gt; integerExecute file (which is looked for along $PATH) with arguments fromargs in a subprocess with the supplied environment.If mode == P_NOWAIT return the pid of the process.If mode == P_WAIT return the processs exit code if it exits normally;otherwise return -SIG, where SIG is the signal that killed it.         return _spawnvef(mode, file, args, env, execvpe)    __all__.extend([spawnv, spawnve, spawnvp, spawnvpe])if _exists(spawnv):    # These arent supplied by the basic Windows code    # but can be easily implemented in Python    def spawnl(mode, file, *args):        spawnl(mode, file, *args) -&gt; integerExecute file with arguments from args in a subprocess.If mode == P_NOWAIT return the pid of the process.If mode == P_WAIT return the processs exit code if it exits normally;otherwise return -SIG, where SIG is the signal that killed it.         return spawnv(mode, file, args)    def spawnle(mode, file, *args):        spawnle(mode, file, *args, env) -&gt; integerExecute file with arguments from args in a subprocess with thesupplied environment.If mode == P_NOWAIT return the pid of the process.If mode == P_WAIT return the processs exit code if it exits normally;otherwise return -SIG, where SIG is the signal that killed it.         env = args[-1]        return spawnve(mode, file, args[:-1], env)    __all__.extend([spawnl, spawnle])if _exists(spawnvp):    # At the moment, Windows doesnt implement spawnvp[e],    # so it wont have spawnlp[e] either.    def spawnlp(mode, file, *args):        spawnlp(mode, file, *args) -&gt; integerExecute file (which is looked for along $PATH) with arguments fromargs in a subprocess with the supplied environment.If mode == P_NOWAIT return the pid of the process.If mode == P_WAIT return the processs exit code if it exits normally;otherwise return -SIG, where SIG is the signal that killed it.         return spawnvp(mode, file, args)    def spawnlpe(mode, file, *args):        spawnlpe(mode, file, *args, env) -&gt; integerExecute file (which is looked for along $PATH) with arguments fromargs in a subprocess with the supplied environment.If mode == P_NOWAIT return the pid of the process.If mode == P_WAIT return the processs exit code if it exits normally;otherwise return -SIG, where SIG is the signal that killed it.         env = args[-1]        return spawnvpe(mode, file, args[:-1], env)    __all__.extend([spawnlp, spawnlpe])# Supply os.popen()def popen(cmd, mode=r, buffering=-1):    if not isinstance(cmd, str):        raise TypeError(invalid cmd type (%s, expected string) % type(cmd))    if mode not in (r, w):        raise ValueError(invalid mode %r % mode)    if buffering == 0 or buffering is None:        raise ValueError(popen() does not support unbuffered streams)    import subprocess, io    if mode == r:        proc = subprocess.Popen(cmd,                                shell=True,                                stdout=subprocess.PIPE,                                bufsize=buffering)        return _wrap_close(io.TextIOWrapper(proc.stdout), proc)    else:        proc = subprocess.Popen(cmd,                                shell=True,                                stdin=subprocess.PIPE,                                bufsize=buffering)        return _wrap_close(io.TextIOWrapper(proc.stdin), proc)# Helper for popen() -- a proxy for a file whose close waits for the processclass _wrap_close:    def __init__(self, stream, proc):        self._stream = stream        self._proc = proc    def close(self):        self._stream.close()        returncode = self._proc.wait()        if returncode == 0:            return None        if name == nt:            return returncode        else:            return returncode &lt;&lt; 8  # Shift left to match old behavior    def __enter__(self):        return self    def __exit__(self, *args):        self.close()    def __getattr__(self, name):        return getattr(self._stream, name)    def __iter__(self):        return iter(self._stream)# Supply os.fdopen()def fdopen(fd, *args, **kwargs):    if not isinstance(fd, int):        raise TypeError(invalid fd type (%s, expected integer) % type(fd))    import io    return io.open(fd, *args, **kwargs)# For testing purposes, make sure the function is available when the C# implementation exists.def _fspath(path):    Return the path representation of a path-like object.    If str or bytes is passed in, it is returned unchanged. Otherwise the    os.PathLike interface is used to get the path representation. If the    path representation is not str or bytes, TypeError is raised. If the    provided path is not str, bytes, or os.PathLike, TypeError is raised.        if isinstance(path, (str, bytes)):        return path    # Work from the objects type to match method resolution of other magic    # methods.    path_type = type(path)    try:        path_repr = path_type.__fspath__(path)    except AttributeError:        if hasattr(path_type, __fspath__):            raise        else:            raise TypeError(expected str, bytes or os.PathLike object,                             not  + path_type.__name__)    if isinstance(path_repr, (str, bytes)):        return path_repr    else:        raise TypeError(expected &#123;&#125;.__fspath__() to return str or bytes,                         not &#123;&#125;.format(path_type.__name__,                                        type(path_repr).__name__))# If there is no C implementation, make the pure Python version the# implementation as transparently as possible.if not _exists(fspath):    fspath = _fspath    fspath.__name__ = fspathclass PathLike(abc.ABC):    Abstract base class for implementing the file system path protocol.    @abc.abstractmethod    def __fspath__(self):        Return the file system path representation of the object.        raise NotImplementedError    @classmethod    def __subclasshook__(cls, subclass):        return hasattr(subclass, __fspath__)\n\n","tags":["python"],"path":"2019/09/27/os-py/","external_link":""},{"title":"Desition Tree","date":"2019-09-27T06:52:07.000Z","content":"ç›®å½•\n1. ä»€ä¹ˆæ˜¯å†³ç­–æ ‘\n1.1 å†³ç­–æ ‘çš„åŸºæœ¬æ€æƒ³\n1.2 â€œæ ‘â€çš„æˆé•¿è¿‡ç¨‹\n1.3 â€œæ ‘â€æ€ä¹ˆé•¿\n1.3.1 ID3ç®—æ³•\n1.3.2 C4.5\n1.3.3 CARTç®—æ³•\n1.3.4 ä¸‰ç§ä¸åŒçš„å†³ç­–æ ‘\n\n\n2. æ ‘å½¢ç»“æ„ä¸ºä»€ä¹ˆä¸éœ€è¦å½’ä¸€åŒ–?\n3. åˆ†ç±»å†³ç­–æ ‘å’Œå›å½’å†³ç­–æ ‘çš„åŒºåˆ«\n4. å†³ç­–æ ‘å¦‚ä½•å‰ªæ\n5. ä»£ç å®ç°\n\n1. ä»€ä¹ˆæ˜¯å†³ç­–æ ‘1.1 å†³ç­–æ ‘çš„åŸºæœ¬æ€æƒ³å…¶å®ç”¨ä¸€ä¸‹å›¾ç‰‡èƒ½æ›´å¥½çš„ç†è§£LRæ¨¡å‹å’Œå†³ç­–æ ‘æ¨¡å‹ç®—æ³•çš„æ ¹æœ¬åŒºåˆ«ï¼Œæˆ‘ä»¬å¯ä»¥æ€è€ƒä¸€ä¸‹ä¸€ä¸ªå†³ç­–é—®é¢˜ï¼šæ˜¯å¦å»ç›¸äº²ï¼Œä¸€ä¸ªå¥³å­©çš„æ¯äº²è¦ç»™è¿™ä¸ªå¥³æµ·ä»‹ç»å¯¹è±¡ã€‚\n\nå¤§å®¶éƒ½çœ‹å¾—å¾ˆæ˜ç™½äº†å§ï¼LRæ¨¡å‹æ˜¯ä¸€è‚¡è„‘å„¿çš„æŠŠæ‰€æœ‰ç‰¹å¾å¡å…¥å­¦ä¹ ï¼Œè€Œå†³ç­–æ ‘æ›´åƒæ˜¯ç¼–ç¨‹è¯­è¨€ä¸­çš„if-elseä¸€æ ·ï¼Œå»åšæ¡ä»¶åˆ¤æ–­ï¼Œè¿™å°±æ˜¯æ ¹æœ¬æ€§çš„åŒºåˆ«ã€‚\n1.2 â€œæ ‘â€çš„æˆé•¿è¿‡ç¨‹å†³ç­–æ ‘åŸºäºâ€œæ ‘â€ç»“æ„è¿›è¡Œå†³ç­–çš„ï¼Œè¿™æ—¶æˆ‘ä»¬å°±è¦é¢ä¸´ä¸¤ä¸ªé—®é¢˜ ï¼š\n\nâ€œæ ‘â€æ€ä¹ˆé•¿ã€‚\nè¿™é¢—â€œæ ‘â€é•¿åˆ°ä»€ä¹ˆæ—¶å€™åœã€‚\n\nå¼„æ‡‚äº†è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¨¡å‹å°±å·²ç»å»ºç«‹èµ·æ¥äº†ï¼Œå†³ç­–æ ‘çš„æ€»ä½“æµç¨‹æ˜¯â€œåˆ†è€Œæ²»ä¹‹â€çš„æ€æƒ³ï¼Œä¸€æ˜¯è‡ªæ ¹è‡³å¶çš„é€’å½’è¿‡ç¨‹ï¼Œä¸€æ˜¯åœ¨æ¯ä¸ªä¸­é—´èŠ‚ç‚¹å¯»æ‰¾ä¸€ä¸ªâ€œåˆ’åˆ†â€å±æ€§ï¼Œç›¸å½“äºå°±æ˜¯ä¸€ä¸ªç‰¹å¾å±æ€§äº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥é€ä¸ªè§£å†³ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜ã€‚\nè¿™é¢—â€œæ ‘â€é•¿åˆ°ä»€ä¹ˆæ—¶å€™åœ\nå½“å‰ç»“ç‚¹åŒ…å«çš„æ ·æœ¬å…¨å±äºåŒä¸€ç±»åˆ«ï¼Œæ— éœ€åˆ’åˆ†ï¼›ä¾‹å¦‚ï¼šæ ·æœ¬å½“ä¸­éƒ½æ˜¯å†³å®šå»ç›¸äº²çš„ï¼Œå±äºåŒä¸€ç±»åˆ«ï¼Œå°±æ˜¯ä¸ç®¡ç‰¹å¾å¦‚ä½•æ”¹å˜éƒ½ä¸ä¼šå½±å“ç»“æœï¼Œè¿™ç§å°±ä¸éœ€è¦åˆ’åˆ†äº†ã€‚\nå½“å‰å±æ€§é›†ä¸ºç©ºï¼Œæˆ–æ˜¯æ‰€æœ‰æ ·æœ¬åœ¨æ‰€æœ‰å±æ€§ä¸Šå–å€¼ç›¸åŒï¼Œæ— æ³•åˆ’åˆ†ï¼›ä¾‹å¦‚ï¼šæ‰€æœ‰çš„æ ·æœ¬ç‰¹å¾éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå°±é€ æˆæ— æ³•åˆ’åˆ†äº†ï¼Œè®­ç»ƒé›†å¤ªå•ä¸€ã€‚\nå½“å‰ç»“ç‚¹åŒ…å«çš„æ ·æœ¬é›†åˆä¸ºç©ºï¼Œä¸èƒ½åˆ’åˆ†ã€‚\n\n1.3 â€œæ ‘â€æ€ä¹ˆé•¿åœ¨ç”Ÿæ´»å½“ä¸­ï¼Œæˆ‘ä»¬éƒ½ä¼šç¢°åˆ°å¾ˆå¤šéœ€è¦åšå‡ºå†³ç­–çš„åœ°æ–¹ï¼Œä¾‹å¦‚ï¼šåƒé¥­åœ°ç‚¹ã€æ•°ç äº§å“è´­ä¹°ã€æ—…æ¸¸åœ°åŒºç­‰ï¼Œä½ ä¼šå‘ç°åœ¨è¿™äº›é€‰æ‹©å½“ä¸­éƒ½æ˜¯ä¾èµ–äºå¤§éƒ¨åˆ†äººåšå‡ºçš„é€‰æ‹©ï¼Œä¹Ÿå°±æ˜¯è·Ÿéšå¤§ä¼—çš„é€‰æ‹©ã€‚å…¶å®åœ¨å†³ç­–æ ‘å½“ä¸­ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œå½“å¤§éƒ¨åˆ†çš„æ ·æœ¬éƒ½æ˜¯åŒä¸€ç±»çš„æ—¶å€™ï¼Œé‚£ä¹ˆå°±å·²ç»åšå‡ºäº†å†³ç­–ã€‚\næˆ‘ä»¬å¯ä»¥æŠŠå¤§ä¼—çš„é€‰æ‹©æŠ½è±¡åŒ–ï¼Œè¿™å°±å¼•å…¥äº†ä¸€ä¸ªæ¦‚å¿µå°±æ˜¯çº¯åº¦ï¼Œæƒ³æƒ³ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå¤§ä¼—é€‰æ‹©å°±æ„å‘³ç€çº¯åº¦è¶Šé«˜ã€‚å¥½ï¼Œåœ¨æ·±å…¥ä¸€ç‚¹ï¼Œå°±æ¶‰åŠåˆ°ä¸€å¥è¯ï¼šä¿¡æ¯ç†µè¶Šä½ï¼Œçº¯åº¦è¶Šé«˜ã€‚æˆ‘ç›¸ä¿¡å¤§å®¶æˆ–å¤šæˆ–å°‘éƒ½å¬è¯´è¿‡â€œç†µâ€è¿™ä¸ªæ¦‚å¿µï¼Œä¿¡æ¯ç†µé€šä¿—æ¥è¯´å°±æ˜¯ç”¨æ¥åº¦é‡åŒ…å«çš„â€œä¿¡æ¯é‡â€ï¼Œå¦‚æœæ ·æœ¬çš„å±æ€§éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå°±ä¼šè®©äººè§‰å¾—è¿™åŒ…å«çš„ä¿¡æ¯å¾ˆå•ä¸€ï¼Œæ²¡æœ‰å·®å¼‚åŒ–ï¼Œç›¸åæ ·æœ¬çš„å±æ€§éƒ½ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆåŒ…å«çš„ä¿¡æ¯é‡å°±å¾ˆå¤šäº†ã€‚\nä¸€åˆ°è¿™é‡Œå°±å¤´ç–¼äº†ï¼Œå› ä¸ºé©¬ä¸Šè¦å¼•å…¥ä¿¡æ¯ç†µçš„å…¬å¼ï¼Œå…¶å®ä¹Ÿå¾ˆç®€å•ï¼š\n\nPkè¡¨ç¤ºçš„æ˜¯ï¼šå½“å‰æ ·æœ¬é›†åˆDä¸­ç¬¬kç±»æ ·æœ¬æ‰€å çš„æ¯”ä¾‹ä¸ºPkã€‚\nä¿¡æ¯å¢ç›Š\nåºŸè¯ä¸å¤šè¯´ç›´æ¥ä¸Šå…¬å¼ï¼š\n\nçœ‹ä¸æ‡‚çš„å…ˆä¸ç®¡ï¼Œç®€å•ä¸€å¥è¯å°±æ˜¯ï¼šåˆ’åˆ†å‰çš„ä¿¡æ¯ç†µâ€“åˆ’åˆ†åçš„ä¿¡æ¯ç†µã€‚è¡¨ç¤ºçš„æ˜¯å‘çº¯åº¦æ–¹å‘è¿ˆå‡ºçš„â€œæ­¥é•¿â€ã€‚\nå¥½äº†ï¼Œæœ‰äº†å‰é¢çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹â€œæ ‘â€çš„ç”Ÿé•¿äº†ã€‚\n1.3.1 ID3ç®—æ³•è§£é‡Šï¼šåœ¨æ ¹èŠ‚ç‚¹å¤„è®¡ç®—ä¿¡æ¯ç†µï¼Œç„¶åæ ¹æ®å±æ€§ä¾æ¬¡åˆ’åˆ†å¹¶è®¡ç®—å…¶èŠ‚ç‚¹çš„ä¿¡æ¯ç†µï¼Œç”¨æ ¹èŠ‚ç‚¹ä¿¡æ¯ç†µâ€“å±æ€§èŠ‚ç‚¹çš„ä¿¡æ¯ç†µ=ä¿¡æ¯å¢ç›Šï¼Œæ ¹æ®ä¿¡æ¯å¢ç›Šè¿›è¡Œé™åºæ’åˆ—ï¼Œæ’åœ¨å‰é¢çš„å°±æ˜¯ç¬¬ä¸€ä¸ªåˆ’åˆ†å±æ€§ï¼Œå…¶åä¾æ¬¡ç±»æ¨ï¼Œè¿™å°±å¾—åˆ°äº†å†³ç­–æ ‘çš„å½¢çŠ¶ï¼Œä¹Ÿå°±æ˜¯æ€ä¹ˆâ€œé•¿â€äº†ã€‚\nå¦‚æœä¸ç†è§£çš„ï¼Œå¯ä»¥æŸ¥çœ‹æˆ‘åˆ†äº«çš„å›¾ç‰‡ç¤ºä¾‹ï¼Œç»“åˆæˆ‘è¯´çš„ï¼ŒåŒ…ä½ çœ‹æ‡‚ï¼š\n\nç¬¬ä¸€å¼ å›¾.jpg\nç¬¬äºŒå¼ å›¾.jpg\nç¬¬ä¸‰å¼ å›¾.jpg\nç¬¬å››å¼ å›¾.jpg\n\nä¸è¿‡ï¼Œä¿¡æ¯å¢ç›Šæœ‰ä¸€ä¸ªé—®é¢˜ï¼šå¯¹å¯å–å€¼æ•°ç›®è¾ƒå¤šçš„å±æ€§æœ‰æ‰€åå¥½ï¼Œä¾‹å¦‚ï¼šè€ƒè™‘å°†â€œç¼–å·â€ä½œä¸ºä¸€ä¸ªå±æ€§ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¼•å‡ºäº†å¦ä¸€ä¸ª ç®—æ³•C4.5ã€‚\n1.3.2 C4.5ä¸ºäº†è§£å†³ä¿¡æ¯å¢ç›Šçš„é—®é¢˜ï¼Œå¼•å…¥ä¸€ä¸ªä¿¡æ¯å¢ç›Šç‡ï¼š\n\nå…¶ä¸­ï¼š\n\nå±æ€§açš„å¯èƒ½å–å€¼æ•°ç›®è¶Šå¤š(å³Vè¶Šå¤§)ï¼Œåˆ™IV(a)çš„å€¼é€šå¸¸å°±è¶Šå¤§ã€‚ä¿¡æ¯å¢ç›Šæ¯”æœ¬è´¨ï¼š æ˜¯åœ¨ä¿¡æ¯å¢ç›Šçš„åŸºç¡€ä¹‹ä¸Šä¹˜ä¸Šä¸€ä¸ªæƒ©ç½šå‚æ•°ã€‚ç‰¹å¾ä¸ªæ•°è¾ƒå¤šæ—¶ï¼Œæƒ©ç½šå‚æ•°è¾ƒå°ï¼›ç‰¹å¾ä¸ªæ•°è¾ƒå°‘æ—¶ï¼Œæƒ©ç½šå‚æ•°è¾ƒå¤§ã€‚ä¸è¿‡æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼š\n\nç¼ºç‚¹ï¼šä¿¡æ¯å¢ç›Šç‡åå‘å–å€¼è¾ƒå°‘çš„ç‰¹å¾ã€‚\n\nä½¿ç”¨ä¿¡æ¯å¢ç›Šç‡ï¼šåŸºäºä»¥ä¸Šç¼ºç‚¹ï¼Œå¹¶ä¸æ˜¯ç›´æ¥é€‰æ‹©ä¿¡æ¯å¢ç›Šç‡æœ€å¤§çš„ç‰¹å¾ï¼Œè€Œæ˜¯ç°åœ¨å€™é€‰ç‰¹å¾ä¸­æ‰¾å‡ºä¿¡æ¯å¢ç›Šé«˜äºå¹³å‡æ°´å¹³çš„ç‰¹å¾ï¼Œç„¶ååœ¨è¿™äº›ç‰¹å¾ä¸­å†é€‰æ‹©ä¿¡æ¯å¢ç›Šç‡æœ€é«˜çš„ç‰¹å¾ã€‚\n1.3.3 CARTç®—æ³•æ•°å­¦å®¶çœŸå®èªæ˜ï¼Œæƒ³åˆ°äº†å¦å¤–ä¸€ä¸ªè¡¨ç¤ºçº¯åº¦çš„æ–¹æ³•ï¼Œå«åšåŸºå°¼æŒ‡æ•°(è®¨åŒçš„å…¬å¼)ï¼š\n\nè¡¨ç¤ºåœ¨æ ·æœ¬é›†åˆä¸­ä¸€ä¸ªéšæœºé€‰ä¸­çš„æ ·æœ¬è¢«åˆ†é”™çš„æ¦‚ç‡ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œç°åœ¨ä¸€ä¸ªè¢‹å­é‡Œæœ‰3ç§é¢œè‰²çš„çƒè‹¥å¹²ä¸ªï¼Œä¼¸æ‰‹è¿›å»æå‡º2ä¸ªçƒï¼Œé¢œè‰²ä¸ä¸€æ ·çš„æ¦‚ç‡ï¼Œè¿™ä¸‹æ˜ç™½äº†å§ã€‚Gini(D)è¶Šå°ï¼Œæ•°æ®é›†Dçš„çº¯åº¦è¶Šé«˜ã€‚\nä¸¾ä¸ªä¾‹å­å‡è®¾ç°åœ¨æœ‰ç‰¹å¾ â€œå­¦å†â€ï¼Œæ­¤ç‰¹å¾æœ‰ä¸‰ä¸ªç‰¹å¾å–å€¼ï¼š â€œæœ¬ç§‘â€ï¼Œâ€œç¡•å£«â€ï¼Œ â€œåšå£«â€ï¼Œ\nå½“ä½¿ç”¨â€œå­¦å†â€è¿™ä¸ªç‰¹å¾å¯¹æ ·æœ¬é›†åˆDè¿›è¡Œåˆ’åˆ†æ—¶ï¼Œåˆ’åˆ†å€¼åˆ†åˆ«æœ‰ä¸‰ä¸ªï¼Œå› è€Œæœ‰ä¸‰ç§åˆ’åˆ†çš„å¯èƒ½é›†åˆï¼Œåˆ’åˆ†åçš„å­é›†å¦‚ä¸‹ï¼š\n1.åˆ’åˆ†ç‚¹ï¼š â€œæœ¬ç§‘â€ï¼Œåˆ’åˆ†åçš„å­é›†åˆ ï¼š {æœ¬ç§‘}ï¼Œ{ç¡•å£«ï¼Œåšå£«}\n2.åˆ’åˆ†ç‚¹ï¼š â€œç¡•å£«â€ï¼Œåˆ’åˆ†åçš„å­é›†åˆ ï¼š {ç¡•å£«}ï¼Œ{æœ¬ç§‘ï¼Œåšå£«}\n3.åˆ’åˆ†ç‚¹ï¼š â€œç¡•å£«â€ï¼Œåˆ’åˆ†åçš„å­é›†åˆ ï¼š {åšå£«}ï¼Œ{æœ¬ç§‘ï¼Œç¡•å£«}}\nå¯¹äºä¸Šè¿°çš„æ¯ä¸€ç§åˆ’åˆ†ï¼Œéƒ½å¯ä»¥è®¡ç®—å‡ºåŸºäº åˆ’åˆ†ç‰¹å¾= æŸä¸ªç‰¹å¾å€¼ å°†æ ·æœ¬é›†åˆDåˆ’åˆ†ä¸ºä¸¤ä¸ªå­é›†çš„çº¯åº¦ï¼š\n\nå› è€Œå¯¹äºä¸€ä¸ªå…·æœ‰å¤šä¸ªå–å€¼ï¼ˆè¶…è¿‡2ä¸ªï¼‰çš„ç‰¹å¾ï¼Œéœ€è¦è®¡ç®—ä»¥æ¯ä¸€ä¸ªå–å€¼ä½œä¸ºåˆ’åˆ†ç‚¹ï¼Œå¯¹æ ·æœ¬Dåˆ’åˆ†ä¹‹åå­é›†çš„çº¯åº¦Gini(D,Ai)ï¼Œ(å…¶ä¸­Ai è¡¨ç¤ºç‰¹å¾Açš„å¯èƒ½å–å€¼)\nç„¶åä»æ‰€æœ‰çš„å¯èƒ½åˆ’åˆ†çš„Gini(D,Ai)ä¸­æ‰¾å‡ºGiniæŒ‡æ•°æœ€å°çš„åˆ’åˆ†ï¼Œè¿™ä¸ªåˆ’åˆ†çš„åˆ’åˆ†ç‚¹ï¼Œä¾¿æ˜¯ä½¿ç”¨ç‰¹å¾Aå¯¹æ ·æœ¬é›†åˆDè¿›è¡Œåˆ’åˆ†çš„æœ€ä½³åˆ’åˆ†ç‚¹ã€‚åˆ°æ­¤å°±å¯ä»¥é•¿æˆä¸€æ£µâ€œå¤§æ ‘â€äº†ã€‚\n1.3.4 ä¸‰ç§ä¸åŒçš„å†³ç­–æ ‘\nID3ï¼šå–å€¼å¤šçš„å±æ€§ï¼Œæ›´å®¹æ˜“ä½¿æ•°æ®æ›´çº¯ï¼Œå…¶ä¿¡æ¯å¢ç›Šæ›´å¤§ã€‚\nè®­ç»ƒå¾—åˆ°çš„æ˜¯ä¸€æ£µåºå¤§ä¸”æ·±åº¦æµ…çš„æ ‘ï¼šä¸åˆç†ã€‚\n\nC4.5ï¼šé‡‡ç”¨ä¿¡æ¯å¢ç›Šç‡æ›¿ä»£ä¿¡æ¯å¢ç›Šã€‚\n\nCARTï¼šä»¥åŸºå°¼ç³»æ•°æ›¿ä»£ç†µï¼Œæœ€å°åŒ–ä¸çº¯åº¦ï¼Œè€Œä¸æ˜¯æœ€å¤§åŒ–ä¿¡æ¯å¢ç›Šã€‚\n\n\n2. æ ‘å½¢ç»“æ„ä¸ºä»€ä¹ˆä¸éœ€è¦å½’ä¸€åŒ–?å› ä¸ºæ•°å€¼ç¼©æ”¾ä¸å½±å“åˆ†è£‚ç‚¹ä½ç½®ï¼Œå¯¹æ ‘æ¨¡å‹çš„ç»“æ„ä¸é€ æˆå½±å“ã€‚æŒ‰ç…§ç‰¹å¾å€¼è¿›è¡Œæ’åºçš„ï¼Œæ’åºçš„é¡ºåºä¸å˜ï¼Œé‚£ä¹ˆæ‰€å±çš„åˆ†æ”¯ä»¥åŠåˆ†è£‚ç‚¹å°±ä¸ä¼šæœ‰ä¸åŒã€‚è€Œä¸”ï¼Œæ ‘æ¨¡å‹æ˜¯ä¸èƒ½è¿›è¡Œæ¢¯åº¦ä¸‹é™çš„ï¼Œå› ä¸ºæ„å»ºæ ‘æ¨¡å‹ï¼ˆå›å½’æ ‘ï¼‰å¯»æ‰¾æœ€ä¼˜ç‚¹æ—¶æ˜¯é€šè¿‡å¯»æ‰¾æœ€ä¼˜åˆ†è£‚ç‚¹å®Œæˆçš„ï¼Œå› æ­¤æ ‘æ¨¡å‹æ˜¯é˜¶è·ƒçš„ï¼Œé˜¶è·ƒç‚¹æ˜¯ä¸å¯å¯¼çš„ï¼Œå¹¶ä¸”æ±‚å¯¼æ²¡æ„ä¹‰ï¼Œä¹Ÿå°±ä¸éœ€è¦å½’ä¸€åŒ–ã€‚\næ—¢ç„¶æ ‘å½¢ç»“æ„ï¼ˆå¦‚å†³ç­–æ ‘ã€RFï¼‰ä¸éœ€è¦å½’ä¸€åŒ–ï¼Œé‚£ä¸ºä½•éæ ‘å½¢ç»“æ„æ¯”å¦‚Adaboostã€SVMã€LRã€Knnã€KMeansä¹‹ç±»åˆ™éœ€è¦å½’ä¸€åŒ–ã€‚\nå¯¹äºçº¿æ€§æ¨¡å‹ï¼Œç‰¹å¾å€¼å·®åˆ«å¾ˆå¤§æ—¶ï¼Œè¿ç”¨æ¢¯åº¦ä¸‹é™çš„æ—¶å€™ï¼ŒæŸå¤±ç­‰é«˜çº¿æ˜¯æ¤­åœ†å½¢ï¼Œéœ€è¦è¿›è¡Œå¤šæ¬¡è¿­ä»£æ‰èƒ½åˆ°è¾¾æœ€ä¼˜ç‚¹ã€‚ä½†æ˜¯å¦‚æœè¿›è¡Œäº†å½’ä¸€åŒ–ï¼Œé‚£ä¹ˆç­‰é«˜çº¿å°±æ˜¯åœ†å½¢çš„ï¼Œä¿ƒä½¿SGDå¾€åŸç‚¹è¿­ä»£ï¼Œä»è€Œå¯¼è‡´éœ€è¦çš„è¿­ä»£æ¬¡æ•°è¾ƒå°‘ã€‚\n3. åˆ†ç±»å†³ç­–æ ‘å’Œå›å½’å†³ç­–æ ‘çš„åŒºåˆ«Classification And Regression Tree(CART)æ˜¯å†³ç­–æ ‘çš„ä¸€ç§ï¼ŒCARTç®—æ³•æ—¢å¯ä»¥ç”¨äºåˆ›å»ºåˆ†ç±»æ ‘ï¼ˆClassification Treeï¼‰ï¼Œä¹Ÿå¯ä»¥ç”¨äºåˆ›å»ºå›å½’æ ‘ï¼ˆRegression Treeï¼‰ï¼Œä¸¤è€…åœ¨å»ºæ ‘çš„è¿‡ç¨‹ç¨æœ‰å·®å¼‚ã€‚\nå›å½’æ ‘ï¼š\nCARTå›å½’æ ‘æ˜¯å‡è®¾æ ‘ä¸ºäºŒå‰æ ‘ï¼Œé€šè¿‡ä¸æ–­å°†ç‰¹å¾è¿›è¡Œåˆ†è£‚ã€‚æ¯”å¦‚å½“å‰æ ‘ç»“ç‚¹æ˜¯åŸºäºç¬¬jä¸ªç‰¹å¾å€¼è¿›è¡Œåˆ†è£‚çš„ï¼Œè®¾è¯¥ç‰¹å¾å€¼å°äºsçš„æ ·æœ¬åˆ’åˆ†ä¸ºå·¦å­æ ‘ï¼Œå¤§äºsçš„æ ·æœ¬åˆ’åˆ†ä¸ºå³å­æ ‘ã€‚ \n\nè€ŒCARTå›å½’æ ‘å®è´¨ä¸Šå°±æ˜¯åœ¨è¯¥ç‰¹å¾ç»´åº¦å¯¹æ ·æœ¬ç©ºé—´è¿›è¡Œåˆ’åˆ†ï¼Œè€Œè¿™ç§ç©ºé—´åˆ’åˆ†çš„ä¼˜åŒ–æ˜¯ä¸€ç§NPéš¾é—®é¢˜ï¼Œå› æ­¤ï¼Œåœ¨å†³ç­–æ ‘æ¨¡å‹ä¸­æ˜¯ä½¿ç”¨å¯å‘å¼æ–¹æ³•è§£å†³ã€‚å…¸å‹CARTå›å½’æ ‘äº§ç”Ÿçš„ç›®æ ‡å‡½æ•°ä¸ºï¼š\n\nå› æ­¤ï¼Œå½“æˆ‘ä»¬ä¸ºäº†æ±‚è§£æœ€ä¼˜çš„åˆ‡åˆ†ç‰¹å¾jå’Œæœ€ä¼˜çš„åˆ‡åˆ†ç‚¹sï¼Œå°±è½¬åŒ–ä¸ºæ±‚è§£è¿™ä¹ˆä¸€ä¸ªç›®æ ‡å‡½æ•°ï¼š\n\næ‰€ä»¥æˆ‘ä»¬åªè¦éå†æ‰€æœ‰ç‰¹å¾çš„çš„æ‰€æœ‰åˆ‡åˆ†ç‚¹ï¼Œå°±èƒ½æ‰¾åˆ°æœ€ä¼˜çš„åˆ‡åˆ†ç‰¹å¾å’Œåˆ‡åˆ†ç‚¹ã€‚æœ€ç»ˆå¾—åˆ°ä¸€æ£µå›å½’æ ‘ã€‚\nå‚è€ƒæ–‡ç« ï¼šç»å…¸ç®—æ³•è¯¦è§£â€“CARTåˆ†ç±»å†³ç­–æ ‘ã€å›å½’æ ‘å’Œæ¨¡å‹æ ‘\n4. å†³ç­–æ ‘å¦‚ä½•å‰ªæå†³ç­–æ ‘çš„å‰ªæåŸºæœ¬ç­–ç•¥æœ‰ é¢„å‰ªæ (Pre-Pruning) å’Œ åå‰ªæ (Post-Pruning)ã€‚\n\né¢„å‰ªæï¼šå…¶ä¸­çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ï¼Œåœ¨æ¯ä¸€æ¬¡å®é™…å¯¹ç»“ç‚¹è¿›è¡Œè¿›ä¸€æ­¥åˆ’åˆ†ä¹‹å‰ï¼Œå…ˆé‡‡ç”¨éªŒè¯é›†çš„æ•°æ®æ¥éªŒè¯å¦‚æœåˆ’åˆ†æ˜¯å¦èƒ½æé«˜åˆ’åˆ†çš„å‡†ç¡®æ€§ã€‚å¦‚æœä¸èƒ½ï¼Œå°±æŠŠç»“ç‚¹æ ‡è®°ä¸ºå¶ç»“ç‚¹å¹¶é€€å‡ºè¿›ä¸€æ­¥åˆ’åˆ†ï¼›å¦‚æœå¯ä»¥å°±ç»§ç»­é€’å½’ç”ŸæˆèŠ‚ç‚¹ã€‚\nåå‰ªæï¼šåå‰ªæåˆ™æ˜¯å…ˆä»è®­ç»ƒé›†ç”Ÿæˆä¸€é¢—å®Œæ•´çš„å†³ç­–æ ‘ï¼Œç„¶åè‡ªåº•å‘ä¸Šåœ°å¯¹éå¶ç»“ç‚¹è¿›è¡Œè€ƒå¯Ÿï¼Œè‹¥å°†è¯¥ç»“ç‚¹å¯¹åº”çš„å­æ ‘æ›¿æ¢ä¸ºå¶ç»“ç‚¹èƒ½å¸¦æ¥æ³›åŒ–æ€§èƒ½æå‡ï¼Œåˆ™å°†è¯¥å­æ ‘æ›¿æ¢ä¸ºå¶ç»“ç‚¹ã€‚\n\nå‚è€ƒæ–‡ç« ï¼šå†³ç­–æ ‘åŠå†³ç­–æ ‘ç”Ÿæˆä¸å‰ªæ\n5. ä»£ç å®ç°GitHubï¼šhttps:github.comNLP-LOVEML-NLPblobmasterMachine%20Learning3.Desition%20TreeDecisionTree.ipynb\n\n\nä½œè€…ï¼š@mantchs\nGitHubï¼šhttps:github.comNLP-LOVEML-NLP\næ¬¢è¿å¤§å®¶åŠ å…¥è®¨è®ºï¼å…±åŒå®Œå–„æ­¤é¡¹ç›®ï¼ç¾¤å·ï¼šã€541954936ã€‘\n\n","tags":["æœºå™¨å­¦ä¹ ","Tree"],"path":"2019/09/27/Desition-Tree/","external_link":""},{"title":"Recommendation System","date":"2019-09-27T06:56:13.000Z","content":"ç›®å½•\n1. ä»€ä¹ˆæ˜¯æ¨èç³»ç»Ÿ\n2. æ€»ä½“æ¶æ„\n2.1 ç¦»çº¿æ¨è\n2.2 åœ¨çº¿è®­ç»ƒ\n\n\n3. ç‰¹å¾æ•°æ®\n4. ååŒè¿‡æ»¤ç®—æ³•\n4.1 åŸºäºç‰©å“çš„ååŒè¿‡æ»¤(ItemCF)\n4.2 åŸºäºç”¨æˆ·çš„ååŒè¿‡æ»¤(UserCF)\n4.3 çŸ©é˜µåˆ†è§£\n\n\n5. éšè¯­ä¹‰æ¨¡å‹\n5.1 åŸºæœ¬æ€æƒ³\n5.2 æ¨¡å‹ç†è§£\n\n\n6. æ’åºç®—æ³•\n7. è¯„ä¼°æµ‹è¯•\n7.1 ABæµ‹è¯•\n7.2 å…¶å®ƒè¯„ä¼°æ–¹æ³•\n\n\n8. æ¨èç³»ç»Ÿå†·å¯åŠ¨é—®é¢˜\n8.1 ç”¨æˆ·å†·å¯åŠ¨\n8.2 ç‰©å“å†·å¯åŠ¨\n8.3 ç³»ç»Ÿå†·å¯åŠ¨\n\n\n9. å‚è€ƒæ–‡çŒ®\n\n1. ä»€ä¹ˆæ˜¯æ¨èç³»ç»Ÿæ¨èç³»ç»Ÿæ˜¯åˆ©ç”¨ç”µå­å•†åŠ¡ç½‘ç«™å‘å®¢æˆ·æä¾›å•†å“ä¿¡æ¯å’Œå»ºè®®ï¼Œå¸®åŠ©ç”¨æˆ·å†³å®šåº”è¯¥è´­ä¹°ä»€ä¹ˆäº§å“ï¼Œæ¨¡æ‹Ÿé”€å”®äººå‘˜å¸®åŠ©å®¢æˆ·å®Œæˆè´­ä¹°è¿‡ç¨‹ã€‚ä¸ªæ€§åŒ–æ¨èæ˜¯æ ¹æ®ç”¨æˆ·çš„å…´è¶£ç‰¹ç‚¹å’Œè´­ä¹°è¡Œä¸ºï¼Œå‘ç”¨æˆ·æ¨èç”¨æˆ·æ„Ÿå…´è¶£çš„ä¿¡æ¯å’Œå•†å“ã€‚\néšç€ç”µå­å•†åŠ¡è§„æ¨¡çš„ä¸æ–­æ‰©å¤§ï¼Œå•†å“ä¸ªæ•°å’Œç§ç±»å¿«é€Ÿå¢é•¿ï¼Œé¡¾å®¢éœ€è¦èŠ±è´¹å¤§é‡çš„æ—¶é—´æ‰èƒ½æ‰¾åˆ°è‡ªå·±æƒ³ä¹°çš„å•†å“ã€‚è¿™ç§æµè§ˆå¤§é‡æ— å…³çš„ä¿¡æ¯å’Œäº§å“è¿‡ç¨‹æ— ç–‘ä¼šä½¿æ·¹æ²¡åœ¨ä¿¡æ¯è¿‡è½½é—®é¢˜ä¸­çš„æ¶ˆè´¹è€…ä¸æ–­æµå¤±ã€‚\nä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œä¸ªæ€§åŒ–æ¨èç³»ç»Ÿåº”è¿è€Œç”Ÿã€‚ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿæ˜¯å»ºç«‹åœ¨æµ·é‡æ•°æ®æŒ–æ˜åŸºç¡€ä¸Šçš„ä¸€ç§é«˜çº§å•†åŠ¡æ™ºèƒ½å¹³å°ï¼Œä»¥å¸®åŠ©ç”µå­å•†åŠ¡ç½‘ç«™ä¸ºå…¶é¡¾å®¢è´­ç‰©æä¾›å®Œå…¨ä¸ªæ€§åŒ–çš„å†³ç­–æ”¯æŒå’Œä¿¡æ¯æœåŠ¡ã€‚\nå¸¸è§çš„æ¨èæ ä½ä¾‹å¦‚ï¼šæ·˜å®çš„çŒœä½ å–œæ¬¢ã€çœ‹äº†åˆçœ‹ã€æ¨èå•†å“ï¼Œç¾å›¢çš„é¦–é¡µæ¨èã€é™„è¿‘æ¨èç­‰ã€‚\næ¨èç³»ç»Ÿæ˜¯æ¯”è¾ƒåå‘äºå·¥ç¨‹ç±»çš„ç³»ç»Ÿï¼Œè¦åšå¾—æ›´åŠ çš„ç²¾ç¡®ï¼Œéœ€è¦çš„ä¸ä»…ä»…æ˜¯æ¨èç®—æ³•ï¼Œè¿˜æœ‰ç”¨æˆ·æ„å›¾è¯†åˆ«ã€æ–‡æœ¬åˆ†æã€è¡Œä¸ºåˆ†æç­‰ï¼Œæ˜¯ä¸€ä¸ªç»¼åˆæ€§å¾ˆå¼ºçš„ç³»ç»Ÿã€‚\n2. æ€»ä½“æ¶æ„æœ¬èŠ‚ä»‹ç»çš„å‡ ç§æ¨èç³»ç»Ÿæ¶æ„ï¼Œå¹¶ä¸æ˜¯äº’ç›¸ç‹¬ç«‹çš„å…³ç³»ï¼Œå®é™…çš„æ¨èç³»ç»Ÿå¯èƒ½ä¼šç”¨åˆ°å…¶ä¸­ä¸€ç§æˆ–è€…å‡ ç§çš„æ¶æ„ã€‚åœ¨å®é™…è®¾è®¡çš„è¿‡ç¨‹ä¸­ï¼Œè¯»è€…å¯ä»¥æŠŠæœ¬æ–‡ä»‹ç»çš„æ¶æ„ä½œä¸ºä¸€ä¸ªè®¾è®¡çš„èµ·ç‚¹ï¼Œæ›´å¤šåœ°ç»“åˆè‡ªèº«ä¸šåŠ¡ç‰¹ç‚¹è¿›è¡Œç‹¬ç«‹æ€è€ƒï¼Œä»è€Œè®¾è®¡å‡ºé€‚åˆè‡ªèº«ä¸šåŠ¡çš„ç³»ç»Ÿã€‚\næ ¹æ®å“åº”ç”¨æˆ·è¡Œä¸ºçš„é€Ÿåº¦ä¸åŒï¼Œæ¨èç³»ç»Ÿå¯ä»¥å¤§è‡´åˆ†ä¸ºåŸºäºç¦»çº¿è®­ç»ƒå’Œåœ¨çº¿è®­ç»ƒçš„æ¨èç³»ç»Ÿã€‚\n2.1 ç¦»çº¿æ¨èäºç¦»çº¿è®­ç»ƒçš„æ¨èç³»ç»Ÿæ¶æ„æ˜¯æœ€å¸¸è§çš„ä¸€ç§æ¨èç³»ç»Ÿæ¶æ„ã€‚è¿™é‡Œçš„â€œç¦»çº¿â€è®­ç»ƒæŒ‡çš„æ˜¯ä½¿ç”¨å†å²ä¸€æ®µæ—¶é—´ï¼ˆ æ¯”å¦‚å‘¨æˆ–è€…å‡ å‘¨ ï¼‰çš„æ•°æ®è¿›è¡Œè®­ç»ƒï¼Œæ¨¡å‹è¿­ä»£çš„å‘¨æœŸè¾ƒé•¿ï¼ˆä¸€èˆ¬ ä»¥å°æ—¶ä¸ºå•ä½ ï¼‰ã€‚æ¨¡å‹æ‹Ÿåˆçš„æ˜¯ç”¨æˆ·çš„ä¸­é•¿æœŸå…´è¶£ã€‚\nå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ ä¸€ä¸ªå…¸å‹çš„åŸºäºç¦»çº¿è®­ç»ƒçš„æ¨èç³»ç»Ÿæ¶æ„ç”±æ•°æ®ä¸ŠæŠ¥ã€ç¦»çº¿è®­ç»ƒã€åœ¨çº¿å­˜å‚¨ã€å®æ—¶è®¡ç®—å’Œ AB æµ‹è¯•è¿™å‡ ä¸ªæ¨¡å—ç»„æˆã€‚å…¶ä¸­ï¼Œæ•°æ®ä¸ŠæŠ¥å’Œç¦»çº¿è®­ç»ƒç»„æˆäº†ç›‘ç£å­¦ä¹ ä¸­çš„å­¦ä¹ ç³»ç»Ÿï¼Œè€Œå®æ—¶è®¡ç®—å’Œ AB æµ‹è¯•ç»„æˆäº†é¢„æµ‹ç³»ç»Ÿã€‚å¦å¤–ï¼Œé™¤äº†æ¨¡å‹ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªåœ¨çº¿å­˜å‚¨æ¨¡å—ï¼Œç”¨äºå­˜å‚¨æ¨¡å‹å’Œæ¨¡å‹éœ€è¦çš„ç‰¹å¾ä¿¡æ¯ä¾›å®æ—¶è®¡ç®—æ¨¡å—è°ƒç”¨ã€‚å›¾ä¸­çš„å„ä¸ªæ¨¡å—ç»„æˆäº†è®­ç»ƒå’Œé¢„æµ‹ä¸¤æ¡æ•°æ®æµï¼Œè®­ç»ƒçš„æ•°æ®æµæœé›†ä¸šåŠ¡çš„æ•°æ®æœ€åç”Ÿæˆæ¨¡å‹å­˜å‚¨äºåœ¨çº¿å­˜å‚¨æ¨¡å—ï¼›é¢„æµ‹çš„æ•°æ®æµæ¥å—ä¸šåŠ¡çš„é¢„æµ‹è¯·æ±‚ï¼Œé€šè¿‡ AB æµ‹è¯•æ¨¡å—è®¿é—®å®æ—¶è®¡ç®—æ¨¡å—è·å–é¢„æµ‹ç»“æœã€‚\n\n\næ•°æ®ä¸ŠæŠ¥ï¼šæ®ä¸ŠæŠ¥æ¨¡å—çš„ä½œç”¨æ˜¯æœé›†ä¸šåŠ¡æ•°æ®ç»„æˆè®­ç»ƒæ ·æœ¬ã€‚ä¸€èˆ¬åˆ†ä¸ºæ”¶é›†ã€éªŒè¯ã€æ¸…æ´—å’Œè½¬æ¢å‡ ä¸ªæ­¥éª¤ã€‚å°†æ”¶é›†çš„æ•°æ®è½¬åŒ–ä¸ºè®­ç»ƒæ‰€éœ€è¦çš„æ ·æœ¬æ ¼å¼ï¼Œä¿å­˜åˆ°ç¦»çº¿å­˜å‚¨æ¨¡å—ã€‚\n\n\nç¦»çº¿è®­ç»ƒï¼šçº¿è®­ç»ƒæ¨¡å—åˆç»†åˆ†ä¸ºç¦»çº¿å­˜å‚¨å’Œç¦»çº¿è®¡ç®—ã€‚å®é™…ä¸šåŠ¡ä¸­ä½¿ç”¨çš„æ¨èç³»ç»Ÿä¸€èˆ¬éƒ½éœ€è¦å¤„ç†æµ·é‡çš„ç”¨æˆ·è¡Œä¸ºæ•°æ®ï¼Œæ‰€ä»¥ç¦»çº¿å­˜å‚¨æ¨¡å—éœ€è¦æœ‰ä¸€ä¸ªåˆ†å¸ƒå¼çš„æ–‡ä»¶ç³»ç»Ÿæˆ–è€…å­˜å‚¨å¹³å°æ¥å­˜å‚¨è¿™äº›æ•°æ®ã€‚ç¦»çº¿è®¡ç®—å¸¸è§çš„æ“ä½œæœ‰ï¼šæ ·æœ¬æŠ½æ ·ã€ç‰¹å¾å·¥ç¨‹ã€æ¨¡å‹è®­ç»ƒã€ç›¸ä¼¼åº¦è®¡ç®—ç­‰ã€‚\n\nåœ¨çº¿å­˜å‚¨ï¼šå› ä¸ºçº¿ä¸Šçš„æœåŠ¡å¯¹äºæ—¶å»¶éƒ½æœ‰ä¸¥æ ¼çš„è¦æ±‚ã€‚æ¯”å¦‚ï¼ŒæŸä¸ªç”¨æˆ·æ‰“å¼€æ‰‹æœº APP ï¼Œä»–è‚¯å®šå¸Œæœ›APP èƒ½å¤Ÿå¿«é€Ÿå“åº”ï¼Œå¦‚æœè€—æ—¶è¿‡é•¿ï¼Œå°±ä¼šå½±å“ç”¨æˆ·çš„ä½“éªŒã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿™å°±è¦æ±‚æ¨èç³»ç»Ÿåœ¨å‡ åæ¯«ç§’ä»¥å†…å¤„ç†å®Œç”¨æˆ·è¯·æ±‚è¿”å›æ¨èç»“æœï¼Œæ‰€ä»¥ï¼Œé’ˆå¯¹çº¿ä¸Šçš„æœåŠ¡ï¼Œéœ€è¦æœ‰ä¸€ä¸ªä¸“é—¨çš„åœ¨çº¿å­˜å‚¨æ¨¡å—ï¼Œè´Ÿè´£å­˜å‚¨ç”¨äºçº¿ä¸Šçš„æ¨¡å‹å’Œç‰¹å¾æ•°æ® ã€‚\n\nå®æ—¶æ¨èï¼šå®æ—¶æ¨èæ¨¡å—çš„åŠŸèƒ½æ˜¯å¯¹æ¥è‡ªä¸šåŠ¡çš„æ–°è¯·æ±‚è¿›è¡Œé¢„æµ‹ã€‚1.è·å–ç”¨æˆ·ç‰¹å¾ï¼›2.è°ƒç”¨æ¨èæ¨¡å‹ï¼›3.ç»“æœæ’åºã€‚\nåœ¨å®é™…åº”ç”¨ä¸­ï¼Œå› ä¸ºä¸šåŠ¡çš„ç‰©å“åˆ—è¡¨å¤ªå¤§ï¼Œå¦‚æœå®æ—¶è®¡ç®—å¯¹æ¯ ä¸ªç‰©å“ä½¿ç”¨å¤æ‚çš„æ¨¡å‹è¿›è¡Œæ‰“åˆ†ï¼Œå°±æœ‰å¯èƒ½è€—æ—¶è¿‡é•¿è€Œå½±å“ç”¨æˆ·æ»¡æ„åº¦ã€‚æ‰€ä»¥ï¼Œä¸€ç§å¸¸è§çš„åšæ³•æ˜¯å°†æ¨èåˆ—è¡¨ç”Ÿæˆåˆ†ä¸ºå¬å›å’Œæ’åºä¸¤æ­¥ã€‚å¬å›çš„ä½œç”¨æ˜¯ä»å¤§é‡çš„å€™é€‰ç‰©å“ä¸­ï¼ˆä¾‹å¦‚ä¸Šç™¾ä¸‡ï¼‰ç­›é€‰å‡ºä¸€æ‰¹ç”¨æˆ·è¾ƒå¯èƒ½å–œæ¬¢çš„å€™é€‰é›† ï¼ˆä¸€èˆ¬æ˜¯å‡ ç™¾ï¼‰ã€‚æ’åºçš„ä½œç”¨æ˜¯å¯¹å¬å›å¾—åˆ°çš„ç›¸å¯¹è¾ƒå°çš„å€™é€‰é›†ä½¿ç”¨æ’åºæ¨¡å‹è¿›è¡Œæ‰“åˆ†ã€‚æ›´è¿›ä¸€æ­¥ï¼Œåœ¨æ’åºå¾—åˆ°æ¨èåˆ—è¡¨åï¼Œä¸ºäº†å¤šæ ·æ€§å’Œè¿è¥çš„ä¸€äº›è€ƒè™‘ï¼Œè¿˜ä¼šåŠ ä¸Šç¬¬ä¸‰æ­¥é‡æ’è¿‡æ»¤ï¼Œç”¨äºå¯¹ç²¾æ’åçš„æ¨èåˆ—è¡¨è¿›è¡Œå¤„ç†ã€‚\n\n\nABæµ‹è¯•ï¼šå¯¹äºäº’è”ç½‘äº§å“æ¥è¯´ï¼Œ AB æµ‹è¯•åŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªå¿…å¤‡çš„æ¨¡å—ï¼Œå¯¹äºæ¨èç³»ç»Ÿæ¥è¯´ä¹Ÿä¸ä¾‹å¤–ï¼Œå®ƒå¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜è¯„ä¼°æ–°ç®—æ³•å¯¹å®¢æˆ·è¡Œä¸ºçš„å½±å“ã€‚é™¤äº† ç¦»çº¿çš„æŒ‡æ ‡å¤–ï¼Œä¸€ä¸ªæ–°çš„æ¨èç®—æ³•ä¸Šçº¿ä¹‹å‰ èˆ¬éƒ½ä¼šç»è¿‡ AB æµ‹è¯•æ¥æµ‹è¯•æ–°ç®—æ³•çš„æœ‰æ•ˆæ€§ã€‚\n\n\nä¸‹å›¾æ˜¯ä¸ä¹‹å¯¹åº”çš„å®é™…ç³»ç»Ÿä¸­å„ä¸ªç»„ä»¶çš„æµè½¬è¿‡ç¨‹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ç”Ÿæˆæ¨èåˆ—è¡¨å°±å·²ç»åšå®Œäº†å¬å›å’Œæ’åºçš„æ“ä½œï¼Œä¸šåŠ¡å±‚ç›´æ¥è°ƒç”¨APIå°±å¯ä»¥å¾—åˆ°è¿™ä¸ªæ¨èåˆ—è¡¨ã€‚\n\n2.2 åœ¨çº¿è®­ç»ƒå¯¹äºä¸šåŠ¡æ¥è¯´ï¼Œæˆ‘ä»¬å¸Œæœ›ç”¨æˆ·å¯¹äºä¸Š ä¸ªå¹¿å‘Šçš„åé¦ˆ ï¼ˆå–œæ¬¢æˆ–è€…ä¸ æ¬¢ï¼Œæœ‰æ²¡æœ‰ç‚¹å‡» ï¼Œå¯ä»¥å¾ˆå¿«åœ°ç”¨äºä¸‹ä¸€ä¸ªå¹¿å‘Šçš„æ¨èä¸­ã€‚è¿™å°±è¦æ±‚æˆ‘ä»¬ç”¨å¦ ç§æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯åœ¨çº¿è®­ç»ƒã€‚\nåŸºäºåœ¨çº¿è®­ç»ƒçš„æ¨èç³»ç»Ÿæ¶æ„é€‚åˆäºå¹¿å‘Šå’Œç”µå•†ç­‰é«˜ç»´åº¦å¤§æ•°æ®é‡ä¸”å¯¹å®æ—¶æ€§è¦æ±‚å¾ˆé«˜çš„åœºæ™¯ ç›¸æ¯”è¾ƒåŸºäºç¦»çº¿è®­ç»ƒçš„æ¨èç³»ç»Ÿï¼ŒåŸºäºåœ¨çº¿è®­ç»ƒçš„æ¨èç³»ç»Ÿä¸åŒºåˆ†è®­ç»ƒå’Œæµ‹è¯•é˜¶æ®µï¼Œæ¯ä¸ªå›åˆéƒ½åœ¨å­¦ä¹ ï¼Œé€šè¿‡å®æ—¶çš„åé¦ˆæ¥è°ƒæ•´ç­–ç•¥ã€‚ æ–¹é¢ï¼Œåœ¨çº¿è®­ç»ƒè¦æ±‚å…¶æ ·æœ¬ã€ç‰¹å¾å’Œæ¨¡å‹çš„å¤„ç†éƒ½æ˜¯å®æ—¶çš„ï¼Œä»¥ä¾¿æ¨èçš„å†…å®¹æ›´å¿«åœ°åæ˜ ç”¨æˆ·å®æ—¶çš„å–œå¥½ï¼›å¦ä¸€æ–¹é¢ï¼Œå› ä¸ºåœ¨çº¿è®­ç»ƒäº•ä¸éœ€è¦å°†æ‰€æœ‰çš„è®­ç»ƒæ•°æ®éƒ½å­˜å‚¨ä¸‹æ¥ï¼Œæ‰€ä»¥ä¸éœ€è¦å·¨å¤§çš„ç¦»çº¿å­˜å‚¨å¼€é”€ï¼Œä½¿å¾—ç³»ç»Ÿå…·æœ‰å¾ˆå¥½çš„ä¼¸ç¼©æ€§ï¼Œå¯ä»¥æ”¯æŒè¶…å¤§çš„æ•°æ®é‡å’Œæ¨¡å‹ã€‚\n\n\næ ·æœ¬å¤„ç†ï¼šå’ŒåŸºäºç¦»çº¿è®­ç»ƒçš„æ¨èç³»ç»Ÿç›¸æ¯”ï¼Œåœ¨çº¿è®­ç»ƒåœ¨æ•°æ®ä¸ŠæŠ¥é˜¶æ®µçš„ä¸»è¦ä¸åŒä½“ç°åœ¨æ ·æœ¬å¤„ç†ä¸Šã€‚ï¼Œå¯¹äºç¦»çº¿è®­ç»ƒæ¥è¯´ï¼Œä¸ŠæŠ¥åçš„æ•°æ®å…ˆæ˜¯è¢«å­˜å‚¨åˆ°ä¸€ä¸ªåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œç„¶åç­‰å¾…ç¦»çº¿è®¡ç®—ä»»åŠ¡æ¥å¯¹æ ·æœ¬è¿›è¡Œå¤„ç†ï¼›å¯¹äºåœ¨çº¿è®­ç»ƒæ¥è¯´ï¼Œå¯¹æ ·æœ¬çš„å»é‡ã€è¿‡æ»¤å’Œé‡‡æ ·ç­‰è®¡ç®—éƒ½éœ€è¦å®æ—¶è¿›è¡Œã€‚\nå®æ—¶ç‰¹æ€§ï¼šå®æ—¶ç‰¹å¾æ¨¡å—é€šè¿‡å®æ—¶å¤„ç†æ ·æœ¬æ•°æ®æ‹¼æ¥è®­ç»ƒéœ€è¦çš„ç‰¹å¾æ„é€ è®­ç»ƒæ ·æœ¬ï¼Œè¾“å…¥æµå¼è®­ç»ƒæ¨¡å—ç”¨äºæ›´æ–°æ¨¡å‹ã€‚è¯¥æ¨¡å—çš„ä¸»è¦çš„åŠŸèƒ½æ˜¯ç‰¹å¾æ‹¼æ¥å’Œç‰¹å¾å·¥ç¨‹ã€‚\næµå¼è®­ç»ƒï¼šã€æµå¼è®­ç»ƒæ¨¡å—çš„ä¸»è¦ä½œç”¨æ˜¯ä½¿ç”¨å®æ—¶è®­ç»ƒæ ·æœ¬æ¥æ›´æ–°æ¨¡å‹ã€‚æ¨èç®—æ³•ä¸­å¢é‡æ›´æ–°éƒ¨åˆ†çš„è®¡ç®—ï¼Œé€šè¿‡æµå¼è®¡ç®—çš„æ–¹å¼æ¥è¿›è¡Œæ›´æ–°ã€‚åœ¨çº¿è®­ç»ƒçš„ä¼˜åŠ¿ä¹‹ä¸€ï¼Œæ˜¯å¯ä»¥æ”¯æŒæ¨¡å‹çš„ç¨€ç–å­˜å‚¨ã€‚è®­ç»ƒæ–¹é¢ï¼Œåœ¨çº¿æ¨¡å‹ä¸ä¸€å®šéƒ½æ˜¯ä»é›¶å¼€å§‹è®­ç»ƒï¼Œè€Œæ˜¯å¯ä»¥å°†ç¦»çº¿è®­ç»ƒå¾—åˆ°çš„æ¨¡å‹å‚æ•°ä½œä¸ºåŸºç¡€ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šè¿›è¡Œå¢é‡è®­ç»ƒã€‚\næ¨¡å‹å­˜å‚¨å’ŒåŠ è½½ï¼šæ¨¡å‹ä¸€èˆ¬å­˜å‚¨åœ¨å‚æ•°æœåŠ¡å™¨ä¸­ã€‚æ¨¡å‹æ›´æ–°åï¼Œå°†æ¨¡å‹æ–‡ä»¶æ¨é€åˆ°çº¿ä¸Šå­˜å‚¨ï¼Œå¹¶ç”±çº¿ä¸ŠæœåŠ¡æ¨¡å—åŠ¨æ€åŠ è½½ã€‚\n\n3. ç‰¹å¾æ•°æ®è¦è®­ç»ƒæ¨èæ¨¡å‹ï¼Œå°±éœ€è¦å…ˆæ”¶é›†ç”¨æˆ·çš„è¡Œä¸ºæ•°æ®ç”Ÿæˆç‰¹å¾å‘é‡ä»¥åæ‰èƒ½è¿›è¡Œè®­ç»ƒï¼Œè€Œä¸€ä¸ªç‰¹å¾å‘é‡ç”±ç‰¹å¾ä»¥åŠç‰¹å¾çš„æƒé‡ç»„æˆï¼Œåœ¨åˆ©ç”¨ç”¨æˆ·è¡Œä¸ºè®¡ç®—ç‰¹å¾å‘é‡æ—¶éœ€è¦è€ƒè™‘ä»¥ä¸‹å› ç´ ã€‚\n\nç”¨æˆ·è¡Œä¸ºçš„ç§ç±»ï¼šåœ¨ä¸€ä¸ªç½‘ç«™ä¸­ï¼Œç”¨æˆ·å¯ä»¥å¯¹ç‰©å“äº§ç”Ÿå¾ˆå¤šä¸åŒç§ç±»çš„è¡Œä¸ºã€‚ç”¨æˆ·å¯ä»¥æµè§ˆç‰©å“ã€å•å‡»ç‰©å“çš„é“¾æ¥ã€æ”¶è—ç‰©å“ã€ç»™ç‰©å“æ‰“åˆ†ã€è´­ä¹°ç‰©å“ã€è¯„è®ºç‰©å“ã€ç»™ç‰©å“æ‰“ä¸Šä¸åŒçš„æ ‡ç­¾ã€å’Œå¥½å‹åˆ†äº«ç‰©å“ã€æœç´¢ä¸åŒçš„å…³é”®è¯ç­‰ã€‚è¿™äº›è¡Œä¸ºéƒ½ä¼šå¯¹ç‰©å“ç‰¹å¾çš„æƒé‡äº§ç”Ÿå½±å“ï¼Œä½†ä¸åŒè¡Œä¸ºçš„å½±å“ä¸åŒï¼Œå¤§å¤šæ—¶å€™å¾ˆéš¾ç¡®å®šä»€ä¹ˆè¡Œä¸ºæ›´åŠ é‡è¦ï¼Œä¸€èˆ¬çš„æ ‡å‡†å°±æ˜¯ç”¨æˆ·ä»˜å‡ºä»£ä»·è¶Šå¤§çš„è¡Œä¸ºæƒé‡è¶Šé«˜ã€‚\nç”¨æˆ·è¡Œä¸ºäº§ç”Ÿçš„æ—¶é—´ï¼šä¸€èˆ¬æ¥è¯´ï¼Œç”¨æˆ·è¿‘æœŸçš„è¡Œä¸ºæ¯”è¾ƒé‡è¦ï¼Œè€Œç”¨æˆ·å¾ˆä¹…ä¹‹å‰çš„è¡Œä¸ºç›¸å¯¹æ¯”è¾ƒæ¬¡è¦ã€‚å› æ­¤ï¼Œå¦‚æœç”¨æˆ·æœ€è¿‘è´­ä¹°è¿‡æŸä¸€ä¸ªç‰©å“ï¼Œé‚£ä¹ˆè¿™ä¸ªç‰©å“å¯¹åº”çš„ç‰¹å¾å°†ä¼šå…·æœ‰æ¯”è¾ƒé«˜çš„æƒé‡ã€‚\nç”¨æˆ·è¡Œä¸ºçš„æ¬¡æ•°ï¼šæœ‰æ—¶ç”¨æˆ·å¯¹ä¸€ä¸ªç‰©å“ä¼šäº§ç”Ÿå¾ˆå¤šæ¬¡è¡Œä¸ºã€‚æ¯”å¦‚ç”¨æˆ·ä¼šå¬ä¸€é¦–æ­Œå¾ˆå¤šæ¬¡ï¼Œçœ‹ä¸€éƒ¨ç”µè§†å‰§çš„å¾ˆå¤šé›†ç­‰ã€‚å› æ­¤ç”¨æˆ·å¯¹åŒä¸€ä¸ªç‰©å“çš„åŒä¸€ç§è¡Œä¸ºå‘ç”Ÿçš„æ¬¡æ•°ä¹Ÿåæ˜ äº†ç”¨æˆ·å¯¹ç‰©å“çš„å…´è¶£ï¼Œè¡Œä¸ºæ¬¡æ•°å¤šçš„ç‰©å“å¯¹åº”çš„ç‰¹å¾æƒé‡è¶Šé«˜ã€‚\nç‰©å“çš„çƒ­é—¨ç¨‹åº¦ï¼šå¦‚æœç”¨æˆ·å¯¹ä¸€ä¸ªå¾ˆçƒ­é—¨çš„ç‰©å“äº§ç”Ÿäº†è¡Œä¸ºï¼Œå¾€å¾€ä¸èƒ½ä»£è¡¨ç”¨æˆ·çš„ä¸ªæ€§ï¼Œå› ä¸ºç”¨æˆ·å¯èƒ½æ˜¯åœ¨è·Ÿé£ï¼Œå¯èƒ½å¯¹è¯¥ç‰©å“å¹¶æ²¡æœ‰å¤ªå¤§å…´è¶£ï¼Œç‰¹åˆ«æ˜¯åœ¨ç”¨æˆ·å¯¹ä¸€ä¸ªçƒ­é—¨ç‰©å“äº§ç”Ÿäº†å¶å°”å‡ æ¬¡ä¸é‡è¦çš„è¡Œä¸ºï¼ˆæ¯”å¦‚æµè§ˆè¡Œä¸ºï¼‰æ—¶ï¼Œå°±æ›´è¯´æ˜ç”¨æˆ·å¯¹è¿™ä¸ªç‰©å“å¯èƒ½æ²¡æœ‰ä»€ä¹ˆå…´è¶£ï¼Œå¯èƒ½åªæ˜¯å› ä¸ºè¿™ä¸ªç‰©å“çš„é“¾æ¥åˆ°å¤„éƒ½æ˜¯ï¼Œå¾ˆå®¹æ˜“ç‚¹åˆ°è€Œå·²ã€‚åä¹‹ï¼Œå¦‚æœç”¨æˆ·å¯¹ä¸€ä¸ªä¸çƒ­é—¨çš„ç‰©å“äº§ç”Ÿäº†è¡Œä¸ºï¼Œå°±è¯´æ˜äº†ç”¨æˆ·çš„ä¸ªæ€§éœ€æ±‚ã€‚å› æ­¤ï¼Œæ¨èå¼•æ“åœ¨ç”Ÿæˆç”¨æˆ·ç‰¹å¾æ—¶ä¼šåŠ é‡ä¸çƒ­é—¨ç‰©å“å¯¹åº”çš„ç‰¹å¾çš„æƒé‡ã€‚\næ•°æ®å»ç‡¥ï¼šå¯¹æ ·æœ¬åšå»å™ªã€‚å¯¹äºæ•°æ®ä¸­æ··æ‚çš„åˆ·å•ç­‰ç±»ä½œå¼Šè¡Œä¸ºçš„æ•°æ®ï¼Œè¦å°†å…¶æ’é™¤å‡ºè®­ç»ƒæ•°æ®,å¦åˆ™å®ƒä¼šç›´æ¥å½±å“æ¨¡å‹çš„æ•ˆæœï¼›æ ·æœ¬ä¸­çš„ç¼ºå¤±å€¼ä¹Ÿè¦åšå¤„ç†ã€‚\næ­£è´Ÿæ ·æœ¬å‡è¡¡ï¼šä¸€èˆ¬æˆ‘ä»¬æ”¶é›†ç”¨æˆ·çš„è¡Œä¸ºæ•°æ®éƒ½æ˜¯å±äºæ­£æ ·æœ¬ï¼Œé€ æˆäº†ä¸¥é‡çš„ä¸å¹³è¡¡ã€‚æ‰€ä»¥å¯¹äºä¸€ä¸ªç”¨æˆ·ï¼Œä»ä»–æ²¡æœ‰è¿‡è¡Œä¸ºçš„ç‰©å“ä¸­é‡‡æ ·å‡ºä¸€äº›ç‰©å“ä½œä¸ºè´Ÿæ ·æœ¬ï¼Œä½†é‡‡æ ·æ—¶ï¼Œä¿è¯æ¯ä¸ªç”¨æˆ·çš„æ­£è´Ÿæ ·æœ¬æ•°ç›®ç›¸å½“ã€‚\nç‰¹å¾ç»„åˆï¼šæˆ‘ä»¬éœ€è¦è€ƒè™‘ç‰¹å¾ä¸ç‰¹å¾ä¹‹é—´çš„å…³ç³»ã€‚ä¾‹å¦‚åœ¨ç¾å›¢é…’åº—æœç´¢æ’åºä¸­ï¼Œé…’åº—çš„é”€é‡ã€ä»·æ ¼ã€ç”¨æˆ·çš„æ¶ˆè´¹æ°´å¹³ç­‰æ˜¯å¼ºç›¸å…³çš„å› ç´ ï¼Œç”¨æˆ·çš„å¹´é¾„ã€ä½ç½®å¯èƒ½æ˜¯å¼±ç›¸å…³çš„å› ç´ ï¼Œç”¨æˆ·çš„IDæ˜¯å®Œå…¨æ— å…³çš„å› ç´ ã€‚åœ¨ç¡®å®šäº†å“ªäº›å› ç´ å¯èƒ½ä¸é¢„æµ‹ç›®æ ‡ç›¸å…³åï¼Œæˆ‘ä»¬éœ€è¦å°†æ­¤ä¿¡æ¯è¡¨ç¤ºä¸ºæ•°å€¼ç±»å‹,å³ä¸ºç‰¹å¾æŠ½å–çš„è¿‡ç¨‹ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç”¨æˆ·åœ¨Appä¸Šçš„æµè§ˆã€äº¤æ˜“ç­‰è¡Œä¸ºè®°å½•ä¸­åŒ…å«äº†å¤§é‡çš„ä¿¡æ¯ï¼Œç‰¹å¾æŠ½å–åˆ™ä¸»è¦æ˜¯ä»è¿™äº›ä¿¡æ¯æŠ½å–å‡ºç›¸å…³å› ç´ ï¼Œç”¨æ•°å€¼å˜é‡è¿›è¡Œè¡¨ç¤ºã€‚å¸¸ç”¨çš„ç»Ÿè®¡ç‰¹å¾æœ‰è®¡æ•°ç‰¹å¾,å¦‚æµè§ˆæ¬¡æ•°ã€ä¸‹å•æ¬¡æ•°ç­‰;æ¯”ç‡ç‰¹å¾ï¼Œå¦‚ç‚¹å‡»ç‡ã€è½¬åŒ–ç‡ç­‰;ç»Ÿè®¡é‡ç‰¹å¾ï¼Œå¦‚ä»·æ ¼å‡å€¼ã€æ ‡å‡†å·®ã€åˆ†ä½æ•°ã€ååº¦ã€å³°åº¦ç­‰ã€‚\n\n4. ååŒè¿‡æ»¤ç®—æ³•ååŒè¿‡æ»¤ç®—æ³•èµ·æºäº 1992 å¹´ï¼Œè¢« Xerox å…¬å¸ç”¨äºä¸ªæ€§åŒ–å®šåˆ¶é‚®ä»¶ç³»ç»Ÿã€‚Xerox å¸çš„ç”¨æˆ·éœ€è¦åœ¨æ•°åç§ä¸»é¢˜ä¸­é€‰æ‹©ä¸‰åˆ°äº”ç§ä¸»é¢˜ï¼ŒååŒè¿‡æ»¤ç®—æ³•æ ¹æ®ä¸åŒçš„ä¸»é¢˜è¿‡æ»¤é‚®ä»¶ï¼Œæœ€ç»ˆè¾¾åˆ°ä¸ªæ€§åŒ–çš„ç›®çš„ã€‚\nååŒè¿‡æ»¤ç®—æ³•åˆ†ä¸ºåŸºäºç‰©å“çš„ååŒè¿‡æ»¤å’ŒåŸºäºç”¨æˆ·çš„ååŒè¿‡æ»¤ï¼Œè¾“å‡ºç»“æœä¸º TOPn çš„æ¨èåˆ—è¡¨ã€‚\n4.1 åŸºäºç‰©å“çš„ååŒè¿‡æ»¤(ItemCF)åŸºäºç‰©å“çš„ååŒè¿‡æ»¤ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³ï¼šç»™ç”¨æˆ·æ¨èé‚£äº›å’Œä»–ä»¬ä¹‹å‰å–œæ¬¢çš„ç‰©å“ç›¸ä¼¼çš„ç‰©å“ã€‚\nåŸºäºç‰©å“çš„ååŒè¿‡æ»¤ç®—æ³•é¦–å…ˆè®¡ç®—ç‰©å“ä¹‹é—´çš„ç›¸ä¼¼åº¦ï¼Œ è®¡ç®—ç›¸ä¼¼åº¦çš„æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§ï¼š\n\nåŸºäºå…±åŒå–œæ¬¢ç‰©å“çš„ç”¨æˆ·åˆ—è¡¨è®¡ç®—\n\nåœ¨æ­¤ï¼Œåˆ†æ¯ä¸­ N(i) æ˜¯è´­ä¹°ç‰©å“ i çš„ç”¨æˆ·æ•°ï¼ŒN(j) æ˜¯è´­ä¹°ç‰©å“ j çš„ç”¨æˆ·æ•°ï¼Œè€Œåˆ†å­ æ˜¯åŒæ—¶è´­ä¹°ç‰©å“i å’Œç‰©å“ j çš„ç”¨æˆ·æ•°ã€‚ã€‚å¯è§ä¸Šè¿°çš„å…¬å¼çš„æ ¸å¿ƒæ˜¯è®¡ç®—åŒæ—¶è´­ä¹°è¿™ä»¶å•†å“çš„äººæ•°æ¯”ä¾‹ ã€‚å½“åŒæ—¶è´­ä¹°è¿™ä¸¤ä¸ªç‰©å“äººæ•°è¶Šå¤šï¼Œä»–ä»¬çš„ç›¸ä¼¼åº¦ä¹Ÿå°±è¶Šé«˜ã€‚å¦å¤–å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨åˆ†æ¯ä¸­æˆ‘ä»¬ç”¨äº†ç‰©å“æ€»è´­ä¹°äººæ•°åšæƒ©ç½šï¼Œä¹Ÿå°±æ˜¯è¯´æŸä¸ªç‰©å“å¯èƒ½å¾ˆçƒ­é—¨ï¼Œå¯¼è‡´å®ƒç»å¸¸ä¼šè¢«å’Œå…¶ä»–ç‰©å“ä¸€èµ·è´­ä¹°ï¼Œæ‰€ä»¥é™¤ä»¥å®ƒçš„æ€»è´­ä¹°äººæ•°ï¼Œæ¥é™ä½å®ƒå’Œå…¶ä»–ç‰©å“çš„ç›¸ä¼¼åˆ†æ•°ã€‚\n\nåŸºäºä½™å¼¦çš„ç›¸ä¼¼åº¦è®¡ç®—\nä¸Šé¢çš„æ–¹æ³•è®¡ç®—ç‰©å“ç›¸ä¼¼åº¦æ˜¯ç›´æ¥ä½¿åŒæ—¶è´­ä¹°è¿™ä¸¤ä¸ªç‰©å“çš„äººæ•°ã€‚ä½†æ˜¯ä¹Ÿæœ‰å¯èƒ½å­˜åœ¨ç”¨æˆ·è´­ä¹°äº†ä½†ä¸å–œæ¬¢çš„æƒ…å†µ æ‰€ä»¥å¦‚æœæ•°æ®é›†åŒ…å«äº†å…·ä½“çš„è¯„åˆ†æ•°æ® æˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥æŠŠç”¨æˆ·è¯„åˆ†å¼•å…¥åˆ°ç›¸ä¼¼åº¦è®¡ç®—ä¸­ ã€‚\n\nå…¶ä¸­ æ˜¯ç”¨æˆ· k å¯¹ç‰©å“ i çš„è¯„åˆ†ï¼Œå¦‚æœæ²¡æœ‰è¯„åˆ†åˆ™ä¸º 0ã€‚\n\nçƒ­é—¨ç‰©å“çš„æƒ©ç½š\nå¯¹äºçƒ­é—¨ç‰©å“çš„é—®é¢˜ï¼Œå¯ä»¥ç”¨å¦‚ä¸‹å…¬å¼è§£å†³ï¼š\n\nå½“ æ—¶ï¼ŒN(i) è¶Šå°ï¼Œæƒ©ç½šå¾—è¶Šå‰å®³ï¼Œä»è€Œä¼šä½¿çƒ­ ç‰©å“ç›¸å…³æ€§åˆ†æ•°ä¸‹é™ã€‚\n\n\n4.2 åŸºäºç”¨æˆ·çš„ååŒè¿‡æ»¤(UserCF)åŸºäºç”¨æˆ·çš„ååŒè¿‡æ»¤ï¼ˆUser CF ï¼‰çš„åŸç†å…¶å®æ˜¯å’ŒåŸºäºç‰©å“çš„ååŒè¿‡æ»¤ç±»ä¼¼çš„ã€‚æ‰€ä¸åŒçš„æ˜¯ï¼ŒåŸºäºç‰©å“çš„ååŒè¿‡æ»¤çš„åŸç†æ˜¯ç”¨æˆ· U è´­ä¹°äº† A ç‰©å“ï¼Œæ¨èç»™ç”¨æˆ· U å’Œ A ç›¸ä¼¼çš„ç‰©å“ Bã€Cã€Dã€‚è€ŒåŸºäºç”¨æˆ·çš„ååŒè¿‡æ»¤ï¼Œæ˜¯å…ˆè®¡ç®—ç”¨æˆ· U ä¸å…¶ä»–çš„ç”¨æˆ·çš„ç›¸ä¼¼åº¦ï¼Œç„¶åå–å’Œ U æœ€ç›¸ä¼¼çš„å‡ ä¸ªç”¨æˆ·ï¼ŒæŠŠä»–ä»¬è´­ä¹°è¿‡çš„ç‰©å“æ¨èç»™ç”¨æˆ·Uã€‚\nä¸ºäº†è®¡ç®—ç”¨æˆ·ç›¸ä¼¼åº¦ï¼Œæˆ‘ä»¬é¦–å…ˆè¦æŠŠç”¨æˆ·è´­ä¹°è¿‡ç‰©å“çš„ç´¢å¼•æ•°æ®è½¬åŒ–æˆç‰©å“è¢«ç”¨æˆ·è´­ä¹°è¿‡çš„ç´¢å¼•æ•°æ®ï¼Œå³ç‰©å“çš„å€’æ’ç´¢å¼•ï¼š\n\nå»ºç«‹å¥½ç‰©å“çš„å€’æ’ç´¢å¼•åï¼Œå°±å¯ä»¥æ ¹æ®ç›¸ä¼¼åº¦å…¬å¼è®¡ç®—ç”¨æˆ·ä¹‹é—´çš„ç›¸ä¼¼åº¦ï¼š\n\nå…¶ä¸­ N(a) è¡¨ç¤ºç”¨æˆ· a è´­ä¹°ç‰©å“çš„æ•°é‡ï¼ŒN(b) è¡¨ç¤ºç”¨æˆ· b è´­ä¹°ç‰©å“çš„æ•°é‡ï¼ŒN(a)âˆ©N(b) è¡¨ç¤ºç”¨æˆ· a å’Œ b è´­ä¹°ç›¸åŒç‰©å“çš„æ•°é‡ã€‚æœ‰äº†ç”¨æˆ·çš„ç›¸ä¼¼æ•°æ®ï¼Œé’ˆå¯¹ç”¨æˆ· U æŒ‘é€‰ K ä¸ªæœ€ç›¸ä¼¼çš„ç”¨æˆ·ï¼ŒæŠŠä»–ä»¬è´­ä¹°è¿‡çš„ç‰©å“ä¸­ï¼ŒU æœªè´­ä¹°è¿‡çš„ç‰©å“æ¨èç»™ç”¨æˆ· U å³å¯ã€‚\n4.3 çŸ©é˜µåˆ†è§£ä¸Šè¿°è®¡ç®—ä¼šå¾—åˆ°ä¸€ä¸ªç›¸ä¼¼åº¦çŸ©é˜µï¼Œè€Œè¿™ä¸ªçŸ©é˜µçš„å¤§å°å’Œçº¬åº¦éƒ½æ˜¯å¾ˆå¤§çš„ï¼Œéœ€è¦è¿›è¡Œé™ç»´å¤„ç†ï¼Œç”¨åˆ°çš„æ˜¯SVDçš„é™ç»´æ–¹æ³•ï¼Œå…·ä½“å¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰å†™çš„é™ç»´æ–¹æ³•ï¼š2.5 é™ç»´æ–¹æ³•\nåŸºäºç¨€ç–è‡ªç¼–ç çš„çŸ©é˜µåˆ†è§£\nçŸ©é˜µåˆ†è§£æŠ€æœ¯åœ¨æ¨èé¢†åŸŸçš„åº”ç”¨æ¯”è¾ƒæˆç†Ÿï¼Œä½†æ˜¯é€šè¿‡ä¸Šä¸€èŠ‚çš„ä»‹ç»ï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°çŸ©é˜µåˆ†è§£æœ¬è´¨ä¸Šåªé€šè¿‡ä¸€æ¬¡åˆ†è§£æ¥å¯¹ åŸçŸ©é˜µè¿›è¡Œé€¼è¿‘ï¼Œç‰¹å¾æŒ–æ˜çš„å±‚æ¬¡ä¸å¤Ÿæ·±å…¥ã€‚å¦å¤–çŸ©é˜µåˆ†è§£ä¹Ÿæ²¡æœ‰è¿ç”¨åˆ°ç‰©å“æœ¬èº«çš„å†…å®¹ç‰¹å¾ï¼Œä¾‹å¦‚ä¹¦æœ¬çš„ç±»åˆ«åˆ†ç±»ã€éŸ³ä¹çš„æµæ´¾åˆ†ç±»ç­‰ã€‚éšç€ç¥ç»ç½‘ç»œæŠ€æœ¯çš„å…´èµ·ï¼Œç¬”è€…å‘ç°é€šè¿‡å¤šå±‚æ„ŸçŸ¥æœºï¼Œå¯ä»¥å¾—åˆ°æ›´åŠ æ·±åº¦çš„ç‰¹å¾è¡¨ç¤ºï¼Œå¹¶ä¸”å¯ä»¥å¯¹å†…å®¹åˆ†ç±»ç‰¹å¾åŠ ä»¥åº”ç”¨ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ä»‹ç»ä¸€ä¸‹ç¨€ç–è‡ªç¼–ç ç¥ç»ç½‘ç»œçš„è®¾è®¡æ€è·¯ã€‚\n\nåŸºç¡€çš„è‡ªç¼–ç ç»“æ„\næœ€ç®€å•çš„è‡ªç¼–ç ç»“æ„å¦‚ä¸‹å›¾ï¼Œæ„é€ ä¸ªä¸‰å±‚çš„ç¥ç»ç½‘ç»œï¼Œæˆ‘ä»¬è®©è¾“å‡ºå±‚ç­‰äºè¾“å…¥å±‚ï¼Œä¸”ä¸­é—´å±‚çš„ç»´åº¦è¿œä½äºè¾“å…¥å±‚å’Œè¾“å‡ºå±‚ï¼Œè¿™æ ·å°±å¾—åˆ°äº†ç¬¬ä¸€å±‚çš„ç‰¹å¾å‹ç¼©ã€‚\n\nç®€å•æ¥è¯´è‡ªç¼–ç ç¥ç»ç½‘ç»œå°è¯•å­¦ä¹ ä¸­é—´å±‚çº¦ç­‰äºè¾“å…¥å±‚çš„å‡½æ•°ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒå°è¯•é€¼è¿‘ä¸€ä¸ªæ’ç­‰å‡½æ•°ã€‚å¦‚æœç½‘ç»œçš„è¾“å…¥æ•°æ®æ˜¯å®Œå…¨éšæœºçš„ï¼Œæ¯”å¦‚æ¯ä¸€ä¸ªè¾“å…¥éƒ½æ˜¯ä¸€ä¸ªè·Ÿå…¶ä»–ç‰¹å¾å®Œå…¨æ— å…³çš„ç‹¬ç«‹åŒåˆ†å¸ƒé«˜æ–¯éšæœºå˜ ï¼Œé‚£ä¹ˆè¿™ä¸€å‹ç¼©è¡¨ç¤ºå°†ä¼šéå¸¸éš¾äºå­¦ä¹ ã€‚ä½†æ˜¯å¦‚æœè¾“å…¥æ•°æ®ä¸­éšå«ç€ äº›ç‰¹å®šçš„ç»“æ„ï¼Œæ¯”å¦‚æŸäº›è¾“å…¥ç‰¹å¾æ˜¯å½¼æ­¤ç›¸å…³çš„ï¼Œé‚£ä¹ˆè¿™ä¸€ç®—æ³•å°±å¯ä»¥å‘ç°è¾“å…¥æ•°æ®ä¸­çš„è¿™äº›ç›¸å…³æ€§ã€‚\n\nå¤šå±‚ç»“æ„\nåŸºäºä»¥ä¸Šçš„å•å±‚éšè—å±‚çš„ç½‘ç»œç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥æ‰©å±•è‡³å¤šå±‚ç½‘ç»œç»“æ„ï¼Œå­¦ä¹ åˆ°æ›´é«˜å±‚æ¬¡çš„æŠ½è±¡ç‰¹å¾ã€‚\n\n\n\n5. éšè¯­ä¹‰æ¨¡å‹5.1 åŸºæœ¬æ€æƒ³æ¨èç³»ç»Ÿä¸­ä¸€ä¸ªé‡è¦çš„åˆ†æ”¯ï¼Œéšè¯­ä¹‰å»ºæ¨¡ã€‚éšè¯­ä¹‰æ¨¡å‹LFMï¼šLatent Factor Modelï¼Œå…¶æ ¸å¿ƒæ€æƒ³å°±æ˜¯é€šè¿‡éšå«ç‰¹å¾è”ç³»ç”¨æˆ·å…´è¶£å’Œç‰©å“ã€‚\nè¿‡ç¨‹åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼Œå°†ç‰©å“æ˜ å°„åˆ°éšå«åˆ†ç±»ï¼Œç¡®å®šç”¨æˆ·å¯¹éšå«åˆ†ç±»çš„å…´è¶£ï¼Œç„¶åé€‰æ‹©ç”¨æˆ·æ„Ÿå…´è¶£çš„åˆ†ç±»ä¸­çš„ç‰©å“æ¨èç»™ç”¨æˆ·ã€‚å®ƒæ˜¯åŸºäºç”¨æˆ·è¡Œä¸ºç»Ÿè®¡çš„è‡ªåŠ¨èšç±»ã€‚\néšè¯­ä¹‰æ¨¡å‹åœ¨Top-Næ¨èä¸­çš„åº”ç”¨ååˆ†å¹¿æ³›ã€‚å¸¸ç”¨çš„éšè¯­ä¹‰æ¨¡å‹ï¼ŒLSA(Latent Semantic Analysis)ï¼ŒLDA(Latent Dirichlet Allocation)ï¼Œä¸»é¢˜æ¨¡å‹(Topic Model)ï¼ŒçŸ©é˜µåˆ†è§£(Matrix Factorization)ç­‰ç­‰ã€‚\né¦–å…ˆé€šè¿‡ä¸€ä¸ªä¾‹å­æ¥ç†è§£ä¸€ä¸‹è¿™ä¸ªæ¨¡å‹ï¼Œæ¯”å¦‚è¯´æœ‰ä¸¤ä¸ªç”¨æˆ·Aå’ŒBï¼Œç›®å‰æœ‰ç”¨æˆ·çš„é˜…è¯»åˆ—è¡¨ï¼Œç”¨æˆ·Açš„å…´è¶£æ¶‰åŠä¾¦æ¢å°è¯´ï¼Œç§‘æ™®å›¾ä¹¦ä»¥åŠä¸€äº›è®¡ç®—æœºæŠ€æœ¯ä¹¦ï¼Œè€Œç”¨æˆ·Bçš„å…´è¶£æ¯”è¾ƒé›†ä¸­åœ¨æ•°å­¦å’Œæœºå™¨å­¦ä¹ æ–¹é¢ã€‚é‚£ä¹ˆå¦‚ä½•ç»™Aå’ŒBæ¨èå›¾ä¹¦å‘¢ï¼Ÿ\nå¯¹äºUserCFï¼Œé¦–å…ˆéœ€è¦æ‰¾åˆ°å’Œä»–ä»¬çœ‹äº†åŒæ ·ä¹¦çš„å…¶ä»–ç”¨æˆ·(å…´è¶£ç›¸ä¼¼çš„ç”¨æˆ·)ï¼Œç„¶ååœ¨ç»™ä»–ä»¬æ¨èé‚£äº›ç”¨æˆ·å–œæ¬¢çš„å…¶ä»–ä¹¦ã€‚å¯¹äºItemCF,éœ€è¦ç»™ä»–ä»¬æ¨èå’Œä»–ä»¬å·²ç»çœ‹çš„ä¹¦ç›¸ä¼¼çš„ä¹¦ï¼Œæ¯”å¦‚ç”¨æˆ·B çœ‹äº†å¾ˆå¤šæ•°æ®æŒ–æ˜æ–¹é¢çš„ä¹¦ï¼Œé‚£ä¹ˆå¯ä»¥ç»™ä»–æ¨èæœºå™¨å­¦ä¹ æˆ–è€…æ¨¡å¼è¯†åˆ«æ–¹é¢çš„ä¹¦ã€‚\nè¿˜æœ‰ä¸€ç§æ–¹æ³•å°±æ˜¯ä½¿ç”¨éšè¯­ä¹‰æ¨¡å‹ï¼Œå¯ä»¥å¯¹ä¹¦å’Œç‰©å“çš„å…´è¶£è¿›è¡Œåˆ†ç±»ã€‚å¯¹äºæŸä¸ªç”¨æˆ·ï¼Œé¦–å…ˆå¾—åˆ°ä»–çš„å…´è¶£åˆ†ç±»ï¼Œç„¶åä»åˆ†ç±»ä¸­æŒ‘é€‰ä»–å¯èƒ½å–œæ¬¢çš„ç‰©å“ã€‚\n5.2 æ¨¡å‹ç†è§£\nå¦‚ä½•ç»™ç‰©å“è¿›è¡Œåˆ†ç±»ï¼Ÿ\nå¦‚ä½•ç¡®å®šç”¨æˆ·å¯¹å“ªäº›ç±»çš„ç‰©å“æ„Ÿå…´è¶£ï¼Œä»¥åŠæ„Ÿå…´è¶£çš„ç¨‹åº¦ï¼Ÿ\nå¯¹äºä¸€ä¸ªç»™å®šçš„ç±»ï¼Œé€‰æ‹©å“ªäº›å±äºè¿™ä¸ªç±»çš„ç‰©å“æ¨èç»™ç”¨æˆ·ï¼Œä»¥åŠå¦‚ä½•ç¡®å®šè¿™äº›ç‰©å“åœ¨ä¸€ä¸ªç±»ä¸­çš„æƒé‡ï¼Ÿ\n\nä¸ºäº†è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼Œç ”ç©¶äººå‘˜æå‡ºï¼šä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸ä»æ•°æ®å‡ºå‘ï¼Œè‡ªåŠ¨åœ°æ‰¾åˆ°é‚£äº›ç±»ï¼Œç„¶åè¿›è¡Œä¸ªæ€§åŒ–æ¨èï¼Œéšè¯­ä¹‰åˆ†ææŠ€æœ¯å› ä¸ºé‡‡å–åŸºäºç”¨æˆ·è¡Œä¸ºç»Ÿè®¡çš„è‡ªåŠ¨èšç±»ï¼Œè¾ƒå¥½åœ°è§£å†³äº†ä¸Šé¢çš„é—®é¢˜ã€‚éšè¯­ä¹‰åˆ†ææŠ€æœ¯ä»è¯ç”Ÿåˆ°ä»Šå¤©äº§ç”Ÿäº†å¾ˆå¤šè‘—åçš„æ¨¡å‹å’Œæ–¹æ³•ï¼Œå…¶ä¸­å’Œæ¨èæŠ€æœ¯ç›¸å…³çš„æœ‰pLSAï¼ŒLDAï¼Œéšå«ç±»åˆ«æ¨¡å‹ï¼ˆlatent class modelï¼‰, éšå«ä¸»é¢˜æ¨¡å‹ï¼ˆlatent topic modelï¼‰, çŸ©é˜µåˆ†è§£ï¼ˆmatrix factorizationï¼‰ã€‚\nLFMé€šè¿‡å¦‚ä¸‹å…¬å¼è®¡ç®—ç”¨æˆ· u å¯¹ç‰©å“ i çš„å…´è¶£ï¼š\n\nè¿™ä¸ªå…¬å¼ä¸­ å’Œ æ˜¯æ¨¡å‹çš„å‚æ•°ï¼Œå…¶ä¸­ åº¦é‡äº†ç”¨æˆ· u çš„å…´è¶£å’Œç¬¬ k ä¸ªéšç±»çš„å…³ç³»ï¼Œè€Œ åº¦é‡äº†ç¬¬ k ä¸ªéšç±»å’Œç‰©å“ i ä¹‹é—´çš„å…³ç³»ã€‚é‚£ä¹ˆï¼Œä¸‹é¢çš„é—®é¢˜å°±æ˜¯å¦‚ä½•è®¡ç®—è¿™ä¸¤ä¸ªå‚æ•°ã€‚\nå¯¹æœ€ä¼˜åŒ–ç†è®ºæˆ–è€…æœºå™¨å­¦ä¹ æœ‰æ‰€äº†è§£çš„è¯»è€…ï¼Œå¯èƒ½å¯¹å¦‚ä½•è®¡ç®—è¿™ä¸¤ä¸ªå‚æ•°éƒ½æ¯”è¾ƒæ¸…æ¥šã€‚è¿™ä¸¤ä¸ªå‚æ•°æ˜¯ä»æ•°æ®é›†ä¸­è®¡ç®—å‡ºæ¥çš„ã€‚è¦è®¡ç®—è¿™ä¸¤ä¸ªå‚æ•°ï¼Œéœ€è¦ä¸€ä¸ªè®­ç»ƒé›†ï¼Œå¯¹äºæ¯ä¸ªç”¨æˆ·uï¼Œè®­ç»ƒé›†é‡Œéƒ½åŒ…å«äº†ç”¨æˆ·uå–œæ¬¢çš„ç‰©å“å’Œä¸æ„Ÿå…´è¶£çš„ç‰©å“ï¼Œé€šè¿‡å­¦ä¹ è¿™ä¸ªæ•°æ®é›†ï¼Œå°±å¯ä»¥è·å¾—ä¸Šé¢çš„æ¨¡å‹å‚æ•°ã€‚\n6. æ’åºç®—æ³•åœ¨å·¥ä¸šåº”ç”¨ä¸­ï¼Œæ¨èç³»ç»Ÿé€šå¸¸å¯åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå¬å›å’Œæ’åºã€‚ååŒè¿‡æ»¤å±äºå¬å›çš„ç®—æ³•ï¼Œä»å¬å›ä¸­å¾—åˆ°ä¸€ä¸ªæ¯”è¾ƒå°çš„æ¨èåˆ—è¡¨ï¼Œç„¶åç»è¿‡æ’åºä¹‹åæ‰ä¼šè¾“å‡ºåˆ°æœ€ç»ˆçš„æ¨èåˆ—è¡¨é‡Œï¼Œæ˜¯ä¸€ä¸ªæœ‰åºçš„æ¨èåˆ—è¡¨ã€‚\nè¿™ä¸ªè¿‡ç¨‹ä¼šä»å‡ åƒä¸‡ item ä¸­ç­›é€‰å‡ºå‡ ç™¾æˆ–è€…ä¸Šåƒçš„å€™é€‰é›†ï¼Œç„¶ååœ¨æ’åºé˜¶æ®µé€‰å‡º30ä¸ªç»™åˆ°æ¯ä½ç”¨æˆ·ã€‚è¿™ä¸ªæ’åºå¯ç†è§£ä¸ºä¸€ä¸ªå‡½æ•°ï¼ŒF(user, item, context)ï¼Œè¾“å…¥ä¸ºç”¨æˆ·ã€ç‰©å“ã€ç¯å¢ƒï¼Œè¾“å‡ºä¸€ä¸ª0åˆ°1ä¹‹é—´çš„åˆ†æ•°ï¼Œå–åˆ†æ•°æœ€é«˜çš„å‡ é¦–ã€‚è¿™ä¸€è¿‡ç¨‹é€šå¸¸ç§°ä¸º CTR é¢„ä¼°ã€‚é‚£ä¹ˆ F å‡½æ•°å¸¸è§çš„è¿ä½œå½¢å¼æœ‰ï¼š\n\nLogistic Regression\næœ€ç®€å•çš„æ˜¯é€»è¾‘å›å½’(Logistic Regression)ï¼Œä¸€ä¸ªå¹¿ä¹‰çº¿æ€§æ¨¡å‹ã€‚æ‹¿æŸ user çš„ç”¨æˆ·ç”»åƒ(ä¸€ä¸ªå‘é‡)æ¯”å¦‚[3, 1]ï¼Œæ‹¼æ¥ä¸ŠæŸ item çš„ç‰©å“ç”»åƒæ¯”å¦‚[4, 0]ï¼Œå†åŠ ä¸Šä»£è¡¨ context çš„å‘é‡[0, 1, 1]åå¾—åˆ°[3, 1, 4, 0, 0, 1, 1]ï¼Œè‹¥è¯¥ user æ›¾ä¸è¯¥ item å‘ç”Ÿè¿‡è”ç³»åˆ™ label ä¸º1ï¼Œè¿™äº›åŠ èµ·æ¥æ˜¯ä¸€ä¸ªæ­£æ ·æœ¬ï¼ŒåŒæ—¶å¯ä»¥å°†ç”¨æˆ·â€œè·³è¿‡â€çš„ item æˆ–çƒ­é—¨çš„å´æ²¡æœ‰ä¸ç”¨æˆ·äº§ç”Ÿè¿‡è”ç³»çš„ item ä½œä¸ºè´Ÿæ ·æœ¬ï¼Œlabel ä¸º0ã€‚æŒ‰ç…§è¿™æ ·çš„è¾“å…¥å’Œè¾“å‡ºå°±å¯ä»¥è®­ç»ƒå‡ºæ’åºç®—æ³•äº†ã€‚è¯¦ç»†æ¨¡å‹è§ï¼š2. é€»è¾‘å›å½’\n\nGBDT\nä½¿ç”¨æ¢¯åº¦æå‡å†³ç­–æ ‘(GBDT) çš„æ–¹æ¡ˆä¹Ÿå¯ä»¥è§£å†³è¿™ä¸ªæ’åºçš„é—®é¢˜ï¼Œåªæ˜¯æ¨¡å‹ä¸ LR ä¸ä¸€æ ·ã€‚GBDTä½œä¸ºé›†æˆæ¨¡å‹ï¼Œä¼šä½¿ç”¨å¤šæ£µå†³ç­–æ ‘ï¼Œæ¯æ£µæ ‘å»æ‹Ÿåˆå‰ä¸€æ£µæ ‘çš„æ®‹å·®æ¥å¾—åˆ°å¾ˆå¥½çš„æ‹Ÿåˆæ•ˆæœã€‚ä¸€ä¸ªæ ·æœ¬è¾“å…¥åˆ°ä¸€æ£µæ ‘ä¸­ï¼Œä¼šæ ¹æ®å„èŠ‚ç‚¹çš„æ¡ä»¶å¾€ä¸‹èµ°åˆ°æŸä¸ªå¶å­èŠ‚ç‚¹ï¼Œå°†æ­¤èŠ‚ç‚¹å€¼ç½®ä¸º1ï¼Œå…¶ä½™ç½®ä¸º0ã€‚è¯¦ç»†æ¨¡å‹ç®—æ³•è§ï¼š3.2 GBDT\n\nGBDT+LR\nGBDTä¸LRçš„stackingæ¨¡å‹ç›¸å¯¹äºåªç”¨GBDTä¼šæœ‰ç•¥å¾®çš„æå‡ï¼Œæ›´å¤§çš„å¥½å¤„æ˜¯é˜²æ­¢GBDTè¿‡æ‹Ÿåˆã€‚å‡çº§ä¸ºGBDT+LRåï¼Œçº¿ä¸Šæ•ˆæœæå‡äº†çº¦5%ï¼Œå¹¶ä¸”å› ä¸ºçœå»äº†å¯¹æ–°ç‰¹å¾è¿›è¡Œäººå·¥è½¬æ¢çš„æ­¥éª¤ï¼Œå¢åŠ ç‰¹å¾çš„è¿­ä»£æµ‹è¯•ä¹Ÿæ›´å®¹æ˜“äº†ã€‚\n\nGBDT+FM\nGBDTæ˜¯ä¸æ”¯æŒé«˜ç»´ç¨€ç–ç‰¹å¾çš„ï¼Œå¦‚æœå°†é«˜ç»´ç‰¹å¾åŠ åˆ°LRä¸­ï¼Œä¸€æ–¹é¢éœ€è¦äººå·¥ç»„åˆé«˜ç»´ç‰¹å¾ï¼Œå¦ä¸€æ–¹é¢æ¨¡å‹ç»´åº¦å’Œè®¡ç®—å¤æ‚åº¦ä¼šæ˜¯Oï¼ˆN^2ï¼‰çº§åˆ«çš„å¢é•¿ã€‚æ‰€ä»¥è®¾è®¡äº†GBDT+FMçš„æ¨¡å‹å¦‚å›¾æ‰€ç¤ºï¼Œé‡‡ç”¨Factorization Machinesæ¨¡å‹æ›¿æ¢LRã€‚\n\nFactorization Machinesï¼ˆFMï¼‰æ¨¡å‹å¦‚ä¸‹æ‰€ç¤ºï¼š\n\nå…·æœ‰ä»¥ä¸‹å‡ ä¸ªä¼˜ç‚¹â‘ å‰ä¸¤é¡¹ä¸ºä¸€ä¸ªçº¿æ€§æ¨¡å‹ï¼Œç›¸å½“äºLRæ¨¡å‹çš„ä½œç”¨â‘¡ç¬¬ä¸‰é¡¹ä¸ºä¸€ä¸ªäºŒæ¬¡äº¤å‰é¡¹ï¼Œèƒ½å¤Ÿè‡ªåŠ¨å¯¹ç‰¹å¾è¿›è¡Œäº¤å‰ç»„åˆâ‘¢é€šè¿‡å¢åŠ éšå‘é‡ï¼Œæ¨¡å‹è®­ç»ƒå’Œé¢„æµ‹çš„è®¡ç®—å¤æ‚åº¦é™ä¸ºäº†O(N)â‘£æ”¯æŒç¨€ç–ç‰¹å¾ã€‚\nå‡ ä¸ªä¼˜ç‚¹ï¼Œä½¿çš„GBDT+FMå…·æœ‰äº†è‰¯å¥½çš„ç¨€ç–ç‰¹å¾æ”¯æŒï¼ŒFMä½¿ç”¨GBDTçš„å¶å­ç»“ç‚¹å’Œç¨€ç–ç‰¹å¾ï¼ˆå†…å®¹ç‰¹å¾ï¼‰ä½œä¸ºè¾“å…¥ï¼Œæ¨¡å‹ç»“æ„ç¤ºæ„å›¾å¦‚ä¸‹ï¼ŒGBDT+FMæ¨¡å‹ä¸Šçº¿åç›¸æ¯”GBDT+LRåœ¨å„é¡¹æŒ‡æ ‡çš„æ•ˆæœæå‡åœ¨4%~6%ä¹‹é—´ã€‚\n\nDNN+GBDT+FM\nGBDT+FMæ¨¡å‹ï¼Œå¯¹embeddingç­‰å…·æœ‰ç»“æ„ä¿¡æ¯çš„æ·±åº¦ç‰¹å¾åˆ©ç”¨ä¸å……åˆ†ï¼Œè€Œæ·±åº¦å­¦ä¹ ï¼ˆDeep Neural Networkï¼‰èƒ½å¤Ÿå¯¹åµŒå…¥å¼ï¼ˆembeddingï¼‰ç‰¹å¾å’Œæ™®é€šç¨ å¯†ç‰¹å¾è¿›è¡Œå­¦ä¹ ï¼ŒæŠ½å–å‡ºæ·±å±‚ä¿¡æ¯ï¼Œæé«˜æ¨¡å‹çš„å‡†ç¡®æ€§ï¼Œå¹¶å·²ç»æˆåŠŸåº”ç”¨åˆ°ä¼—å¤šæœºå™¨å­¦ä¹ é¢†åŸŸã€‚å› æ­¤æˆ‘ä»¬å°†DNNå¼•å…¥åˆ°æ’åºæ¨¡å‹ä¸­ï¼Œæé«˜æ’åºæ•´ä½“è´¨é‡ã€‚\nDNN+GBDT+FMçš„ensembleæ¨¡å‹æ¶æ„å¦‚å›¾æ‰€ç¤ºï¼ŒFMå±‚ä½œä¸ºæ¨¡å‹çš„æœ€åä¸€å±‚ï¼Œå³èåˆå±‚ï¼Œå…¶è¾“å…¥ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šDNNçš„æœ€åä¸€å±‚éšè—å±‚ã€GBDTçš„è¾“å‡ºå¶å­èŠ‚ç‚¹ã€é«˜ç»´ç¨€ç–ç‰¹å¾ã€‚DNN+GBDT+FMçš„ensembleæ¨¡å‹æ¶æ„ä»‹ç»å¦‚ä¸‹æ‰€ç¤ºï¼Œè¯¥æ¨¡å‹ä¸Šçº¿åç›¸å¯¹äºGBDT+FMæœ‰4%çš„æ•ˆæœæå‡ã€‚\n\nä½¿ç”¨åˆ†å¸ƒå¼çš„TensorFlowè¿›è¡Œè®­ç»ƒï¼Œä½¿ç”¨åŸºäºTensorFlow Servingçš„å¾®æœåŠ¡è¿›è¡Œåœ¨çº¿é¢„æµ‹ï¼ŒDNN+GBDT+FMçš„ensembleæ¨¡å‹ä½¿ç”¨çš„æ˜¯Adamä¼˜åŒ–å™¨ã€‚Adamç»“åˆäº†The Adaptive Gradient Algorithmï¼ˆAdaGradï¼‰å’ŒRoot Mean Square Propagationï¼ˆRMSPropï¼‰ç®—æ³•ã€‚å…·æœ‰æ›´ä¼˜çš„æ”¶æ•›é€Ÿç‡ï¼Œæ¯ä¸ªå˜é‡æœ‰ç‹¬è‡ªçš„ä¸‹é™æ­¥é•¿ï¼Œæ•´ä½“ä¸‹é™æ­¥é•¿ä¼šæ ¹æ®å½“å‰æ¢¯åº¦è¿›è¡Œè°ƒèŠ‚ï¼Œèƒ½å¤Ÿé€‚åº”å¸¦å™ªéŸ³çš„æ•°æ®ã€‚å®éªŒæµ‹è¯•äº†å¤šç§ä¼˜åŒ–å™¨ï¼ŒAdamçš„æ•ˆæœæ˜¯æœ€ä¼˜çš„ã€‚\n\n\nå·¥ä¸šç•ŒDNN rankingç°çŠ¶\n\nYoutubeäº2016å¹´æ¨å‡ºDNNæ’åºç®—æ³•ã€‚\nä¸Šæµ·äº¤é€šå¤§å­¦å’ŒUCLäº2016å¹´æ¨å‡ºProduct-based Neural Networkï¼ˆPNNï¼‰ç½‘ç»œè¿›è¡Œç”¨æˆ·ç‚¹å‡»é¢„æµ‹ã€‚PNNç›¸å½“äºåœ¨DNNå±‚åšäº†ç‰¹å¾äº¤å‰ï¼Œæˆ‘ä»¬çš„åšæ³•æ˜¯æŠŠç‰¹å¾äº¤å‰äº¤ç»™FMå»åšï¼ŒDNNä¸“æ³¨äºæ·±å±‚ä¿¡æ¯çš„æå–ã€‚\nGoogleäº2016å¹´æ¨å‡ºWide And Deep Modelï¼Œè¿™ä¸ªä¹Ÿæ˜¯æˆ‘ä»¬å½“å‰æ¨¡å‹çš„åŸºç¡€ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šä½¿ç”¨FMæ›¿æ¢äº†Cross Feature LRï¼Œç®€åŒ–äº†è®¡ç®—å¤æ‚åº¦ï¼Œæé«˜äº¤å‰çš„æ³›åŒ–èƒ½åŠ›ã€‚\né˜¿é‡Œä»Šå¹´ä½¿ç”¨attentionæœºåˆ¶æ¨å‡ºäº†Deep Interest Networkï¼ˆDINï¼‰è¿›è¡Œå•†å“ç‚¹å‡»ç‡é¢„ä¼°ï¼Œä¼˜åŒ–embeddingå‘é‡çš„å‡†ç¡®æ€§ï¼Œå€¼å¾—å€Ÿé‰´ã€‚\n\n7. è¯„ä¼°æµ‹è¯•7.1 ABæµ‹è¯•æ–°çš„æ¨èæ¨¡å‹ä¸Šçº¿åè¦è¿›è¡ŒABæµ‹è¯•ï¼Œå°†å®ƒå’Œæ—§çš„ç®—æ³•è¿›è¡Œæ¯”è¾ƒã€‚\nABæµ‹è¯•æ˜¯ä¸€ç§å¾ˆå¸¸ç”¨çš„åœ¨çº¿è¯„æµ‹ç®—æ³•çš„å®éªŒæ–¹æ³•ã€‚å®ƒé€šè¿‡ä¸€å®šçš„è§„åˆ™å°†ç”¨æˆ·éšæœºåˆ†æˆå‡ ç»„ï¼Œå¹¶å¯¹ä¸åŒç»„çš„ç”¨æˆ·é‡‡ç”¨ä¸åŒçš„ç®—æ³•ï¼Œç„¶åé€šè¿‡ç»Ÿè®¡ä¸åŒç»„ç”¨æˆ·çš„å„ç§ä¸åŒçš„è¯„æµ‹æŒ‡æ ‡æ¯”è¾ƒä¸åŒç®—æ³•ï¼Œæ¯”å¦‚å¯ä»¥ç»Ÿè®¡ä¸åŒç»„ç”¨æˆ·çš„ç‚¹å‡»ç‡ï¼Œé€šè¿‡ç‚¹å‡»ç‡æ¯”è¾ƒä¸åŒç®—æ³•çš„æ€§èƒ½ã€‚å¯¹ABæµ‹è¯•æ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥æµè§ˆä¸€ä¸‹ç½‘ç«™http:www.abtests.com ï¼Œè¯¥ç½‘ç«™ç»™å‡ºäº†å¾ˆå¤šé€šè¿‡å®é™…ABæµ‹è¯•æé«˜ç½‘ç«™ç”¨æˆ·æ»¡æ„åº¦çš„ä¾‹å­ï¼Œä»ä¸­æˆ‘ä»¬å¯ä»¥å­¦ä¹ åˆ°å¦‚ä½•è¿›è¡Œåˆç†çš„ABæµ‹è¯•ã€‚\nåˆ‡åˆ†æµé‡æ˜¯ABæµ‹è¯•ä¸­çš„å…³é”®ï¼Œä¸åŒçš„å±‚ä»¥åŠæ§åˆ¶è¿™äº›å±‚çš„å›¢é˜Ÿéœ€è¦ä»ä¸€ä¸ªç»Ÿä¸€çš„åœ°æ–¹è·å¾—è‡ªå·±ABæµ‹è¯•çš„æµé‡ï¼Œè€Œä¸åŒå±‚ä¹‹é—´çš„æµé‡åº”è¯¥æ˜¯æ­£äº¤çš„ã€‚\n\nâ€œæ­£äº¤æ€§â€æ˜¯ä»å‡ ä½•ä¸­å€Ÿæ¥çš„æœ¯è¯­ã€‚å¦‚æœä¸¤æ¡ç›´çº¿ç›¸äº¤æˆç›´è§’ï¼Œä»–ä»¬å°±æ˜¯æ­£äº¤çš„ã€‚ç”¨å‘é‡æœ¯è¯­æ¥è¯´ï¼Œè¿™ä¸¤æ¡ç›´çº¿äº’ä¸ä¾èµ–ã€‚\n\nä¸‹å›¾æ˜¯ä¸€ä¸ªç®€å•çš„ABæµ‹è¯•ç³»ç»Ÿã€‚ç”¨æˆ·è¿›å…¥ç½‘ç«™åï¼Œæµé‡åˆ†é…ç³»ç»Ÿå†³å®šç”¨æˆ·æ˜¯å¦éœ€è¦è¢«è¿›è¡ŒABæµ‹è¯•ï¼Œå¦‚æœéœ€è¦çš„è¯ï¼Œæµé‡åˆ†é…ç³»ç»Ÿä¼šç»™ç”¨æˆ·æ‰“ä¸Šåœ¨æµ‹è¯•ä¸­å±äºä»€ä¹ˆåˆ†ç»„çš„æ ‡ç­¾ã€‚ç„¶åç”¨æˆ·æµè§ˆç½‘é¡µï¼Œè€Œç”¨æˆ·åœ¨æµè§ˆç½‘é¡µæ—¶çš„è¡Œä¸ºéƒ½ä¼šè¢«é€šè¿‡æ—¥å¿—ç³»ç»Ÿå‘å›åå°çš„æ—¥å¿—æ•°æ®åº“ã€‚æ­¤æ—¶ï¼Œå¦‚æœç”¨æˆ·æœ‰æµ‹è¯•åˆ†ç»„çš„æ ‡ç­¾ï¼Œé‚£ä¹ˆè¯¥æ ‡ç­¾ä¹Ÿä¼šè¢«å‘å›åå°æ•°æ®åº“ã€‚åœ¨åå°ï¼Œå®éªŒäººå‘˜çš„å·¥ä½œé¦–å…ˆæ˜¯é…ç½®æµé‡åˆ†é…ç³»ç»Ÿï¼Œå†³å®šæ»¡è¶³ä»€ä¹ˆæ¡ä»¶çš„ç”¨æˆ·å‚åŠ ä»€ä¹ˆæ ·çš„æµ‹è¯•ã€‚å…¶æ¬¡ï¼Œå®éªŒäººå‘˜éœ€è¦ç»Ÿè®¡æ—¥å¿—æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œé€šè¿‡è¯„æµ‹ç³»ç»Ÿç”Ÿæˆä¸åŒåˆ†ç»„ç”¨æˆ·çš„å®éªŒæŠ¥å‘Šï¼Œå¹¶æ¯”è¾ƒå’Œè¯„æµ‹å®éªŒç»“æœã€‚\n\nå½“å®Œæˆäº†ABæµ‹è¯•åï¼Œæ ¹æ®æŒ‡æ ‡ç»“æœï¼Œå¦‚æœä¼˜äºä¹‹å‰çš„æ¨èç®—æ³•ï¼Œé‚£ä¹ˆæ—§çš„ç®—æ³•å°±å¯ä»¥æ›¿æ¢æˆæ–°çš„äº†ã€‚\n7.2 å…¶å®ƒè¯„ä¼°æ–¹æ³•æ¨¡å‹å‡†å¤‡å°±ç»ªåï¼Œä¸€èˆ¬ä¼šå…ˆé€šè¿‡ç¦»çº¿æŒ‡æ ‡æ¥è¯„ä¼°æ¨¡å‹çš„å¥½åï¼Œ ç„¶åå†å†³å®šèƒ½å¦ä¸Šçº¿æµ‹è¯•ã€‚ç¦»çº¿ç®—æ³•è¯„ä¼°å¸¸è§çš„æŒ‡æ ‡åŒ…æ‹¬å‡†ç¡®ç‡ã€è¦†ç›–åº¦ ã€å¤šæ ·æ€§ã€æ–°é¢–æ€§å’Œ UC ç­‰ã€‚åœ¨çº¿æµ‹è¯•ä¸€èˆ¬é€šè¿‡ AB æµ‹è¯•è¿›è¡Œï¼Œå¸¸è§çš„æŒ‡æ ‡æœ‰ç‚¹å‡»ç‡ã€ç”¨æˆ·åœç•™æ—¶é—´ã€ å¹¿å‘Šæ”¶å…¥ç­‰ï¼Œéœ€è¦æ³¨æ„åˆ†æç»Ÿè®¡æ˜¾è‘—æ€§ã€‚åŒæ—¶ï¼Œéœ€è¦æ³¨æ„çŸ­æœŸçš„æŒ‡æ ‡å’Œé•¿æœŸçš„æŒ‡æ ‡ç›¸ç»“åˆï¼Œ ä¸€äº›çŸ­æœŸæŒ‡æ ‡çš„æå‡æœ‰æ—¶å€™åè€Œä¼šå¯¼è‡´é•¿æœŸæŒ‡æ ‡ä¸‹é™ æ¯”å¦‚ ï¼Œç»å¸¸æ¨èç¾å¥³æˆ–è€…æç¬‘ç±»çš„å†…å®¹ä¼šå¸¦æ¥çŸ­æœŸçš„ç‚¹å‡»ç‡æé«˜ï¼Œä½†æ˜¯å¯èƒ½ä¼šå¼•èµ·é•¿æœŸçš„ç”¨æˆ·ç²˜æ€§ä¸‹é™ã€‚è®¾è®¡è€…éœ€è¦ä»è‡ªå·±çš„äº§å“è§’åº¦å‡ºå‘ï¼Œæ ¹æ®äº§å“çš„éœ€è¦åˆ¶å®šè¯„ä¼°æŒ‡æ ‡ï¼Œè¿™æ ·æ‰èƒ½æ›´å¥½åœ°æŒ‡å¯¼æ¨èç³»ç»Ÿçš„ä¼˜åŒ–æ–¹å‘ã€‚å¸¸è§çš„è¯„ä»·æŒ‡æ ‡å¦‚ä¸‹ï¼š\n\n8. æ¨èç³»ç»Ÿå†·å¯åŠ¨é—®é¢˜å†·å¯åŠ¨ï¼ˆ cold start ï¼‰åœ¨æ¨èç³»ç»Ÿä¸­è¡¨ç¤ºè¯¥ç³»ç»Ÿç§¯ç´¯æ•°æ®é‡è¿‡å°‘ï¼Œæ— æ³•ç»™æ–°ç”¨æˆ·ä½œä¸ªæ€§åŒ–æ¨èçš„é—®é¢˜ï¼Œè¿™æ˜¯äº§å“æ¨èçš„ä¸€å¤§éš¾é¢˜ã€‚æ¯ä¸ªæœ‰æ¨èåŠŸèƒ½çš„äº§å“éƒ½ä¼šé‡åˆ°å†·å¯åŠ¨çš„é—®é¢˜ã€‚ä¸€æ–¹é¢ï¼Œå½“æ–°å•†å“æ—¶ä¸Šæ¶ ä¼šé‡åˆ°å†·å¯åŠ¨çš„é—®é¢˜ï¼Œæ²¡æœ‰æ”¶é›†åˆ°ä»»ä½•ä¸€ä¸ªç”¨æˆ·å¯¹å…¶æµè§ˆã€ç‚¹å‡»æˆ–è€…è´­ä¹°çš„è¡Œä¸ºï¼Œä¹Ÿæ— ä»åˆ¤æ–­å¦‚ä½•å°†å•†å“è¿›è¡Œæ¨èï¼›å¦ä¸€æ–¹é¢ï¼Œæ–°ç”¨æˆ·åˆ°æ¥çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰ä»–åœ¨åº”ç”¨ä¸Šçš„è¡Œä¸ºæ•°æ®ï¼Œä¹Ÿæ— æ³•é¢„æµ‹å…¶å…´è¶£ï¼Œå¦‚æœç»™ç”¨æˆ·çš„æ¨èåƒç¯‡å¾‹ï¼Œæ²¡æœ‰äº®ç‚¹ï¼Œä¼šä½¿ç”¨æˆ·åœ¨ä¸€å¼€å§‹å°±å¯¹äº§å“å¤±å»å…´è¶£ï¼Œä»è€Œæ”¾å¼ƒä½¿ç”¨ã€‚æ‰€ä»¥åœ¨å†·å¯åŠ¨çš„æ—¶å€™è¦åŒæ—¶è€ƒè™‘ç”¨æˆ·çš„å†·å¯åŠ¨å’Œç‰©å“çš„å†·å¯åŠ¨ã€‚\nåŸºæœ¬ä¸Šï¼Œå†·å¯åŠ¨é¢˜å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸‰ç±»ã€‚\n8.1 ç”¨æˆ·å†·å¯åŠ¨ç”¨æˆ·å†·å¯åŠ¨ä¸»è¦è§£å†³å¦‚ä½•ç»™æ–°ç”¨æˆ·ä½œä¸ªæ€§åŒ–æ¨èçš„é—®é¢˜ã€‚å½“æ–°ç”¨æˆ·åˆ°æ¥æ—¶ï¼Œæˆ‘ æ²¡æœ‰ä»–çš„è¡Œä¸ºæ•°æ®ï¼Œæ‰€ä»¥ä¹Ÿæ— æ³•æ ¹æ®ä»–çš„å†å²è¡Œä¸ºé¢„ å…¶å…´è¶£ï¼Œä»è€Œæ— æ³•å€Ÿæ­¤ç»™ä»–åšä¸ªæ€§åŒ–æ¨èã€‚è§£å†³æ–¹æ³•å‚è€ƒä»¥ä¸‹ï¼š\n\nåˆ©ç”¨ç”¨æˆ·çš„è´¦å·ä¿¡æ¯ã€‚\nåˆ©ç”¨ç”¨æˆ·çš„æ‰‹æœº IMEI å·è¿›è¡Œå†·å¯åŠ¨ã€‚\nåˆ¶é€ é€‰å·¥é¡µï¼Œè®©ç”¨æˆ·é€‰æ‹©è‡ªå·±æ„Ÿå…´è¶£çš„ç‚¹åï¼Œå³æ—¶ç”Ÿæˆç²—ç²’åº¦çš„æ¨èã€‚\n\n8.2 ç‰©å“å†·å¯åŠ¨ç‰©å“å†·å¯åŠ¨ä¸»è¦è§£å†³å¦‚ä½•å°†æ–°çš„ç‰©å“æ¨èç»™å¯èƒ½å¯¹å®ƒæ„Ÿå…´è¶£çš„ç”¨æˆ·è¿™ä¸€é—®é¢˜ã€‚è§£å†³æ–¹æ³•å‚è€ƒä»¥ä¸‹ï¼š\n\nåˆ©ç”¨ç‰©å“çš„å†…å®¹ã€åˆ†ç±»ä¿¡æ¯ã€‚\nåˆ©ç”¨ä¸“å®¶æ ‡æ³¨çš„æ•°æ®ã€‚\n\n8.3 ç³»ç»Ÿå†·å¯åŠ¨ç³»ç»Ÿå†·å¯åŠ¨ä¸»è¦è§£å†³å¦‚ä½•åœ¨ä¸€ä¸ªæ–°å¼€å‘çš„ç½‘ç«™ä¸Šï¼ˆè¿˜æ²¡æœ‰ç”¨æˆ·ï¼Œä¹Ÿæ²¡æœ‰ç”¨æˆ·è¡Œä¸ºï¼Œåªæœ‰ä¸€äº›ç‰©å“çš„ä¿¡æ¯ï¼‰è®¾è®¡ä¸ªæ€§æ¨èç³»ç»Ÿï¼Œä»è€Œåœ¨äº§å“åˆšä¸Šçº¿æ—¶å°±è®©ç”¨æˆ·ä½“éªŒåˆ°ä¸ªæ€§ æ¨èæœåŠ¡è¿™ä¸€é—®é¢˜ã€‚\n9. å‚è€ƒæ–‡çŒ®\næ¨èç³»ç»Ÿå®è·µâ€“é¡¹äº®\næ¨èç³»ç»Ÿä¸æ·±åº¦å­¦ä¹ \nç¾å›¢æœºå™¨å­¦ä¹ å®è·µ\n\n\n\nä½œè€…:@mantchs\nGitHub:https:github.comNLP-LOVEML-NLP\næ¬¢è¿å¤§å®¶åŠ å…¥è®¨è®ºï¼å…±åŒå®Œå–„æ­¤é¡¹ç›®ï¼ç¾¤å·:ã€541954936ã€‘\n\n","tags":["æ¨èç³»ç»Ÿ"],"path":"2019/09/27/Recommendation-System/","external_link":""},{"title":"python style rules","date":"2019-09-28T10:13:42.000Z","content":"Pythoné£æ ¼è§„èŒƒåˆ†å·.. tip::    ä¸è¦åœ¨è¡Œå°¾åŠ åˆ†å·, ä¹Ÿä¸è¦ç”¨åˆ†å·å°†ä¸¤æ¡å‘½ä»¤æ”¾åœ¨åŒä¸€è¡Œ.   \n.. _line_length:    \nè¡Œé•¿åº¦.. tip::    æ¯è¡Œä¸è¶…è¿‡80ä¸ªå­—ç¬¦    \nä¾‹å¤–:\n#. é•¿çš„å¯¼å…¥æ¨¡å—è¯­å¥\n#. æ³¨é‡Šé‡Œçš„URL\nä¸è¦ä½¿ç”¨åæ–œæ è¿æ¥è¡Œ.\nPythonä¼šå°† åœ†æ‹¬å·, ä¸­æ‹¬å·å’ŒèŠ±æ‹¬å·ä¸­çš„è¡Œéšå¼çš„è¿æ¥èµ·æ¥ &lt;http:docs.python.org2referencelexical_analysis.html#implicit-line-joining&gt;_ , ä½ å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹. å¦‚æœéœ€è¦, ä½ å¯ä»¥åœ¨è¡¨è¾¾å¼å¤–å›´å¢åŠ ä¸€å¯¹é¢å¤–çš„åœ†æ‹¬å·. \n.. code-block:: python\nYes: foo_bar(self, width, height, color=&apos;black&apos;, design=None, x=&apos;foo&apos;,\n             emphasis=None, highlight=0)\n\n     if (width == 0 and height == 0 and\n         color == &apos;red&apos; and emphasis == &apos;strong&apos;):    å¦‚æœä¸€ä¸ªæ–‡æœ¬å­—ç¬¦ä¸²åœ¨ä¸€è¡Œæ”¾ä¸ä¸‹, å¯ä»¥ä½¿ç”¨åœ†æ‹¬å·æ¥å®ç°éšå¼è¡Œè¿æ¥:\n.. code-block:: python\nx = (&apos;This will build a very long long &apos;\n     &apos;long long long long long long string&apos;)åœ¨æ³¨é‡Šä¸­ï¼Œå¦‚æœå¿…è¦ï¼Œå°†é•¿çš„URLæ”¾åœ¨ä¸€è¡Œä¸Šã€‚\n.. code-block:: python\nYes:  # See details at\n      # http:www.example.comusdeveloperdocumentationapicontentv2.0csv_file_name_extension_full_specification.html.. code-block:: python\nNo:  # See details at\n     # http:www.example.comusdeveloperdocumentationapicontent\n     # v2.0csv_file_name_extension_full_specification.html     æ³¨æ„ä¸Šé¢ä¾‹å­ä¸­çš„å…ƒç´ ç¼©è¿›; ä½ å¯ä»¥åœ¨æœ¬æ–‡çš„ :ref:ç¼©è¿› &lt;indentation&gt; éƒ¨åˆ†æ‰¾åˆ°è§£é‡Š. \næ‹¬å·.. tip::    å®ç¼ºæ¯‹æ»¥çš„ä½¿ç”¨æ‹¬å·    \né™¤éæ˜¯ç”¨äºå®ç°è¡Œè¿æ¥, å¦åˆ™ä¸è¦åœ¨è¿”å›è¯­å¥æˆ–æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨æ‹¬å·. ä¸è¿‡åœ¨å…ƒç»„ä¸¤è¾¹ä½¿ç”¨æ‹¬å·æ˜¯å¯ä»¥çš„. \n.. code-block:: python    \nYes: if foo:\n         bar()\n     while x:\n         x = bar()\n     if x and y:\n         bar()\n     if not x:\n         bar()\n     return foo\n     for (x, y) in dict.items(): ...  .. code-block:: python\nNo:  if (x):\n         bar()\n     if not(x):\n         bar()\n     return (foo).. _indentation:  \nç¼©è¿›.. tip::    ç”¨4ä¸ªç©ºæ ¼æ¥ç¼©è¿›ä»£ç \nç»å¯¹ä¸è¦ç”¨tab, ä¹Ÿä¸è¦tabå’Œç©ºæ ¼æ··ç”¨. å¯¹äºè¡Œè¿æ¥çš„æƒ…å†µ, ä½ åº”è¯¥è¦ä¹ˆå‚ç›´å¯¹é½æ¢è¡Œçš„å…ƒç´ (è§ :ref:è¡Œé•¿åº¦ &lt;line_length&gt; éƒ¨åˆ†çš„ç¤ºä¾‹), æˆ–è€…ä½¿ç”¨4ç©ºæ ¼çš„æ‚¬æŒ‚å¼ç¼©è¿›(è¿™æ—¶ç¬¬ä¸€è¡Œä¸åº”è¯¥æœ‰å‚æ•°):\n.. code-block:: python\n   Yes:   # Aligned with opening delimiter          foo = long_function_name(var_one, var_two,                                   var_three, var_four)\n# Aligned with opening delimiter in a dictionary\nfoo = {\n    long_dictionary_key: value1 +\n                         value2,\n    ...\n}\n\n# 4-space hanging indent; nothing on first line\nfoo = long_function_name(\n    var_one, var_two, var_three,\n    var_four)\n\n# 4-space hanging indent in a dictionary\nfoo = {\n    long_dictionary_key:\n        long_dictionary_value,\n    ...\n}.. code-block:: python\nNo:    # Stuff on first line forbidden\n      foo = long_function_name(var_one, var_two,\n          var_three, var_four)\n\n      # 2-space hanging indent forbidden\n      foo = long_function_name(\n        var_one, var_two, var_three,\n        var_four)\n\n      # No hanging indent in a dictionary\n      foo = {\n          long_dictionary_key:\n              long_dictionary_value,\n              ...\n      }ç©ºè¡Œ.. tip::    é¡¶çº§å®šä¹‰ä¹‹é—´ç©ºä¸¤è¡Œ, æ–¹æ³•å®šä¹‰ä¹‹é—´ç©ºä¸€è¡Œ\né¡¶çº§å®šä¹‰ä¹‹é—´ç©ºä¸¤è¡Œ, æ¯”å¦‚å‡½æ•°æˆ–è€…ç±»å®šä¹‰. æ–¹æ³•å®šä¹‰, ç±»å®šä¹‰ä¸ç¬¬ä¸€ä¸ªæ–¹æ³•ä¹‹é—´, éƒ½åº”è¯¥ç©ºä¸€è¡Œ. å‡½æ•°æˆ–æ–¹æ³•ä¸­, æŸäº›åœ°æ–¹è¦æ˜¯ä½ è§‰å¾—åˆé€‚, å°±ç©ºä¸€è¡Œ.     \nç©ºæ ¼.. tip::    æŒ‰ç…§æ ‡å‡†çš„æ’ç‰ˆè§„èŒƒæ¥ä½¿ç”¨æ ‡ç‚¹ä¸¤è¾¹çš„ç©ºæ ¼\næ‹¬å·å†…ä¸è¦æœ‰ç©ºæ ¼.\n.. code-block:: python\nYes: spam(ham[1], {eggs: 2}, []).. code-block:: python\nNo:  spam( ham[ 1 ], { eggs: 2 }, [ ] )ä¸è¦åœ¨é€—å·, åˆ†å·, å†’å·å‰é¢åŠ ç©ºæ ¼, ä½†åº”è¯¥åœ¨å®ƒä»¬åé¢åŠ (é™¤äº†åœ¨è¡Œå°¾).\n.. code-block:: python\nYes: if x == 4:\n         print x, y\n     x, y = y, x.. code-block:: python\nNo:  if x == 4 :\n         print x , y\n     x , y = y , xå‚æ•°åˆ—è¡¨, ç´¢å¼•æˆ–åˆ‡ç‰‡çš„å·¦æ‹¬å·å‰ä¸åº”åŠ ç©ºæ ¼.\n.. code-block:: python   \nYes: spam(1).. code-block:: python\nno: spam (1).. code-block:: python  \nYes: dict[&apos;key&apos;] = list[index].. code-block:: python  \nNo:  dict [&apos;key&apos;] = list [index]       åœ¨äºŒå…ƒæ“ä½œç¬¦ä¸¤è¾¹éƒ½åŠ ä¸Šä¸€ä¸ªç©ºæ ¼, æ¯”å¦‚èµ‹å€¼(=), æ¯”è¾ƒ(==, &lt;, &gt;, !=, &lt;&gt;, &lt;=, &gt;=, in, not in, is, is not), å¸ƒå°”(and, or, not).  è‡³äºç®—æœ¯æ“ä½œç¬¦ä¸¤è¾¹çš„ç©ºæ ¼è¯¥å¦‚ä½•ä½¿ç”¨, éœ€è¦ä½ è‡ªå·±å¥½å¥½åˆ¤æ–­. ä¸è¿‡ä¸¤ä¾§åŠ¡å¿…è¦ä¿æŒä¸€è‡´. \n.. code-block:: python\nYes: x == 1.. code-block:: python\nNo:  x&lt;1å½“â€™=â€™ç”¨äºæŒ‡ç¤ºå…³é”®å­—å‚æ•°æˆ–é»˜è®¤å‚æ•°å€¼æ—¶, ä¸è¦åœ¨å…¶ä¸¤ä¾§ä½¿ç”¨ç©ºæ ¼. \n.. code-block:: python\nYes: def complex(real, imag=0.0): return magic(r=real, i=imag).. code-block:: python\nNo:  def complex(real, imag = 0.0): return magic(r = real, i = imag)ä¸è¦ç”¨ç©ºæ ¼æ¥å‚ç›´å¯¹é½å¤šè¡Œé—´çš„æ ‡è®°, å› ä¸ºè¿™ä¼šæˆä¸ºç»´æŠ¤çš„è´Ÿæ‹…(é€‚ç”¨äº:, #, =ç­‰):\n.. code-block:: python\nYes:\n     foo = 1000  # comment\n     long_name = 2  # comment that should not be aligned\n\n     dictionary = {\n         &quot;foo&quot;: 1,\n         &quot;long_name&quot;: 2,\n         }.. code-block:: python\nNo:\n     foo       = 1000  # comment\n     long_name = 2     # comment that should not be aligned\n\n     dictionary = {\n         &quot;foo&quot;      : 1,\n         &quot;long_name&quot;: 2,\n         }Shebang.. tip::    å¤§éƒ¨åˆ†.pyæ–‡ä»¶ä¸å¿…ä»¥#!ä½œä¸ºæ–‡ä»¶çš„å¼€å§‹. æ ¹æ® PEP-394 &lt;http:www.python.orgdevpepspep-0394&gt;_ , ç¨‹åºçš„mainæ–‡ä»¶åº”è¯¥ä»¥ #!usrbinpython2æˆ–è€… #!usrbinpython3å¼€å§‹.\n(è¯‘è€…æ³¨: åœ¨è®¡ç®—æœºç§‘å­¦ä¸­, Shebang &lt;http:en.wikipedia.orgwikiShebang_(Unix)&gt;_ (ä¹Ÿç§°ä¸ºHashbang)æ˜¯ä¸€ä¸ªç”±äº•å·å’Œå¹å·æ„æˆçš„å­—ç¬¦ä¸²è¡Œ(#!), å…¶å‡ºç°åœ¨æ–‡æœ¬æ–‡ä»¶çš„ç¬¬ä¸€è¡Œçš„å‰ä¸¤ä¸ªå­—ç¬¦. åœ¨æ–‡ä»¶ä¸­å­˜åœ¨Shebangçš„æƒ…å†µä¸‹, ç±»Unixæ“ä½œç³»ç»Ÿçš„ç¨‹åºè½½å…¥å™¨ä¼šåˆ†æShebangåçš„å†…å®¹, å°†è¿™äº›å†…å®¹ä½œä¸ºè§£é‡Šå™¨æŒ‡ä»¤, å¹¶è°ƒç”¨è¯¥æŒ‡ä»¤, å¹¶å°†è½½æœ‰Shebangçš„æ–‡ä»¶è·¯å¾„ä½œä¸ºè¯¥è§£é‡Šå™¨çš„å‚æ•°. ä¾‹å¦‚, ä»¥æŒ‡ä»¤#!binshå¼€å¤´çš„æ–‡ä»¶åœ¨æ‰§è¡Œæ—¶ä¼šå®é™…è°ƒç”¨binshç¨‹åº.)\n#!å…ˆç”¨äºå¸®åŠ©å†…æ ¸æ‰¾åˆ°Pythonè§£é‡Šå™¨, ä½†æ˜¯åœ¨å¯¼å…¥æ¨¡å—æ—¶, å°†ä¼šè¢«å¿½ç•¥. å› æ­¤åªæœ‰è¢«ç›´æ¥æ‰§è¡Œçš„æ–‡ä»¶ä¸­æ‰æœ‰å¿…è¦åŠ å…¥#!.\n.. _comments:  \næ³¨é‡Š.. tip::    ç¡®ä¿å¯¹æ¨¡å—, å‡½æ•°, æ–¹æ³•å’Œè¡Œå†…æ³¨é‡Šä½¿ç”¨æ­£ç¡®çš„é£æ ¼    \næ–‡æ¡£å­—ç¬¦ä¸²\nPythonæœ‰ä¸€ç§ç‹¬ä¸€æ— äºŒçš„çš„æ³¨é‡Šæ–¹å¼: ä½¿ç”¨æ–‡æ¡£å­—ç¬¦ä¸². æ–‡æ¡£å­—ç¬¦ä¸²æ˜¯åŒ…, æ¨¡å—, ç±»æˆ–å‡½æ•°é‡Œçš„ç¬¬ä¸€ä¸ªè¯­å¥. è¿™äº›å­—ç¬¦ä¸²å¯ä»¥é€šè¿‡å¯¹è±¡çš„__doc__æˆå‘˜è¢«è‡ªåŠ¨æå–, å¹¶ä¸”è¢«pydocæ‰€ç”¨. (ä½ å¯ä»¥åœ¨ä½ çš„æ¨¡å—ä¸Šè¿è¡Œpydocè¯•ä¸€æŠŠ, çœ‹çœ‹å®ƒé•¿ä»€ä¹ˆæ ·). æˆ‘ä»¬å¯¹æ–‡æ¡£å­—ç¬¦ä¸²çš„æƒ¯ä¾‹æ˜¯ä½¿ç”¨ä¸‰é‡åŒå¼•å·&quot;&quot;&quot;( `PEP-257 &lt;http:www.python.orgdevpepspep-0257&gt;`_ ). ä¸€ä¸ªæ–‡æ¡£å­—ç¬¦ä¸²åº”è¯¥è¿™æ ·ç»„ç»‡: é¦–å…ˆæ˜¯ä¸€è¡Œä»¥å¥å·, é—®å·æˆ–æƒŠå¹å·ç»“å°¾çš„æ¦‚è¿°(æˆ–è€…è¯¥æ–‡æ¡£å­—ç¬¦ä¸²å•çº¯åªæœ‰ä¸€è¡Œ). æ¥ç€æ˜¯ä¸€ä¸ªç©ºè¡Œ. æ¥ç€æ˜¯æ–‡æ¡£å­—ç¬¦ä¸²å‰©ä¸‹çš„éƒ¨åˆ†, å®ƒåº”è¯¥ä¸æ–‡æ¡£å­—ç¬¦ä¸²çš„ç¬¬ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå¼•å·å¯¹é½. ä¸‹é¢æœ‰æ›´å¤šæ–‡æ¡£å­—ç¬¦ä¸²çš„æ ¼å¼åŒ–è§„èŒƒ. æ¨¡å—\næ¯ä¸ªæ–‡ä»¶åº”è¯¥åŒ…å«ä¸€ä¸ªè®¸å¯æ ·æ¿. æ ¹æ®é¡¹ç›®ä½¿ç”¨çš„è®¸å¯(ä¾‹å¦‚, Apache 2.0, BSD, LGPL, GPL), é€‰æ‹©åˆé€‚çš„æ ·æ¿.å‡½æ•°å’Œæ–¹æ³•\nä¸‹æ–‡æ‰€æŒ‡çš„å‡½æ•°,åŒ…æ‹¬å‡½æ•°, æ–¹æ³•, ä»¥åŠç”Ÿæˆå™¨.\n\nä¸€ä¸ªå‡½æ•°å¿…é¡»è¦æœ‰æ–‡æ¡£å­—ç¬¦ä¸², é™¤éå®ƒæ»¡è¶³ä»¥ä¸‹æ¡ä»¶:\n\n#. å¤–éƒ¨ä¸å¯è§\n#. éå¸¸çŸ­å°\n#. ç®€å•æ˜äº†\n\næ–‡æ¡£å­—ç¬¦ä¸²åº”è¯¥åŒ…å«å‡½æ•°åšä»€ä¹ˆ, ä»¥åŠè¾“å…¥å’Œè¾“å‡ºçš„è¯¦ç»†æè¿°. é€šå¸¸, ä¸åº”è¯¥æè¿°&quot;æ€ä¹ˆåš&quot;, é™¤éæ˜¯ä¸€äº›å¤æ‚çš„ç®—æ³•. æ–‡æ¡£å­—ç¬¦ä¸²åº”è¯¥æä¾›è¶³å¤Ÿçš„ä¿¡æ¯, å½“åˆ«äººç¼–å†™ä»£ç è°ƒç”¨è¯¥å‡½æ•°æ—¶, ä»–ä¸éœ€è¦çœ‹ä¸€è¡Œä»£ç , åªè¦çœ‹æ–‡æ¡£å­—ç¬¦ä¸²å°±å¯ä»¥äº†. å¯¹äºå¤æ‚çš„ä»£ç , åœ¨ä»£ç æ—è¾¹åŠ æ³¨é‡Šä¼šæ¯”ä½¿ç”¨æ–‡æ¡£å­—ç¬¦ä¸²æ›´æœ‰æ„ä¹‰.\n\nå…³äºå‡½æ•°çš„å‡ ä¸ªæ–¹é¢åº”è¯¥åœ¨ç‰¹å®šçš„å°èŠ‚ä¸­è¿›è¡Œæè¿°è®°å½•ï¼Œ è¿™å‡ ä¸ªæ–¹é¢å¦‚ä¸‹æ–‡æ‰€è¿°. æ¯èŠ‚åº”è¯¥ä»¥ä¸€ä¸ªæ ‡é¢˜è¡Œå¼€å§‹. æ ‡é¢˜è¡Œä»¥å†’å·ç»“å°¾. é™¤æ ‡é¢˜è¡Œå¤–, èŠ‚çš„å…¶ä»–å†…å®¹åº”è¢«ç¼©è¿›2ä¸ªç©ºæ ¼. \n\nArgs:\n    åˆ—å‡ºæ¯ä¸ªå‚æ•°çš„åå­—, å¹¶åœ¨åå­—åä½¿ç”¨ä¸€ä¸ªå†’å·å’Œä¸€ä¸ªç©ºæ ¼, åˆ†éš”å¯¹è¯¥å‚æ•°çš„æè¿°.å¦‚æœæè¿°å¤ªé•¿è¶…è¿‡äº†å•è¡Œ80å­—ç¬¦,ä½¿ç”¨2æˆ–è€…4ä¸ªç©ºæ ¼çš„æ‚¬æŒ‚ç¼©è¿›(ä¸æ–‡ä»¶å…¶ä»–éƒ¨åˆ†ä¿æŒä¸€è‡´).\n    æè¿°åº”è¯¥åŒ…æ‹¬æ‰€éœ€çš„ç±»å‹å’Œå«ä¹‰.\n    å¦‚æœä¸€ä¸ªå‡½æ•°æ¥å—*foo(å¯å˜é•¿åº¦å‚æ•°åˆ—è¡¨)æˆ–è€…**bar (ä»»æ„å…³é”®å­—å‚æ•°), åº”è¯¥è¯¦ç»†åˆ—å‡º*fooå’Œ**bar.\n\nReturns: (æˆ–è€… Yields: ç”¨äºç”Ÿæˆå™¨)\n    æè¿°è¿”å›å€¼çš„ç±»å‹å’Œè¯­ä¹‰. å¦‚æœå‡½æ•°è¿”å›None, è¿™ä¸€éƒ¨åˆ†å¯ä»¥çœç•¥.\n\nRaises:\n    åˆ—å‡ºä¸æ¥å£æœ‰å…³çš„æ‰€æœ‰å¼‚å¸¸.\n\n.. code-block:: python\n\n    def fetch_bigtable_rows(big_table, keys, other_silly_variable=None):\n        &quot;&quot;&quot;Fetches rows from a Bigtable.\n\n        Retrieves rows pertaining to the given keys from the Table instance\n        represented by big_table.  Silly things may happen if\n        other_silly_variable is not None.\n\n        Args:\n            big_table: An open Bigtable Table instance.\n            keys: A sequence of strings representing the key of each table row\n                to fetch.\n            other_silly_variable: Another optional variable, that has a much\n                longer name than the other args, and which does nothing.\n\n        Returns:\n            A dict mapping keys to the corresponding table row data\n            fetched. Each row is represented as a tuple of strings. For\n            example:\n\n            {&apos;Serak&apos;: (&apos;Rigel VII&apos;, &apos;Preparer&apos;),\n             &apos;Zim&apos;: (&apos;Irk&apos;, &apos;Invader&apos;),\n             &apos;Lrrr&apos;: (&apos;Omicron Persei 8&apos;, &apos;Emperor&apos;)}\n\n            If a key from the keys argument is missing from the dictionary,\n            then that row was not found in the table.\n\n        Raises:\n            IOError: An error occurred accessing the bigtable.Table object.\n        &quot;&quot;&quot;\n        passç±»\nç±»åº”è¯¥åœ¨å…¶å®šä¹‰ä¸‹æœ‰ä¸€ä¸ªç”¨äºæè¿°è¯¥ç±»çš„æ–‡æ¡£å­—ç¬¦ä¸². å¦‚æœä½ çš„ç±»æœ‰å…¬å…±å±æ€§(Attributes), é‚£ä¹ˆæ–‡æ¡£ä¸­åº”è¯¥æœ‰ä¸€ä¸ªå±æ€§(Attributes)æ®µ. å¹¶ä¸”åº”è¯¥éµå®ˆå’Œå‡½æ•°å‚æ•°ç›¸åŒçš„æ ¼å¼.\n\n.. code-block:: python\n\n    class SampleClass(object):\n        &quot;&quot;&quot;Summary of class here.\n\n        Longer class information....\n        Longer class information....\n\n        Attributes:\n            likes_spam: A boolean indicating if we like SPAM or not.\n            eggs: An integer count of the eggs we have laid.\n        &quot;&quot;&quot;\n\n        def __init__(self, likes_spam=False):\n            &quot;&quot;&quot;Inits SampleClass with blah.&quot;&quot;&quot;\n            self.likes_spam = likes_spam\n            self.eggs = 0\n\n        def public_method(self):\n            &quot;&quot;&quot;Performs operation blah.&quot;&quot;&quot;å—æ³¨é‡Šå’Œè¡Œæ³¨é‡Š\næœ€éœ€è¦å†™æ³¨é‡Šçš„æ˜¯ä»£ç ä¸­é‚£äº›æŠ€å·§æ€§çš„éƒ¨åˆ†. å¦‚æœä½ åœ¨ä¸‹æ¬¡ `ä»£ç å®¡æŸ¥ &lt;http:en.wikipedia.orgwikiCode_review&gt;`_ çš„æ—¶å€™å¿…é¡»è§£é‡Šä¸€ä¸‹, é‚£ä¹ˆä½ åº”è¯¥ç°åœ¨å°±ç»™å®ƒå†™æ³¨é‡Š. å¯¹äºå¤æ‚çš„æ“ä½œ, åº”è¯¥åœ¨å…¶æ“ä½œå¼€å§‹å‰å†™ä¸Šè‹¥å¹²è¡Œæ³¨é‡Š. å¯¹äºä¸æ˜¯ä¸€ç›®äº†ç„¶çš„ä»£ç , åº”åœ¨å…¶è¡Œå°¾æ·»åŠ æ³¨é‡Š. \n\n.. code-block:: python\n\n    # We use a weighted dictionary search to find out where i is in\n    # the array.  We extrapolate position based on the largest num\n    # in the array and the array size and then do binary search to\n    # get the exact number.\n\n    if i &amp; (i-1) == 0:        # True if i is 0 or a power of 2.\n\nä¸ºäº†æé«˜å¯è¯»æ€§, æ³¨é‡Šåº”è¯¥è‡³å°‘ç¦»å¼€ä»£ç 2ä¸ªç©ºæ ¼. \n\nå¦ä¸€æ–¹é¢, ç»ä¸è¦æè¿°ä»£ç . å‡è®¾é˜…è¯»ä»£ç çš„äººæ¯”ä½ æ›´æ‡‚Python, ä»–åªæ˜¯ä¸çŸ¥é“ä½ çš„ä»£ç è¦åšä»€ä¹ˆ. \n\n.. code-block:: python\n\n    # BAD COMMENT: Now go through the b array and make sure whenever i occurs\n    # the next element is i+1ç±».. tip::    å¦‚æœä¸€ä¸ªç±»ä¸ç»§æ‰¿è‡ªå…¶å®ƒç±», å°±æ˜¾å¼çš„ä»objectç»§æ‰¿. åµŒå¥—ç±»ä¹Ÿä¸€æ ·.\n.. code-block:: python\nYes: class SampleClass(object):\n         pass\n\n\n     class OuterClass(object):\n\n         class InnerClass(object):\n             pass\n\n\n     class ChildClass(ParentClass):\n         &quot;&quot;&quot;Explicitly inherits from another class already.&quot;&quot;&quot;.. code-block:: python\nNo: class SampleClass:\n        pass\n\n\n    class OuterClass:\n\n        class InnerClass:\n            passç»§æ‰¿è‡ª object æ˜¯ä¸ºäº†ä½¿å±æ€§(properties)æ­£å¸¸å·¥ä½œ, å¹¶ä¸”è¿™æ ·å¯ä»¥ä¿æŠ¤ä½ çš„ä»£ç , ä½¿å…¶ä¸å— PEP-3000 &lt;http:www.python.orgdevpepspep-3000&gt;_ çš„ä¸€ä¸ªç‰¹æ®Šçš„æ½œåœ¨ä¸å…¼å®¹æ€§å½±å“. è¿™æ ·åšä¹Ÿå®šä¹‰äº†ä¸€äº›ç‰¹æ®Šçš„æ–¹æ³•, è¿™äº›æ–¹æ³•å®ç°äº†å¯¹è±¡çš„é»˜è®¤è¯­ä¹‰, åŒ…æ‹¬ __new__, __init__, __delattr__, __getattribute__, __setattr__, __hash__, __repr__, and __str__ .\nå­—ç¬¦ä¸².. tip::    å³ä½¿å‚æ•°éƒ½æ˜¯å­—ç¬¦ä¸², ä½¿ç”¨%æ“ä½œç¬¦æˆ–è€…æ ¼å¼åŒ–æ–¹æ³•æ ¼å¼åŒ–å­—ç¬¦ä¸². ä¸è¿‡ä¹Ÿä¸èƒ½ä¸€æ¦‚è€Œè®º, ä½ éœ€è¦åœ¨+å’Œ%ä¹‹é—´å¥½å¥½åˆ¤å®š.\n.. code-block:: python\nYes: x = a + b\n     x = &apos;%s, %s!&apos; % (imperative, expletive)\n     x = &apos;{}, {}!&apos;.format(imperative, expletive)\n     x = &apos;name: %s; score: %d&apos; % (name, n)\n     x = &apos;name: {}; score: {}&apos;.format(name, n).. code-block:: python\nNo: x = &apos;%s%s&apos; % (a, b)  # use + in this case\n    x = &apos;{}{}&apos;.format(a, b)  # use + in this case\n    x = imperative + &apos;, &apos; + expletive + &apos;!&apos;\n    x = &apos;name: &apos; + name + &apos;; score: &apos; + str(n)é¿å…åœ¨å¾ªç¯ä¸­ç”¨+å’Œ+=æ“ä½œç¬¦æ¥ç´¯åŠ å­—ç¬¦ä¸². ç”±äºå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„, è¿™æ ·åšä¼šåˆ›å»ºä¸å¿…è¦çš„ä¸´æ—¶å¯¹è±¡, å¹¶ä¸”å¯¼è‡´äºŒæ¬¡æ–¹è€Œä¸æ˜¯çº¿æ€§çš„è¿è¡Œæ—¶é—´. ä½œä¸ºæ›¿ä»£æ–¹æ¡ˆ, ä½ å¯ä»¥å°†æ¯ä¸ªå­ä¸²åŠ å…¥åˆ—è¡¨, ç„¶ååœ¨å¾ªç¯ç»“æŸåç”¨ .join è¿æ¥åˆ—è¡¨. (ä¹Ÿå¯ä»¥å°†æ¯ä¸ªå­ä¸²å†™å…¥ä¸€ä¸ª cStringIO.StringIO ç¼“å­˜ä¸­.)\n.. code-block:: python\nYes: items = [&apos;&lt;table&gt;&apos;]\n     for last_name, first_name in employee_list:\n         items.append(&apos;&lt;tr&gt;&lt;td&gt;%s, %s&lt;td&gt;&lt;tr&gt;&apos; % (last_name, first_name))\n     items.append(&apos;&lt;table&gt;&apos;)\n     employee_table = &apos;&apos;.join(items).. code-block:: python\nNo: employee_table = &apos;&lt;table&gt;&apos;\n    for last_name, first_name in employee_list:\n        employee_table += &apos;&lt;tr&gt;&lt;td&gt;%s, %s&lt;td&gt;&lt;tr&gt;&apos; % (last_name, first_name)\n    employee_table += &apos;&lt;table&gt;&apos;åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­, ä¿æŒä½¿ç”¨å­—ç¬¦ä¸²å¼•å·çš„ä¸€è‡´æ€§. ä½¿ç”¨å•å¼•å·â€™æˆ–è€…åŒå¼•å·â€ä¹‹ä¸€ç”¨ä»¥å¼•ç”¨å­—ç¬¦ä¸², å¹¶åœ¨åŒä¸€æ–‡ä»¶ä¸­æ²¿ç”¨. åœ¨å­—ç¬¦ä¸²å†…å¯ä»¥ä½¿ç”¨å¦å¤–ä¸€ç§å¼•å·, ä»¥é¿å…åœ¨å­—ç¬¦ä¸²ä¸­ä½¿ç”¨. GPyLintå·²ç»åŠ å…¥äº†è¿™ä¸€æ£€æŸ¥.\n(è¯‘è€…æ³¨:GPyLintç–‘ä¸ºç¬”è¯¯, åº”ä¸ºPyLint.)  \n.. code-block:: python\n   Yes:        Python(â€˜Why are you hiding your eyes?â€™)        Gollum(â€œIâ€™m scared of lint errors.â€)        Narrator(â€˜â€œGood!â€ thought a happy Python reviewer.â€™)\n.. code-block:: python\n   No:        Python(â€œWhy are you hiding your eyes?â€)        Gollum(â€˜The lint. It burns. It burns us.â€™)        Gollum(â€œAlways the great lint. Watching. Watching.â€)\nä¸ºå¤šè¡Œå­—ç¬¦ä¸²ä½¿ç”¨ä¸‰é‡åŒå¼•å·â€â€â€è€Œéä¸‰é‡å•å¼•å·â€™â€™â€™. å½“ä¸”ä»…å½“é¡¹ç›®ä¸­ä½¿ç”¨å•å¼•å·â€™æ¥å¼•ç”¨å­—ç¬¦ä¸²æ—¶, æ‰å¯èƒ½ä¼šä½¿ç”¨ä¸‰é‡â€™â€™â€™ä¸ºéæ–‡æ¡£å­—ç¬¦ä¸²çš„å¤šè¡Œå­—ç¬¦ä¸²æ¥æ ‡è¯†å¼•ç”¨. æ–‡æ¡£å­—ç¬¦ä¸²å¿…é¡»ä½¿ç”¨ä¸‰é‡åŒå¼•å·â€â€â€. ä¸è¿‡è¦æ³¨æ„, é€šå¸¸ç”¨éšå¼è¡Œè¿æ¥æ›´æ¸…æ™°, å› ä¸ºå¤šè¡Œå­—ç¬¦ä¸²ä¸ç¨‹åºå…¶ä»–éƒ¨åˆ†çš„ç¼©è¿›æ–¹å¼ä¸ä¸€è‡´. \n.. code-block:: python\nYes:\n    print (&quot;This is much nicer.n&quot;\n           &quot;Do it this way.n&quot;).. code-block:: python\nNo:\n      print &quot;&quot;&quot;This is pretty ugly.\n  Don&apos;t do this.\n  &quot;&quot;&quot;æ–‡ä»¶å’Œsockets.. tip::    åœ¨æ–‡ä»¶å’Œsocketsç»“æŸæ—¶, æ˜¾å¼çš„å…³é—­å®ƒ.\né™¤æ–‡ä»¶å¤–, socketsæˆ–å…¶ä»–ç±»ä¼¼æ–‡ä»¶çš„å¯¹è±¡åœ¨æ²¡æœ‰å¿…è¦çš„æƒ…å†µä¸‹æ‰“å¼€, ä¼šæœ‰è®¸å¤šå‰¯ä½œç”¨, ä¾‹å¦‚:\n#. å®ƒä»¬å¯èƒ½ä¼šæ¶ˆè€—æœ‰é™çš„ç³»ç»Ÿèµ„æº, å¦‚æ–‡ä»¶æè¿°ç¬¦. å¦‚æœè¿™äº›èµ„æºåœ¨ä½¿ç”¨åæ²¡æœ‰åŠæ—¶å½’è¿˜ç³»ç»Ÿ, é‚£ä¹ˆç”¨äºå¤„ç†è¿™äº›å¯¹è±¡çš„ä»£ç ä¼šå°†èµ„æºæ¶ˆè€—æ®†å°½.\n#. æŒæœ‰æ–‡ä»¶å°†ä¼šé˜»æ­¢å¯¹äºæ–‡ä»¶çš„å…¶ä»–è¯¸å¦‚ç§»åŠ¨ã€åˆ é™¤ä¹‹ç±»çš„æ“ä½œ.\n#. ä»…ä»…æ˜¯ä»é€»è¾‘ä¸Šå…³é—­æ–‡ä»¶å’Œsockets, é‚£ä¹ˆå®ƒä»¬ä»ç„¶å¯èƒ½ä¼šè¢«å…¶å…±äº«çš„ç¨‹åºåœ¨æ— æ„ä¸­è¿›è¡Œè¯»æˆ–è€…å†™æ“ä½œ. åªæœ‰å½“å®ƒä»¬çœŸæ­£è¢«å…³é—­å, å¯¹äºå®ƒä»¬å°è¯•è¿›è¡Œè¯»æˆ–è€…å†™æ“ä½œå°†ä¼šæŠ›å‡ºå¼‚å¸¸, å¹¶ä½¿å¾—é—®é¢˜å¿«é€Ÿæ˜¾ç°å‡ºæ¥.\nè€Œä¸”, å¹»æƒ³å½“æ–‡ä»¶å¯¹è±¡ææ„æ—¶, æ–‡ä»¶å’Œsocketsä¼šè‡ªåŠ¨å…³é—­, è¯•å›¾å°†æ–‡ä»¶å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå’Œæ–‡ä»¶çš„çŠ¶æ€ç»‘å®šåœ¨ä¸€èµ·çš„æƒ³æ³•, éƒ½æ˜¯ä¸ç°å®çš„. å› ä¸ºæœ‰å¦‚ä¸‹åŸå› : \n#. æ²¡æœ‰ä»»ä½•æ–¹æ³•å¯ä»¥ç¡®ä¿è¿è¡Œç¯å¢ƒä¼šçœŸæ­£çš„æ‰§è¡Œæ–‡ä»¶çš„ææ„. ä¸åŒçš„Pythonå®ç°é‡‡ç”¨ä¸åŒçš„å†…å­˜ç®¡ç†æŠ€æœ¯, æ¯”å¦‚å»¶æ—¶åƒåœ¾å¤„ç†æœºåˆ¶. å»¶æ—¶åƒåœ¾å¤„ç†æœºåˆ¶å¯èƒ½ä¼šå¯¼è‡´å¯¹è±¡ç”Ÿå‘½å‘¨æœŸè¢«ä»»æ„æ— é™åˆ¶çš„å»¶é•¿.\n#. å¯¹äºæ–‡ä»¶æ„å¤–çš„å¼•ç”¨,ä¼šå¯¼è‡´å¯¹äºæ–‡ä»¶çš„æŒæœ‰æ—¶é—´è¶…å‡ºé¢„æœŸ(æ¯”å¦‚å¯¹äºå¼‚å¸¸çš„è·Ÿè¸ª, åŒ…å«æœ‰å…¨å±€å˜é‡ç­‰).\næ¨èä½¿ç”¨ &quot;with&quot;è¯­å¥ &lt;http:docs.python.orgreferencecompound_stmts.html#the-with-statement&gt;_ ä»¥ç®¡ç†æ–‡ä»¶:\n.. code-block:: python\nwith open(&quot;hello.txt&quot;) as hello_file:\n    for line in hello_file:\n        print lineå¯¹äºä¸æ”¯æŒä½¿ç”¨â€withâ€è¯­å¥çš„ç±»ä¼¼æ–‡ä»¶çš„å¯¹è±¡,ä½¿ç”¨ contextlib.closing():\n.. code-block:: python\nimport contextlib\n\nwith contextlib.closing(urllib.urlopen(&quot;http:www.python.org&quot;)) as front_page:\n    for line in front_page:\n        print lineLegacy AppEngine ä¸­Python 2.5çš„ä»£ç å¦‚ä½¿ç”¨â€withâ€è¯­å¥, éœ€è¦æ·»åŠ  â€œfrom future import with_statementâ€.\nTODOæ³¨é‡Š.. tip::    ä¸ºä¸´æ—¶ä»£ç ä½¿ç”¨TODOæ³¨é‡Š, å®ƒæ˜¯ä¸€ç§çŸ­æœŸè§£å†³æ–¹æ¡ˆ. ä¸ç®—å®Œç¾, ä½†å¤Ÿå¥½äº†.\nTODOæ³¨é‡Šåº”è¯¥åœ¨æ‰€æœ‰å¼€å¤´å¤„åŒ…å«â€TODOâ€å­—ç¬¦ä¸², ç´§è·Ÿç€æ˜¯ç”¨æ‹¬å·æ‹¬èµ·æ¥çš„ä½ çš„åå­—, emailåœ°å€æˆ–å…¶å®ƒæ ‡è¯†ç¬¦. ç„¶åæ˜¯ä¸€ä¸ªå¯é€‰çš„å†’å·. æ¥ç€å¿…é¡»æœ‰ä¸€è¡Œæ³¨é‡Š, è§£é‡Šè¦åšä»€ä¹ˆ. ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†æœ‰ä¸€ä¸ªç»Ÿä¸€çš„TODOæ ¼å¼, è¿™æ ·æ·»åŠ æ³¨é‡Šçš„äººå°±å¯ä»¥æœç´¢åˆ°(å¹¶å¯ä»¥æŒ‰éœ€æä¾›æ›´å¤šç»†èŠ‚). å†™äº†TODOæ³¨é‡Šå¹¶ä¸ä¿è¯å†™çš„äººä¼šäº²è‡ªè§£å†³é—®é¢˜. å½“ä½ å†™äº†ä¸€ä¸ªTODO, è¯·æ³¨ä¸Šä½ çš„åå­—. \n.. code-block:: python    \n# TODO(kl@gmail.com): Use a &quot;*&quot; here for string repetition.\n# TODO(Zeke) Change this to use relations.å¦‚æœä½ çš„TODOæ˜¯â€å°†æ¥åšæŸäº‹â€çš„å½¢å¼, é‚£ä¹ˆè¯·ç¡®ä¿ä½ åŒ…å«äº†ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸ(â€œ2009å¹´11æœˆè§£å†³â€)æˆ–è€…ä¸€ä¸ªç‰¹å®šçš„äº‹ä»¶(â€œç­‰åˆ°æ‰€æœ‰çš„å®¢æˆ·éƒ½å¯ä»¥å¤„ç†XMLè¯·æ±‚å°±ç§»é™¤è¿™äº›ä»£ç â€). \nå¯¼å…¥æ ¼å¼.. tip::    æ¯ä¸ªå¯¼å…¥åº”è¯¥ç‹¬å ä¸€è¡Œ\n.. code-block:: python  \nYes: import os\n     import sys.. code-block:: python  \nNo:  import os, syså¯¼å…¥æ€»åº”è¯¥æ”¾åœ¨æ–‡ä»¶é¡¶éƒ¨, ä½äºæ¨¡å—æ³¨é‡Šå’Œæ–‡æ¡£å­—ç¬¦ä¸²ä¹‹å, æ¨¡å—å…¨å±€å˜é‡å’Œå¸¸é‡ä¹‹å‰.  å¯¼å…¥åº”è¯¥æŒ‰ç…§ä»æœ€é€šç”¨åˆ°æœ€ä¸é€šç”¨çš„é¡ºåºåˆ†ç»„:\n#. æ ‡å‡†åº“å¯¼å…¥\n#. ç¬¬ä¸‰æ–¹åº“å¯¼å…¥\n#. åº”ç”¨ç¨‹åºæŒ‡å®šå¯¼å…¥\næ¯ç§åˆ†ç»„ä¸­,  åº”è¯¥æ ¹æ®æ¯ä¸ªæ¨¡å—çš„å®Œæ•´åŒ…è·¯å¾„æŒ‰å­—å…¸åºæ’åº, å¿½ç•¥å¤§å°å†™.\n.. code-block:: python\nimport foo\nfrom foo import bar\nfrom foo.bar import baz\nfrom foo.bar import Quux\nfrom Foob import arè¯­å¥.. tip::    é€šå¸¸æ¯ä¸ªè¯­å¥åº”è¯¥ç‹¬å ä¸€è¡Œ   \nä¸è¿‡, å¦‚æœæµ‹è¯•ç»“æœä¸æµ‹è¯•è¯­å¥åœ¨ä¸€è¡Œæ”¾å¾—ä¸‹, ä½ ä¹Ÿå¯ä»¥å°†å®ƒä»¬æ”¾åœ¨åŒä¸€è¡Œ.  å¦‚æœæ˜¯ifè¯­å¥, åªæœ‰åœ¨æ²¡æœ‰elseæ—¶æ‰èƒ½è¿™æ ·åš. ç‰¹åˆ«åœ°, ç»ä¸è¦å¯¹ tryexcept è¿™æ ·åš, å› ä¸ºtryå’Œexceptä¸èƒ½æ”¾åœ¨åŒä¸€è¡Œ. \n.. code-block:: python\nYes:\n\n  if foo: bar(foo).. code-block:: python\nNo:\n\n  if foo: bar(foo)\n  else:   baz(foo)\n\n  try:               bar(foo)\n  except ValueError: baz(foo)\n\n  try:\n      bar(foo)\n  except ValueError: baz(foo)è®¿é—®æ§åˆ¶.. tip::    åœ¨Pythonä¸­, å¯¹äºçç¢åˆä¸å¤ªé‡è¦çš„è®¿é—®å‡½æ•°, ä½ åº”è¯¥ç›´æ¥ä½¿ç”¨å…¬æœ‰å˜é‡æ¥å–ä»£å®ƒä»¬, è¿™æ ·å¯ä»¥é¿å…é¢å¤–çš„å‡½æ•°è°ƒç”¨å¼€é”€. å½“æ·»åŠ æ›´å¤šåŠŸèƒ½æ—¶, ä½ å¯ä»¥ç”¨å±æ€§(property)æ¥ä¿æŒè¯­æ³•çš„ä¸€è‡´æ€§. \n(è¯‘è€…æ³¨: é‡è§†å°è£…çš„é¢å‘å¯¹è±¡ç¨‹åºå‘˜çœ‹åˆ°è¿™ä¸ªå¯èƒ½ä¼šå¾ˆåæ„Ÿ, å› ä¸ºä»–ä»¬ä¸€ç›´è¢«æ•™è‚²: æ‰€æœ‰æˆå‘˜å˜é‡éƒ½å¿…é¡»æ˜¯ç§æœ‰çš„! å…¶å®, é‚£çœŸçš„æ˜¯æœ‰ç‚¹éº»çƒ¦å•Š. è¯•ç€å»æ¥å—Pythonicå“²å­¦å§)å¦ä¸€æ–¹é¢, å¦‚æœè®¿é—®æ›´å¤æ‚, æˆ–è€…å˜é‡çš„è®¿é—®å¼€é”€å¾ˆæ˜¾è‘—, é‚£ä¹ˆä½ åº”è¯¥ä½¿ç”¨åƒ get_foo() å’Œ set_foo() è¿™æ ·çš„å‡½æ•°è°ƒç”¨. å¦‚æœä¹‹å‰çš„ä»£ç è¡Œä¸ºå…è®¸é€šè¿‡å±æ€§(property)è®¿é—® , é‚£ä¹ˆå°±ä¸è¦å°†æ–°çš„è®¿é—®å‡½æ•°ä¸å±æ€§ç»‘å®š. è¿™æ ·, ä»»ä½•è¯•å›¾é€šè¿‡è€æ–¹æ³•è®¿é—®å˜é‡çš„ä»£ç å°±æ²¡æ³•è¿è¡Œ, ä½¿ç”¨è€…ä¹Ÿå°±ä¼šæ„è¯†åˆ°å¤æ‚æ€§å‘ç”Ÿäº†å˜åŒ–. \nå‘½å.. tip::    module_name, package_name, ClassName, method_name, ExceptionName, function_name, GLOBAL_VAR_NAME, instance_var_name, function_parameter_name, local_var_name.   \nåº”è¯¥é¿å…çš„åç§°\n#. å•å­—ç¬¦åç§°, é™¤äº†è®¡æ•°å™¨å’Œè¿­ä»£å™¨.\n#. åŒ…æ¨¡å—åä¸­çš„è¿å­—ç¬¦(-)\n#. åŒä¸‹åˆ’çº¿å¼€å¤´å¹¶ç»“å°¾çš„åç§°(Pythonä¿ç•™, ä¾‹å¦‚__init__)å‘½åçº¦å®š\n#. æ‰€è°“&quot;å†…éƒ¨(Internal)&quot;è¡¨ç¤ºä»…æ¨¡å—å†…å¯ç”¨, æˆ–è€…, åœ¨ç±»å†…æ˜¯ä¿æŠ¤æˆ–ç§æœ‰çš„.\n#. ç”¨å•ä¸‹åˆ’çº¿(_)å¼€å¤´è¡¨ç¤ºæ¨¡å—å˜é‡æˆ–å‡½æ•°æ˜¯protectedçš„(ä½¿ç”¨from module import *æ—¶ä¸ä¼šåŒ…å«).\n#. ç”¨åŒä¸‹åˆ’çº¿(__)å¼€å¤´çš„å®ä¾‹å˜é‡æˆ–æ–¹æ³•è¡¨ç¤ºç±»å†…ç§æœ‰.\n#. å°†ç›¸å…³çš„ç±»å’Œé¡¶çº§å‡½æ•°æ”¾åœ¨åŒä¸€ä¸ªæ¨¡å—é‡Œ. ä¸åƒJava, æ²¡å¿…è¦é™åˆ¶ä¸€ä¸ªç±»ä¸€ä¸ªæ¨¡å—.\n#. å¯¹ç±»åä½¿ç”¨å¤§å†™å­—æ¯å¼€å¤´çš„å•è¯(å¦‚CapWords, å³Pascalé£æ ¼), ä½†æ˜¯æ¨¡å—ååº”è¯¥ç”¨å°å†™åŠ ä¸‹åˆ’çº¿çš„æ–¹å¼(å¦‚lower_with_under.py). å°½ç®¡å·²ç»æœ‰å¾ˆå¤šç°å­˜çš„æ¨¡å—ä½¿ç”¨ç±»ä¼¼äºCapWords.pyè¿™æ ·çš„å‘½å, ä½†ç°åœ¨å·²ç»ä¸é¼“åŠ±è¿™æ ·åš, å› ä¸ºå¦‚æœæ¨¡å—åç¢°å·§å’Œç±»åä¸€è‡´, è¿™ä¼šè®©äººå›°æ‰°. Pythonä¹‹çˆ¶Guidoæ¨èçš„è§„èŒƒ    \n===========================    ====================    ======================================================================Type                           Public                  Internal===========================    ====================    ======================================================================Modules                        lower_with_under        _lower_with_underPackages                       lower_with_underClasses                        CapWords                _CapWordsExceptions                     CapWordsFunctions                      lower_with_under()      _lower_with_under()GlobalClass Constants         CAPS_WITH_UNDER         _CAPS_WITH_UNDERGlobalClass Variables         lower_with_under        _lower_with_underInstance Variables             lower_with_under        _lower_with_under (protected) or __lower_with_under (private)Method Names                   lower_with_under()      _lower_with_under() (protected) or __lower_with_under() (private)FunctionMethod Parameters     lower_with_underLocal Variables                lower_with_under===========================    ====================    ======================================================================\n.. _main:  \nMain.. tip::    å³ä½¿æ˜¯ä¸€ä¸ªæ‰“ç®—è¢«ç”¨ä½œè„šæœ¬çš„æ–‡ä»¶, ä¹Ÿåº”è¯¥æ˜¯å¯å¯¼å…¥çš„. å¹¶ä¸”ç®€å•çš„å¯¼å…¥ä¸åº”è¯¥å¯¼è‡´è¿™ä¸ªè„šæœ¬çš„ä¸»åŠŸèƒ½(main functionality)è¢«æ‰§è¡Œ, è¿™æ˜¯ä¸€ç§å‰¯ä½œç”¨. ä¸»åŠŸèƒ½åº”è¯¥æ”¾åœ¨ä¸€ä¸ªmain()å‡½æ•°ä¸­. \nåœ¨Pythonä¸­, pydocä»¥åŠå•å…ƒæµ‹è¯•è¦æ±‚æ¨¡å—å¿…é¡»æ˜¯å¯å¯¼å…¥çš„. ä½ çš„ä»£ç åº”è¯¥åœ¨æ‰§è¡Œä¸»ç¨‹åºå‰æ€»æ˜¯æ£€æŸ¥ if __name__ == &#39;__main__&#39; , è¿™æ ·å½“æ¨¡å—è¢«å¯¼å…¥æ—¶ä¸»ç¨‹åºå°±ä¸ä¼šè¢«æ‰§è¡Œ. \n.. code-block:: python\ndef main():\n      ...\n\nif __name__ == &apos;__main__&apos;:\n    main()æ‰€æœ‰çš„é¡¶çº§ä»£ç åœ¨æ¨¡å—å¯¼å…¥æ—¶éƒ½ä¼šè¢«æ‰§è¡Œ. è¦å°å¿ƒä¸è¦å»è°ƒç”¨å‡½æ•°, åˆ›å»ºå¯¹è±¡, æˆ–è€…æ‰§è¡Œé‚£äº›ä¸åº”è¯¥åœ¨ä½¿ç”¨pydocæ—¶æ‰§è¡Œçš„æ“ä½œ.\n","tags":["python"],"path":"2019/09/28/python-style-rules/","external_link":""},{"title":"vue_route","date":"2019-09-29T15:37:49.000Z","content":"vueè‡ªåŠ¨åŒ–è·¯ç”±ç›®çš„è§£æ”¾åŒæ‰‹ï¼Œä»æ­¤ä¸ç”¨é…ç½®è·¯ç”±ã€‚å½“ä½ çœ‹åˆ°é¡¹ç›®ä¸­å¤§æ‰¹é‡çš„è·¯ç”±æ€è€ƒæ˜¯æ‹†åˆ†ç»´æŠ¤ä¸šåŠ¡è·¯ç”±è¿˜æ˜¯ç»Ÿä¸€å…¥å£ç»´æŠ¤æ—¶ï¼Œæ— éœ€å¤šè™‘ï¼Œrouter-autoæ˜¯ä½ çš„æœ€ä¼˜é€‰æ‹©ï¼Œå®ƒå¸®ä½ è§£å†³è·¯ç”±çš„ç»´æŠ¤æˆæœ¬ï¼Œä½ åªéœ€è¦åˆ›å»ºç›¸åº”çš„æ–‡ä»¶å¤¹ï¼Œè·¯ç”±å°±èƒ½åŠ¨æ€ç”Ÿæˆï¼Œè·¯ç”±æ‹¦æˆªä½ å¯ä»¥åœ¨main.jsä¸­å»æ‹¦æˆªä»–ï¼Œæ€»ä¹‹æ¯”ä½ æƒ³è±¡çš„å¼€å‘è¿˜è¦ç®€å•ã€‚\n\nrouter-auto githubåœ°å€æœ‰å¸®åŠ©çš„å¯ä»¥starä¸€ä¸‹\nrouter-auto npmåœ°å€æ¬¢è¿æissue\n\nå®ç°æ•ˆæœ\nç®€è¦ç”¨æ³•å…·ä½“ç”¨æ³•è¯·å®æ—¶æŸ¥çœ‹githubæˆ–è€…npmï¼Œä¸‹é¢åšä¸€äº›ç®€è¦ç”¨æ³•ä»‹ç»\nå¼•ç”¨12345678910const RouterAuto = require(router-auto)module.exports = &#123;    entry: ...,    output: &#123;&#125;,    module: &#123;&#125;,    plugin:[        new RouterAuto()    ]&#125;\n\né¡¹ç›®ç»“æ„\npackage.json ç­‰ç­‰æ–‡ä»¶ä¸ç›®å½•\nsrc é¡¹ç›®ç›®å½•\npage é¡µé¢ç›®å½•\nhelloworld\nIndex.vue é¡µé¢å…¥å£\nhello.vue ä¸šåŠ¡ç»„ä»¶\nrouter.js é¢å¤–é…ç½®\n\n\ndemo\ntest\nIndex.vue é¡µé¢å…¥å£\ntest.vue ä¸šåŠ¡ç»„ä»¶\n\n\nIndex.vue é¡µé¢å…¥å£\n\n\nhome\nIndex.vue é¡µé¢å…¥å£\n\n\n\n\n\n\n\nä¸Šé¢çš„ç›®å½•ç»“æ„ç”Ÿæˆçš„è·¯ç”±ç»“æ„ä¸º\n123456789101112131415161718192021222324252627282930import Vue from vueimport Router from vue-routerimport helloworld from @pagehelloworldIndex.vueimport demo from @pagedemoIndex.vueimport demo_test from @pagedemotestIndex.vueimport home from @pagehomeIndex.vue  Vue.use(Router)  export default new Router(&#123;    mode:history,    base:auto,    routes:[&#123;      path: helloworldindex,      name: helloworld,      component: helloworld    &#125;,&#123;      path: demoindex,      name: demo,      component: demo    &#125;,&#123;      path: demotestindex,      name: demo_test,      component: demo_test    &#125;,&#123;      path: homeindex,      name: home,      component: home    &#125;]&#125;)\n\n\nä½œè€…ï¼šngaiweé“¾æ¥ï¼šhttps:juejin.impost5d90798151882576e44088e8æ¥æºï¼šæ˜é‡‘è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚\n\n","tags":["vue"],"path":"2019/09/29/vue-route/","external_link":""},{"title":"BPlusTree","date":"2019-09-30T09:41:21.000Z","content":"B+ Trees\nB+ Trees\n","tags":["B+æ ‘"],"path":"2019/09/30/BPlusTree/","external_link":""},{"title":"26 remove-duplicates-from-sorted-array","date":"2019-10-04T02:50:35.000Z","content":"26. åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„ï¼Œä½ éœ€è¦åœ¨åŸåœ°åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿å¾—æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ï¼Œè¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚\nä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚\nç¤ºä¾‹ 1:\n12345ç»™å®šæ•°ç»„ nums = [1,1,2], å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2, å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰ä¸¤ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 2ã€‚ ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚\n\nç¤ºä¾‹ 2:\n12345ç»™å®š nums = [0,0,1,1,1,2,2,3,3,4],å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 5, å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 0, 1, 2, 3, 4ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚\n\nè¯´æ˜:\nä¸ºä»€ä¹ˆè¿”å›æ•°å€¼æ˜¯æ•´æ•°ï¼Œä½†è¾“å‡ºçš„ç­”æ¡ˆæ˜¯æ•°ç»„å‘¢?\nè¯·æ³¨æ„ï¼Œè¾“å…¥æ•°ç»„æ˜¯ä»¥â€œå¼•ç”¨â€æ–¹å¼ä¼ é€’çš„ï¼Œè¿™æ„å‘³ç€åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚\nä½ å¯ä»¥æƒ³è±¡å†…éƒ¨æ“ä½œå¦‚ä¸‹:\n12345678 nums æ˜¯ä»¥â€œå¼•ç”¨â€æ–¹å¼ä¼ é€’çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯¹å®å‚åšä»»ä½•æ‹·è´int len = removeDuplicates(nums); åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚ æ ¹æ®ä½ çš„å‡½æ•°è¿”å›çš„é•¿åº¦, å®ƒä¼šæ‰“å°å‡ºæ•°ç»„ä¸­è¯¥é•¿åº¦èŒƒå›´å†…çš„æ‰€æœ‰å…ƒç´ ã€‚for (int i = 0; i &lt; len; i++) &#123;Â  Â  print(nums[i]);&#125;\n\nåŒæŒ‡é’ˆæ³•\n12345678910111213class Solution &#123;    public int removeDuplicates(int[] nums) &#123;        if (nums.length == 0) return 0;        int i = 0;        for (int j = 1; j &lt; nums.length; j++) &#123;            if (nums[j] != nums[i]) &#123;                i++;                nums[i] = nums[j];            &#125;        &#125;        return i + 1;    &#125;&#125;\n\nå¤æ‚åº¦åˆ†æ\n\næ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå‡è®¾æ•°ç»„çš„é•¿åº¦æ˜¯ nï¼Œé‚£ä¹ˆ i å’Œ j åˆ†åˆ«æœ€å¤šéå† n æ­¥ã€‚\n\nç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚\n\n\n","tags":["leetcode"],"path":"2019/10/04/26-remove-duplicates-from-sorted-array/","external_link":""},{"title":"search_engine","date":"2019-10-05T02:22:55.000Z","content":"å…¨çƒåå¤§æœç´¢å¼•æ“\nç™¾åº¦å±äºæœç´¢å¼•æ“çš„å…¶ä¸­ä¹‹ä¸€ï¼Œè¿™ä¸ªå¤§å®¶æƒ³å¿…éƒ½çŸ¥é“ã€‚å°¤å…¶å¯¹äºåšç½‘ç»œå’Œåª’ä½“çš„äººæ¥è¯´ï¼Œä½ å¿…é¡»çŸ¥é“å¦‚ä½•ä¸æœç´¢å¼•æ“æ‰“äº¤é“ã€‚ä½†æ˜¯ä½ çŸ¥é“é™¤äº†ç™¾åº¦ï¼Œä¸–ç•Œä¸Šè¿˜æœ‰å“ªäº›å¥½ç”¨çš„æœç´¢å¼•æ“å—ï¼Ÿ\n\nNO.1 Googleï¼ˆè°·æ­Œï¼‰ ï¼š18äº¿www.google.com\nå…¨çƒç¬¬ä¸€æœç´¢å¼•æ“ï¼Œä¸è§£é‡Šã€‚\n\nNO.2 Bingï¼ˆå¿…åº”ï¼‰ ï¼š5äº¿www.bing.com\nBingæ˜¯å¾®è½¯æ——ä¸‹çš„æœç´¢å¼•æ“ï¼Œæ„Ÿè§‰å®ƒçš„æœç´¢ç•Œé¢èƒŒæ™¯å›¾éå¸¸ç¾ï¼Œæ˜¯è°·æ­Œæœ€å¥½çš„æ›¿ä»£å“ï¼Œå¤‡èƒä¸­çš„æˆ˜æ–—æœºã€‚\n\nNO.3 Yahoo!ï¼ˆé›…è™ï¼‰ ï¼š4.9äº¿www.search.yahoo.com\nåœ¨æœç´¢æ–¹é¢ï¼Œé›…è™è¡¨ç°ä¸­è§„ä¸­çŸ©ï¼Œç½‘é¡µæœç´¢è¡¨ç°ä¸é”™ï¼Œä½†æ­»é“¾ç‡è¾ƒé«˜è€Œä¸”ç¼ºå°‘ä¸€äº›åº”æœ‰çš„é«˜çº§æœç´¢åŠŸèƒ½ã€‚\n\nNO.4 Baiduï¼ˆç™¾åº¦ï¼‰ï¼š4.8äº¿www.baidu.com\nå…¨çƒæœ€å¤§çš„ä¸­æ–‡æœç´¢å¼•æ“ï¼Œä¸è§£é‡Šã€‚\n\nNO.5 Ask ï¼š3äº¿www.ask.com\nAskæœç´¢å¼•æ“æ˜¯å›½å¤–æ¯”è¾ƒå‡ºåçš„ä¸€æ¬¾æœç´¢å¼•æ“ï¼Œå…¶è§„æ¨¡è™½ä¸å¤§ï¼Œä½†å¾ˆæœ‰ç‰¹è‰²ã€‚Askæ˜¯DirectHitçš„æ¯å…¬å¸ï¼Œäº2001å¹´æ”¶è´­Teomaæœç´¢å¼•æ“ï¼Œå¹¶å…¨éƒ¨é‡‡ç”¨Teomaæœç´¢ç»“æœã€‚æ˜¯æ”¯æŒè‡ªç„¶æé—®çš„æœç´¢å¼•æ“ï¼Œå…¶æ•°æ®åº“é‡Œå‚¨å­˜äº†è¶…è¿‡1000ä¸‡ä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼Œåªè¦ç”¨æˆ·ç”¨è‹±æ–‡ç›´æ¥è¾“å…¥ä¸€ä¸ªé—®é¢˜ï¼Œå®ƒå°±ä¼šç»™å‡ºé—®é¢˜ç­”æ¡ˆï¼Œå¦‚æœç”¨æˆ·çš„é—®é¢˜ç­”æ¡ˆä¸åœ¨å…¶æ•°æ®åº“ä¸­ï¼Œé‚£ä¹ˆå®ƒä¼šåˆ—å‡ºä¸€ä¸²è·Ÿç”¨æˆ·çš„é—®é¢˜ç±»ä¼¼çš„é—®é¢˜å’Œå«æœ‰ç­”æ¡ˆçš„é“¾æ¥ï¼Œä¾›ç”¨æˆ·é€‰æ‹©ã€‚\n\nNO.6 Aol ï¼š2äº¿www.search.aol.com\nAol Searchæ˜¯ç¾å›½åœ¨çº¿æ——ä¸‹æœç´¢å¼•æ“ç½‘ç«™ã€‚Aol Searchä¸ºç”¨æˆ·æä¾›å¿«é€Ÿã€æ–¹ä¾¿åœ°è®¿é—®ç›¸å…³è§†é¢‘ã€å›¾ç‰‡ã€æœ¬åœ°åœ°å›¾ã€æ–°é—»ã€è‚¡å¸‚è¡Œæƒ…å’Œæ›´å…¨é¢çš„ç½‘é¡µæœç´¢ç»“æœã€‚Aol Searchçš„æœç´¢æŠ€æœ¯æœåŠ¡æ˜¯ç”±è°·æ­Œæä¾›çš„ã€‚\n\nNO.7 DuckDuckGo ï¼š1.5äº¿www.duckduckgo.com\nDuckDuckGoæ˜¯ä¸€ä¸ªå¾ˆç‰¹æ®Šçš„ç½‘ç»œæœç´¢å¼•æ“ï¼Œä»–å’ŒGoogleã€Bing è¿™äº›ä¸ä¸€æ ·ï¼Œä»–ä¸ä¼šè¿½è¸ªã€æœå¯»ç”¨æˆ·çš„ä¿¡æ¯ï¼Œè¿™å¯¹ç”¨æˆ·æ¥è¯´å¯ä»¥å®‰ä¸ªå¿ƒäº†ã€‚\n\nNO.8 WolframAlpha ï¼š0.35äº¿www.wolframalpha.com\nä¸å…¶ä»–æœç´¢å¼•æ“ä¸åŒï¼ŒWolframAlphaå…¶å®æ˜¯ä¸€ä¸ªè®¡ç®—çŸ¥è¯†å¼•æ“ï¼Œå®ƒçœŸæ­£çš„åˆ›æ–°ä¹‹å¤„åœ¨äºèƒ½å¤Ÿé©¬ä¸Šç†è§£é—®é¢˜ï¼Œå¹¶ç»™å‡ºç­”æ¡ˆã€‚å®ƒå¯ä»¥è¿›è¡Œå„ç§ç®—æœ¯ï¼Œè¿˜æœ‰æ•°æ®åˆ†æï¼Œç‰©ç†ï¼Œè‰ºæœ¯ç­‰ç­‰å„ä¸ªè¡Œä¸šçš„æŸ¥è¯¢ã€‚\næ¯”å¦‚ä½ æŸ¥è¯¢ä¸€ä¸ªåŸå¸‚ï¼Œå®ƒä¼šå‡ºæ¥å’Œè¿™ä¸ªåŸå¸‚ç›¸å…³æ•°æ®ï¼Œå®ƒåœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºä½ç½®ï¼Œäººå£ï¼Œæœºåœºï¼Œè‘—åçš„å…¬å¸ï¼Œå®ƒå°±åƒä¸€ä¸ªåªèƒ½çš„æœºå™¨äººï¼Œä½ æƒ³çŸ¥é“æœ‰å…³ä¸€ä¸ªä¸œè¥¿çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå®ƒéƒ½èƒ½å‘Šè¯‰ä½ ã€‚\n\nNO.9 Ğ¯Ğ½Ğ´ĞµĞºÑwww.yandex.com\nYandexæœç´¢å¼•æ“æ˜¯ä¿„ç½—æ–¯ç¬¬ä¸€å¤§æœç´¢å¼•æ“ï¼Œåˆ›å»ºäº1997å¹´ï¼Œç›®å‰å·²ç»å‘å±•æˆä¸ºä¸€ä¸ªæä¾›æœç´¢ã€å›¾ç‰‡å…±äº«ã€ç¤¾äº¤ç½‘ç»œã€ç½‘ç»œæ”¯ä»˜ã€å…è´¹ç½‘ç«™æ‰˜ç®¡ã€ä»¥åŠå…¶å®ƒæœåŠ¡çš„é—¨æˆ·ç½‘ç«™ã€‚å› ä¸ºä»½é¢å¤ªå°ï¼Œæˆ‘ä»¬å°±ä¸æ”¾æ•°å­—äº†ã€‚\n\nNO.10 webcrawlerwww.webcrawler.com\nWebCrawleræ˜¯ä¸€ä¸ªèåˆæ¥è‡ªè°·æ­Œæœç´¢å’Œé›…è™æœç´¢ç­‰ä¸–ç•Œè‘—åçš„æœç´¢ç»“æœçš„å…ƒæœç´¢å¼•æ“ã€‚WebCrawlerä¸ºç”¨æˆ·æä¾›æœç´¢å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ã€æ–°é—»ã€é»„é¡µå’Œç™½é¡µçš„é€‰é¡¹å¡ã€‚\n\nä¼ é€é—¨\n","tags":["æœç´¢å¼•æ“"],"path":"2019/10/05/search-engine/","external_link":""}]';

	s = s.replace(/\\n/g, "\\n")
               .replace(/\\'/g, "\\'")
               .replace(/\\"/g, '\\"')
               .replace(/\\&/g, "\\&")
               .replace(/\\r/g, "\\r")
               .replace(/\\t/g, "\\t")
               .replace(/\\b/g, "\\b")
               .replace(/\\f/g, "\\f")

// remove non-printable and other non-valid JSON chars
	s = s.replace(/[\u0000-\u0019]+/g,"");
	var list = JSON.parse(s);
	var fuse = new Fuse(list, options);
	var el = document.getElementById('search-form');
	var newBox = $('.Card-archive').first().clone();
	el.oninput = function(event){
		var searchText = el.value;
		var result = fuse.search(searchText);
		$('.archive-cards .Card-archive').remove();
		for(var i in result){
			var anotherBox = newBox.clone();
			var dateStr = new Date(result[i].date);
			anotherBox.css('display','flex');
			var url = "";
			if(result[i].external_link !== ""){
				url = result[i].external_link;
			}else{
				url = '/' + result[i].path;
			}

			anotherBox.find('.Card-title a').text(result[i].title).attr('href', url);
			anotherBox.find('.Card-date').text(dateStr.toDateString());
			anotherBox.appendTo('.archive-cards');
		}
	}
</script>

<div class='tagcloud-container'>
<div class='tag-cloud'>
	<a href="/tags/AI/" style="font-size: 0.8em; color: #488baf">AI</a> <a href="/tags/B-æ ‘/" style="font-size: 0.8em; color: #488baf">B+æ ‘</a> <a href="/tags/Docker/" style="font-size: 0.8em; color: #488baf">Docker</a> <a href="/tags/Flutter/" style="font-size: 0.8em; color: #488baf">Flutter</a> <a href="/tags/HashMap/" style="font-size: 0.8em; color: #488baf">HashMap</a> <a href="/tags/Http/" style="font-size: 0.8em; color: #488baf">Http</a> <a href="/tags/JVM/" style="font-size: 0.8em; color: #488baf">JVM</a> <a href="/tags/Java/" style="font-size: 2em; color: #d63e0a">Java</a> <a href="/tags/Nodejs/" style="font-size: 0.8em; color: #488baf">Nodejs</a> <a href="/tags/OCR/" style="font-size: 0.8em; color: #488baf">OCR</a> <a href="/tags/OpenCV/" style="font-size: 0.8em; color: #488baf">OpenCV</a> <a href="/tags/Spring/" style="font-size: 0.8em; color: #488baf">Spring</a> <a href="/tags/TensorFlow/" style="font-size: 1em; color: #607e94">TensorFlow</a> <a href="/tags/Tree/" style="font-size: 0.8em; color: #488baf">Tree</a> <a href="/tags/dio/" style="font-size: 0.8em; color: #488baf">dio</a> <a href="/tags/electron/" style="font-size: 0.8em; color: #488baf">electron</a> <a href="/tags/git/" style="font-size: 1.2em; color: #777178">git</a> <a href="/tags/github/" style="font-size: 0.8em; color: #488baf">github</a> <a href="/tags/jad/" style="font-size: 0.8em; color: #488baf">jad</a> <a href="/tags/javascript/" style="font-size: 0.8em; color: #488baf">javascript</a> <a href="/tags/leetcode/" style="font-size: 1.6em; color: #a75841">leetcode</a> <a href="/tags/linux/" style="font-size: 0.8em; color: #488baf">linux</a> <a href="/tags/nohup/" style="font-size: 0.8em; color: #488baf">nohup</a> <a href="/tags/python/" style="font-size: 1em; color: #607e94">python</a> <a href="/tags/vue/" style="font-size: 1em; color: #607e94">vue</a> <a href="/tags/webhooks/" style="font-size: 0.8em; color: #488baf">webhooks</a> <a href="/tags/äºŒå‰æ ‘/" style="font-size: 0.8em; color: #488baf">äºŒå‰æ ‘</a> <a href="/tags/åç¼–è¯‘/" style="font-size: 0.8em; color: #488baf">åç¼–è¯‘</a> <a href="/tags/å¤‡ä»½/" style="font-size: 0.8em; color: #488baf">å¤‡ä»½</a> <a href="/tags/å¤©å¹³/" style="font-size: 0.8em; color: #488baf">å¤©å¹³</a> <a href="/tags/æ¨èç³»ç»Ÿ/" style="font-size: 0.8em; color: #488baf">æ¨èç³»ç»Ÿ</a> <a href="/tags/æœç´¢å¼•æ“/" style="font-size: 0.8em; color: #488baf">æœç´¢å¼•æ“</a> <a href="/tags/æ•°æ®åº“/" style="font-size: 1em; color: #607e94">æ•°æ®åº“</a> <a href="/tags/æ–‡ç« /" style="font-size: 1em; color: #607e94">æ–‡ç« </a> <a href="/tags/æš´åŠ›ç ´è§£/" style="font-size: 0.8em; color: #488baf">æš´åŠ›ç ´è§£</a> <a href="/tags/æœºå™¨å­¦ä¹ /" style="font-size: 1.2em; color: #777178">æœºå™¨å­¦ä¹ </a> <a href="/tags/æ ‘/" style="font-size: 0.8em; color: #488baf">æ ‘</a> <a href="/tags/æ¡†æ¶/" style="font-size: 0.8em; color: #488baf">æ¡†æ¶</a> <a href="/tags/çˆ±å› æ–¯å¦/" style="font-size: 0.8em; color: #488baf">çˆ±å› æ–¯å¦</a> <a href="/tags/ç‹‚é‡é£™è½¦/" style="font-size: 0.8em; color: #488baf">ç‹‚é‡é£™è½¦</a> <a href="/tags/ç™¾ç§‘/" style="font-size: 0.8em; color: #488baf">ç™¾ç§‘</a> <a href="/tags/ç›¸å¯¹è®º/" style="font-size: 0.8em; color: #488baf">ç›¸å¯¹è®º</a> <a href="/tags/çŸ©é˜µ/" style="font-size: 0.8em; color: #488baf">çŸ©é˜µ</a> <a href="/tags/ç®—æ³•/" style="font-size: 1.8em; color: #be4b26">ç®—æ³•</a> <a href="/tags/ç´ æ•°/" style="font-size: 0.8em; color: #488baf">ç´ æ•°</a> <a href="/tags/çº¢é»‘æ ‘/" style="font-size: 0.8em; color: #488baf">çº¢é»‘æ ‘</a> <a href="/tags/ç¼–ç¨‹/" style="font-size: 1.4em; color: #8f655d">ç¼–ç¨‹</a> <a href="/tags/è„šæœ¬/" style="font-size: 0.8em; color: #488baf">è„šæœ¬</a> <a href="/tags/è‡ªåŠ¨åŒ–éƒ¨ç½²/" style="font-size: 0.8em; color: #488baf">è‡ªåŠ¨åŒ–éƒ¨ç½²</a> <a href="/tags/è·‘è½¦/" style="font-size: 0.8em; color: #488baf">è·‘è½¦</a> <a href="/tags/è¾¹ç¼˜æ£€æµ‹/" style="font-size: 0.8em; color: #488baf">è¾¹ç¼˜æ£€æµ‹</a> <a href="/tags/é€’å½’/" style="font-size: 1.2em; color: #777178">é€’å½’</a> <a href="/tags/é“¾è¡¨/" style="font-size: 1em; color: #607e94">é“¾è¡¨</a> <a href="/tags/é¢è¯•/" style="font-size: 1.6em; color: #a75841">é¢è¯•</a> <a href="/tags/é­”æ–¹/" style="font-size: 0.8em; color: #488baf">é­”æ–¹</a>
</div>
</div>

  </div>

  

<footer id='footer'>
    <div class='footer-copyright'>
        <div>
            <p> ç‰ˆæƒæ‰€æœ‰ <a href="">times </a> @ 2019</p>
            <p>è®¾è®¡: <i class="fas fa-paint-brush"></i> <a href="https://moober.cn">Moober</a> å’Œ <i class="fas fa-graduation-cap"></i> <a href="https://qutang.github.io">Qu Tang</a> &bull; ä¸»é¢˜: <a href="https://qutang.github.io/cutie/">Cutie 2.1.3-Taurus</a> &bull; ç”± <a href="http://hexo.io">Hexo.</a> å¼ºåŠ›é©±åŠ¨</p>
        </div>
    </div>
    
    <div class='footer-social'>
        
    </div>
</footer>

  <br>

  <div id="footer-nav" class='footer-nav'>
		



<nav id="nav">
	
	
	
	<div class='nav-item' id='nav-item-archive'>
		
				<div class='nav-icon'>
				
			<a href="/archives/" title='å½’æ¡£'>
			<img src="/images/icons/blue-shadow/archive.svg" alt="">
			</a>
		</div>
	</div>
	<div class='nav-item' id='nav-item-search'>
		
		<div class='nav-icon active_dot'>
		
			<a href="/search/" title='æœç´¢'>
			<img src="/images/icons/blue-shadow/search.svg" alt="">
			</a>
		</div>
	</div>
	<div class="nav-item" id='nav-item-more'>
		<div class="nav-icon">
				<a href='#' onclick='onClickMenuIcon(event);' ontouchstart='onClickMenuIcon(event);'>
				<img src="/images/icons/blue-shadow/menu.svg" alt="">
				</a>
		</div>
		<div class="nav-more-menu">
				<i class="far fa-times-circle" id='nav-more-menu-close' onclick='onClickNavMenuClose(event);' ontouchstart='onClickNavMenuClose(event);'></i>
		
		
		<div class='nav-more-item'>
				<div class="nav-name">
					<a class='nav-link' href="/categories/æ–‡ç« /">
						<span>æ–‡ç« </span>
					</a>
				</div>
		</div>
		
		<div class='nav-more-item'>
				<div class="nav-name">
					<a class='nav-link' href="/categories/ç®—æ³•/">
						<span>ç®—æ³•</span>
					</a>
				</div>
		</div>
		
		<div class='nav-more-item'>
				<div class="nav-name">
					<a class='nav-link' href="/categories/äººå·¥æ™ºèƒ½/">
						<span>äººå·¥æ™ºèƒ½</span>
					</a>
				</div>
		</div>
		
		<div class='nav-more-item'>
				<div class="nav-name">
					<a class='nav-link' href="/categories/ç”Ÿæ´»/">
						<span>ç”Ÿæ´»</span>
					</a>
				</div>
		</div>
		
		<div class='nav-more-item'>
				<div class="nav-name">
					<a class='nav-link' href="/categories/ç¬”è¯•/">
						<span>ç¬”è¯•</span>
					</a>
				</div>
		</div>
		
	</div>
	</div>
</nav>

	</div>

  



    






  <script>
  var gitment = new Gitment({
    id: window.location.pathname, // optional
    owner: 'hsutimes',
    repo: 'gitment_blog',
    oauth: {
      client_id: 'd73d768ea9e3bd69ab54',
      client_secret: '4b958932671ae1a2ab37b2a112ee945824fd4abd',
    },
    // ...
    // For more available options, check out the documentation below
  })

  gitment.render('gitment')
  </script>







    <script src="/js/lightgallery.min.js"></script>
<script src="/js/lg-zoom.min.js"></script>
<script type='text/javascript'>
    $(document).ready(function() {
        $("#lightgallery").lightGallery(); 
        $(".article-content img").each(function(){
            console.log($(this).attr('src'))
            $(this).attr('data-src', $(this).attr('src')).lightGallery({
                selector: 'this'
            })
        });
    });
</script>






<script type='text/javascript'>

  
</script>


    
<script type='text/javascript'>
  
</script>

<script type="application/javascript" src="https://api.ipify.org?format=jsonp&callback=getIP"></script>



<!-- <script src="/js/post.js"></script> -->

<script src="/js/headroom.min.js"></script>

<script data-no-instant type='text/javascript'>

initHeadroom();

changeLayoutOnTouchScreen();

// 
</script>


<!-- End Document
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
</body>
</html>
